window.__require = function e(t, n, r) {
  function s(o, u) {
    if (!n[o]) {
      if (!t[o]) {
        var b = o.split("/");
        b = b[b.length - 1];
        if (!t[b]) {
          var a = "function" == typeof __require && __require;
          if (!u && a) return a(b, !0);
          if (i) return i(b, !0);
          throw new Error("Cannot find module '" + o + "'");
        }
        o = b;
      }
      var f = n[o] = {
        exports: {}
      };
      t[o][0].call(f.exports, function(e) {
        var n = t[o][1][e];
        return s(n || e);
      }, f, f.exports, e, t, n, r);
    }
    return n[o].exports;
  }
  var i = "function" == typeof __require && __require;
  for (var o = 0; o < r.length; o++) s(r[o]);
  return s;
}({
  AdAgent4399: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "50d79CJWalF0YaAKvtP+yLq", "AdAgent4399");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdAgent4399 = function(_super) {
      __extends(AdAgent4399, _super);
      function AdAgent4399() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._videoCallback = null;
        _this._isVideoLoaded = false;
        _this._videoAd = null;
        _this._4399 = window.h5api;
        _this._canPlayAd = true;
        _this._remain = 0;
        return _this;
      }
      AdAgent4399.prototype.Init = function() {
        this.checkPlayAd();
      };
      AdAgent4399.prototype.checkPlayAd = function() {
        this._canPlayAd = true;
        return;
      };
      AdAgent4399.prototype.ShowBanner = function() {
        Utils_1.utils.showLog("4399\u5e73\u53f0\u6682\u65e0banner\u5e7f\u544a");
      };
      AdAgent4399.prototype.ShowInterstitial = function() {
        Utils_1.utils.showLog("4399\u5e73\u53f0\u6682\u65f6\u65e0\u63d2\u5c4f\u5e7f\u544a");
      };
      AdAgent4399.prototype.ShowVideo = function(callback) {
        var _this = this;
        if (PlatUtils_1.default.Is4399) {
          this._videoCallback = callback;
          if (this._canPlayAd) this._4399.playAd(function(obj) {
            Utils_1.utils.showLog("\u4ee3\u7801:" + obj.code + ",\u6d88\u606f:" + obj.message);
            if (1e4 === obj.code) Utils_1.utils.showLog("\u89c6\u9891\u5f00\u59cb\u64ad\u653e"); else if (10001 === obj.code) {
              Utils_1.utils.showLog("\u89c6\u9891\u64ad\u653e\u7ed3\u675f");
              if (_this._videoCallback) {
                _this._videoCallback(true, "");
                _this._videoCallback = null;
              }
              _this.checkPlayAd();
            } else {
              if (_this._videoCallback) {
                _this._videoCallback(false, "\u6fc0\u52b1\u89c6\u9891\u5f02\u5e38!");
                _this._videoCallback = null;
              }
              _this.checkPlayAd();
              Utils_1.utils.showLog("\u89c6\u9891\u5e7f\u544a\u5f02\u5e38");
            }
          }); else {
            Utils_1.utils.showLog("4399\u83b7\u53d6\u5230\u4e0d\u80fd\u64ad\u653e\u5e7f\u544a! #this._canPlayAd=", this._canPlayAd, "\u5269\u4f59\u6b21\u6570", this._remain);
            if (this._videoCallback) {
              this._videoCallback(false, "\u4eca\u65e5\u6b21\u6570\u7528\u5b8c\uff0c\u660e\u5929\u518d\u6765!");
              this._videoCallback = null;
            }
            this.checkPlayAd();
          }
        }
      };
      AdAgent4399 = __decorate([ ccclass ], AdAgent4399);
      return AdAgent4399;
    }(AdAgent_1.default);
    exports.default = AdAgent4399;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils"
  } ],
  AdAgentBaidu: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4db21W0NW9ALaQL6EjOywaw", "AdAgentBaidu");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdAgentBaidu = function(_super) {
      __extends(AdAgentBaidu, _super);
      function AdAgentBaidu() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._sysData = null;
        _this._baiduVersion = "";
        _this._recorder = null;
        _this._bannerAd = null;
        _this._videoAd = null;
        _this._videoCallback = null;
        _this._isVideoShow = false;
        _this._isVideoLoaded = false;
        _this.swan = window.swan;
        _this._bannerSizePercent = .1;
        _this._bannerBottom = 0;
        return _this;
      }
      AdAgentBaidu.prototype.Init = function() {
        var _this = this;
        if (PlatUtils_1.default.IsBaidu) {
          this._sysData = this.swan.getSystemInfoSync();
          Utils_1.utils.registerServerInitEvent(function() {
            _this._initVideoAd();
          }, this);
        }
      };
      AdAgentBaidu.prototype.ShowBanner = function(location, args) {
        var _this = this;
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        void 0 === args && (args = null);
        if (PlatUtils_1.default.IsBaidu) {
          if (Utils_1.utils.isShowRecommondGamesBanner() && Utils_1.utils.isSupportnavigateToMiniGame()) {
            Utils_1.utils.showRecommendGamesBanner();
            Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5c55\u793a\u81ea\u5b9a\u4e49banner");
            return;
          }
          Utils_1.utils.showLog("\u663e\u793abanner\u5e7f\u544a...");
          var argsTmp = args;
          if (argsTmp && argsTmp.width) {
            cc.winSize.height / cc.winSize.width < 1 ? this._bannerSizePercent = argsTmp.width : this._bannerSizePercent = argsTmp.width <= .8 ? .8 : argsTmp.width;
            this._bannerSizePercent = argsTmp.width > 1 ? 1 : this._bannerSizePercent;
          }
          if (argsTmp && argsTmp.bottom) {
            this._bannerBottom = argsTmp.bottom / this._sysData.pixelRatio;
            this._bannerBottom = this._bannerBottom < 0 ? 0 : this._bannerBottom;
            this._bannerBottom = this._bannerBottom > this._sysData.screenHeight ? this._sysData.screenHeight : this._bannerBottom;
          }
          if (Utils_1.utils.config.baiduconfig && Utils_1.utils.config.baiduconfig.bannerId && Utils_1.utils.config.baiduconfig.appSID) {
            var left = (this._sysData.screenWidth - this._sysData.screenWidth * this._bannerSizePercent) / 2;
            var width_1 = this._sysData.screenWidth * this._bannerSizePercent;
            var bannerOpts = {
              adUnitId: Utils_1.utils.config.baiduconfig.bannerId,
              appSid: Utils_1.utils.config.baiduconfig.appSID,
              style: {
                top: 0,
                left: left,
                width: width_1
              }
            };
            var bannerAd_1 = null;
            var oldBannerAd_1 = this._bannerAd;
            var onLoadFunc_1 = function() {
              bannerAd_1 && bannerAd_1.show().then(function() {
                _this._bannerAd = bannerAd_1;
                if (oldBannerAd_1) {
                  oldBannerAd_1.destroy();
                  oldBannerAd_1.offLoad(onLoadFunc_1);
                  oldBannerAd_1.offError(onErrorFunc_1);
                }
                Utils_1.utils.showLog("Banner\u663e\u793a\u6210\u529f\uff01");
              }).catch(function() {
                Utils_1.utils.showLog("Banner\u663e\u793a\u51fa\u9519!");
              });
            };
            var onErrorFunc_1 = function(err) {
              err && Utils_1.utils.showLog("Banner \u5e7f\u544a\u51fa\u9519 : ", err.errCode, err.errMsg);
            };
            var onResizeFunc = function(res) {
              bannerAd_1.style.width = width_1;
              bannerAd_1.style.top = _this._sysData.screenHeight - res.height - _this._bannerBottom;
            };
            bannerAd_1 = this.swan.createBannerAd(bannerOpts);
            if (bannerAd_1) {
              bannerAd_1.onLoad(onLoadFunc_1);
              bannerAd_1.onError(onErrorFunc_1);
              bannerAd_1.onResize(onResizeFunc);
              bannerAd_1.style.width = width_1 + 1;
              PlatUtils_1.default.IsIOS && (bannerAd_1.style.top = this._sysData.screenHeight);
            }
          } else cc.warn("\u767e\u5ea6\u5e7f\u544a\u914d\u7f6e\u6587\u4ef6\u51fa\u9519!");
        }
      };
      AdAgentBaidu.prototype.showStatementAds = function() {
        var result = {
          type: 0,
          node: null
        };
        var node = null;
        var resType = 0;
        Utils_1.utils.showLog("\u7ed3\u7b97\u5e7f\u544a >> \u663e\u793a\u63d2\u5c4f\u5e7f\u544a+6\u4e2a\u4e92\u63a8");
        this.ShowInterstitial();
        node = Utils_1.utils.showCrossWidget6();
        resType = 1;
        result.type = resType;
        result.node = node;
        return result;
      };
      AdAgentBaidu.prototype.HideBanner = function(location) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        PlatUtils_1.default.IsBaidu && this._bannerAd && this._bannerAd.hide();
      };
      AdAgentBaidu.prototype.ShowInterstitial = function(location) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        console.warn("\u767e\u5ea6\u6ca1\u6709\u63d2\u5c4f");
      };
      AdAgentBaidu.prototype.ShowVideo = function(callback) {
        var _this = this;
        if (PlatUtils_1.default.IsBaidu) {
          if (this._videoCallback) return;
          this._videoCallback = callback;
          this._isVideoShow = true;
          this._videoAd ? this._isVideoLoaded ? this._videoAd.show().then(function() {
            Utils_1.utils.showLog("\u89c6\u9891\u663e\u793a\u6210\u529f!");
            _this._isVideoLoaded = false;
          }).catch(function(err) {}) : this._videoAd.load().catch(function(err) {}) : this._initVideoAd();
        }
      };
      AdAgentBaidu.prototype._initVideoAd = function() {
        var _this = this;
        if (!this._videoAd) {
          if (!(Utils_1.utils.config.baiduconfig && Utils_1.utils.config.baiduconfig.appSID && Utils_1.utils.config.baiduconfig.videoId)) {
            Utils_1.utils.showLog("\u89c6\u9891ID\u914d\u7f6e\u4e0d\u6b63\u786e\uff01");
            if (this._videoCallback) {
              this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
              this._videoCallback = null;
            }
            return;
          }
          var videoOpts = {
            adUnitId: Utils_1.utils.config.baiduconfig.videoId,
            appSid: Utils_1.utils.config.baiduconfig.appSID
          };
          Utils_1.utils.showLog("\u89c6\u9891\u5e7f\u544a\u53c2\u6570:", JSON.stringify(videoOpts));
          this._videoAd = this.swan.createRewardedVideoAd(videoOpts);
          if (this._videoAd) {
            this._videoAd.onLoad(function() {
              Utils_1.utils.showLog("\u89c6\u9891\u52a0\u8f7d\u6210\u529f");
              _this._isVideoLoaded = true;
              _this._isVideoShow && _this._videoAd.show().then(function() {
                _this._isVideoLoaded = false;
              }).catch(function() {
                Utils_1.utils.showLog("\u89c6\u9891\u64ad\u653e\u5931\u8d25\uff01");
              });
            });
            this._videoAd.onClose(function(res) {
              _this._isVideoShow = false;
              if (res && res.isEnded) {
                Utils_1.utils.showLog("\u6b63\u5e38\u64ad\u653e\u7ed3\u675f\uff0c\u53ef\u4ee5\u4e0b\u53d1\u6e38\u620f\u5956\u52b1");
                if (_this._videoCallback) {
                  _this._videoCallback(true, "");
                  _this._videoCallback = null;
                }
              } else {
                Utils_1.utils.showLog("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1");
                if (_this._videoCallback) {
                  _this._videoCallback(false, "\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!");
                  _this._videoCallback = null;
                }
              }
            });
            this._videoAd.onError(function(err) {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5f02\u5e38!", err.errCode);
              _this._isVideoLoaded = false;
              if (_this._videoCallback) {
                _this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
                _this._videoCallback = null;
              }
            });
          }
        }
      };
      AdAgentBaidu = __decorate([ ccclass ], AdAgentBaidu);
      return AdAgentBaidu;
    }(AdAgent_1.default);
    exports.default = AdAgentBaidu;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  AdAgentBili: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ecaa7MzB4FNUoaCpwLpxt+Y", "AdAgentBili");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdAgentBili = function(_super) {
      __extends(AdAgentBili, _super);
      function AdAgentBili() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._videoCallback = null;
        _this._isVideoLoaded = false;
        _this._videoAd = null;
        _this._bannerAd = null;
        _this.bl = window.bl;
        _this._curBannerAd = null;
        _this._bannerSizePercent = .1;
        _this._bannerBottom = 0;
        return _this;
      }
      AdAgentBili.prototype.Init = function() {};
      AdAgentBili.prototype.ShowBanner = function(location, args) {
        void 0 === args && (args = null);
        var argsTmp = args;
        if (argsTmp && argsTmp.width) {
          this._bannerSizePercent = argsTmp.width < 0 ? 0 : argsTmp.width;
          this._bannerSizePercent = argsTmp.width > 1 ? 1 : argsTmp.width;
        }
        if (argsTmp && argsTmp.bottom) {
          this._bannerBottom = argsTmp.bottom < 0 ? 0 : argsTmp.bottom;
          this._bannerBottom = argsTmp.bottom > cc.winSize.height ? cc.winSize.height : argsTmp.bottom;
        }
        console.log("\u663e\u793aBanner\u5e7f\u544a");
        var params = {
          left: 0,
          width: 300,
          top: 0
        };
        var curBannerAd = bl.createBannerAd(params);
        if (curBannerAd) {
          curBannerAd.onError(function(err) {
            Utils_1.utils.showLog("\u5e7f\u544a\u6761\u52a0\u8f7d\u5931\u8d25! ", JSON.stringify(err));
            curBannerAd && curBannerAd.destroy();
          });
          var self_1 = this;
          curBannerAd.onLoad(function() {
            curBannerAd.show().then(function() {
              self_1._curBannerAd && self_1._curBannerAd.destroy();
              self_1._curBannerAd = curBannerAd;
              Utils_1.utils.showLog("Banner\u5e7f\u544a\u663e\u793a\u6210\u529f!");
            }).catch(function(err) {
              Utils_1.utils.showLog("Banner\u5e7f\u544a\u51fa\u9519", JSON.stringify(err));
              curBannerAd && curBannerAd.destroy();
            });
          });
          curBannerAd.onResize(function(res) {
            curBannerAd.style.width = Utils_1.utils.Tool_Bili.SysInfo.screenWidth * self_1._bannerSizePercent;
            curBannerAd.style.left = .5 * (Utils_1.utils.Tool_Bili.SysInfo.screenWidth - res.width);
            self_1._bannerBottom == cc.winSize.height ? curBannerAd.style.top = 0 : curBannerAd.style.top = Utils_1.utils.Tool_Bili.SysInfo.screenHeight - res.height - self_1._bannerBottom;
          });
        } else Utils_1.utils.showLog("\u5e7f\u544a\u6761\u521b\u5efa\u5931\u8d25!");
      };
      AdAgentBili.prototype.ShowInterstitial = function() {
        Utils_1.utils.showLog("\u54d4\u54e9\u5e73\u53f0\u6682\u65f6\u65e0\u63d2\u5c4f\u5e7f\u544a");
      };
      AdAgentBili.prototype.HideBanner = function(location) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        PlatUtils_1.default.IsBili && this._bannerAd && this._bannerAd.hide();
      };
      AdAgentBili.prototype.ShowVideo = function(callback) {
        if (PlatUtils_1.default.IsBili) {
          this._videoCallback = callback;
          var self_2 = this;
          this.showRewardedVideoAd({
            onSuccess: function(res) {
              Utils_1.utils.showLog("bili\u89c6\u9891\u5c55\u793a\u6210\u529f\uff01");
            },
            onFail: function(e) {
              Utils_1.utils.showLog("bili\u89c6\u9891\u5e7f\u544a\u5c55\u793a\u5931\u8d25\uff01");
              Utils_1.utils.Tool_Bili.share(function(res, msg) {
                if (res) {
                  self_2._videoCallback && self_2._videoCallback(true, "");
                  self_2._videoCallback = null;
                } else {
                  self_2._videoCallback && self_2._videoCallback(false, "\u5206\u4eab\u6210\u529f\u624d\u53ef\u4ee5\u83b7\u53d6\u5956\u52b1\u54e6!");
                  self_2._videoCallback = null;
                }
              });
            },
            onClose: function(e) {
              if (e.isEnded) {
                Utils_1.utils.showLog("bili\u89c6\u9891\u5e7f\u544a\u89c2\u770b\u5b8c\u6bd5\uff0c\u53d1\u9001\u5956\u52b1");
                self_2._videoCallback && self_2._videoCallback(true, "");
              } else {
                self_2._videoCallback && self_2._videoCallback(false, "\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!");
                self_2._videoCallback = null;
              }
            }
          });
        }
      };
      AdAgentBili.prototype.showRewardedVideoAd = function(_a) {
        var onSuccess = _a.onSuccess, onFail = _a.onFail, onClose = _a.onClose;
        var ad = this.bl.createRewardedVideoAd();
        function adLoadHandler(e) {
          ad.offLoad(adLoadHandler);
          ad.show().catch(function(e) {
            "function" === typeof onFail && onFail(e);
            return Promise.reject(e);
          }).then(function(res) {
            "function" === typeof onSuccess && onSuccess(res);
          });
        }
        function adErrorHandler(e) {
          "function" === typeof onFail && onFail(e);
          ad.offLoad(adLoadHandler);
          ad.offClose(adCloseHandler);
          ad.offError(adErrorHandler);
          ad.destroy();
        }
        function adCloseHandler(e) {
          "function" === typeof onClose && onClose(e);
          ad.offLoad(adLoadHandler);
          ad.offClose(adCloseHandler);
          ad.offError(adErrorHandler);
          ad.destroy();
        }
        ad.offLoad(adLoadHandler);
        ad.onLoad(adLoadHandler);
        ad.offError(adErrorHandler);
        ad.onError(adErrorHandler);
        ad.offClose(adCloseHandler);
        ad.onClose(adCloseHandler);
        ad.load();
        return ad;
      };
      AdAgentBili = __decorate([ ccclass ], AdAgentBili);
      return AdAgentBili;
    }(AdAgent_1.default);
    exports.default = AdAgentBili;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  AdAgentBroser: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a4909rppFFL/JkiPVVbCFkk", "AdAgentBroser");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var YZ_NativeBanner_1 = require("./YZ_NativeBanner");
    var YZ_NativeInsert_1 = require("./YZ_NativeInsert");
    var YZ_Constant_1 = require("./YZ_Constant");
    var CommonConfig_1 = require("./CommonConfig");
    var Utils_1 = require("./Utils");
    var YZ_NativeAdObject_1 = require("./YZ_NativeAdObject");
    var AdAgentBroser = function(_super) {
      __extends(AdAgentBroser, _super);
      function AdAgentBroser() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._nativeBannerInfo = null;
        _this._curLocation = YZ_Constant_1.BannerLocation.None;
        _this.signleNativeAd = null;
        _this._curNativeItem = null;
        return _this;
      }
      AdAgentBroser.prototype.getNativeBannerInfo = function() {
        return new CommonConfig_1.NativeBannerInfo();
      };
      AdAgentBroser.prototype.ShowBanner = function(location) {
        void 0 === location && (location = null);
        this._curLocation != location && this.HideBanner(location);
        this._curLocation = location;
        if (-1 == this.getNativeBannerInfo().is_show_banner) {
          Utils_1.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u914d\u7f6e\u4e3a\u4e0d\u5c55\u793abanner!");
          this.HideBanner(location);
          return;
        }
        if (!this._nativeBannerNode) {
          this._nativeBannerNode = cc.instantiate(Utils_1.utils.config.otherconfig.nativeBanner);
          cc.director.getScene().addChild(this._nativeBannerNode, 1e3);
        }
        this._nativeBannerNode.active = true;
        var nativeBanner = this._nativeBannerNode.getComponent(YZ_NativeBanner_1.default);
        if (nativeBanner) {
          var addate = {
            title: "\u4eca\u65e5\u5934\u6761",
            desc: "\u770b\u65b0\u95fb\u7528\u4eca\u65e5\u5934\u6761",
            imgUrlList: [ Utils_1.utils.cur_tool.img_url ],
            icon: Utils_1.utils.cur_tool.img_url
          };
          nativeBanner.init(null, addate, this.getNativeBannerInfo());
        }
      };
      AdAgentBroser.prototype.ShowInterstitial = function() {
        if (!this._nativeInsertNode) {
          this._nativeInsertNode = cc.instantiate(Utils_1.utils.config.otherconfig.nativeInsert);
          cc.director.getScene().addChild(this._nativeInsertNode, 9999);
        }
        this._nativeInsertNode.active = true;
        var nativeBanner = this._nativeInsertNode.getComponent(YZ_NativeInsert_1.default);
        if (nativeBanner) {
          var addate = {
            title: "\u4eca\u65e5\u5934\u6761",
            desc: "\u770b\u65b0\u95fb\u7528\u4eca\u65e5\u5934\u6761",
            imgUrlList: [ Utils_1.utils.cur_tool.img_url ],
            icon: Utils_1.utils.cur_tool.img_url
          };
          nativeBanner.init(null, addate);
        }
      };
      AdAgentBroser.prototype.showStatementAds = function(data) {
        Utils_1.utils.adManager.ShowInterstitial();
      };
      AdAgentBroser.prototype.HideBanner = function(location) {
        void 0 === location && (location = null);
        this._nativeBannerNode && (this._nativeBannerNode.active = false);
        Utils_1.utils.hideRecommendGamesBanner();
      };
      AdAgentBroser.prototype.ShowVideo = function(callback) {
        callback(true, "\u89c6\u9891\u64ad\u653e\u6210\u529f!");
      };
      AdAgentBroser.prototype.showBeforGameOverAd = function(level, levelStatus, rewardValue, closeCallFunc, rewardFunc) {
        cc.log("\u663e\u793a\u7ed3\u7b97\u524d\u5e7f\u544a\uff1a  #Level= ", level, " #LevelStatys=", levelStatus, " #rewardValue = ", rewardValue);
        Utils_1.utils.currentLevel = level;
        Utils_1.utils.isSuccess = levelStatus == YZ_Constant_1.LevelStatus.GameWin;
        Utils_1.utils.rewardCallFunc = rewardFunc;
        Utils_1.utils.rewardCloseFunc = closeCallFunc;
        Utils_1.utils.rewardValue = rewardValue;
        var adType = Utils_1.utils.adManager.checkShowBeforGameOverAd(level, levelStatus == YZ_Constant_1.LevelStatus.GameWin);
        switch (adType) {
         case YZ_Constant_1.BeForGameOverAdId.SharePanel:
          Utils_1.utils.recordEnd();
          Utils_1.utils.showShareRecordPanel();
          break;

         case YZ_Constant_1.BeForGameOverAdId.GoldBox:
          Utils_1.utils.adManager.showRewardBoxPanel();
          break;

         case YZ_Constant_1.BeForGameOverAdId.Turntable:
          Utils_1.utils.adManager.showrewardTurnTablePanel();
          break;

         default:
          closeCallFunc && closeCallFunc();
        }
      };
      AdAgentBroser.prototype.ShowSingleNativeAd = function(params) {
        if (Utils_1.utils.config.otherconfig.singleNativeAd) {
          this.signleNativeAd && cc.isValid(this.signleNativeAd) && this.signleNativeAd.destroy();
          this.signleNativeAd = cc.instantiate(Utils_1.utils.config.otherconfig.singleNativeAd);
          var nativeItem = this.signleNativeAd.getComponent("YZ_NativeItem");
          nativeItem.showType = 2;
          nativeItem.params = params;
          this._curNativeItem = nativeItem;
          params && params.parent && params.parent.addChild(this.signleNativeAd, cc.macro.MAX_ZINDEX);
          var nativeObj = new YZ_NativeAdObject_1.default();
          var data = {
            imgUrlList: [ Utils_1.utils.cur_tool.img_url ],
            icon: Utils_1.utils.cur_tool.img_url,
            title: "\u7231\u5947\u827a\u89c6\u9891",
            desc: "\u4e0b\u8f7d\u7231\u5947\u827a\uff0c\u5373\u9001VIP\uff01"
          };
          nativeObj.data = data;
          nativeItem._nativeAd = nativeObj;
          this._curNativeItem.init(nativeObj);
          Utils_1.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544a\u521b\u5efa\u6210\u529f\uff01");
          return this.signleNativeAd;
        }
        Utils_1.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 singleNativeAd, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        return null;
      };
      return AdAgentBroser;
    }(AdAgent_1.default);
    exports.default = AdAgentBroser;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./CommonConfig": "CommonConfig",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_NativeAdObject": "YZ_NativeAdObject",
    "./YZ_NativeBanner": "YZ_NativeBanner",
    "./YZ_NativeInsert": "YZ_NativeInsert"
  } ],
  AdAgentCocosplay: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8d81d8tTk9JCplPi0EAy2/+", "AdAgentCocosplay");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdAgentCocosplay = function(_super) {
      __extends(AdAgentCocosplay, _super);
      function AdAgentCocosplay() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.banner = null;
        _this.interstitialAd = {};
        _this.videoAd = {};
        _this.bannerLoaded = false;
        _this.interstitialAdLoaded = false;
        _this.videoAdLoaded = false;
        _this._videoCallback = null;
        _this._isVideoLoaded = false;
        _this._videoAd = null;
        _this._bannerAd = null;
        _this.uc = window.uc;
        _this._insertShowCount = 0;
        _this._insertLastShowTime = 0;
        return _this;
      }
      AdAgentCocosplay.prototype.Init = function() {
        var _this = this;
        Utils_1.utils.registerServerInitEvent(function() {
          _this.initBanner();
          _this.createInsertAd();
          _this.createVideoAd();
        }, this);
      };
      AdAgentCocosplay.prototype.initBanner = function() {
        var self = this;
        self.bannerLoaded = false;
        self.banner = AdSDK.createBannerAd("1", Utils_1.utils.config.cocosConfig.bannerId, 2);
        self.banner.onLoad(function() {
          self.bannerLoaded = true;
          console.log("banner \u521b\u5efabanner\u6210\u529f\uff0c\u53ef\u4ee5\u8c03\u7528\u5c55\u793a");
        });
        self.banner.onError(function(param) {
          self.destroyBannerAd();
          console.log("banner \u521b\u5efabanner\u5931\u8d25\uff0c\u9519\u8bef\u7801 = ", param.errorCode);
        });
        console.log("banner \u6e38\u620f\u521b\u5efabanner\u5e7f\u544a");
      };
      AdAgentCocosplay.prototype.ShowBanner = function() {
        var self = this;
        if (self.bannerLoaded) {
          self.banner.show().then(function() {
            console.log("banner \u5e7f\u544a\u663e\u793a\u6210\u529f");
          }, function(err) {
            console.log("banner \u5e7f\u544a\u663e\u793a\u5931\u8d25");
          });
          console.log("banner \u5c55\u793abanner\u5e7f\u544a");
        } else console.log("banner \u672a\u52a0\u8f7d\u6210\u529f");
      };
      AdAgentCocosplay.prototype.HideBanner = function() {
        this.banner.hide();
        console.log("banner \u9690\u85cfbanner\u5e7f\u544a");
      };
      AdAgentCocosplay.prototype.destroyBannerAd = function() {
        this.bannerLoaded = false;
        this.banner.destroy();
        this.banner = null;
        console.log("banner \u9500\u6bc1banner\u5e7f\u544a");
      };
      Object.defineProperty(AdAgentCocosplay.prototype, "ServerConfig", {
        get: function() {
          return Utils_1.utils._tool_Cocosplay.ServerConfig;
        },
        enumerable: false,
        configurable: true
      });
      AdAgentCocosplay.prototype.checkInsertAdShow = function() {
        var maxShowCount = this.ServerConfig.intersititial_max_show_count;
        maxShowCount = 0;
        var intervalTime = this.ServerConfig.intersititial_interval_time;
        var curTime = new Date().getTime();
        var interval = (curTime - this._insertLastShowTime) / 1e3;
        Utils_1.utils.showLog("cocos\u670d\u52a1\u5668\u63d2\u5c4f\u6700\u5927\u663e\u793a\u6b21\u6570\u4e3a\uff1a" + maxShowCount + ",\u95f4\u9694\u663e\u793a\u65f6\u95f4\u4e3a\uff1a" + intervalTime + "\u79d2\uff01");
        Utils_1.utils.showLog("cocos\u63d2\u5c4f\u5f53\u524d\u5e7f\u544a\u663e\u793a\u6b21\u6570\uff1a" + this._insertShowCount + "\u6b21\uff0c\u95f4\u9694\u65f6\u95f4\uff1a" + interval + "\u79d2\uff01");
        if (maxShowCount > 0 && this._insertShowCount >= maxShowCount) {
          Utils_1.utils.showLog("cocos\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u7684\u6b21\u6570\u8fbe\u5230" + maxShowCount + "\u6b21\u3002\u63d2\u5c4f\u4e0d\u663e\u793a");
          return false;
        }
        if (intervalTime > 0 && interval < intervalTime) {
          Utils_1.utils.showLog("cocos\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u7684\u95f4\u9694\u5c11\u4e8e" + intervalTime + "\u79d2\u3002\u63d2\u5c4f\u4e0d\u663e\u793a");
          return false;
        }
        return true;
      };
      AdAgentCocosplay.prototype.ShowInterstitial = function() {
        var self = this;
        if (!self.checkInsertAdShow()) return;
        if (self.interstitialAdLoaded) {
          self.interstitialAd.show().then(function() {
            self._insertLastShowTime = new Date().getTime();
            self.destroyInterstitialAd();
            self.createInsertAd();
          }, function(err) {
            console.log("interstitialAd \u5e7f\u544a\u663e\u793a\u5931\u8d25");
          });
          console.log("interstitialAd \u6e38\u620f\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a");
        }
      };
      AdAgentCocosplay.prototype.createInsertAd = function() {
        var self = this;
        Utils_1.utils.showLog("\u63d2\u5c4fid\u4e3a\uff1a" + Utils_1.utils.config.cocosConfig.insertId);
        this.interstitialAd = AdSDK.createInterstitialAd("1", Utils_1.utils.config.cocosConfig.insertId, 2);
        this.interstitialAd.onLoad(function() {
          self.interstitialAdLoaded = true;
          console.log("interstitialAd \u521b\u5efa\u63d2\u5c4f\u6210\u529f\uff0c\u53ef\u4ee5\u8c03\u7528\u5c55\u793a");
        });
        self.interstitialAd.onError(function(param) {
          console.log("interstitialAd \u521b\u5efa\u63d2\u5c4f\u5931\u8d25\uff0c\u9519\u8bef\u7801 = ", param.errorCode);
          self.destroyInterstitialAd();
        });
      };
      AdAgentCocosplay.prototype.hideInterstitialAd = function() {
        this.interstitialAd.hide();
        console.log("interstitialAd \u6e38\u620f\u9690\u85cf\u63d2\u5c4f\u5e7f\u544a");
      };
      AdAgentCocosplay.prototype.destroyInterstitialAd = function() {
        this.interstitialAdLoaded = false;
        this.interstitialAd.destroy();
        console.log("interstitialAd \u6e38\u620f\u9500\u6bc1\u63d2\u5c4f\u5e7f\u544a");
      };
      AdAgentCocosplay.prototype.ShowVideo = function(callback) {
        var self = this;
        self._videoCallback = callback;
        if (self.videoAdLoaded) self.videoAd.show().then(function() {
          if (self._videoCallback) {
            self._videoCallback(true, "\u89c6\u9891\u64ad\u653e\u6210\u529f");
            self._videoCallback = null;
          }
        }, function(err) {
          if (self._videoCallback) {
            self._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a");
            self._videoCallback = null;
          }
        }); else {
          if (self._videoCallback) {
            self._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a");
            self._videoCallback = null;
          }
          self.createVideoAd();
        }
      };
      AdAgentCocosplay.prototype.createVideoAd = function() {
        var self = this;
        console.log("\u89c6\u9891id\u4e3a\uff1a" + Utils_1.utils.config.cocosConfig.videoId);
        self.videoAd = AdSDK.createRewardedVideoAd("1", Utils_1.utils.config.cocosConfig.videoId, 2);
        self.videoAd.onLoad(function() {
          self.videoAdLoaded = true;
          console.log("rewardedvideoAd \u521b\u5efa\u89c6\u9891\u5e7f\u544a\u6210\u529f\uff0c\u53ef\u4ee5\u8c03\u7528\u5c55\u793a");
        });
        self.videoAd.onError(function(param) {
          console.log("rewardedvideoAd \u521b\u5efa\u89c6\u9891\u5e7f\u544a\u5931\u8d25\uff0c\u9519\u8bef\u7801 = ", param.errorCode);
          self.destroyRewardedVideoAd();
          if (self._videoCallback) {
            self._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a");
            self._videoCallback = null;
          }
        });
        self.videoAd.onClose(function() {
          if (self._videoCallback) {
            self._videoCallback(false, "\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!");
            self._videoCallback = null;
          }
          self.destroyRewardedVideoAd();
          self.createVideoAd();
        });
      };
      AdAgentCocosplay.prototype.destroyRewardedVideoAd = function() {
        this.videoAdLoaded = false;
        this.videoAd.destroy();
        console.log("rewardedvideoAd \u6e38\u620f\u9500\u6bc1\u89c6\u9891\u5e7f\u544a");
      };
      AdAgentCocosplay = __decorate([ ccclass ], AdAgentCocosplay);
      return AdAgentCocosplay;
    }(AdAgent_1.default);
    exports.default = AdAgentCocosplay;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./Utils": "Utils"
  } ],
  AdAgentDouyin: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f7a85nWSd5Kc429BwYsMfw+", "AdAgentDouyin");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdAgentDouyin = function(_super) {
      __extends(AdAgentDouyin, _super);
      function AdAgentDouyin() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._bannerAd = null;
        _this._videoAd = null;
        _this._sysData = null;
        _this._bannerAds = [];
        _this._isBannerShow = false;
        _this.tt = window.tt;
        _this._bannerBottom = 0;
        _this._lastShowInterstitialTime = 0;
        _this.interstitialAd = null;
        _this._videoCallback = null;
        _this._isVideoLoaded = false;
        _this._isVideoShow = false;
        return _this;
      }
      Object.defineProperty(AdAgentDouyin.prototype, "ServerConfig", {
        get: function() {
          return Utils_1.utils.Tool_Douyin.ServerConfig;
        },
        enumerable: false,
        configurable: true
      });
      AdAgentDouyin.prototype.Init = function() {
        PlatUtils_1.default.IsDouyin && (this._sysData = Utils_1.utils.Tool_Douyin._sysInfo);
      };
      AdAgentDouyin.prototype.ShowBanner = function(location, args) {
        var _this = this;
        void 0 === args && (args = null);
        if (PlatUtils_1.default.IsDouyin) {
          if (Utils_1.utils.isShowRecommondGamesBanner() && Utils_1.utils.Tool_Douyin.isShowMoreGamesModal()) {
            Utils_1.utils.showRecommendGamesBanner();
            Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5c55\u793a\u81ea\u5b9a\u4e49banner");
            return;
          }
          if (Utils_1.utils.Tool_Douyin.isNewsArticleLite) {
            Utils_1.utils.showLog("\u5934\u6761\u6781\u901f\u7248\u4e0d\u663e\u793aBanner\u5e7f\u544a");
            return;
          }
          if (this._isConfigValid()) {
            var argsTmp = args;
            var bannerSizePercent = 1;
            if (argsTmp && argsTmp.width) {
              bannerSizePercent = argsTmp.width < 0 ? .1 : argsTmp.width;
              bannerSizePercent = argsTmp.width > 1 ? 1 : bannerSizePercent;
            }
            if (argsTmp && argsTmp.bottom) {
              this._bannerBottom = argsTmp.bottom / this._sysData.pixelRatio;
              this._bannerBottom = this._bannerBottom < 0 ? 0 : this._bannerBottom;
              this._bannerBottom = this._bannerBottom > this._sysData.screenHeight ? this._sysData.screenHeight : this._bannerBottom;
            }
            var targetBannerAdWidth_1 = 60;
            var left = .5 * (this._sysData.screenWidth - targetBannerAdWidth_1);
            var top = this._sysData.screenHeight - (targetBannerAdWidth_1 / 16 * 9 - this._bannerBottom);
            var bannerId = Utils_1.utils.config.douyinconfig.bannerId;
            Utils_1.utils.showLog("\u663e\u793aBanner\u5e7f\u544a: bannerId=" + bannerId + " #targetBannerAdWidth=", targetBannerAdWidth_1);
            try {
              var bannerAd_1 = this.tt.createBannerAd({
                adUnitId: bannerId,
                style: {
                  width: targetBannerAdWidth_1,
                  left: left,
                  top: top
                }
              });
              if (bannerAd_1) {
                var self_1 = this;
                bannerAd_1.onLoad(function() {
                  bannerAd_1.show().then(function() {
                    Utils_1.utils.showLog("\u5e7f\u544a\u663e\u793a\u6210\u529f");
                    for (var i = 0; i < self_1._bannerAds.length; i++) self_1._bannerAds[i] != bannerAd_1 && null != self_1._bannerAds[i] && self_1._bannerAds[i].destroy();
                    self_1._bannerAds.length = 0;
                    self_1._bannerAds.push(bannerAd_1);
                  }).catch(function(err) {
                    Utils_1.utils.showLog("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898  " + (err.errCode, 
                    err.errMsg));
                  });
                });
                bannerAd_1.onError(function(err) {
                  err && Utils_1.utils.showLog("Banner \u5e7f\u544a\u51fa\u9519: errCode:  " + err.errCode + " errMsg:" + err.errMsg);
                });
                bannerAd_1.onResize(function(res) {
                  bannerAd_1.style.top = _this._sysData.screenHeight - res.height - _this._bannerBottom;
                  res.width > 0 ? bannerAd_1.style.left = .5 * (_this._sysData.screenWidth - res.width) : bannerAd_1.style.left = (_this._sysData.screenWidth - targetBannerAdWidth_1) / 2;
                });
                this._bannerAds.push(bannerAd_1);
              }
            } catch (error) {}
          } else Utils_1.utils.showLog("\u6296\u97f3\u5c0f\u6e38\u620f\u914d\u7f6e\u6587\u4ef6\u51fa\u9519!");
        }
      };
      AdAgentDouyin.prototype.HideBanner = function(location) {
        if (PlatUtils_1.default.IsDouyin) {
          for (var i = 0; i < this._bannerAds.length; i++) null != this._bannerAds[i] && this._bannerAds[i].destroy();
          this._bannerAds.length = 0;
        }
      };
      AdAgentDouyin.prototype.checkCanShowInterstitial = function() {
        if (this.tt.createInterstitialAd) return true;
        return false;
      };
      AdAgentDouyin.prototype.ShowInterstitial = function(location) {
        if (PlatUtils_1.default.IsDouyin) if (this.checkCanShowInterstitial()) {
          var curTime = new Date().getTime();
          var interval = (curTime - this._lastShowInterstitialTime) / 1e3;
          if (interval < 30) {
            Utils_1.utils.showLog("\u8ddd\u79bb\u63d2\u5c4f\u5e7f\u544a\u6216\u8005\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u4e0a\u6b21\u64ad\u653e\u65f6\u95f4\u95f4\u9694\u4e0d\u8db330\u79d2");
            return;
          }
          this._lastShowInterstitialTime = curTime;
          Utils_1.utils.delayCall(this._createMiniGameInsertAd.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);
        } else Utils_1.utils.showLog("\u5f53\u524d\u5ba2\u6237\u7aef\u7248\u672c\u4e0d\u652f\u6301\u63d2\u5c4f\uff01");
      };
      AdAgentDouyin.prototype._createMiniGameInsertAd = function() {
        var _this = this;
        try {
          if (!Utils_1.utils.config.douyinconfig.insertId) {
            Utils_1.utils.showLog("\u63d2\u5c4fID\u914d\u7f6e\u6709\u8bef");
            return;
          }
          if (this.interstitialAd) {
            this.interstitialAd.destroy();
            this.interstitialAd = null;
          }
          this.interstitialAd = this.tt.createInterstitialAd({
            adUnitId: Utils_1.utils.config.douyinconfig.insertId
          });
          this.interstitialAd.load().then(function() {
            _this.interstitialAd.show();
          }).catch(function(err) {
            Utils_1.utils.showLog(err);
            Utils_1.utils.showLog("err.errCode:" + err.errCode);
            switch (err.errCode) {
             case 2001:
              Utils_1.utils.showLog("\u5c0f\u7a0b\u5e8f\u542f\u52a8\u4e00\u5b9a\u65f6\u95f4\u5185\u4e0d\u5141\u8bb8\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a");
              break;

             case 2002:
              Utils_1.utils.showLog("\u8ddd\u79bb\u5c0f\u7a0b\u5e8f\u63d2\u5c4f\u5e7f\u544a\u6216\u8005\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u4e0a\u6b21\u64ad\u653e\u65f6\u95f4\u95f4\u9694\u4e0d\u8db3\uff0c\u4e0d\u5141\u8bb8\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a");
              break;

             case 2003:
              Utils_1.utils.showLog("\u5f53\u524d\u6b63\u5728\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u6216\u8005\u63d2\u5c4f\u5e7f\u544a\uff0c\u4e0d\u5141\u8bb8\u518d\u6b21\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a");
              break;

             case 2004:
              Utils_1.utils.showLog("\u8be5\u9879\u9519\u8bef\u4e0d\u662f\u5f00\u53d1\u8005\u7684\u5f02\u5e38\u60c5\u51b5\uff0c\u6216\u56e0\u5c0f\u7a0b\u5e8f\u9875\u9762\u5207\u6362\u5bfc\u81f4\u5e7f\u544a\u6e32\u67d3\u5931\u8d25");
              break;

             case 2005:
              Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5b9e\u4f8b\u4e0d\u5141\u8bb8\u8de8\u9875\u9762\u8c03\u7528");
              break;

             default:
              Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25");
            }
          });
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
      };
      AdAgentDouyin.prototype.ShowVideo = function(callback) {
        var _this = this;
        if (PlatUtils_1.default.IsDouyin) {
          this._videoCallback = callback;
          this._isVideoShow = true;
          if (Utils_1.utils.Tool_Douyin.ServerConfig) {
            var posId = Utils_1.utils.config.douyinconfig.videoId.trim();
            Utils_1.utils.showLog("video\u5e7f\u544aID:" + posId);
            if (!this._videoAd) {
              this._videoAd = tt.createRewardedVideoAd({
                adUnitId: posId
              });
              if (this._videoAd) {
                Utils_1.utils.showLog("\u521d\u59cb\u5316\u6ce8\u518c\u89c6\u9891\u56de\u8c03!");
                this._videoAd.onError(function(err) {
                  Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u51fa\u9519: " + (err.code, err.msg));
                  _this._isVideoLoaded = false;
                  if (_this._videoCallback) {
                    _this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
                    _this._videoCallback = null;
                  }
                });
                this._videoAd.onClose(function(res) {
                  _this._isVideoShow = false;
                  _this._isVideoLoaded = false;
                  if (res.isEnded) {
                    Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1");
                    if (_this._videoCallback) {
                      _this._videoCallback(true, "");
                      _this._videoCallback = null;
                    }
                  } else {
                    Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1");
                    if (_this._videoCallback) {
                      _this._videoCallback(false, "\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!");
                      _this._videoCallback = null;
                    }
                  }
                });
              } else {
                Utils_1.utils.showLog("videoAd \u5bf9\u8c61\u521b\u5efa\u5931\u8d25\uff0c\u64ad\u653e\u5931\u8d25!");
                if (this._videoCallback) {
                  this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
                  this._videoCallback = null;
                }
              }
            }
            this._videoAd.load().then(function() {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f");
              _this._videoAd.show().then(function() {
                Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u6210\u529f!");
                _this._lastShowInterstitialTime = new Date().getTime();
              }).catch(function() {
                Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u5931\u8d25!");
                if (_this._videoCallback) {
                  _this._videoCallback(false, "\u89c6\u9891\u64ad\u653e\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5!");
                  _this._videoCallback = null;
                }
              });
            }).catch(function() {
              Utils_1.utils.showLog("\u518d\u6b21\u64ad\u653e\u89c6\u9891\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25!");
              if (_this._videoCallback) {
                _this._videoCallback(false, "\u89c6\u9891\u64ad\u653e\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5!");
                _this._videoCallback = null;
              }
            });
          }
        } else {
          Utils_1.utils.showLog("\u83b7\u53d6\u914d\u7f6e\u5931\u8d25\uff0c\u89c6\u9891\u65e0\u6cd5\u64ad\u653e!");
          if (this._videoCallback) {
            this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
            this._videoCallback = null;
          }
        }
      };
      AdAgentDouyin.prototype._initVideoAd = function() {
        var _this = this;
        if (!this._videoAd) if (Utils_1.utils.Tool_Douyin.ServerConfig) {
          var posId = Utils_1.utils.config.douyinconfig.videoId.trim();
          Utils_1.utils.showLog("video\u5e7f\u544aID:" + posId);
          this._videoAd = tt.createRewardedVideoAd({
            adUnitId: posId
          });
          if (this._videoAd) {
            Utils_1.utils.showLog("\u521d\u59cb\u5316\u6ce8\u518c\u89c6\u9891\u56de\u8c03!");
            this._videoAd.onLoad(function() {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f", _this._isVideoShow);
              _this._isVideoLoaded = true;
              if (_this._isVideoShow) {
                _this._videoAd.show().then(function() {
                  Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u6210\u529f!");
                }).catch(function() {
                  Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u5931\u8d25!");
                  if (_this._videoCallback) {
                    _this._videoCallback(false, "\u89c6\u9891\u64ad\u653e\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5!");
                    _this._videoCallback = null;
                  }
                });
                _this._isVideoShow = false;
              }
            });
            this._videoAd.onError(function(err) {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u51fa\u9519: " + (err.code, err.msg), err);
              _this._isVideoLoaded = false;
              if (_this._videoCallback) {
                _this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
                _this._videoCallback = null;
              }
            });
            this._videoAd.onClose(function(res) {
              _this._isVideoShow = false;
              _this._isVideoLoaded = false;
              if (res.isEnded) {
                Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1");
                if (_this._videoCallback) {
                  _this._videoCallback(true, "");
                  _this._videoCallback = null;
                }
              } else {
                Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1");
                if (_this._videoCallback) {
                  _this._videoCallback(false, "\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!");
                  _this._videoCallback = null;
                }
              }
              _this._videoAd.load().then(function() {
                Utils_1.utils.showLog("\u5173\u95ed\u89c6\u9891\u540e\u91cd\u65b0\u52a0\u8f7d\u89c6\u9891\u8d44\u6e90\u6210\u529f\uff01");
                _this._isVideoShow = false;
                _this._isVideoLoaded = true;
              });
            });
          } else {
            Utils_1.utils.showLog("\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
            if (this._videoCallback) {
              this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
              this._videoCallback = null;
            }
          }
        } else {
          Utils_1.utils.showLog("\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
          if (this._videoCallback) {
            this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
            this._videoCallback = null;
          }
        }
      };
      AdAgentDouyin.prototype._isConfigValid = function() {
        if (PlatUtils_1.default.IsDouyin) return Utils_1.utils.config.douyinconfig && Utils_1.utils.config.douyinconfig.appID && Utils_1.utils.config.douyinconfig.bannerId && Utils_1.utils.config.douyinconfig.videoId;
        return false;
      };
      AdAgentDouyin.prototype.ShowCloseBtnBanner = function(location, args) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        Utils_1.utils.showLog("ShowCloseBtnBanner >>>>>>>>>.");
        var isMoveBtn = 0;
        var fadeInTime = 0;
        var btn = args.closeBtn;
        var winHeight = cc.winSize.height;
        btn.opacity = 0;
        if (this.ServerConfig) {
          this.ServerConfig.show_close_btn_delay && (fadeInTime = this.ServerConfig.show_close_btn_delay);
          setTimeout(function() {
            btn.runAction(cc.fadeIn(.3));
          }, 1e3 * fadeInTime);
        }
      };
      AdAgentDouyin = __decorate([ ccclass ], AdAgentDouyin);
      return AdAgentDouyin;
    }(AdAgent_1.default);
    exports.default = AdAgentDouyin;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  AdAgentFaceBook: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a545elsu55MprEh4ZOD19/a", "AdAgentFaceBook");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var FBAdManager_1 = require("./FaceBookSdk/FBAdManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdAgentFaceBook = function(_super) {
      __extends(AdAgentFaceBook, _super);
      function AdAgentFaceBook() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._sysData = null;
        _this._curBannerAd = null;
        _this._videoAd = null;
        _this._insertAd = null;
        _this._oldAd = null;
        _this._appBox = null;
        _this._videoCallback = null;
        _this._isVideoLoaded = false;
        _this._isVideoShow = false;
        _this.qq = window.qq;
        _this._bannerShow = false;
        _this._bannerSizePercent = .5;
        _this._bannerBottom = 0;
        _this._oldBannerLocation = YZ_Constant_1.BannerLocation.None;
        _this._curBannerHeight = 240;
        _this._moveBtn = null;
        _this._cur_level = null;
        _this._showBannerTimerId = 0;
        _this._isShow = false;
        return _this;
      }
      AdAgentFaceBook.prototype.Init = function() {
        var _this = this;
        PlatUtils_1.default.IsFaceBook && Utils_1.utils.registerServerInitEvent(function() {
          _this._initAd();
        }, this);
      };
      Object.defineProperty(AdAgentFaceBook.prototype, "ServerConfig", {
        get: function() {
          return Utils_1.utils.Tool_Facebook.ServerConfig;
        },
        enumerable: false,
        configurable: true
      });
      AdAgentFaceBook.prototype._initAd = function() {
        Utils_1.utils.showLog("facebook init ad>>>>>>>>");
        FBAdManager_1.default.addInterstitial(Utils_1.utils.config.faceBookConfig.insertId, 3);
        FBAdManager_1.default.addRewardedVideo(Utils_1.utils.config.faceBookConfig.videoId, 3);
        FBAdManager_1.default.addBanner(Utils_1.utils.config.faceBookConfig.bannerId);
        setTimeout(function() {
          FBAdManager_1.default.loadAll();
        }, 3e3);
      };
      AdAgentFaceBook.prototype._createBanner = function(location, args) {
        void 0 === args && (args = null);
        PlatUtils_1.default.IsFaceBook && FBAdManager_1.default.showBannerAsync().then(function() {
          Utils_1.utils.showLog("\u663e\u793aBanner\u5e7f\u544a: \u6210\u529f");
        }).catch(function(e) {
          Utils_1.utils.showLog("\u663e\u793aBanner\u5e7f\u544a: \u5931\u8d25\uff0c\u539f\u56e0: " + e.message);
        });
      };
      AdAgentFaceBook.prototype._showBannerTimer = function(location, args) {
        var locationTmp = location;
        var argsTmp = args;
        Utils_1.utils.showLog("\u663e\u793aBanner\u5e7f\u544axxx\uff01location:" + locationTmp + "; \u95f4\u9694\u65f6\u95f4:" + Utils_1.utils.Tool_Facebook.ServerConfig.refresh_ad_time + ":\u4f18\u5148\u7ea7\uff1a" + this.ServerConfig.banner_first_ad);
        this._createBanner(locationTmp, argsTmp);
      };
      AdAgentFaceBook.prototype.ShowBanner = function(location, args) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        void 0 === args && (args = null);
        if (PlatUtils_1.default.IsFaceBook) if (Utils_1.utils.ServerConfig) {
          var locationTmp = location;
          var argsTmp = args;
          this._moveBtn = args ? args.moveBtn : null;
          this._cur_level = args ? args.cur_level : null;
          this._showBannerTimer(locationTmp, argsTmp);
        } else Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!");
      };
      AdAgentFaceBook.prototype.HideBanner = function(location) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        if (PlatUtils_1.default.IsFaceBook) {
          Utils_1.utils.showLog("\u9690\u85cf\u5e7f\u544a\u6761");
          this._bannerShow = false;
          clearInterval(this._showBannerTimerId);
          FBAdManager_1.default.hideBannerAsync().then(function() {
            Utils_1.utils.showLog("\u9690\u85cfBanner\u5e7f\u544a: \u6210\u529f");
          }).catch(function(e) {
            Utils_1.utils.showLog("\u9690\u85cfBanner\u5e7f\u544a: \u5931\u8d25\uff0c\u539f\u56e0: " + e.message);
          });
        }
      };
      AdAgentFaceBook.prototype.ShowVideo = function(callback) {
        var _this = this;
        if (PlatUtils_1.default.IsFaceBook) {
          this._videoCallback = callback;
          if (FBAdManager_1.default.isRewardedVideoReady()) FBAdManager_1.default.showRewardedVideo().then(function() {
            Utils_1.utils.showLog("\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a: \u6210\u529f");
            if (_this._videoCallback) {
              _this._videoCallback(true, "");
              _this._videoCallback = null;
            }
          }).catch(function(e) {
            Utils_1.utils.showLog("\u89c6\u9891\u64ad\u653e\u5931\u8d25\uff1a" + e.message);
            if (_this._videoCallback) {
              _this._videoCallback(false, "Ad playback failed!");
              _this._videoCallback = null;
            }
          }); else {
            Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u672a\u52a0\u8f7d\uff01");
            if (this._videoCallback) {
              this._videoCallback(false, "Video ad not loaded successfully\uff01");
              this._videoCallback = null;
            }
          }
        }
      };
      AdAgentFaceBook.prototype.ShowInterstitial = function(location) {
        void 0 === location && (location = null);
        PlatUtils_1.default.IsFaceBook && (this.ServerConfig ? Utils_1.utils.delayCall(this._createInsterstitial.bind(this), this.ServerConfig.intersititia_delay_show_time || 0) : this._createInsterstitial.bind(this));
      };
      AdAgentFaceBook.prototype._createInsterstitial = function() {
        FBAdManager_1.default.isInterstitialAdReady() ? FBAdManager_1.default.showInterstitialAd().then(function() {
          Utils_1.utils.showLog("\u64ad\u653e\u63d2\u5c4f\u5e7f\u544a: \u6210\u529f");
        }).catch(function(e) {
          Utils_1.utils.showLog("\u64ad\u653e\u63d2\u5c4f\u5e7f\u544a: \u5931\u8d25\uff0c\u539f\u56e0: " + e.message);
        }) : Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u6ca1\u6709\u52a0\u8f7d\u6210\u529f\uff01");
      };
      AdAgentFaceBook = __decorate([ ccclass ], AdAgentFaceBook);
      return AdAgentFaceBook;
    }(AdAgent_1.default);
    exports.default = AdAgentFaceBook;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./FaceBookSdk/FBAdManager": "FBAdManager",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  AdAgentGoogleWeb: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "01821QDZ8NO/JWvZyloYKY9", "AdAgentGoogleWeb");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var AdAgentGoogleWeb = function(_super) {
      __extends(AdAgentGoogleWeb, _super);
      function AdAgentGoogleWeb() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.googleAd = null;
        _this._videoIsPlay = false;
        return _this;
      }
      AdAgentGoogleWeb.prototype.Init = function() {
        console.log("[init googleWebAd]");
        this.googleAd = window.googleApi;
      };
      AdAgentGoogleWeb.prototype.ShowBanner = function(location) {
        void 0 === location && (location = null);
        console.log("[YouzhiAd ShowBanner] :" + location);
        this.googleAd && this.googleAd.showBanner();
      };
      AdAgentGoogleWeb.prototype.ShowInterstitial = function() {
        console.log("[YouzhiAd ShowInterstitial]");
        this.googleAd && this.googleAd.ShowInterstitial();
      };
      AdAgentGoogleWeb.prototype.HideBanner = function(location) {
        void 0 === location && (location = null);
        console.log("[YouzhiAd HideBanner]");
        this.googleAd && this.googleAd.hideBanner();
      };
      AdAgentGoogleWeb.prototype.ShowVideo = function(callback) {
        var _this = this;
        console.log("[YouzhiAd ShowVideo]");
        if (this._videoIsPlay) {
          console.warn("[YouzhiAd Video Ad is Loading]");
          return;
        }
        this._videoIsPlay = true;
        var videoAdSuccess = function() {
          _this._videoIsPlay = false;
          callback(true, "\u89c6\u9891\u64ad\u653e\u6210\u529f!");
        };
        var videoAdFail = function(msg) {
          _this._videoIsPlay = false;
          callback(false, msg || "\u89c6\u9891\u64ad\u653e\u5931\u8d25!");
        };
        this.googleAd && this.googleAd.showVideo(videoAdSuccess, videoAdFail);
      };
      return AdAgentGoogleWeb;
    }(AdAgent_1.default);
    exports.default = AdAgentGoogleWeb;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent"
  } ],
  AdAgentHago: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "737dcSdaTZIJYemPKqAzajR", "AdAgentHago");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdAgentHago = function(_super) {
      __extends(AdAgentHago, _super);
      function AdAgentHago() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._sysData = null;
        _this._bannerAd = null;
        _this._videoAd = null;
        _this._videoCallback = null;
        _this._isVideoShow = false;
        _this._isVideoLoaded = false;
        _this.hg = window.hg;
        _this.canShowVideo = false;
        return _this;
      }
      AdAgentHago.prototype.Init = function() {
        if (PlatUtils_1.default.IsHago) {
          this.initVideoAd();
          Utils_1.utils.showLog("hago \u5e73\u53f0\u5e7f\u544a\u521d\u59cb\u5316\u6210\u529f\uff01");
        }
      };
      AdAgentHago.prototype.ShowBanner = function(location, args) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        void 0 === args && (args = null);
        Utils_1.utils.showLog("Hago\u5e73\u53f0\u6ca1\u6709banner\u5e7f\u544a\uff01");
      };
      AdAgentHago.prototype.showStatementAds = function() {
        var result = {
          type: 0,
          node: null
        };
        var node = null;
        var resType = 0;
        Utils_1.utils.showLog("\u7ed3\u7b97\u5e7f\u544a >> \u663e\u793a\u63d2\u5c4f\u5e7f\u544a+6\u4e2a\u4e92\u63a8");
        this.ShowInterstitial();
        node = Utils_1.utils.showCrossWidget6();
        resType = 1;
        result.type = resType;
        result.node = node;
        return result;
      };
      AdAgentHago.prototype.initVideoAd = function() {
        var _this = this;
        this._videoAd = this.hg.createRewardedVideoAd({
          adUnitId: parseInt(Utils_1.utils.config.hagoConfig.videoId)
        });
        this._videoAd.onClose = function(res) {
          if (res.isEnded) {
            _this._videoCallback(true);
            _this._videoCallback = null;
          } else if (_this._videoCallback) {
            _this._videoCallback(false, i18n.t("ad.video_not_played_complete"));
            _this._videoCallback = null;
          }
        };
        this._videoAd.onError = function() {
          if (_this._videoCallback) {
            _this._videoCallback(false, i18n.t("ad.video_load_fail"));
            _this._videoCallback = null;
          }
        };
      };
      AdAgentHago.prototype.HideBanner = function(location) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
      };
      AdAgentHago.prototype.ShowInterstitial = function(location) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        console.warn("Hago\u6ca1\u6709\u63d2\u5c4f");
      };
      AdAgentHago.prototype.ShowVideo = function(callback) {
        if (PlatUtils_1.default.IsHago) {
          if (this._videoCallback) return;
          this._videoCallback = callback;
          this._videoAd || this.initVideoAd();
          this._videoAd.show().then(function() {
            Utils_1.utils.showLog("video show success");
          });
        }
      };
      AdAgentHago = __decorate([ ccclass ], AdAgentHago);
      return AdAgentHago;
    }(AdAgent_1.default);
    exports.default = AdAgentHago;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  AdAgentHuaWei: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "290c4sJ+4FFVqbdVokQ98+D", "AdAgentHuaWei");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_NativeAdObject_1 = require("./YZ_NativeAdObject");
    var NativeTryGamesWidget_1 = require("./NativeTryGamesWidget");
    var CompatibleTool_1 = require("./CompatibleTool");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdAgentHuaWei = function(_super) {
      __extends(AdAgentHuaWei, _super);
      function AdAgentHuaWei() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.huawei = window.qg;
        _this._bannerAd = null;
        _this._insertAd = null;
        _this._videoAd = null;
        _this._nativeBannerAd = [];
        _this._nativeInsertAd = [];
        _this._nativeSingleAd = [];
        _this._nativeAd = null;
        _this._isAdInit = false;
        _this._isBannerShow = false;
        _this._isInsertShow = false;
        _this._curPosIdIndexNativeBanner = 0;
        _this._curPosIdIndexNativeInser = 0;
        _this._curPosIdIndexSingleNative = 0;
        _this._nativeData = null;
        _this._nativeInsertData = null;
        _this._nativeBannerNode = null;
        _this._nativeInsertNode = null;
        _this._videoCallback = null;
        _this._videoLoaded = null;
        _this._miniBannerHeight = 0;
        _this._showBannerCallBack = null;
        _this._nativeAdObject = null;
        _this._insertShowCount = 0;
        _this._insertLastShowTime = 0;
        _this._curNativeItem = null;
        _this._isNativeBannerShow = false;
        _this.lastLastShowVideoTime = 0;
        _this._bannerHideCount = 0;
        _this.canShowNativeBanner = true;
        _this._nativeBannerInfo = null;
        _this.bannerType = 1;
        _this.banner_style_mod = [ 1, 2 ];
        _this.intersititialType = 1;
        _this.intersititial_style_mod = [ 1, 2, 3 ];
        _this.bannerTimes = 0;
        _this.intersititialTimes = 0;
        _this._nativeIsClose = false;
        _this._showBannerTimerId = 0;
        _this._delayShowBannerId = 0;
        _this._curLocation = YZ_Constant_1.BannerLocation.None;
        _this._startBannerTimerTask = 0;
        _this.tryGameAdArr = [];
        _this._nativeTryGameNode = null;
        _this._isDataInit = false;
        _this._nativeSplashNode = null;
        _this.insertTimeID = 0;
        _this._nativeInsertAdShowCount = 0;
        _this.miniInserAdIsCreate = false;
        _this._isInsertLoad = false;
        _this._canInsertShow = false;
        _this._curNativeBannerInfo = {};
        _this._rewardInsertNode = null;
        return _this;
      }
      Object.defineProperty(AdAgentHuaWei.prototype, "ServerConfig", {
        get: function() {
          if (Utils_1.utils.Tool_Huawei && Utils_1.utils.Tool_Huawei.ServerConfig) return Utils_1.utils.Tool_Huawei.ServerConfig;
          return {};
        },
        enumerable: false,
        configurable: true
      });
      AdAgentHuaWei.prototype.getNativeBannerInfo = function() {
        if (this._nativeBannerInfo && this._nativeBannerInfo.location == this._curLocation) return this._nativeBannerInfo;
        return Utils_1.utils.config.huaweiConfig.getNativeBannerInfo(this._curLocation);
      };
      AdAgentHuaWei.prototype.Init = function() {
        var _this = this;
        if (PlatUtils_1.default.IsHuaWei) {
          cc.director.on("IsDataInit", function() {
            _this._isDataInit = true;
            cc.director.off("IsDataInit");
          }, this);
          Utils_1.utils.registerServerInitEvent(function() {
            Utils_1.utils.showLog("HuaWei \u5e7f\u544a\u4ee3\u7406\u7ec4\u4ef6\u521d\u59cb\u5316!");
            _this._initVideoAd();
          }, this);
        }
      };
      AdAgentHuaWei.prototype._initLocalDate = function() {
        this.ServerConfig.banner_style_mod || (this.ServerConfig.banner_style_mod = [ 1, 2 ]);
        this.ServerConfig.intersititial_style_mod || (this.ServerConfig.intersititial_style_mod = [ 1, 2, 3 ]);
        this.ServerConfig.icon_jump_native || (this.ServerConfig.icon_jump_native = 1);
        this.ServerConfig.banner_style_level || (this.ServerConfig.banner_style_level = 2);
        this.ServerConfig.intersititial_style_level || (this.ServerConfig.intersititial_style_level = 2);
        this.ServerConfig.intersititia_delay_show_time = 0;
        console.log("\u63d2\u5c4f\u5ef6\u65f6\u5c55\u793a\uff0c\u5ef6\u65f6\u65f6\u95f4\uff1a" + this.ServerConfig.intersititia_delay_show_time);
        console.log("banner && inter", this.ServerConfig.banner_style_mod, this.ServerConfig.intersititial_style_mod);
      };
      AdAgentHuaWei.prototype.ShowBanner = function(location, args, isTimeRefresh) {
        var _this = this;
        void 0 === location && (location = null);
        void 0 === args && (args = null);
        void 0 === isTimeRefresh && (isTimeRefresh = false);
        if (PlatUtils_1.default.IsHuaWei) {
          if (!this.ServerConfig) {
            Utils_1.utils.showLog("\u672a\u8bf7\u6c42\u5230\u914d\u7f6e\u6587\u4ef6\uff01");
            return;
          }
          var oldLocation = this._curLocation;
          this._curLocation = location;
          oldLocation != location && this.HideBanner(location);
          var curTime = new Date().getTime();
          var refresh_ad_time = (curTime - this._startBannerTimerTask) / 1e3;
          var interval_1 = this.ServerConfig.refresh_ad_time;
          args && args.isRefresh ? isTimeRefresh = true : interval_1 && interval_1 > 0 && refresh_ad_time > interval_1 && (isTimeRefresh = true);
          if (-1 == this.getNativeBannerInfo().is_show_banner) {
            Utils_1.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u914d\u7f6e\u4e3a\u4e0d\u5c55\u793abanner!");
            this.HideBanner(location);
            return;
          }
          if (!isTimeRefresh && this.ServerConfig.nbclr && "true" == this.ServerConfig.nbclr && this._curNativeBannerInfo.nativeBannerAd) {
            Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5b9a\u65f6\u5668\u5237\u65b0\u6570\u636e ");
            this._showNativeBanner(this._curNativeBannerInfo.nativeBannerAd, this._curNativeBannerInfo.data);
            Utils_1.utils.showLog("\u5f00\u542f\u5b9a\u65f6\u5237\u65b0 >>>>>>>>>" + (interval_1 - refresh_ad_time));
            clearTimeout(this._showBannerTimerId);
            clearTimeout(this._delayShowBannerId);
            this._showBannerTimerId = setTimeout(function() {
              Utils_1.utils.showLog("\u5b9a\u65f6" + interval_1 + "\u79d2\u8c03\u7528showbanner");
              _this.ShowBanner(_this._curLocation, {}, true);
            }, 1e3 * (interval_1 - refresh_ad_time));
            return;
          }
          this.canShowNativeBanner = true;
          this._nativeIsClose = false;
          clearTimeout(this._showBannerTimerId);
          clearTimeout(this._delayShowBannerId);
          Utils_1.utils.showLog("\u6e05\u7406\u5b9a\u65f6\u5668");
          if (this.ServerConfig) {
            Utils_1.utils.showLog("banner \u4f18\u5148\u5c55\u793a >>>>" + this.ServerConfig.banner_first_ad);
            if (interval_1 && interval_1 > 0) {
              Utils_1.utils.showLog("\u5f00\u542f\u5b9a\u65f6\u5237\u65b0 >>>>>>>>>" + interval_1);
              this._showBannerTimerId = setTimeout(function() {
                Utils_1.utils.showLog("\u5b9a\u65f6" + interval_1 + "\u79d2\u8c03\u7528showbanner");
                _this.ShowBanner(_this._curLocation, {}, true);
              }, 1e3 * interval_1);
            }
            if (this.ServerConfig.banner_style_level) {
              if (this.ServerConfig.banner_style_mod) if (1 == this.ServerConfig.banner_style_mod[this.bannerType - 1]) {
                Utils_1.utils.showLog("banner_style_mod \u4e3a 1\uff0c\u5c55\u793a\u539f\u751fbanner");
                this._createNativeBannerAd(this._showNativeBanner);
              } else if (2 == this.ServerConfig.banner_style_mod[this.bannerType - 1]) {
                Utils_1.utils.showLog("banner_style_mod \u4e3a 2\uff0c\u5c55\u793a\u9ed8\u8ba4banner");
                this._createMiniGameBannerAd(location);
              } else Utils_1.utils.showLog("banner_style_mod \u914d\u7f6e\u51fa\u9519\uff01"); else {
                Utils_1.utils.showLog("\u670d\u52a1\u5668\u6ca1\u6709\u914d\u7f6e banner_style_mod \u5b57\u6bb5\uff01\uff01");
                this.ServerConfig.banner_style_level = 0;
                this.ShowBanner(location);
              }
              this.bannerTimes++;
              if (this.bannerTimes % this.ServerConfig.banner_style_level == 0) {
                this.bannerType++;
                this.bannerType = this.bannerType > 2 ? 1 : this.bannerType;
              }
            } else if (this.ServerConfig.banner_first_ad) if (this.ServerConfig.banner_first_ad.indexOf("native") > -1) {
              Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751fBanner\u5e7f\u544a!");
              if ("native" == this.ServerConfig.intersititial_first_ad) {
                var timeOut = 0;
                this.ServerConfig.native_banner_delay_time && (timeOut = this.ServerConfig.native_banner_delay_time);
                Utils_1.utils.showLog("\u56e0\u4e3a\u63d2\u5c4f\u4e5f\u662f\u4f18\u5148\u5c55\u793a\u539f\u751f\uff0c\u6240\u4ee5banner\u5ef6\u8fdf\u663e\u793a" + timeOut + "\u79d2");
                this._delayShowBannerId = setTimeout(function() {
                  _this._createNativeBannerAd(_this._showNativeBanner);
                }, 1e3 * timeOut);
              } else this._createNativeBannerAd(this._showNativeBanner);
            } else {
              Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620fBanner\u5e7f\u544a!");
              this._createMiniGameBannerAd(location);
            } else this._createNativeBannerAd(this._showNativeBanner);
          } else Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!");
        }
      };
      AdAgentHuaWei.prototype.HideBanner = function(location) {
        void 0 === location && (location = null);
        if (PlatUtils_1.default.IsHuaWei) {
          clearTimeout(this._showBannerTimerId);
          clearTimeout(this._delayShowBannerId);
          if (this._bannerAd) {
            Utils_1.utils.showLog("\u9690\u85cf\u5c0f\u6e38\u620fBanner");
            this._bannerAd.hide();
          }
          if (this._nativeBannerNode) {
            Utils_1.utils.showLog("\u9690\u85cf\u539f\u751fBanner");
            this._nativeBannerNode.active = false;
          }
        }
      };
      AdAgentHuaWei.prototype.showNativeTryGameWidget = function() {
        var _this = this;
        if (PlatUtils_1.default.IsHuaWei) {
          Utils_1.utils.showLog("\u663e\u793a\u539f\u751ficon nativeNeedChange=", Utils_1.utils.nativeNeedChange, "  utils.tryGameDate", Utils_1.utils.tryGameDate, "utils.config.huaweiConfig.nativeTryGameIds", Utils_1.utils.config.huaweiConfig.nativeTryGameIds);
          if ((Utils_1.utils.nativeNeedChange || !Utils_1.utils.tryGameDate) && Utils_1.utils.config.huaweiConfig.nativeTryGameIds) {
            var len = Utils_1.utils.config.huaweiConfig.nativeTryGameIds.length;
            Utils_1.utils.showLog("len:" + len);
            var _loop_1 = function(i) {
              if (this_1.tryGameAdArr[i]) this_1.tryGameAdArr[i].load(); else {
                var posId = Utils_1.utils.config.huaweiConfig.nativeTryGameIds[i];
                Utils_1.utils.showLog("\u521b\u5efa\u539f\u751ficon\u3002 posId:" + posId);
                var tryGameAd_1 = qg.createNativeAd({
                  adUnitId: posId,
                  success: function(code) {
                    console.log("loadNativeAd loadNativeAd : success");
                  },
                  fail: function(data, code) {
                    console.log("loadNativeAd loadNativeAd fail: " + data + "," + code);
                  },
                  complete: function() {
                    console.log("loadNativeAd loadNativeAd : complete");
                  }
                });
                if (tryGameAd_1) {
                  tryGameAd_1.onLoad(function(res) {
                    Utils_1.utils.nativeNeedChange = false;
                    console.log("\u539f\u751ficon\u52a0\u8f7d\u6210\u529f");
                    if (res && res.adList && res.adList.length > 0) {
                      res = JSON.parse(JSON.stringify(res));
                      var adId_1 = res.adList[0].adId;
                      Utils_1.utils.showLog("adId:" + adId_1);
                      var canAdd_1 = true;
                      Utils_1.utils.tryGameDate.forEach(function(element) {
                        adId_1 == element.date[0].adId && (canAdd_1 = false);
                      });
                      if (canAdd_1) {
                        Utils_1.utils.tryGameDate.push({
                          tryGameAd: tryGameAd_1,
                          date: res.adList
                        });
                        Utils_1.utils._nativeTryGameNode ? Utils_1.utils._nativeTryGameNode.getComponent(NativeTryGamesWidget_1.default).init() : _this.createNativeTryGameWidget();
                      }
                      Utils_1.utils.showLog("\u539f\u751ficon\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff0c\u662f\u5426\u53ef\u4ee5\u6dfb\u52a0\u5e7f\u544a" + canAdd_1);
                      Utils_1.utils.showLog(JSON.stringify(res));
                    }
                  });
                  tryGameAd_1.onError(function(err) {
                    Utils_1.utils.showLog("\u539f\u751ficon\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01" + JSON.stringify(err));
                    Utils_1.utils.nativeNeedChange = true;
                    if (_this.ServerConfig.intersititial_style_level && 3 == _this.ServerConfig.intersititial_style_mod[_this.intersititialType - 1]) {
                      Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u539f\u751f\u63d2\u5c4f\uff01");
                      Utils_1.utils.delayCall(_this.nativeInserAdDelayCall.bind(_this), _this.ServerConfig.intersititia_delay_show_time || 0);
                    }
                    tryGameAd_1.destroy();
                  });
                  tryGameAd_1.load();
                  this_1.tryGameAdArr[i] = tryGameAd_1;
                }
              }
            };
            var this_1 = this;
            for (var i = 0; i < len; i++) _loop_1(i);
          }
          this.createNativeTryGameWidget();
        }
      };
      AdAgentHuaWei.prototype.createNativeTryGameWidget = function(params) {
        void 0 === params && (params = null);
        this._nativeTryGameNode && cc.isValid(this._nativeTryGameNode) && this._nativeTryGameNode.destroy();
        var node = cc.instantiate(Utils_1.utils.config.otherconfig.nativeTryGameWidget);
        if (node) {
          this._nativeTryGameNode = node;
          this._nativeTryGameNode.zIndex = 9999;
        }
        node = this._nativeTryGameNode;
        var widget = node.getComponent(cc.Widget);
        if (params) {
          params.group && (node.group = params.group);
          null != params.scale && (node.scale = params.scale);
          if (null != params.top) {
            widget.isAlignTop = true;
            widget.isAlignBottom = false;
            widget.top = params.top;
          } else if (null != params.bottom) {
            widget.isAlignTop = false;
            widget.isAlignBottom = true;
            widget.bottom = params.bottom;
          }
          if (null != params.left) {
            widget.isAlignLeft = true;
            widget.isAlignRight = false;
            widget.left = params.left;
          } else if (null != params.right) {
            widget.isAlignLeft = false;
            widget.isAlignRight = true;
            widget.right = params.right;
          }
          null != params.parent && (node.parent = params.parent);
          widget.updateAlignment();
        } else {
          node.parent = cc.director.getScene();
          Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (node.group = Utils_1.utils.otherConfig.group);
          widget.enabled = false;
          node.setPosition(cc.v2(cc.winSize.width / 2, cc.winSize.height / 2));
        }
        node.active = true;
        this._nativeTryGameNode && this._nativeTryGameNode.getComponent(NativeTryGamesWidget_1.default).init();
      };
      AdAgentHuaWei.prototype.hideNativeTryGameWidget = function() {
        this._nativeTryGameNode && cc.isValid(this._nativeTryGameNode) && this._nativeTryGameNode.destroy();
      };
      AdAgentHuaWei.prototype._canShowNativeSplashView = function(callBack) {
        var _this = this;
        if (!this._isDataInit) {
          Utils_1.utils.showLog("\u5e7f\u544a\u6570\u636e\u672a\u521d\u59cb\u5316\u5b8c\u6210\uff0c\u8bbe\u7f6e\u56de\u8c03>>>>>");
          cc.director.off("IsDataInit");
          var call_1 = callBack;
          cc.director.on("IsDataInit", function() {
            Utils_1.utils.showLog("\u56de\u8c03\u6210\u529f,\u5c55\u793a\u5f00\u5c4f\u5e7f\u544a>>>>>");
            _this._isDataInit = true;
            _this.showNativeSplashView(call_1);
            cc.director.off("IsDataInit");
          }, this);
          return false;
        }
        return true;
      };
      AdAgentHuaWei.prototype.showNativeSplashView = function(callBack) {
        var _this = this;
        void 0 === callBack && (callBack = null);
        if (!this._canShowNativeSplashView(callBack)) return;
        if (PlatUtils_1.default.IsHuaWei) {
          Utils_1.utils.showLog("\u663e\u793a\u5f00\u5c4f\u5e7f\u544a,\u5e7f\u544aID ", Utils_1.utils.config.huaweiConfig.nativeSplashId);
          if (Utils_1.utils.config.huaweiConfig.nativeSplashId) {
            var posId = Utils_1.utils.config.huaweiConfig.nativeSplashId;
            Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u5f00\u5c4f\u5e7f\u544a\u3002 posId:" + posId);
            var splashView_1 = qg.createNativeAd({
              adUnitId: posId,
              success: function(code) {
                console.log("loadNativeAd loadNativeAd : success");
              },
              fail: function(data, code) {
                console.log("loadNativeAd loadNativeAd fail: " + data + "," + code);
              },
              complete: function() {
                console.log("loadNativeAd loadNativeAd : complete");
              }
            });
            if (splashView_1) {
              splashView_1.onLoad(function(res) {
                if (res && res.adList && res.adList.length > 0) {
                  res = JSON.parse(JSON.stringify(res));
                  var adId = res.adList[0].adId;
                  Utils_1.utils.showLog("adId:" + adId);
                  Utils_1.utils.showLog("\u539f\u751f\u5f00\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f:" + JSON.stringify(res));
                  var data = res.adList[0];
                  _this._creatNativeSplashView(splashView_1, data);
                  callBack && cc.director.on("SplashViewOff", function() {
                    callBack();
                    cc.director.off("SplashViewOff");
                  }, _this);
                }
              });
              splashView_1.onError(function(err) {
                callBack && callBack();
                Utils_1.utils.showLog("\u539f\u751f\u5f00\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01" + JSON.stringify(err));
                splashView_1.destroy();
              });
              splashView_1.load();
            } else {
              callBack && callBack();
              Utils_1.utils.showLog("\u539f\u751f\u5f00\u5c4f\u5e7f\u544a\u521b\u5efa\u5931\u8d25!");
            }
          } else {
            callBack && callBack();
            Utils_1.utils.showLog("\u539f\u751f\u5f00\u5c4f\u5e7f\u544aID\u914d\u7f6e\u6709\u8bef\uff01\uff01");
          }
        }
      };
      AdAgentHuaWei.prototype._creatNativeSplashView = function(splashView, data) {
        if (PlatUtils_1.default.IsHuaWei && data) {
          if (!cc.isValid(this._nativeSplashNode) && Utils_1.utils.config.otherconfig.nativeSplashView) {
            Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u4f4d");
            this._nativeSplashNode = cc.instantiate(Utils_1.utils.config.otherconfig.nativeSplashView);
            this._nativeSplashNode.position = CompatibleTool_1.default.position(cc.winSize.width / 2, cc.winSize.height / 2);
            cc.director.getScene().addChild(this._nativeSplashNode, 999999);
          }
          if (this._nativeSplashNode) {
            var nativeSplash = this._nativeSplashNode.getComponent("YZ_NativeSplashView");
            if (nativeSplash) nativeSplash.init(splashView, data); else {
              cc.director.emit("SplashViewOff");
              Utils_1.utils.showLog("NativeSplashView\u7ec4\u4ef6\u4e0d\u5b58\u5728!");
            }
          } else {
            cc.director.emit("SplashViewOff");
            Utils_1.utils.showLog("\u539f\u751f\u5f00\u5c4f\u5e7f\u544a\u6ca1\u6709\u521b\u5efa\u6210\u529f\uff01");
          }
        }
      };
      AdAgentHuaWei.prototype.ShowInterstitial = function(location) {
        var _this = this;
        void 0 === location && (location = null);
        if (PlatUtils_1.default.IsHuaWei) if (this.ServerConfig) {
          if (!this.checkInsertAdShow()) return;
          if (location && location == YZ_Constant_1.BannerLocation.Pause) if ("native" == this.ServerConfig.intersititial_first_ad) {
            Utils_1.utils.showLog("\u6682\u505c\u754c\u9762\u4e0d\u5ef6\u65f6\u5c55\u793a\uff01");
            Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!");
            this.nativeInserAdDelayCall();
          } else {
            Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
            this._createMiniGameInsertAd();
          } else if (this.ServerConfig.intersititial_style_level) {
            if (this.ServerConfig.intersititial_style_mod) if (1 == this.ServerConfig.intersititial_style_mod[this.intersititialType - 1]) {
              Utils_1.utils.showLog("intersititial_style_mod \u4e3a 1\uff0c\u5c55\u793a\u539f\u751f\u63d2\u5c4f");
              Utils_1.utils.delayCall(this.nativeInserAdDelayCall.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);
            } else if (2 == this.ServerConfig.intersititial_style_mod[this.intersititialType - 1]) {
              Utils_1.utils.showLog("intersititial_style_mod \u4e3a 2\uff0c\u5c55\u793a\u9ed8\u8ba4\u63d2\u5c4f");
              this._createMiniGameInsertAd();
            } else if (3 == this.ServerConfig.intersititial_style_mod[this.intersititialType - 1]) {
              Utils_1.utils.showLog("intersititial_style_mod \u4e3a 2\uff0c\u5c55\u793a\u539f\u751ficon");
              this.showNativeTryGameWidget();
            } else Utils_1.utils.showLog("banner_style_mod \u914d\u7f6e\u51fa\u9519\uff01"); else {
              Utils_1.utils.showLog("\u670d\u52a1\u5668\u6ca1\u6709\u914d\u7f6e banner_style_mod \u5b57\u6bb5\uff01\uff01");
              this.ServerConfig.intersititial_style_level = 0;
              this.ShowInterstitial(location);
            }
            setTimeout(function() {
              _this.intersititialTimes++;
              if (_this.intersititialTimes % _this.ServerConfig.intersititial_style_level == 0) {
                _this.intersititialType++;
                _this.intersititialType = _this.intersititialType > 3 ? 1 : _this.intersititialType;
              }
            }, 3e3);
          } else if ("native" == this.ServerConfig.intersititial_first_ad) {
            Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!");
            Utils_1.utils.delayCall(this.nativeInserAdDelayCall.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);
          } else {
            Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
            this._createMiniGameInsertAd();
          }
        } else Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!");
      };
      AdAgentHuaWei.prototype.nativeInserAdDelayCall = function() {
        this._createNativeInsertAd(this._showNativeInsert);
      };
      AdAgentHuaWei.prototype.ShowVideo = function(callback) {
        if (PlatUtils_1.default.IsHuaWei) {
          this._videoCallback = callback;
          var curTime = new Date().getTime();
          var interval = (curTime - this.lastLastShowVideoTime) / 1e3;
          if (interval < 4) {
            Utils_1.utils.showLog("\u89c6\u9891\u5e7f\u544a\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e4\u79d2,\u76f4\u63a5\u8fd4\u56defalse");
            if (this._videoCallback) {
              this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
              this._videoCallback = null;
            }
            return;
          }
          if (this.ServerConfig) {
            this._videoAd || this._initVideoAd();
            if (this._videoAd && this._videoLoaded) {
              this._videoAd.show();
              return;
            }
          }
          Utils_1.utils.showLog("\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
          this._videoAd.load();
          if (this._videoCallback) {
            this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
            this._videoCallback = null;
          }
        }
      };
      AdAgentHuaWei.prototype._initVideoAd = function() {
        var _this = this;
        if (!this._videoAd) if (Utils_1.utils.config.huaweiConfig.videoId) {
          Utils_1.utils.showLog("\u89c6\u9891\u5e7f\u544a\u521d\u59cb\u5316\uff1aID=" + Utils_1.utils.config.huaweiConfig.videoId);
          this._videoAd = this.huawei.createRewardedVideoAd({
            adUnitId: Utils_1.utils.config.huaweiConfig.videoId,
            success: function(code) {
              console.log("ad demo : loadAndShowVideoAd createRewardedVideoAd: success");
            },
            fail: function(data, code) {
              console.log("ad demo : loadAndShowVideoAd createRewardedVideoAd fail: " + data + "," + code);
            },
            complete: function() {
              console.log("ad demo : loadAndShowVideoAd createRewardedVideoAd complete");
            }
          });
          var self_1 = this;
          if (this._videoAd) {
            Utils_1.utils.showLog("\u521d\u59cb\u5316\u6ce8\u518c\u89c6\u9891\u56de\u8c03!");
            this._videoAd.onLoad(function() {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f");
              self_1._videoLoaded = true;
            });
            this._videoAd.onError(function(err) {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u51fa\u9519: " + err.code + err.msg);
              self_1._videoLoaded = false;
              if (self_1._videoCallback) {
                self_1._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
                self_1._videoCallback = null;
              }
            });
            this._videoAd.onClose(function(res) {
              setTimeout(function() {
                self_1._videoAd.load();
                Utils_1.utils.showLog("\u5ef6\u8fdf3\u79d2\u91cd\u65b0\u52a0\u8f7d\u89c6\u9891\u5e7f\u544a");
              }, 3e3);
              if (res.isEnded) {
                _this.lastLastShowVideoTime = new Date().getTime();
                Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1");
                if (self_1._videoCallback) {
                  self_1._videoCallback(true, "");
                  self_1._videoCallback = null;
                }
              } else {
                Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1");
                if (self_1._videoCallback) {
                  self_1._videoCallback(false, "\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!");
                  self_1._videoCallback = null;
                }
              }
            });
            this._videoAd.load();
          }
        } else Utils_1.utils.showLog("\u89c6\u9891\u5e7f\u544aId\u914d\u7f6e\u9519\u8bef!");
      };
      AdAgentHuaWei.prototype.checkInsertAdShow = function() {
        var maxShowCount = this.ServerConfig.intersititial_max_show_count;
        var intervalTime = this.ServerConfig.intersititial_interval_time;
        var curTime = new Date().getTime();
        var interval = (curTime - this._insertLastShowTime) / 1e3;
        Utils_1.utils.showLog("Huawei\u670d\u52a1\u5668\u63d2\u5c4f\u6700\u5927\u663e\u793a\u6b21\u6570\u4e3a\uff1a" + maxShowCount + ",\u95f4\u9694\u663e\u793a\u65f6\u95f4\u4e3a\uff1a" + intervalTime + "\u79d2\uff01");
        if (intervalTime > 0 && interval < intervalTime) {
          Utils_1.utils.showLog("Huawei\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u7684\u95f4\u9694\u5c11\u4e8e" + intervalTime + "\u79d2\u3002\u63d2\u5c4f\u4e0d\u663e\u793a");
          return false;
        }
        return true;
      };
      AdAgentHuaWei.prototype._initInsertAd = function() {
        var _this = this;
        if (!this._insertAd) if (Utils_1.utils.config.huaweiConfig && Utils_1.utils.config.huaweiConfig.insertId) {
          this._insertAd = qg.createInterstitialAd({
            adUnitId: Utils_1.utils.config.huaweiConfig.insertId
          });
          Utils_1.utils.showLog("\u5c0f\u6e38\u620f\u63d2\u5c4fID\uff1a", Utils_1.utils.config.huaweiConfig.insertId);
          if (this._insertAd) {
            Utils_1.utils.showLog("\u6ce8\u518c\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u56de\u8c03\uff01");
            this._insertAd.onError(function(err) {
              Utils_1.utils.showLog("\u534e\u4e3a \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u51fa\u9519:" + JSON.stringify(err));
              if (_this._canInsertShow) {
                if (_this.ServerConfig.intersititial_style_level) {
                  if (2 == _this.ServerConfig.intersititial_style_mod[_this.intersititialType - 1]) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u539f\u751f\u63d2\u5c4f\uff01");
                    Utils_1.utils.delayCall(_this.nativeInserAdDelayCall.bind(_this), _this.ServerConfig.intersititia_delay_show_time || 0);
                  } else if (1 == _this.ServerConfig.intersititial_style_mod[_this.intersititialType - 1]) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u539f\u751ficon\uff01");
                    _this.showNativeTryGameWidget();
                  }
                } else if ("default" == _this.ServerConfig.intersititial_first_ad) {
                  _this._isInsertShow = false;
                  Utils_1.utils.showLog("\u5f00\u59cb\u663e\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!");
                  _this._curPosIdIndexNativeInser = 0;
                  Utils_1.utils.delayCall(_this.nativeInserAdDelayCall.bind(_this), _this.ServerConfig.intersititia_delay_show_time || 0);
                } else {
                  Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u539f\u751ficon\uff01");
                  _this.showNativeTryGameWidget();
                }
                _this._canInsertShow = false;
              }
              _this._insertAd.destroy();
              _this._insertAd = null;
            }.bind(this));
            this._insertAd.onLoad(function() {
              Utils_1.utils.showLog("Huawei \u5c0f\u7a0b\u5e8f\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f! #_canInsertShow=" + _this._canInsertShow);
              _this._isInsertLoad = true;
              if (_this._canInsertShow) {
                _this._insertLastShowTime = new Date().getTime();
                var closeType = _this.ServerConfig.intersititial_open_close_banner;
                if (closeType && closeType > 0) {
                  Utils_1.utils.showLog("Huawei \u914d\u7f6e\u5f53\u524d\u63d2\u5c4f\u663e\u793a\u6210\u529f\u540e" + (1 == closeType ? "\u9500\u6bc1" : "\u9690\u85cf") + "banner!");
                  _this.HideBanner();
                }
                _this._insertAd.show();
              }
            }.bind(this));
            this._insertAd.onClose(function() {
              Utils_1.utils.showLog("huawei \u5c0f\u7a0b\u5e8f\u63d2\u5c4f\u5e7f\u544a\u5173\u95ed");
              _this._isInsertLoad = false;
              _this._canInsertShow = false;
              _this.ShowBanner();
            }.bind(this));
          }
          if (!this._insertAd) {
            Utils_1.utils.showLog("Huawei\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u521b\u5efa\u5931\u8d25\uff01");
            if (this._canInsertShow) {
              if (this.ServerConfig.intersititial_style_level) {
                if (2 == this.ServerConfig.intersititial_style_mod[this.intersititialType - 1]) {
                  Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u539f\u751f\u63d2\u5c4f\uff01");
                  Utils_1.utils.delayCall(this.nativeInserAdDelayCall.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);
                } else if (1 == this.ServerConfig.intersititial_style_mod[this.intersititialType - 1]) {
                  Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u539f\u751ficon\uff01");
                  this.showNativeTryGameWidget();
                }
              } else if ("default" == this.ServerConfig.intersititial_first_ad) {
                this._isInsertShow = false;
                Utils_1.utils.showLog("\u5f00\u59cb\u663e\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!");
                this._curPosIdIndexNativeInser = 0;
                Utils_1.utils.delayCall(this.nativeInserAdDelayCall.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);
              } else {
                Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u539f\u751ficon\uff01");
                this.showNativeTryGameWidget();
              }
              this._canInsertShow = false;
            }
          }
        } else Utils_1.utils.showLog("Huawei \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u914d\u7f6e\u4fe1\u606f\u9519\u8bef!");
      };
      AdAgentHuaWei.prototype._createMiniGameInsertAd = function() {
        if (PlatUtils_1.default.IsHuaWei) {
          Utils_1.utils.showLog("[\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a]");
          if (this.ServerConfig) {
            this._canInsertShow = true;
            this._insertAd || this._initInsertAd();
            if (this._insertAd) {
              this._insertAd.load();
              return;
            }
          }
        }
      };
      AdAgentHuaWei.prototype._createMiniGameBannerAd = function(location) {
        var _this = this;
        void 0 === location && (location = null);
        this._isBannerShow = true;
        if (!Utils_1.utils.config.huaweiConfig.bannerId) {
          Utils_1.utils.showLog("BannerID \u672a\u6b63\u786e\u914d\u7f6e\uff01");
          return;
        }
        if (!this._bannerAd) {
          var top = Utils_1.utils.Tool_Huawei.SysInfo.safeArea.height - 57;
          Utils_1.utils.showLog("banner  =====#top=" + Utils_1.utils.Tool_Huawei.SysInfo.safeArea.height + " #top=" + top);
          this._bannerAd = this.huawei.createBannerAd({
            adUnitId: Utils_1.utils.config.huaweiConfig.bannerId,
            style: {
              top: top,
              left: 0,
              height: 57,
              width: 360
            }
          });
          Utils_1.utils.showLog("\u6ce8\u518c\u5c0f\u6e38\u620fbanner\u56de\u8c03!" + this._bannerAd + " id=" + Utils_1.utils.config.huaweiConfig.bannerId);
          if (this._bannerAd) {
            this._bannerAd.onError(function(err) {
              Utils_1.utils.showLog("huawei\u5c0f\u6e38\u620fBanner\uff0c\u663e\u793a\u5f02\u5e38\uff1a" + JSON.stringify(err));
              if (_this.ServerConfig.banner_style_level && 2 == _this.ServerConfig.banner_style_mod[_this.bannerType - 1]) {
                Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u9ed8\u8ba4banner");
                _this._createNativeBannerAd(_this._showNativeBanner);
              }
            });
            this._bannerAd.onLoad(function() {
              Utils_1.utils.showLog("huawei\u5c0f\u6e38\u620fBanner\uff0c\u52a0\u8f7d\u6210\u529f");
              _this._nativeBannerNode && (_this._nativeBannerNode.active = false);
            });
          }
        }
        if (this._bannerAd) this._bannerAd.show(); else {
          Utils_1.utils.showLog("huawei \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u521b\u5efa\u5931\u8d25!");
          if (this.ServerConfig.banner_style_level && 2 == this.ServerConfig.banner_style_mod[this.bannerType - 1]) {
            Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u9ed8\u8ba4banner");
            this._createNativeBannerAd(this._showNativeBanner);
          }
        }
      };
      AdAgentHuaWei.prototype._createNativeBannerAd = function(completeCallback) {
        var _this = this;
        if (PlatUtils_1.default.IsHuaWei) {
          var callback_1 = completeCallback;
          Utils_1.utils.showLog("curPosIdIndexNativeBanner:" + this._curPosIdIndexNativeBanner + " #id=" + Utils_1.utils.config.huaweiConfig.nativeBannerIds[this._curPosIdIndexNativeBanner]);
          var nativeBannerAd_1 = this._nativeBannerAd[this._curPosIdIndexNativeBanner];
          if (!nativeBannerAd_1 && Utils_1.utils.config.huaweiConfig.nativeBannerIds && Utils_1.utils.config.huaweiConfig.nativeBannerIds[this._curPosIdIndexNativeBanner]) {
            Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u5e7f\u544aBanner\u3002 posId:" + Utils_1.utils.config.huaweiConfig.nativeBannerIds[this._curPosIdIndexNativeBanner]);
            nativeBannerAd_1 = this.huawei.createNativeAd({
              adUnitId: Utils_1.utils.config.huaweiConfig.nativeBannerIds[this._curPosIdIndexNativeBanner],
              success: function(code) {
                console.log("loadNativeAd loadNativeAd : success");
              },
              fail: function(data, code) {
                console.log("loadNativeAd loadNativeAd fail: " + data + "," + code);
              },
              complete: function() {
                console.log("loadNativeAd loadNativeAd : complete");
              }
            });
            if (nativeBannerAd_1) {
              this._nativeBannerAd.push(nativeBannerAd_1);
              nativeBannerAd_1.onLoad(function(res) {
                if (_this._nativeIsClose) {
                  Utils_1.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");
                  return;
                }
                if (res && res.adList && res.adList.length > 0) {
                  _this._startBannerTimerTask = new Date().getTime();
                  Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01");
                  Utils_1.utils.showLog(JSON.stringify(res));
                  res = JSON.parse(JSON.stringify(res));
                  var data = res.adList[0];
                  if (_this._checkNativeDataValid(data) || "true" == _this.getNativeBannerInfo().show_st_banner) {
                    Utils_1.utils.showLog("\u5f53\u524d\u539f\u751fBanner\u6570\u636e\uff1a" + data);
                    if (_this.canShowNativeBanner) {
                      _this._curPosIdIndexNativeBanner = 0;
                      _this._showNativeBanner(nativeBannerAd_1, data);
                      _this._curNativeBannerInfo.nativeBannerAd = nativeBannerAd_1;
                      _this._curNativeBannerInfo.data = data;
                    } else cc.warn("\u5df2\u7ecf\u9690\u85cfbanner\u4e0d\u53ef\u91cd\u590d\u5c55\u793a");
                    return;
                  }
                }
                Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01");
                _this._curPosIdIndexNativeBanner++;
                if (_this._curPosIdIndexNativeBanner < Utils_1.utils.config.huaweiConfig.nativeBannerIds.length) _this._createNativeBannerAd(callback_1); else {
                  _this._curPosIdIndexNativeBanner = 0;
                  Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                  var bannerInfo = _this.getNativeBannerInfo();
                  if (-1 == bannerInfo.st_banner_show_back_up) {
                    Utils_1.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");
                    return;
                  }
                  if (_this.ServerConfig.banner_first_ad.indexOf("native") > -1) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01");
                    _this._createMiniGameBannerAd();
                  } else if (Utils_1.utils.isShowRecommondGamesBanner()) {
                    clearTimeout(_this._showBannerTimerId);
                    Utils_1.utils.showRecommendGamesBanner();
                    Utils_1.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner");
                    return;
                  }
                }
              });
              nativeBannerAd_1.onError(function(err) {
                if (_this._nativeIsClose) {
                  Utils_1.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");
                  return;
                }
                Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01" + JSON.stringify(err));
                _this._curPosIdIndexNativeBanner++;
                if (_this._curPosIdIndexNativeBanner < Utils_1.utils.config.huaweiConfig.nativeBannerIds.length) _this._createNativeBannerAd(callback_1); else {
                  _this._curPosIdIndexNativeBanner = 0;
                  Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                  var bannerInfo = _this.getNativeBannerInfo();
                  if (-1 == bannerInfo.st_banner_show_back_up) {
                    Utils_1.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");
                    return;
                  }
                  if (_this.ServerConfig.banner_style_level) {
                    if (1 == _this.ServerConfig.banner_style_mod[_this.bannerType - 1]) {
                      Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u9ed8\u8ba4banner");
                      _this._createMiniGameBannerAd();
                    }
                  } else if (_this.ServerConfig.banner_first_ad.indexOf("native") > -1) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01");
                    _this._createMiniGameBannerAd();
                  } else if (Utils_1.utils.isShowRecommondGamesBanner()) {
                    clearTimeout(_this._showBannerTimerId);
                    Utils_1.utils.showRecommendGamesBanner();
                    Utils_1.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner");
                    return;
                  }
                }
              });
            }
          }
          if (nativeBannerAd_1) {
            Utils_1.utils.showLog("nativeBannerAd reLoad>>");
            nativeBannerAd_1.load();
          } else {
            this._curPosIdIndexNativeBanner++;
            if (Utils_1.utils.config.huaweiConfig.nativeBannerIds && this._curPosIdIndexNativeBanner < Utils_1.utils.config.huaweiConfig.nativeBannerIds.length) this._createNativeBannerAd(callback_1); else {
              this._curPosIdIndexNativeBanner = 0;
              Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
              var bannerInfo = this.getNativeBannerInfo();
              if (-1 == bannerInfo.st_banner_show_back_up) {
                Utils_1.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");
                return;
              }
              if (this.ServerConfig.banner_style_level) {
                if (1 == this.ServerConfig.banner_style_mod[this.bannerType - 1]) {
                  Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u9ed8\u8ba4banner");
                  this._createMiniGameBannerAd();
                }
              } else if (this.ServerConfig.banner_first_ad.indexOf("native") > -1) {
                Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01");
                this._createMiniGameBannerAd();
              } else if (Utils_1.utils.isShowRecommondGamesBanner()) {
                clearTimeout(this._showBannerTimerId);
                Utils_1.utils.showRecommendGamesBanner();
                Utils_1.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner");
                return;
              }
            }
          }
        }
      };
      AdAgentHuaWei.prototype._createNativeInsertAd = function(completeCallback) {
        var _this = this;
        if (PlatUtils_1.default.IsHuaWei) {
          var callback_2 = completeCallback;
          Utils_1.utils.showLog("curPosIdIndexNativeInsert:" + this._curPosIdIndexNativeInser);
          var nativeInsertAd_1 = this._nativeInsertAd[this._curPosIdIndexNativeInser];
          if (!nativeInsertAd_1 && Utils_1.utils.config.huaweiConfig.nativeInsertIds && Utils_1.utils.config.huaweiConfig.nativeInsertIds[this._curPosIdIndexNativeInser]) {
            Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u3002 posId:" + Utils_1.utils.config.huaweiConfig.nativeInsertIds[this._curPosIdIndexNativeInser]);
            nativeInsertAd_1 = qg.createNativeAd({
              adUnitId: Utils_1.utils.config.huaweiConfig.nativeInsertIds[this._curPosIdIndexNativeInser]
            });
            if (nativeInsertAd_1) {
              this._nativeInsertAd.push(nativeInsertAd_1);
              nativeInsertAd_1.onLoad(function(res) {
                if (res && res.adList && res.adList.length > 0) {
                  Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01");
                  Utils_1.utils.showLog(JSON.stringify(res));
                  res = JSON.parse(JSON.stringify(res));
                  var data = res.adList[0];
                  if (_this._checkNativeInsertDataValid(data)) {
                    _this._curPosIdIndexNativeInser = 0;
                    _this._showNativeInsert(nativeInsertAd_1, data);
                    return;
                  }
                  Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u4e0d\u5408\u6cd5\uff01");
                }
                Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01");
                _this._curPosIdIndexNativeInser++;
                if (_this._curPosIdIndexNativeInser < Utils_1.utils.config.huaweiConfig.nativeInsertIds.length) _this._createNativeInsertAd(callback_2); else {
                  _this._curPosIdIndexNativeInser = 0;
                  Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                  if ("native" == _this.ServerConfig.intersititial_first_ad) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
                    _this._createMiniGameInsertAd();
                  }
                }
              });
              nativeInsertAd_1.onError(function(err) {
                Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01" + err.code + err.msg);
                _this._curPosIdIndexNativeInser++;
                if (_this._curPosIdIndexNativeInser < Utils_1.utils.config.huaweiConfig.nativeInsertIds.length) _this._createNativeInsertAd(callback_2); else {
                  _this._curPosIdIndexNativeInser = 0;
                  Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                  if (_this.ServerConfig.intersititial_style_level) if (2 != _this.ServerConfig.intersititial_style_mod[_this.intersititialType - 1]) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u9ed8\u8ba4\u63d2\u5c4f\uff01");
                    _this._createMiniGameInsertAd();
                  } else _this.showNativeTryGameWidget(); else if ("native" == _this.ServerConfig.intersititial_first_ad) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
                    _this._createMiniGameInsertAd();
                  } else _this.showNativeTryGameWidget();
                }
              });
            }
          }
          if (nativeInsertAd_1) nativeInsertAd_1.load(); else {
            this._curPosIdIndexNativeInser++;
            if (Utils_1.utils.config.huaweiConfig.nativeInsertIds && this._curPosIdIndexNativeInser < Utils_1.utils.config.huaweiConfig.nativeInsertIds.length) this._createNativeInsertAd(callback_2); else {
              this._curPosIdIndexNativeInser = 0;
              Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
              if ("native" == this.ServerConfig.intersititial_first_ad) {
                Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
                this._createMiniGameInsertAd();
              }
            }
          }
        }
      };
      AdAgentHuaWei.prototype.getNativeAdData = function() {
        this._nativeAdObject || (this._nativeAdObject = new YZ_NativeAdObject_1.default());
        this._nativeAdObject._nativeObj = this._nativeAd;
        this._nativeAdObject.data = this._nativeData;
        if (this._nativeData && this._nativeAd) {
          this._nativeData = null;
          return this._nativeAdObject;
        }
        return null;
      };
      AdAgentHuaWei.prototype._showNativeBanner = function(nativeBannerAd, data) {
        if (PlatUtils_1.default.IsHuaWei && data) {
          Utils_1.utils.showLog("\u663e\u793a\u539f\u751fbanner");
          this._bannerAd && this._bannerAd.hide();
          if (!cc.isValid(this._nativeBannerNode) || !this._nativeBannerNode && Utils_1.utils.config.otherconfig.nativeBanner) {
            this._nativeBannerNode = cc.instantiate(Utils_1.utils.config.otherconfig.nativeBanner);
            this._nativeBannerNode.position = CompatibleTool_1.default.position(cc.winSize.width / 2, this._nativeBannerNode.height * this._nativeBannerNode.scaleY / 2);
            cc.director.getScene().addChild(this._nativeBannerNode, 1e3);
          }
          if (this._nativeBannerNode) {
            this._nativeBannerNode.active = true;
            var nativeBanner = this._nativeBannerNode.getComponent("YZ_NativeBanner");
            nativeBanner ? nativeBanner.init(nativeBannerAd, data, this.getNativeBannerInfo()) : Utils_1.utils.showLog("NativeBanner\u7ec4\u4ef6\u4e0d\u5b58\u5728!");
            this._showBannerCallBack && this._showBannerCallBack();
            this._showBannerCallBack = null;
          } else Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544abanner\u4f4d\u6ca1\u6709\u521b\u5efa\uff01");
        }
      };
      AdAgentHuaWei.prototype._showNativeInsert = function(nativeInsertAd, data) {
        if (PlatUtils_1.default.IsHuaWei && data) {
          if (!cc.isValid(this._nativeInsertNode) || !this._nativeInsertNode && Utils_1.utils.config.otherconfig.nativeInsert) {
            Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u4f4d");
            this._nativeInsertNode = cc.instantiate(Utils_1.utils.config.otherconfig.nativeInsert);
            this._nativeInsertNode.position = CompatibleTool_1.default.position(cc.winSize.width / 2, cc.winSize.height / 2);
            cc.director.getScene().addChild(this._nativeInsertNode, 999999);
          }
          if (this._nativeInsertNode) {
            var nativeInsert = this._nativeInsertNode.getComponent("YZ_NativeInsert");
            if (nativeInsert) {
              this._nativeInsertAdShowCount = 0;
              nativeInsert.init(nativeInsertAd, data);
              this._insertLastShowTime = new Date().getTime();
              var closeType = this.ServerConfig.intersititial_open_close_banner;
              if (closeType && closeType > 0) {
                Utils_1.utils.showLog("Huawei \u914d\u7f6e\u5f53\u524d\u63d2\u5c4f\u663e\u793a\u6210\u529f\u540e" + (1 == closeType ? "\u9500\u6bc1" : "\u9690\u85cf") + "banner!");
                this.HideBanner();
              }
            } else Utils_1.utils.showLog("NativeInsert\u7ec4\u4ef6\u4e0d\u5b58\u5728!");
          } else Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u63d2\u5c4f\u4f4d\u6ca1\u6709\u521b\u5efa\uff01");
        }
      };
      AdAgentHuaWei.prototype.ShowCloseBtnBanner = function(location, args) {
        var _this = this;
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        Utils_1.utils.showLog("ShowCloseBtnBanner >>>>>>>>>.");
        var isMoveBtn = 0;
        var fadeInTime = 0;
        var btn = args.closeBtn;
        var winHeight = cc.winSize.height;
        btn.opacity = 0;
        if (this.ServerConfig) {
          this.ServerConfig.is_move_btn && (isMoveBtn = this.ServerConfig.is_move_btn);
          this.ServerConfig.close_btn_fade_in_time && (fadeInTime = this.ServerConfig.close_btn_fade_in_time);
          Utils_1.utils.showLog(0 == isMoveBtn ? "\u663e\u793abanner,\u4e14\u6309\u94ae\u5728\u4e0a\u9762" : "\u663e\u793aBanner,\u6309\u94ae\u5c45\u5e95\u90e8\u4e14" + isMoveBtn + "\u6beb\u79d2\u540e\u79fb\u52a8");
          setTimeout(function() {
            Utils_1.utils.showLog("\u5ef6\u8fdf\u8c03\u7528\u5173\u95ed\u6309\u94ae\u7684Banner >>>>");
            _this.ShowBanner(location, args);
            var adY = 240;
            Utils_1.utils.showLog("utils - adY:" + adY);
            if (adY > 0 && btn) {
              btn.y = -(winHeight / 2 - adY) + btn.height;
              Utils_1.utils.showLog("btnClose.y" + btn.y);
            }
          }, isMoveBtn);
          setTimeout(function() {
            btn.runAction(cc.fadeIn(.3));
          }, 1e3 * fadeInTime);
        }
      };
      AdAgentHuaWei.prototype._checkNativeInsertDataValid = function(data) {
        if (!data) return false;
        return data.title && (data.iconUrlList && data.iconUrlList.length > 0 || data.imgUrlList && data.imgUrlList.length > 0);
      };
      AdAgentHuaWei.prototype._checkNativeDataValid = function(data) {
        Utils_1.utils.showLog("checkNativeDataValid");
        if (!data) return false;
        if (data.imgUrlList && data.imgUrlList.length > 0) return true;
        if (data.title && data.desc && data.clickBtnTxt && data.iconUrlList && data.iconUrlList.length > 0) return true;
        return false;
      };
      AdAgentHuaWei.prototype.checkRewardInsertIsShow = function() {};
      AdAgentHuaWei.prototype.showRewardInsert = function() {
        Utils_1.utils.showLog("show reward");
      };
      AdAgentHuaWei.prototype.hideRewardInsert = function() {
        if (this._rewardInsertNode) {
          var rewardInsert = this._rewardInsertNode.getComponent("RewardInsert");
          if (rewardInsert) {
            rewardInsert.hide();
            Utils_1.utils.showLog("\u9690\u85cf\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\uff01");
          } else Utils_1.utils.showLog("RewardInsert\u7ec4\u4ef6\u4e0d\u5b58\u5728!");
        } else Utils_1.utils.showLog("\u6fc0\u52b1\u63d2\u5c4f\u6ca1\u6709\u521b\u5efa\uff01");
      };
      AdAgentHuaWei.prototype.checkIsShowStatementAd = function() {
        if (Utils_1.utils.isSupportnavigateToMiniGame() && this.ServerConfig) return true;
        Utils_1.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        return false;
      };
      AdAgentHuaWei.prototype.ShowStatementRecomment = function(showNativeAd) {
        void 0 === showNativeAd && (showNativeAd = true);
        if (this.checkIsShowStatementAd()) {
          if (showNativeAd) {
            if (Utils_1.utils.config.otherconfig.statementRecomment) {
              var node = cc.instantiate(Utils_1.utils.config.otherconfig.statementRecomment);
              var statementRecomment = node.getComponent("YZ_StatementRecommentAd");
              statementRecomment.showNativeAd = showNativeAd;
              Utils_1.utils.showLog("\u663e\u793a\u7ed3\u7b97\u4e92\u63a8\u548c\u539f\u751f\u5e7f\u544a");
              return node;
            }
            Utils_1.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 StatementRecomment, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
            return null;
          }
          if (Utils_1.utils.config.otherconfig.crossWidget6) {
            var node = cc.instantiate(Utils_1.utils.config.otherconfig.crossWidget6);
            Utils_1.utils.showLog("\u53ea\u663e\u793a\u7ed3\u7b97\u4e92\u63a8\u5e7f\u544a");
            return node;
          }
          Utils_1.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 crossWidget6, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
          return null;
        }
        return null;
      };
      AdAgentHuaWei.prototype._showNativeAd = function() {
        this._curNativeItem && this._curNativeItem.init(this.getNativeAdData());
      };
      AdAgentHuaWei.prototype.ShowSingleNativeAd = function() {
        if (Utils_1.utils.config.otherconfig.singleNativeAd) {
          var node = cc.instantiate(Utils_1.utils.config.otherconfig.singleNativeAd);
          var nativeItem = node.getComponent("YZ_NativeItem");
          nativeItem.showType = 2;
          this._curNativeItem = nativeItem;
          this.createNativeAd();
          Utils_1.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544a\u521b\u5efa\u6210\u529f\uff01");
          return node;
        }
        Utils_1.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 singleNativeAd, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        return null;
      };
      AdAgentHuaWei.prototype.showStatementAds = function(data) {};
      AdAgentHuaWei.prototype.showFullScreenVideo = function() {};
      AdAgentHuaWei.prototype.GameExit = function() {};
      AdAgentHuaWei.prototype.Share = function() {};
      AdAgentHuaWei = __decorate([ ccclass ], AdAgentHuaWei);
      return AdAgentHuaWei;
    }(AdAgent_1.default);
    exports.default = AdAgentHuaWei;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./CompatibleTool": "CompatibleTool",
    "./NativeTryGamesWidget": "NativeTryGamesWidget",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_NativeAdObject": "YZ_NativeAdObject"
  } ],
  AdAgentIOS: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a8ee4bE81ZIGIvCtS1+v2nz", "AdAgentIOS");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.NativeIosCallBack = void 0;
    var AdAgent_1 = require("./AdAgent");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_JNIMessage = "JNIMessage";
    var ST_VideoCallback = "VideoCallback";
    var AdAgentIOS = function(_super) {
      __extends(AdAgentIOS, _super);
      function AdAgentIOS() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._className = "JNIHelper";
        _this._videoCallback = null;
        _this._showBannerTimerId = 0;
        return _this;
      }
      Object.defineProperty(AdAgentIOS.prototype, "ServerConfig", {
        get: function() {
          return Utils_1.utils.Tool_IOS.ServerConfig;
        },
        enumerable: false,
        configurable: true
      });
      AdAgentIOS.prototype.Init = function() {
        var _this = this;
        PlatUtils_1.default.IsNativeIOS && cc.game.on(ST_JNIMessage, function(event) {
          event.type == ST_VideoCallback && _this._videoCallback && (event.ret ? _this._videoCallback(event.ret) : _this._videoCallback(event.ret, event.message ? event.message : "\u89c6\u9891\u64ad\u653e\u5931\u8d25\uff01"));
        });
      };
      AdAgentIOS.prototype.ShowBanner = function(location, args) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        void 0 === args && (args = null);
        if (PlatUtils_1.default.IsNativeIOS) {
          Utils_1.utils.showLog("AdAgentNative ShowBanner");
          jsb.reflection.callStaticMethod(this._className, "showBanner:", YZ_Constant_1.BannerLocationToString(location));
        }
      };
      AdAgentIOS.prototype.HideBanner = function(location) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        clearInterval(this._showBannerTimerId);
        jsb.reflection.callStaticMethod(this._className, "hideBanner:", YZ_Constant_1.BannerLocationToString(location));
      };
      AdAgentIOS.prototype.ShowInterstitial = function() {
        var _this = this;
        if (PlatUtils_1.default.IsNativeIOS) try {
          var delayShowTime = 1;
          this.ServerConfig && this.ServerConfig.intersititia_delay_show_time && (delayShowTime = this.ServerConfig.intersititia_delay_show_time);
          Utils_1.utils.showLog("AdAgentNative ShowInterstitial \u5ef6\u8fdf", delayShowTime, "\u79d2\u8c03\u7528\uff01");
          Utils_1.utils.delayCall(function() {
            jsb.reflection.callStaticMethod(_this._className, "showInterstitial");
          }, delayShowTime);
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
      };
      AdAgentIOS.prototype.ShowVideo = function(callback) {
        if (PlatUtils_1.default.IsNativeIOS) {
          Utils_1.utils.showLog("AdAgentNative ShowVideo");
          this._videoCallback = callback;
          try {
            jsb.reflection.callStaticMethod(this._className, "showVideo");
          } catch (error) {
            Utils_1.utils.showLog(error);
            callback && callback(false);
          }
        }
      };
      AdAgentIOS.prototype.showFullScreenVideo = function(callback) {
        if (PlatUtils_1.default.IsNativeIOS) {
          Utils_1.utils.showLog("AdAgentNative ShowVideo");
          this._videoCallback = callback;
          try {
            jsb.reflection.callStaticMethod(this._className, "showFullScreenVideo");
          } catch (error) {
            Utils_1.utils.showLog(error);
            callback && callback(false);
          }
        }
      };
      AdAgentIOS = __decorate([ ccclass ], AdAgentIOS);
      return AdAgentIOS;
    }(AdAgent_1.default);
    exports.default = AdAgentIOS;
    var NativeIosCallBack = function() {
      function NativeIosCallBack() {}
      NativeIosCallBack.videoCallBack = function(result, msg) {
        Utils_1.utils.showLog("\u89c6\u9891\u5e7f\u544a\u56de\u8c03\u51fd\u6570 ------\x3e#result=" + result + " #msg=" + msg ? msg : "");
        "1" == result ? cc.game.emit(ST_JNIMessage, {
          type: ST_VideoCallback,
          ret: true
        }) : cc.game.emit(ST_JNIMessage, {
          type: ST_VideoCallback,
          ret: false,
          message: msg
        });
      };
      return NativeIosCallBack;
    }();
    exports.NativeIosCallBack = NativeIosCallBack;
    window["NativeIosCallBack"] = NativeIosCallBack;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  AdAgentKwai: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "767edHy/iZCu5cXzuKSiUzS", "AdAgentKwai");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdAgentKwai = function(_super) {
      __extends(AdAgentKwai, _super);
      function AdAgentKwai() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._sysData = null;
        _this._bannerAd = null;
        _this._videoAd = null;
        _this._videoCallback = null;
        _this._isVideoShow = false;
        _this._isVideoLoaded = false;
        _this.kwaigame = window.kwaigame;
        _this.canShowVideo = false;
        _this._interstitialAd = null;
        return _this;
      }
      AdAgentKwai.prototype.Init = function() {
        var _this = this;
        PlatUtils_1.default.IsKwai && Utils_1.utils.registerServerInitEvent(function() {
          _this._initVideoAd();
        }, this);
      };
      AdAgentKwai.prototype.ShowBanner = function(location, args) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        void 0 === args && (args = null);
        Utils_1.utils.showLog("\u5feb\u624b\u5e73\u53f0\u6ca1\u6709banner\u5e7f\u544a\uff01");
      };
      AdAgentKwai.prototype.showStatementAds = function() {
        var result = {
          type: 0,
          node: null
        };
        var node = null;
        var resType = 0;
        Utils_1.utils.showLog("\u7ed3\u7b97\u5e7f\u544a >> \u663e\u793a\u63d2\u5c4f\u5e7f\u544a+6\u4e2a\u4e92\u63a8");
        this.ShowInterstitial();
        node = Utils_1.utils.showCrossWidget6();
        resType = 1;
        result.type = resType;
        result.node = node;
        return result;
      };
      AdAgentKwai.prototype.HideBanner = function(location) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
      };
      AdAgentKwai.prototype.ShowInterstitial = function(location) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        Utils_1.utils.showLog("\u663e\u793a\u5feb\u624b\u63d2\u5c4f");
        if (Utils_1.utils.config.kwaiConfig.insertId) {
          if (!this._interstitialAd) {
            this._interstitialAd = this.kwaigame.createInterstitialAd({
              adUnitId: Utils_1.utils.config.kwaiConfig.insertId
            });
            this._interstitialAd.onError(function(err) {
              Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u5f02\u5e38\uff1a" + JSON.stringify(err));
            });
            this._interstitialAd.onClose(function(res) {
              Utils_1.utils.showLog("\u7528\u6237\u70b9\u51fb\u4e86\u3010\u5173\u95ed\u5e7f\u544a\u3011\u6309\u94ae");
            });
          }
          this._interstitialAd && this._interstitialAd.show().then(function() {
            return Utils_1.utils.showLog("\u63d2\u5c4f \u5e7f\u544a\u663e\u793a\u6210\u529f\uff01");
          }).catch(function(err) {
            Utils_1.utils.showLog("\u63d2\u5c4f \u5e7f\u544a\u663e\u793a\u5931\u8d25 >>" + JSON.stringify(err));
          });
        } else Utils_1.utils.showLog("\u672a\u914d\u7f6e\u63d2\u5c4f\u5e7f\u544aID");
      };
      AdAgentKwai.prototype.ShowVideo = function(callback) {
        var _this = this;
        if (PlatUtils_1.default.IsKwai) {
          if (this._videoCallback) return;
          this._videoCallback = callback;
          this._isVideoShow = true;
          if (this._videoAd) this._videoAd.show({
            success: function() {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u6210\u529f");
            },
            fail: function(error) {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u5931\u8d25: " + JSON.stringify(error));
              if (_this._videoCallback) {
                _this._videoCallback(false, "\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u5931\u8d25!");
                _this._videoCallback = null;
              }
            }
          }); else {
            this._initVideoAd();
            if (this._videoCallback) {
              this._videoCallback(false, "\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u5931\u8d25!");
              this._videoCallback = null;
            }
          }
        }
      };
      AdAgentKwai.prototype._initVideoAd = function() {
        var _this = this;
        if (!this._videoAd) {
          var param = {};
          param.adUnitId = Utils_1.utils.config.kwaiConfig.videoId;
          this._videoAd = this.kwaigame.createRewardedVideoAd(param);
          if (this._videoAd) {
            Utils_1.utils.showLog("\u6fc0\u52b1\u5e7f\u544a\u7ec4\u4ef6\u83b7\u53d6\u6210\u529f!");
            this._videoAd.onClose(function(result) {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5173\u95ed\u56de\u8c03: " + JSON.stringify(result));
              if (_this._videoCallback) {
                _this._videoCallback(false, "\u89c6\u9891\u64ad\u653e\u5b8c\u6bd5\u624d\u80fd\u591f\u83b7\u53d6\u5956\u52b1!");
                _this._videoCallback = null;
              }
            });
            this._videoAd.onReward(function(result) {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5956\u52b1\u56de\u8c03: " + JSON.stringify(result));
              if (_this._videoCallback) {
                _this._videoCallback(true, "");
                _this._videoCallback = null;
              }
            });
          } else Utils_1.utils.showLog("\u6fc0\u52b1\u5e7f\u544a\u7ec4\u4ef6\u83b7\u53d6\u5931\u8d25");
        }
      };
      AdAgentKwai = __decorate([ ccclass ], AdAgentKwai);
      return AdAgentKwai;
    }(AdAgent_1.default);
    exports.default = AdAgentKwai;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  AdAgentNative: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "85bc0uVF6ZG2rnWXIVvQWwZ", "AdAgentNative");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.NativeCallBack = void 0;
    var AdAgent_1 = require("./AdAgent");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_JNIMessage = "JNIMessage";
    var ST_VideoCallback = "VideoCallback";
    var AdAgentNative = function(_super) {
      __extends(AdAgentNative, _super);
      function AdAgentNative() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._videoCallback = null;
        _this._showBannerTimerId = 0;
        _this._showNativeIconTimerId = 0;
        return _this;
      }
      Object.defineProperty(AdAgentNative.prototype, "_className", {
        get: function() {
          return Utils_1.utils.Tool_Native.jniClassName;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(AdAgentNative.prototype, "ServerConfig", {
        get: function() {
          return Utils_1.utils.Tool_Native.ServerConfig;
        },
        enumerable: false,
        configurable: true
      });
      AdAgentNative.prototype.Init = function() {
        var _this = this;
        PlatUtils_1.default.IsNativeAndroid && cc.game.on(ST_JNIMessage, function(event) {
          if (event.type == ST_VideoCallback && _this._videoCallback) {
            true == event.ret ? _this._videoCallback && _this._videoCallback(true) : _this._videoCallback && _this._videoCallback(false, event.msg);
            _this._videoCallback = null;
          }
        });
      };
      AdAgentNative.prototype.ShowBanner = function(location, args, isTimeRefresh) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        void 0 === args && (args = null);
        void 0 === isTimeRefresh && (isTimeRefresh = false);
        if (PlatUtils_1.default.IsNativeAndroid) {
          Utils_1.utils.showLog("AdAgentNative ShowBanner");
          var interval_1 = 60;
          this.ServerConfig && this.ServerConfig.refresh_ad_time && (interval_1 = this.ServerConfig.refresh_ad_time);
          var jsonObj = {};
          jsonObj.location = location;
          jsonObj.isTimeRefresh = isTimeRefresh ? "true" : "false";
          try {
            Utils_1.utils.showLog("\u8c03\u7528banner Json >>>" + JSON.stringify(jsonObj));
            jsb.reflection.callStaticMethod(this._className, "showBanner", "(Ljava/lang/String;)V", JSON.stringify(jsonObj));
          } catch (error) {
            Utils_1.utils.showLog(error);
          }
          clearInterval(this._showBannerTimerId);
          this._showBannerTimerId = setInterval(function() {
            Utils_1.utils.showLog("\u5b9a\u65f6\u5237\u65b0\u663e\u793aBanner\u5e7f\u544a\uff01location:" + location + "; args:" + JSON.stringify(args) + "; \u95f4\u9694\u65f6\u95f4:" + interval_1);
            this.ShowBanner(location, args, true);
          }.bind(this), 1e3 * interval_1);
        }
      };
      AdAgentNative.prototype.HideBanner = function(location) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        Utils_1.utils.showLog("AdAgentNative HideBanner");
        clearInterval(this._showBannerTimerId);
        jsb.reflection.callStaticMethod(this._className, "hideBanner", "(Ljava/lang/String;)V", location);
      };
      AdAgentNative.prototype.ShowInterstitial = function() {
        var _this = this;
        if (PlatUtils_1.default.IsNativeAndroid) try {
          var delayShowTime = .5;
          this.ServerConfig && this.ServerConfig.intersititia_delay_show_time && (delayShowTime = this.ServerConfig.intersititia_delay_show_time);
          Utils_1.utils.showLog("AdAgentNative ShowInterstitial \u5ef6\u8fdf", delayShowTime, "\u79d2\u8c03\u7528\uff01");
          Utils_1.utils.delayCall(function() {
            jsb.reflection.callStaticMethod(_this._className, "showInterstitial", "()V");
          }, delayShowTime);
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
      };
      AdAgentNative.prototype.showNativeTryGameWidget = function(params) {
        void 0 === params && (params = null);
        if (PlatUtils_1.default.IsNativeAndroid) {
          Utils_1.utils.showLog("AdAgentNative showNativeTryGameWidget=" + this.ServerConfig.show_native_icon_method);
          try {
            var interval_2 = 15;
            if (this.ServerConfig && this.ServerConfig.icon_jump_native) {
              var iv = parseInt(this.ServerConfig.icon_jump_native);
              iv > 3 ? interval_2 = iv : Utils_1.utils.showLog("\u60ac\u6d6eICON\u5fc5\u987b\u5927\u4e8e3\u79d2\uff0c\u5f53\u524d\u9ed8\u8ba4\u4e3a15\u79d2\u5237\u65b0");
            }
            if (this.ServerConfig.show_native_icon_method) {
              var style = {};
              "left" in params && (style.left = params.left);
              "right" in params && (style.right = params.right);
              "top" in params && (style.top = params.top);
              "bottom" in params && (style.bottom = params.bottom);
              "location" in params && (style.location = params.location);
              style.winSizeWidth = cc.winSize.width;
              style.winSizeHeight = cc.winSize.height;
              jsb.reflection.callStaticMethod(Utils_1.utils.Tool_Native.jniClassName, this.ServerConfig.show_native_icon_method, "(Ljava/lang/String;)V", JSON.stringify(style));
            } else {
              var x = 10;
              var y = 250;
              if (params) {
                null != params.top ? y = params.top : null != params.bottom && (y = cc.winSize.height - params.bottom);
                null != params.left ? x = params.left : null != params.right && (x = cc.winSize.width - params.right);
              }
              jsb.reflection.callStaticMethod(Utils_1.utils.Tool_Native.jniClassName, "showFloatIcon", "(II)V", x, y);
            }
            clearInterval(this._showNativeIconTimerId);
            this._showNativeIconTimerId = setInterval(function() {
              Utils_1.utils.showLog("\u5b9a\u65f6\u5237\u65b0\u663e\u793a\u539f\u751f\u60ac\u6d6eICON\u5e7f\u544a\uff01 args:" + params + "; \u95f4\u9694\u65f6\u95f4:" + interval_2);
              this.showNativeTryGameWidget(params);
            }.bind(this), 1e3 * interval_2);
          } catch (error) {
            Utils_1.utils.showLog(error);
          }
        }
      };
      AdAgentNative.prototype.ShowVideo = function(callback) {
        if (PlatUtils_1.default.IsNativeAndroid) {
          Utils_1.utils.showLog("AdAgentNative ShowVideo");
          this._videoCallback = callback;
          try {
            jsb.reflection.callStaticMethod(this._className, "showVideo", "()V");
          } catch (error) {
            Utils_1.utils.showLog(error);
            callback && callback(false);
          }
        }
      };
      AdAgentNative.prototype.showFullScreenVideo = function(callback) {
        if (PlatUtils_1.default.IsNativeAndroid) {
          Utils_1.utils.showLog("AdAgentNative showFullScreenVideo");
          this._videoCallback = callback;
          try {
            jsb.reflection.callStaticMethod(this._className, "showFullScreenVideo", "()V");
          } catch (error) {
            Utils_1.utils.showLog(error);
            callback && callback(false);
          }
        }
      };
      AdAgentNative.prototype.hideNativeTryGameWidget = function() {
        if (PlatUtils_1.default.IsNativeAndroid) {
          clearInterval(this._showNativeIconTimerId);
          jsb.reflection.callStaticMethod(this._className, "hideFloatIcon", "()V");
          return;
        }
      };
      AdAgentNative = __decorate([ ccclass ], AdAgentNative);
      return AdAgentNative;
    }(AdAgent_1.default);
    exports.default = AdAgentNative;
    var NativeCallBack = function() {
      function NativeCallBack() {}
      NativeCallBack.videoCallBack = function(result, msg) {
        console.log("\u89c6\u9891\u5e7f\u544a\u56de\u8c03\u51fd\u6570 ------\x3eresult=", result, " msg=", msg);
        1 == result ? cc.game.emit(ST_JNIMessage, {
          type: ST_VideoCallback,
          ret: true
        }) : cc.game.emit(ST_JNIMessage, {
          type: ST_VideoCallback,
          ret: false,
          msg: msg || "\u6682\u65e0\u89c6\u9891\uff01"
        });
      };
      NativeCallBack.sendEvent = function(eventMsg) {
        Utils_1.utils.showLog("\u4e8b\u4ef6\u4e0a\u62a5\uff1a" + eventMsg);
        Utils_1.utils.SendEvent(eventMsg);
      };
      NativeCallBack.sendEventNew = function(eventName, eventId, eventData) {
        Utils_1.utils.showLog("\u4e8b\u4ef6\u4e0a\u62a5\uff1a" + eventName);
        Utils_1.utils.Tool_Native && Utils_1.utils.Tool_Native.sendEventNew(eventName, eventId, eventData);
      };
      NativeCallBack.reportInsertClick = function() {
        Utils_1.utils.showLog("\u4e0a\u62a5\u63d2\u5c4f\u70b9\u51fb\u65f6\u95f4\uff1a" + Utils_1.utils.overPageInsertAdIsTouch);
        if (Utils_1.utils.overPageInsertAdIsTouch) return;
        Utils_1.utils.overPageInsertAdIsTouch = true;
        var time = (new Date().getTime() - Utils_1.utils.overPageShowTime) / 1e3;
        var json = {};
        json.data = time;
        Utils_1.utils.SendEventNew("\u7ed3\u7b97\u9875\u9762-\u63d2\u5c4f\u70b9\u51fb\u65f6\u95f4", "overPageInsertAdTouch", JSON.stringify(json));
      };
      NativeCallBack.realNameAuth = function(idCard, realName) {
        Utils_1.utils.showLog("realNameAuth>>>> #idCard=" + idCard + " #realName=" + realName);
        Utils_1.utils.Tool_Native.realNameAuth(idCard, realName, function(res, result) {
          Utils_1.utils.showLog("realNameAuth>>>>  #res=" + res + " #result=" + result);
          if (res) if (result) {
            var res_1 = JSON.parse(result);
            switch (res_1.code) {
             case 1:
              Utils_1.utils.showMsg(res_1.msg);
              Utils_1.utils.Tool_Native.realNameAuthResult(result);
              break;

             case 0:
              "0" == res_1.nonage ? Utils_1.utils.setRealNameAuthLocalData("2") : Utils_1.utils.setRealNameAuthLocalData("1");
              Utils_1.utils._isRealNameAuth = true;
              res_1.msg && Utils_1.utils.showMsg(res_1.msg);
              Utils_1.utils.Tool_Native.realNameAuthResult(result);
              Utils_1.utils.scheduleOnce(function() {
                Utils_1.utils.emitRealNameAuthCloseEvent();
              }, .5);
              break;

             case 2:
              Utils_1.utils.setRealNameAuthLocalData("2");
              Utils_1.utils.Tool_Native.realNameAuthResult(result);
            }
          } else {
            var result_1 = {};
            result_1.code = "-1";
            result_1.msg = "\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u63d0\u4ea4\u9a8c\u8bc1\uff01";
            Utils_1.utils.Tool_Native.realNameAuthResult(JSON.stringify(result_1));
            Utils_1.utils.showMsg("\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u63d0\u4ea4\u9a8c\u8bc1\uff01");
          } else {
            Utils_1.utils.showMsg("\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u63d0\u4ea4\u9a8c\u8bc1\uff01");
            var result_2 = {};
            result_2.code = "-1";
            result_2.msg = "\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u63d0\u4ea4\u9a8c\u8bc1\uff01";
            Utils_1.utils.Tool_Native.realNameAuthResult(JSON.stringify(result_2));
          }
        });
      };
      return NativeCallBack;
    }();
    exports.NativeCallBack = NativeCallBack;
    cc["NativeCallBack"] = NativeCallBack;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  AdAgentOPPO: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "61483n9NuBPRaedYYim5L7f", "AdAgentOPPO");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_NativeAdObject_1 = require("./YZ_NativeAdObject");
    var NativeTryGamesWidget_1 = require("./NativeTryGamesWidget");
    var CompatibleTool_1 = require("./CompatibleTool");
    var YouWanAnalytics_1 = require("./YouWanSDK/YouWanAnalytics");
    var EventAdInfo_1 = require("./YouWanSDK/EventAdInfo");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdAgentOPPO = function(_super) {
      __extends(AdAgentOPPO, _super);
      function AdAgentOPPO() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._bannerAd = null;
        _this._insertAd = null;
        _this._videoAd = null;
        _this._nativeBannerAd = [];
        _this._nativeInsertAd = [];
        _this._nativeSingleAd = [];
        _this._nativeAd = null;
        _this._isAdInit = false;
        _this._isBannerShow = false;
        _this._isInsertShow = false;
        _this._curPosIdIndexNativeBanner = 0;
        _this._curPosIdIndexNativeInser = 0;
        _this._curPosIdIndexSingleNative = 0;
        _this._nativeData = null;
        _this._nativeInsertData = null;
        _this._nativeBannerNode = null;
        _this._nativeInsertNode = null;
        _this._videoCallback = null;
        _this._videoLoaded = null;
        _this._miniBannerHeight = 0;
        _this._showBannerCallBack = null;
        _this._nativeAdObject = null;
        _this._insertShowCount = 0;
        _this._insertLastShowTime = 0;
        _this._curNativeItem = null;
        _this._isNativeBannerShow = false;
        _this.lastLastShowVideoTime = 0;
        _this._bannerHideCount = 0;
        _this.canShowNativeBanner = true;
        _this._nativeBannerInfo = null;
        _this.show_ad_by_config = true;
        _this._nativeIsClose = false;
        _this._showBannerTimerId = 0;
        _this._delayShowBannerId = 0;
        _this._curLocation = YZ_Constant_1.BannerLocation.None;
        _this._isTimeRefresh = false;
        _this._startBannerTimerTask = 0;
        _this._showBannerCount = 0;
        _this.tryGameAdArr = [];
        _this._nativeInsertAdShowCount = 0;
        _this.miniInserAdIsCreate = false;
        _this._curNativeBannerInfo = {};
        _this._singleAdCreateTime = 0;
        _this._rewardInsertNode = null;
        _this.signleNativeAd = null;
        _this._nativeTryGameNode = null;
        _this.nativeTemplateBannerAd = null;
        return _this;
      }
      Object.defineProperty(AdAgentOPPO.prototype, "ServerConfig", {
        get: function() {
          if (Utils_1.utils.oppoTool && Utils_1.utils.oppoTool.ServerConfig) return Utils_1.utils.oppoTool.ServerConfig;
          return {};
        },
        enumerable: false,
        configurable: true
      });
      AdAgentOPPO.prototype.getNativeBannerInfo = function() {
        if (this._nativeBannerInfo && this._nativeBannerInfo.location == this._curLocation) return this._nativeBannerInfo;
        return Utils_1.utils.config.oppoconfig.getNativeBannerInfo(this._curLocation);
      };
      AdAgentOPPO.prototype.Init = function() {
        var _this = this;
        PlatUtils_1.default.IsOPPO && Utils_1.utils.oppoTool && Utils_1.utils.oppoTool.isOverMiniVersion("1031") && Utils_1.utils.registerServerInitEvent(function() {
          Utils_1.utils.showLog("OPPO \u5e7f\u544a\u4ee3\u7406\u7ec4\u4ef6\u521d\u59cb\u5316!");
          var self = _this;
          qg.initAdService({
            appId: Utils_1.utils.config.oppoconfig.appID,
            isDebug: true,
            success: function(res) {
              Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620f\u5e7f\u544a\u7ec4\u4ef6\u521d\u59cb\u5316\u6210\u529f!");
              self._isAdInit = true;
              self._initVideoAd();
            },
            fail: function(res) {
              Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620f\u5e7f\u544a\u7ec4\u4ef6\u521d\u59cb\u5316\u5931\u8d25 :" + res.code + res.msg);
            },
            complete: function(res) {}
          });
        }, this);
      };
      AdAgentOPPO.prototype.ShowBanner = function(location, args, isTimeRefresh) {
        var _this = this;
        void 0 === location && (location = null);
        void 0 === args && (args = null);
        void 0 === isTimeRefresh && (isTimeRefresh = false);
        if (PlatUtils_1.default.IsOPPO) {
          if (!this.ServerConfig) {
            Utils_1.utils.showLog("\u672a\u8bf7\u6c42\u5230\u914d\u7f6e\u6587\u4ef6\uff01");
            return;
          }
          this._showBannerCount++;
          var oldLocation = this._curLocation;
          this._curLocation = location;
          this._isTimeRefresh = isTimeRefresh;
          oldLocation != location && this.HideBanner(location);
          var curTime = new Date().getTime();
          var refresh_ad_time = (curTime - this._startBannerTimerTask) / 1e3;
          var interval_1 = this.ServerConfig.refresh_ad_time;
          args && args.isRefresh ? isTimeRefresh = true : interval_1 && interval_1 > 0 && refresh_ad_time > interval_1 && (isTimeRefresh = true);
          YouWanAnalytics_1.default.EventAd(EventAdInfo_1.YwAdType.BANNER, EventAdInfo_1.YwAdStatus.AD_ID_REQUEST);
          if (-1 == this.getNativeBannerInfo().is_show_banner) {
            Utils_1.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u914d\u7f6e\u4e3a\u4e0d\u5c55\u793abanner!");
            this.HideBanner(location);
            return;
          }
          if (this.getNativeBannerInfo().is_show_rec > -1) {
            this.HideBanner(location);
            Utils_1.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u663e\u793a\u4e92\u63a8banner");
            if (Utils_1.utils.oppoTool.canShowRecommend()) {
              Utils_1.utils.oppoTool.showOppoRecBanner();
              return;
            }
            Utils_1.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u4e92\u63a8banner");
          } else if (!isTimeRefresh && !this.show_ad_by_config && this.ServerConfig.nbclr && "true" == this.ServerConfig.nbclr && this._curNativeBannerInfo.nativeBannerAd) {
            Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5b9a\u65f6\u5668\u5237\u65b0\u6570\u636e ");
            Utils_1.utils.showLog("\u539f\u751fbanner\u5ef6\u8fdf\u663e\u793a" + this.getNativeBannerInfo().delay_show_time + "\u79d2");
            clearTimeout(this._showBannerTimerId);
            clearTimeout(this._delayShowBannerId);
            this._delayShowBannerId = setTimeout(function() {
              _this._showNativeBanner(_this._curNativeBannerInfo.nativeBannerAd, _this._curNativeBannerInfo.data);
            }, 1e3 * this.getNativeBannerInfo().delay_show_time);
            Utils_1.utils.showLog("\u5f00\u542f\u5b9a\u65f6\u5237\u65b0 >>>>>>>>>" + (interval_1 - refresh_ad_time));
            this._showBannerTimerId = setTimeout(function() {
              Utils_1.utils.showLog("\u5b9a\u65f6" + interval_1 + "\u79d2\u8c03\u7528showbanner");
              _this.ShowBanner(_this._curLocation, {}, true);
            }, 1e3 * (interval_1 - refresh_ad_time));
            return;
          }
          this.canShowNativeBanner = true;
          this._nativeIsClose = false;
          clearTimeout(this._showBannerTimerId);
          clearTimeout(this._delayShowBannerId);
          Utils_1.utils.showLog("\u6e05\u7406\u5b9a\u65f6\u5668");
          if (this.ServerConfig) {
            if (interval_1 && interval_1 > 0) {
              Utils_1.utils.showLog("\u5f00\u542f\u5b9a\u65f6\u5237\u65b0 >>>>>>>>>" + interval_1);
              this._showBannerTimerId = setTimeout(function() {
                Utils_1.utils.showLog("\u5b9a\u65f6" + interval_1 + "\u79d2\u8c03\u7528showbanner");
                _this.ShowBanner(_this._curLocation, {}, true);
              }, 1e3 * interval_1);
            }
            if (this.show_ad_by_config) {
              this.ShowBannerByConfigs(0);
              return;
            }
            if (this.ServerConfig.banner_first_ad) if (this.ServerConfig.banner_first_ad.indexOf("native") > -1) {
              Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751fBanner\u5e7f\u544a!" + isTimeRefresh + " <<<<");
              if (this._isTimeRefresh) this._createNativeBannerAd(this._showNativeBanner); else {
                Utils_1.utils.showLog("\u539f\u751fbanner\u5ef6\u8fdf\u663e\u793a" + this.getNativeBannerInfo().delay_show_time + "\u79d2");
                this._delayShowBannerId = setTimeout(function() {
                  _this._createNativeBannerAd(_this._showNativeBanner);
                }, 1e3 * this.getNativeBannerInfo().delay_show_time);
              }
            } else {
              Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620fBanner\u5e7f\u544a!");
              this._createMiniGameBannerAd(location);
            } else Utils_1.utils.showLog("\u914d\u7f6e\u6570\u636e\u4e2d\u6ca1\u6709 banner_first_ad \u5b57\u6bb5\uff0c banner\u5e7f\u544a\u4e0d\u663e\u793a!");
          } else Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!");
        }
      };
      AdAgentOPPO.prototype.hideMiniGameBanner = function() {
        if (this._bannerAd) if (Utils_1.utils.oppoTool.isOverMiniVersion("1050")) {
          Utils_1.utils.showLog("\u9500\u6bc1\u5c0f\u6e38\u620fBanner");
          this._bannerAd.destroy();
          this._bannerAd = null;
        } else {
          Utils_1.utils.showLog("\u5f53\u524d\u5c0f\u6e38\u620f\u5e73\u53f0\u5c0f\u4e8e1051\uff0c\u53ea\u80fd\u9690\u85cf\u5c0f\u6e38\u620fBanner");
          this._bannerAd.hide();
        }
      };
      AdAgentOPPO.prototype.hideNativeBanner = function() {
        if (this._nativeBannerNode) {
          Utils_1.utils.showLog("\u9690\u85cf\u539f\u751fBanner");
          this._nativeBannerNode.active = false;
        }
      };
      AdAgentOPPO.prototype.hideBanner = function(type) {
        switch (type) {
         case "default":
          this.hideNativeBanner();
          Utils_1.utils.hideRecommendGamesBanner();
          this.hideNativeTemplateBannerAd();
          Utils_1.utils.oppoTool && Utils_1.utils.oppoTool._rec_is_banner && Utils_1.utils.oppoTool.hideOppoRecBanner();
          break;

         case "native":
          this.hideMiniGameBanner();
          Utils_1.utils.hideRecommendGamesBanner();
          this.hideNativeTemplateBannerAd();
          Utils_1.utils.oppoTool && Utils_1.utils.oppoTool._rec_is_banner && Utils_1.utils.oppoTool.hideOppoRecBanner();
          break;

         case "template":
          this.hideMiniGameBanner();
          this.hideNativeBanner();
          Utils_1.utils.hideRecommendGamesBanner();
          Utils_1.utils.oppoTool && Utils_1.utils.oppoTool._rec_is_banner && Utils_1.utils.oppoTool.hideOppoRecBanner();
          break;

         case "rec":
          this.hideMiniGameBanner();
          this.hideNativeBanner();
          Utils_1.utils.hideRecommendGamesBanner();
          this.hideNativeTemplateBannerAd();
          break;

         default:
          this.hideMiniGameBanner();
          this.hideNativeBanner();
          Utils_1.utils.hideRecommendGamesBanner();
          this.hideNativeTemplateBannerAd();
          Utils_1.utils.oppoTool && Utils_1.utils.oppoTool._rec_is_banner && Utils_1.utils.oppoTool.hideOppoRecBanner();
        }
      };
      AdAgentOPPO.prototype.HideBanner = function(location) {
        void 0 === location && (location = null);
        if (PlatUtils_1.default.IsOPPO) {
          clearTimeout(this._showBannerTimerId);
          clearTimeout(this._delayShowBannerId);
          this._isBannerShow = false;
          this._nativeIsClose = true;
          this.canShowNativeBanner = false;
          this.hideBanner("");
        }
      };
      AdAgentOPPO.prototype.hideKyxBanner = function() {
        this.hideBanner("rec");
      };
      AdAgentOPPO.prototype.showNativeTryGameWidget = function(params) {
        void 0 === params && (params = null);
        if (PlatUtils_1.default.IsOPPO) {
          Utils_1.utils.showLog("\u663e\u793a\u539f\u751f\u6296\u52a8\u8bd5\u73a9 nativeNeedChange=", Utils_1.utils.nativeNeedChange, "  utils.tryGameDate", Utils_1.utils.tryGameDate, "utils.config.oppoconfig.nativeTryGameIds", Utils_1.utils.config.oppoconfig.nativeTryGameIds);
          if ((Utils_1.utils.nativeNeedChange || !Utils_1.utils.tryGameDate) && Utils_1.utils.config.oppoconfig.nativeTryGameIds) {
            var len = Utils_1.utils.config.oppoconfig.nativeTryGameIds.length;
            Utils_1.utils.showLog("len:" + len);
            var _loop_1 = function(i) {
              if (this_1.tryGameAdArr[i]) this_1.tryGameAdArr[i].load(); else {
                var posId = Utils_1.utils.config.oppoconfig.nativeTryGameIds[i];
                Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u6296\u52a8\u8bd5\u73a9\u5e7f\u544a\uff0c posId:" + posId);
                var tryGameAd_1 = qg.createNativeAd({
                  posId: posId
                });
                if (tryGameAd_1) {
                  tryGameAd_1.onLoad(function(res) {
                    Utils_1.utils.nativeNeedChange = false;
                    if (res && res.adList && res.adList.length > 0) {
                      res = JSON.parse(JSON.stringify(res));
                      var adId_1 = res.adList[0].adId;
                      Utils_1.utils.showLog("adId:" + adId_1);
                      var canAdd_1 = true;
                      Utils_1.utils.tryGameDate.forEach(function(element) {
                        adId_1 == element.date[0].adId && (canAdd_1 = false);
                      });
                      if (canAdd_1) {
                        Utils_1.utils.tryGameDate.push({
                          tryGameAd: tryGameAd_1,
                          date: res.adList
                        });
                        Utils_1.utils._nativeTryGameNode && Utils_1.utils._nativeTryGameNode.getComponent(NativeTryGamesWidget_1.default).init();
                      }
                      Utils_1.utils.showLog("\u539f\u751f\u6296\u52a8\u8bd5\u5b8c\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff0c\u662f\u5426\u53ef\u4ee5\u6dfb\u52a0\u5e7f\u544a" + canAdd_1);
                      Utils_1.utils.showLog(JSON.stringify(res));
                    }
                  });
                  tryGameAd_1.onError(function(err) {
                    Utils_1.utils.showLog("\u539f\u751f\u6296\u52a8\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01" + err.code + err.msg);
                    Utils_1.utils.nativeNeedChange = true;
                  });
                  tryGameAd_1.load();
                  this_1.tryGameAdArr[i] = tryGameAd_1;
                }
              }
            };
            var this_1 = this;
            for (var i = 0; i < len; i++) _loop_1(i);
          }
          this.createNativeTryGameWidget(params);
        }
      };
      AdAgentOPPO.prototype.ShowInterstitialByConfigs = function(index) {
        Utils_1.utils.showLog("ShowInterstitialByConfigs  index=" + index + " #configsLength=" + Utils_1.utils.config.oppoconfig.intersitialAdConfigs.length);
        if (index < Utils_1.utils.config.oppoconfig.intersitialAdConfigs.length) {
          var adInfo = Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index];
          Utils_1.utils.showLog("ShowInterstitialByConfigs adInfo:" + JSON.stringify(adInfo));
          switch (adInfo.type) {
           case "default":
            this._createMiniGameInsertAdByConfig(index);
            break;

           case "native":
            this._createNativeInsertAdByConfig(index);
            break;

           case "template":
            this._createNativeTemplateIntersitialAd(index);
          }
        } else {
          YouWanAnalytics_1.default.EventAd(EventAdInfo_1.YwAdType.INTERSITITIAL, EventAdInfo_1.YwAdStatus.AD_ID_REQUEST_FAIL);
          Utils_1.utils.showLog("\u63d2\u5c4f\u5c55\u793a\u5931\u8d25\uff0c\u6240\u6709\u5e7f\u544a\u7c7b\u578b\u90fd\u672a\u8bf7\u6c42\u5230\u5e7f\u544a\uff01");
        }
      };
      AdAgentOPPO.prototype.ShowBannerByConfigs = function(index) {
        Utils_1.utils.showLog("ShowBannerByConfigs  index=" + index + " #configsLength=" + Utils_1.utils.config.oppoconfig.bannerAdConfigs.length);
        if (index < Utils_1.utils.config.oppoconfig.bannerAdConfigs.length) {
          var adInfo = Utils_1.utils.config.oppoconfig.bannerAdConfigs[index];
          Utils_1.utils.showLog("ShowBannerByConfigs adInfo:" + JSON.stringify(adInfo));
          switch (adInfo.type) {
           case "default":
            this._createMiniGameBannerAdByConfigs(index);
            break;

           case "native":
            this._createNativeBannerAdByConfigs(index);
            break;

           case "template":
            this._createNativeTemplateBannerAd(index);
          }
        } else {
          YouWanAnalytics_1.default.EventAd(EventAdInfo_1.YwAdType.BANNER, EventAdInfo_1.YwAdStatus.AD_ID_REQUEST_FAIL);
          Utils_1.utils.showLog("Banner\u5c55\u793a\u5931\u8d25\uff0c\u6240\u6709\u5e7f\u544a\u7c7b\u578b\u90fd\u672a\u8bf7\u6c42\u5230\u5e7f\u544a\uff01");
        }
      };
      AdAgentOPPO.prototype.ShowInterstitial = function(location) {
        void 0 === location && (location = null);
        if (PlatUtils_1.default.IsOPPO) if (this.ServerConfig) {
          if (!this.checkInsertAdShow()) return;
          YouWanAnalytics_1.default.EventAd(EventAdInfo_1.YwAdType.INTERSITITIAL, EventAdInfo_1.YwAdStatus.AD_ID_REQUEST);
          if (this.show_ad_by_config) {
            this.ShowInterstitialByConfigs(0);
            return;
          }
          if (location && location == YZ_Constant_1.BannerLocation.Pause) if ("native" == this.ServerConfig.intersititial_first_ad) {
            Utils_1.utils.showLog("\u6682\u505c\u754c\u9762\u4e0d\u5ef6\u65f6\u5c55\u793a\uff01");
            Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!");
            this.nativeInserAdDelayCall();
          } else {
            Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
            this._createMiniGameInsertAd();
          } else if ("native" == this.ServerConfig.intersititial_first_ad) {
            Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!");
            Utils_1.utils.delayCall(this.nativeInserAdDelayCall.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);
          } else {
            Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
            this._createMiniGameInsertAd();
          }
        } else Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!");
      };
      AdAgentOPPO.prototype.nativeInserAdDelayCall = function() {
        Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a: \u5f53\u524d\u70b9\u51fb\u6b21\u6570=" + Utils_1.utils.oppoTool.NativeInsertAdClickTimes + "; \u70b9\u51fb\u6b21\u6570\u9650\u5236=" + this.ServerConfig.intersititia_click_count + "; \u5c55\u793a\u6b21\u6570\u95f4\u9694=" + this.ServerConfig.intersititia_show_interval + "; \u5c55\u793a\u7d2f\u8ba1=" + this._nativeInsertAdShowCount);
        Utils_1.utils.oppoTool.NativeInsertAdClickTimes >= (this.ServerConfig.intersititia_click_count || 0) ? this._nativeInsertAdShowCount >= (this.ServerConfig.intersititia_show_interval || 0) ? this._createNativeInsertAd(this._showNativeInsert) : this._nativeInsertAdShowCount++ : this._createNativeInsertAd(this._showNativeInsert);
      };
      AdAgentOPPO.prototype.ShowVideo = function(callback) {
        if (PlatUtils_1.default.IsOPPO) {
          this._videoCallback = callback;
          var curTime = new Date().getTime();
          var interval = (curTime - this.lastLastShowVideoTime) / 1e3;
          if (interval < 4) {
            Utils_1.utils.showLog("\u89c6\u9891\u5e7f\u544a\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e4\u79d2,\u76f4\u63a5\u8fd4\u56defalse");
            if (this._videoCallback) {
              this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
              this._videoCallback = null;
            }
            return;
          }
          if (this.ServerConfig) {
            if (this.checkRewardInsertIsShow() && Utils_1.utils.oppoTool && Utils_1.utils.oppoTool.ServerConfig && Utils_1.utils.oppoTool.ServerConfig.reward_first_ad && "video" != Utils_1.utils.oppoTool.ServerConfig.reward_first_ad) {
              Utils_1.utils.showLog("<<<\u670d\u52a1\u5668\u9ed8\u8ba4\u4f18\u5148\u5c55\u793a\u6fc0\u52b1\u63d2\u5c4f>>>");
              this.showRewardInsert();
              return;
            }
            if (Utils_1.utils.oppoTool.isOverMiniVersion("1040")) {
              this._videoAd || this._initVideoAd();
              if (this._videoAd && this._videoLoaded) {
                this._videoAd.show();
                YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.REWARD_VIDEO, EventAdInfo_1.YwAdStatus.SHOW_SUCCESS, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.videoId));
                return;
              }
            }
          }
          Utils_1.utils.showLog("\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
          if (this._videoCallback) {
            this._videoAd.load();
            YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.REWARD_VIDEO, EventAdInfo_1.YwAdStatus.REQUEST, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.videoId));
            this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
            this._videoCallback = null;
          }
        }
      };
      AdAgentOPPO.prototype._initVideoAd = function() {
        var _this = this;
        if (!this._videoAd) if (Utils_1.utils.config.oppoconfig.videoId) {
          this._videoAd = qg.createRewardedVideoAd({
            posId: Utils_1.utils.config.oppoconfig.videoId
          });
          var self_1 = this;
          if (this._videoAd) {
            Utils_1.utils.showLog("\u521d\u59cb\u5316\u6ce8\u518c\u89c6\u9891\u56de\u8c03!");
            this._videoAd.load();
            YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.REWARD_VIDEO, EventAdInfo_1.YwAdStatus.REQUEST, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.videoId));
            this._videoAd.onLoad(function() {
              YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.REWARD_VIDEO, EventAdInfo_1.YwAdStatus.REQUEST_SUCCESS, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.videoId));
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f");
              self_1._videoLoaded = true;
            });
            this._videoAd.onError(function(err) {
              YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.REWARD_VIDEO, EventAdInfo_1.YwAdStatus.REQUEST_FAIL, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.videoId));
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u51fa\u9519: " + err.code + err.msg);
              self_1._videoLoaded = false;
              if (self_1._videoCallback) {
                self_1._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
                self_1._videoCallback = null;
              }
            });
            this._videoAd.onClose(function(res) {
              setTimeout(function() {
                self_1._videoAd.load();
                YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.REWARD_VIDEO, EventAdInfo_1.YwAdStatus.REQUEST, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.videoId));
                Utils_1.utils.showLog("\u5ef6\u8fdf3\u79d2\u91cd\u65b0\u52a0\u8f7d\u89c6\u9891\u5e7f\u544a");
              }, 3e3);
              if (res.isEnded) {
                _this.lastLastShowVideoTime = new Date().getTime();
                Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1");
                if (self_1._videoCallback) {
                  self_1._videoCallback(true, "");
                  self_1._videoCallback = null;
                }
                YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.REWARD_VIDEO, EventAdInfo_1.YwAdStatus.REWARD_SUCCESS, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.videoId));
              } else {
                Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1");
                YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.REWARD_VIDEO, EventAdInfo_1.YwAdStatus.REWARD_FAIL, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.videoId));
                if (self_1._videoCallback) {
                  self_1._videoCallback(false, "\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!");
                  self_1._videoCallback = null;
                }
              }
            });
          }
        } else Utils_1.utils.showLog("\u89c6\u9891\u5e7f\u544aId\u914d\u7f6e\u9519\u8bef!");
      };
      AdAgentOPPO.prototype.checkInsertAdShow = function() {
        var maxShowCount = this.ServerConfig.intersititial_max_show_count;
        var intervalTime = this.ServerConfig.intersititial_interval_time;
        var curTime = new Date().getTime();
        var interval = (curTime - this._insertLastShowTime) / 1e3;
        Utils_1.utils.showLog("OPPO\u670d\u52a1\u5668\u63d2\u5c4f\u6700\u5927\u663e\u793a\u6b21\u6570\u4e3a\uff1a" + maxShowCount + ",\u95f4\u9694\u663e\u793a\u65f6\u95f4\u4e3a\uff1a" + intervalTime + "\u79d2\uff01");
        Utils_1.utils.showLog("OPPO\u63d2\u5c4f\u5f53\u524d\u5e7f\u544a\u663e\u793a\u6b21\u6570\uff1a" + Utils_1.utils.oppoTool.insertAdShowCounts + "\u6b21\uff0c\u95f4\u9694\u65f6\u95f4\uff1a" + interval + "\u79d2\uff01");
        if (maxShowCount > 0 && Utils_1.utils.oppoTool.insertAdShowCounts >= maxShowCount) {
          Utils_1.utils.showLog("OPPO\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u7684\u6b21\u6570\u8fbe\u5230" + maxShowCount + "\u6b21\u3002\u63d2\u5c4f\u4e0d\u663e\u793a");
          return false;
        }
        if (intervalTime > 0 && interval < intervalTime) {
          Utils_1.utils.showLog("OPPO\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u7684\u95f4\u9694\u5c11\u4e8e" + intervalTime + "\u79d2\u3002\u63d2\u5c4f\u4e0d\u663e\u793a");
          return false;
        }
        return true;
      };
      AdAgentOPPO.prototype._createMiniGameInsertAd = function(isUnique) {
        var _this = this;
        void 0 === isUnique && (isUnique = false);
        if (PlatUtils_1.default.IsOPPO) {
          this._isInsertShow = true;
          if (this._isAdInit && Utils_1.utils.config.oppoconfig && Utils_1.utils.config.oppoconfig.insertId) {
            var _insertAd_1 = qg.createInsertAd({
              adUnitId: Utils_1.utils.config.oppoconfig.insertId
            });
            if (_insertAd_1) {
              Utils_1.utils.showLog("\u6ce8\u518c\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u56de\u8c03\uff01");
              var clearCallBack_1 = function() {
                _insertAd_1.offShow();
                _insertAd_1.offError();
                _insertAd_1.offLoad();
              };
              _insertAd_1.onError(function(err) {
                Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u51fa\u9519:" + err.code + err.msg);
                if (_this._isInsertShow && !isUnique && "default" == _this.ServerConfig.intersititial_first_ad) {
                  _this._isInsertShow = false;
                  Utils_1.utils.showLog("\u5f00\u59cb\u663e\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!");
                  _this._curPosIdIndexNativeInser = 0;
                  Utils_1.utils.delayCall(_this.nativeInserAdDelayCall.bind(_this), _this.ServerConfig.intersititia_delay_show_time || 0);
                }
                _insertAd_1.offError();
                clearCallBack_1();
              }.bind(this));
              _insertAd_1.onLoad(function() {
                Utils_1.utils.showLog("OPPO \u5c0f\u7a0b\u5e8f\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f!");
                if (_this._isInsertShow) {
                  _this._isInsertShow = false;
                  _insertAd_1.show();
                  _this._isInsertShow = false;
                  Utils_1.utils.oppoTool.countInserShowCount();
                  _this._insertLastShowTime = new Date().getTime();
                  var closeType = _this.ServerConfig.intersititial_open_close_banner;
                  if (closeType && closeType > 0) {
                    Utils_1.utils.showLog("OPPO \u914d\u7f6e\u5f53\u524d\u63d2\u5c4f\u663e\u793a\u6210\u529f\u540e" + (1 == closeType ? "\u9500\u6bc1" : "\u9690\u85cf") + "banner!");
                    _this.HideBanner();
                  }
                }
              }.bind(this));
              _insertAd_1.onShow(function() {
                Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f\uff01  ");
                clearCallBack_1();
              }.bind(this));
              this.miniInserAdIsCreate ? _insertAd_1.load() : this.miniInserAdIsCreate = true;
            }
            if (!_insertAd_1) {
              Utils_1.utils.showLog("OPPO\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u521b\u5efa\u5931\u8d25\uff01");
              if ("default" == this.ServerConfig.intersititial_first_ad && !isUnique) {
                Utils_1.utils.showLog("\u5f00\u59cb\u663e\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!");
                this._curPosIdIndexNativeInser = 0;
                Utils_1.utils.delayCall(this.nativeInserAdDelayCall.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);
              }
            }
          } else {
            Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u914d\u7f6e\u4fe1\u606f\u9519\u8bef!");
            if ("default" == this.ServerConfig.intersititial_first_ad && !isUnique) {
              Utils_1.utils.showLog("\u5f00\u59cb\u663e\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!");
              this._curPosIdIndexNativeInser = 0;
              Utils_1.utils.delayCall(this.nativeInserAdDelayCall.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);
            }
          }
        }
      };
      AdAgentOPPO.prototype._createMiniGameInsertAdByConfig = function(index) {
        var _this = this;
        if (PlatUtils_1.default.IsOPPO) {
          this._isInsertShow = true;
          Utils_1.utils.showLog("_createMiniGameInsertAdByIndex: index=" + index);
          if (this._isAdInit && Utils_1.utils.config.oppoconfig && index < Utils_1.utils.config.oppoconfig.intersitialAdConfigs.length) {
            var _insertAd_2 = qg.createInsertAd({
              adUnitId: Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].id
            });
            YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.INTERSITITIAL, EventAdInfo_1.YwAdStatus.REQUEST, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].id));
            if (_insertAd_2) {
              Utils_1.utils.showLog("\u6ce8\u518c\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u56de\u8c03\uff01");
              var clearCallBack_2 = function() {
                _insertAd_2.offShow();
                _insertAd_2.offError();
                _insertAd_2.offLoad();
              };
              _insertAd_2.onError(function(err) {
                Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u51fa\u9519:" + err.code + err.msg);
                _this._isInsertShow && _this.ShowInterstitialByConfigs(index + 1);
                YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.INTERSITITIAL, EventAdInfo_1.YwAdStatus.REQUEST_FAIL, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].id, err.code, err.msg));
                _insertAd_2.offError();
                clearCallBack_2();
              }.bind(this));
              _insertAd_2.onLoad(function() {
                Utils_1.utils.showLog("OPPO \u5c0f\u7a0b\u5e8f\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f!");
                YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.INTERSITITIAL, EventAdInfo_1.YwAdStatus.REQUEST_SUCCESS, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].id));
                if (_this._isInsertShow) {
                  _this._isInsertShow = false;
                  _insertAd_2.show();
                  _this._isInsertShow = false;
                  Utils_1.utils.oppoTool.countInserShowCount();
                  _this._insertLastShowTime = new Date().getTime();
                  var closeType = _this.ServerConfig.intersititial_open_close_banner;
                  if (closeType && closeType > 0) {
                    Utils_1.utils.showLog("OPPO \u914d\u7f6e\u5f53\u524d\u63d2\u5c4f\u663e\u793a\u6210\u529f\u540e" + (1 == closeType ? "\u9500\u6bc1" : "\u9690\u85cf") + "banner!");
                    _this.HideBanner();
                  }
                }
              }.bind(this));
              _insertAd_2.onShow(function() {
                Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f\uff01  ");
                YouWanAnalytics_1.default.EventAd(EventAdInfo_1.YwAdType.INTERSITITIAL, EventAdInfo_1.YwAdStatus.AD_ID_REQUEST_SUCCESS);
                YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.INTERSITITIAL, EventAdInfo_1.YwAdStatus.SHOW_SUCCESS, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].id));
                clearCallBack_2();
              }.bind(this));
              this.miniInserAdIsCreate ? _insertAd_2.load() : this.miniInserAdIsCreate = true;
            }
            if (!_insertAd_2) {
              YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.INTERSITITIAL, EventAdInfo_1.YwAdStatus.REQUEST_FAIL, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].id));
              Utils_1.utils.showLog("OPPO\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u521b\u5efa\u5931\u8d25\uff01");
              this.ShowInterstitialByConfigs(index + 1);
            }
          } else Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u914d\u7f6e\u4fe1\u606f\u9519\u8bef!");
        }
      };
      AdAgentOPPO.prototype._createMiniGameBannerAd = function(location) {
        var _this = this;
        void 0 === location && (location = null);
        if (PlatUtils_1.default.IsOPPO) {
          this._isBannerShow = true;
          if (this._isAdInit && Utils_1.utils.config.oppoconfig && Utils_1.utils.config.oppoconfig.bannerId) {
            var style = {
              top: 0
            };
            "top" === this.getNativeBannerInfo()._alignType ? style.top = 0 : style = null;
            if (!this._bannerAd || true) {
              this._bannerAd = qg.createBannerAd({
                posId: Utils_1.utils.config.oppoconfig.bannerId,
                style: style
              });
              if (this._bannerAd) {
                Utils_1.utils.showLog("\u6ce8\u518c\u5c0f\u6e38\u620fbanner\u56de\u8c03!");
                this._bannerAd.onError(function(err) {
                  Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u51fa\u9519: " + err.code + err.msg);
                  var bannerInfo = _this.getNativeBannerInfo();
                  if (-1 == bannerInfo.st_banner_show_back_up) {
                    Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a");
                    return;
                  }
                  if (_this._isBannerShow) {
                    _this._isBannerShow = false;
                    if (_this.ServerConfig.banner_first_ad.indexOf("default") > -1) {
                      _this._curPosIdIndexNativeBanner = 0;
                      _this._createNativeBannerAd(_this._showNativeBanner.bind(_this));
                    } else if (Utils_1.utils.isShowRecommondGamesBanner()) {
                      clearTimeout(_this._showBannerTimerId);
                      Utils_1.utils.showRecommendGamesBanner();
                      Utils_1.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner");
                      return;
                    }
                  }
                }.bind(this));
                this._bannerAd.onShow(function() {
                  Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner\u663e\u793a\u6210\u529f\uff01");
                  _this._nativeBannerNode && (_this._nativeBannerNode.active = false);
                  Utils_1.utils.hideRecommendGamesBanner();
                  _this._showBannerCallBack && _this._showBannerCallBack();
                  _this._showBannerCallBack = null;
                }.bind(this));
                this._bannerAd.onHide(function() {
                  if (this._isNativeBannerShow) {
                    this._isNativeBannerShow = false;
                    Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner \u5e7f\u544a\u9690\u85cf,\u6765\u81ea\u539f\u751f\u7684\u663e\u793a\uff0c\u4e0d\u589e\u52a0\u9690\u85cf\u6b21\u6570\uff0c\u5f53\u524d\u9690\u85cf\u6b21\u6570>" + Utils_1.utils.oppoTool.bannerAdCloseCounts);
                  } else {
                    Utils_1.utils.oppoTool.countBannerCloseCount();
                    Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner \u5e7f\u544a\u9690\u85cf,\u5f53\u524d\u9690\u85cf\u6b21\u6570>" + Utils_1.utils.oppoTool.bannerAdCloseCounts);
                  }
                });
              } else if (this.ServerConfig.banner_first_ad.indexOf("default") > -1) {
                this._curPosIdIndexNativeBanner = 0;
                this._createNativeBannerAd(this._showNativeBanner.bind(this));
              } else if (Utils_1.utils.isShowRecommondGamesBanner()) {
                clearTimeout(this._showBannerTimerId);
                Utils_1.utils.showRecommendGamesBanner();
                Utils_1.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner");
                return;
              }
            }
            if (this._bannerAd) {
              "top" !== this.getNativeBannerInfo()._alignType && (this._bannerAd.style.top = Utils_1.utils.oppoTool.SysInfo.screenHeight);
              this._bannerAd.show();
            } else {
              Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u521b\u5efa\u5931\u8d25!");
              if (this.ServerConfig.indexOf("default") > -1) {
                this._curPosIdIndexNativeBanner = 0;
                this._createNativeBannerAd(this._showNativeBanner.bind(this));
              } else if (Utils_1.utils.isShowRecommondGamesBanner()) {
                clearTimeout(this._showBannerTimerId);
                Utils_1.utils.showRecommendGamesBanner();
                Utils_1.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner");
                return;
              }
            }
          } else {
            Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u914d\u7f6e\u4fe1\u606f\u9519\u8bef!");
            var bannerInfo = this.getNativeBannerInfo();
            if (-1 == bannerInfo.st_banner_show_back_up) {
              Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a");
              return;
            }
            if (this.ServerConfig.banner_first_ad.indexOf("default") > -1) {
              this._curPosIdIndexNativeBanner = 0;
              this._createNativeBannerAd(this._showNativeBanner.bind(this));
            } else if (Utils_1.utils.isShowRecommondGamesBanner()) {
              clearTimeout(this._showBannerTimerId);
              Utils_1.utils.showRecommendGamesBanner();
              Utils_1.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner");
              return;
            }
          }
        }
      };
      AdAgentOPPO.prototype._createMiniGameBannerAdByConfigs = function(index) {
        var _this = this;
        Utils_1.utils.showLog("_createMiniGameBannerAdByConfigs: #index=" + index);
        if (PlatUtils_1.default.IsOPPO) {
          this._isBannerShow = true;
          YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.BANNER, EventAdInfo_1.YwAdStatus.REQUEST, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].id));
          if (this._isAdInit && Utils_1.utils.config.oppoconfig && index < Utils_1.utils.config.oppoconfig.bannerAdConfigs.length) {
            var style = {
              top: 0
            };
            "top" === this.getNativeBannerInfo()._alignType ? style.top = 0 : style = null;
            this._bannerAd = qg.createBannerAd({
              posId: Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].id,
              style: style
            });
            if (this._bannerAd) {
              Utils_1.utils.showLog("\u6ce8\u518c\u5c0f\u6e38\u620fbanner\u56de\u8c03!");
              this._bannerAd.onError(function(err) {
                _this._bannerAd.offError();
                YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.BANNER, EventAdInfo_1.YwAdStatus.REQUEST_FAIL, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].id));
                Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620f Configs Banner\u5e7f\u544a\u51fa\u9519: " + err.code + err.msg);
                var bannerInfo = _this.getNativeBannerInfo();
                if (-1 == bannerInfo.st_banner_show_back_up) {
                  Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a");
                  YouWanAnalytics_1.default.EventAd(EventAdInfo_1.YwAdType.BANNER, EventAdInfo_1.YwAdStatus.AD_ID_REQUEST_FAIL);
                  return;
                }
                if (_this._isBannerShow) {
                  _this._isBannerShow = false;
                  _this.ShowBannerByConfigs(index + 1);
                }
              });
              this._bannerAd.onHide(function() {
                _this._bannerAd.offHide();
                if (_this._isNativeBannerShow) {
                  _this._isNativeBannerShow = false;
                  Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner \u5e7f\u544a\u9690\u85cf,\u6765\u81ea\u539f\u751f\u7684\u663e\u793a\uff0c\u4e0d\u589e\u52a0\u9690\u85cf\u6b21\u6570\uff0c\u5f53\u524d\u9690\u85cf\u6b21\u6570>" + Utils_1.utils.oppoTool.bannerAdCloseCounts);
                } else {
                  Utils_1.utils.oppoTool.countBannerCloseCount();
                  Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner \u5e7f\u544a\u9690\u85cf,\u5f53\u524d\u9690\u85cf\u6b21\u6570>" + Utils_1.utils.oppoTool.bannerAdCloseCounts);
                }
              });
              "top" !== this.getNativeBannerInfo()._alignType && (this._bannerAd.style.top = Utils_1.utils.oppoTool.SysInfo.screenHeight);
              this._bannerAd.show().then(function() {
                _this._bannerAd.offShow();
                Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner\u663e\u793a\u6210\u529f\uff01");
                YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.BANNER, EventAdInfo_1.YwAdStatus.SHOW_SUCCESS, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].id));
                YouWanAnalytics_1.default.EventAd(EventAdInfo_1.YwAdType.BANNER, EventAdInfo_1.YwAdStatus.AD_ID_REQUEST_SUCCESS);
                _this.hideBanner("default");
                _this._showBannerCallBack && _this._showBannerCallBack();
                _this._showBannerCallBack = null;
              });
            } else {
              this.ShowBannerByConfigs(index + 1);
              YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.BANNER, EventAdInfo_1.YwAdStatus.REQUEST_FAIL, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].id));
              YouWanAnalytics_1.default.EventAd(EventAdInfo_1.YwAdType.BANNER, EventAdInfo_1.YwAdStatus.AD_ID_REQUEST_FAIL);
            }
          } else {
            Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u914d\u7f6e\u4fe1\u606f\u9519\u8bef!");
            var bannerInfo = this.getNativeBannerInfo();
            if (-1 == bannerInfo.st_banner_show_back_up) {
              YouWanAnalytics_1.default.EventAd(EventAdInfo_1.YwAdType.BANNER, EventAdInfo_1.YwAdStatus.AD_ID_REQUEST_FAIL);
              Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a");
              return;
            }
            this.ShowBannerByConfigs(index + 1);
          }
        }
      };
      AdAgentOPPO.prototype._createNativeBannerAdByConfigs = function(index) {
        var _this = this;
        if (PlatUtils_1.default.IsOPPO) {
          YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_BANNER, EventAdInfo_1.YwAdStatus.REQUEST, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].id));
          Utils_1.utils.showLog("_createNativeBannerAdByConfigs: #index=" + index);
          if (this._isAdInit && Utils_1.utils.config.oppoconfig && index < Utils_1.utils.config.oppoconfig.bannerAdConfigs.length) {
            var nativeBannerAd_1 = Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].nativeBannerAd;
            if (!nativeBannerAd_1) {
              Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u5e7f\u544aBanner\u3002 posId:" + Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].id);
              nativeBannerAd_1 = qg.createNativeAd({
                posId: Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].id
              });
              if (nativeBannerAd_1) {
                Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].nativeBannerAd = nativeBannerAd_1;
                nativeBannerAd_1.onLoad(function(res) {
                  YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_BANNER, EventAdInfo_1.YwAdStatus.REQUEST_SUCCESS, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].id));
                  if (_this._nativeIsClose) {
                    Utils_1.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");
                    return;
                  }
                  if (res && res.adList && res.adList.length > 0) {
                    _this._startBannerTimerTask = new Date().getTime();
                    Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01");
                    Utils_1.utils.showLog(JSON.stringify(res));
                    res = JSON.parse(JSON.stringify(res));
                    var data = res.adList[0];
                    if (_this._checkNativeDataValid(data) || "true" == _this.getNativeBannerInfo().show_st_banner) {
                      if (_this.canShowNativeBanner) {
                        _this._curPosIdIndexNativeBanner = 0;
                        _this._showNativeBanner(nativeBannerAd_1, data);
                        _this._curNativeBannerInfo.nativeBannerAd = nativeBannerAd_1;
                        _this._curNativeBannerInfo.data = data;
                        _this.hideBanner("native");
                        YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_BANNER, EventAdInfo_1.YwAdStatus.SHOW_SUCCESS, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].id));
                        YouWanAnalytics_1.default.EventAd(EventAdInfo_1.YwAdType.BANNER, EventAdInfo_1.YwAdStatus.AD_ID_REQUEST_SUCCESS);
                      } else Utils_1.utils.showLog("\u5df2\u7ecf\u9690\u85cfbanner\u4e0d\u53ef\u91cd\u590d\u5c55\u793a");
                      return;
                    }
                  }
                  Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01");
                  var bannerInfo = _this.getNativeBannerInfo();
                  if (-1 == bannerInfo.st_banner_show_back_up) {
                    Utils_1.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");
                    YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_BANNER, EventAdInfo_1.YwAdStatus.REQUEST_FAIL, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].id));
                    YouWanAnalytics_1.default.EventAd(EventAdInfo_1.YwAdType.BANNER, EventAdInfo_1.YwAdStatus.AD_ID_REQUEST_FAIL);
                    return;
                  }
                  _this.ShowBannerByConfigs(index + 1);
                });
                nativeBannerAd_1.onError(function(err) {
                  YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_BANNER, EventAdInfo_1.YwAdStatus.REQUEST_FAIL, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].id));
                  if (_this._nativeIsClose) {
                    Utils_1.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");
                    return;
                  }
                  Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01" + err.code + err.msg);
                  var bannerInfo = _this.getNativeBannerInfo();
                  if (-1 == bannerInfo.st_banner_show_back_up) {
                    Utils_1.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");
                    YouWanAnalytics_1.default.EventAd(EventAdInfo_1.YwAdType.BANNER, EventAdInfo_1.YwAdStatus.AD_ID_REQUEST_FAIL);
                    return;
                  }
                  _this.ShowBannerByConfigs(index + 1);
                });
              }
            }
            if (nativeBannerAd_1) {
              Utils_1.utils.showLog("nativeBannerAd reLoad>>");
              nativeBannerAd_1.load();
            } else {
              var bannerInfo = this.getNativeBannerInfo();
              if (-1 == bannerInfo.st_banner_show_back_up) {
                Utils_1.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");
                YouWanAnalytics_1.default.EventAd(EventAdInfo_1.YwAdType.BANNER, EventAdInfo_1.YwAdStatus.AD_ID_REQUEST_FAIL);
                return;
              }
              this.ShowBannerByConfigs(index + 1);
            }
          }
        }
      };
      AdAgentOPPO.prototype._createNativeBannerAd = function(completeCallback) {
        var _this = this;
        if (PlatUtils_1.default.IsOPPO) {
          var callback_1 = completeCallback;
          Utils_1.utils.showLog("curPosIdIndexNativeBanner:" + this._curPosIdIndexNativeBanner);
          var nativeBannerAd_2 = this._nativeBannerAd[this._curPosIdIndexNativeBanner];
          if (!nativeBannerAd_2 && Utils_1.utils.config.oppoconfig.nativeBannerIds && Utils_1.utils.config.oppoconfig.nativeBannerIds[this._curPosIdIndexNativeBanner]) {
            Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u5e7f\u544aBanner\u3002 posId:" + Utils_1.utils.config.oppoconfig.nativeBannerIds[this._curPosIdIndexNativeBanner]);
            nativeBannerAd_2 = qg.createNativeAd({
              posId: Utils_1.utils.config.oppoconfig.nativeBannerIds[this._curPosIdIndexNativeBanner]
            });
            if (nativeBannerAd_2) {
              this._nativeBannerAd.push(nativeBannerAd_2);
              nativeBannerAd_2.onLoad(function(res) {
                if (_this._nativeIsClose) {
                  Utils_1.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");
                  return;
                }
                if (res && res.adList && res.adList.length > 0) {
                  _this._startBannerTimerTask = new Date().getTime();
                  Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01");
                  Utils_1.utils.showLog(JSON.stringify(res));
                  res = JSON.parse(JSON.stringify(res));
                  var data = res.adList[0];
                  if (_this._checkNativeDataValid(data) || "true" == _this.getNativeBannerInfo().show_st_banner) {
                    if (_this.canShowNativeBanner) {
                      _this._curPosIdIndexNativeBanner = 0;
                      _this._showNativeBanner(nativeBannerAd_2, data);
                      _this._curNativeBannerInfo.nativeBannerAd = nativeBannerAd_2;
                      _this._curNativeBannerInfo.data = data;
                      if (_this._bannerAd) {
                        _this._isNativeBannerShow = true;
                        if (Utils_1.utils.oppoTool.isOverMiniVersion("1050")) {
                          Utils_1.utils.showLog("\u9500\u6bc1\u5c0f\u6e38\u620fBanner");
                          _this._bannerAd.destroy();
                          _this._bannerAd = null;
                        } else {
                          Utils_1.utils.showLog("\u5f53\u524d\u5c0f\u6e38\u620f\u5e73\u53f0\u5c0f\u4e8e1051\uff0c\u53ea\u80fd\u9690\u85cf\u5c0f\u6e38\u620fBanner");
                          _this._bannerAd.hide();
                        }
                      }
                      Utils_1.utils.hideRecommendGamesBanner();
                    } else cc.warn("\u5df2\u7ecf\u9690\u85cfbanner\u4e0d\u53ef\u91cd\u590d\u5c55\u793a");
                    return;
                  }
                }
                Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01");
                _this._curPosIdIndexNativeBanner++;
                if (_this._curPosIdIndexNativeBanner < Utils_1.utils.config.oppoconfig.nativeBannerIds.length) _this._createNativeBannerAd(callback_1); else {
                  _this._curPosIdIndexNativeBanner = 0;
                  Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                  var bannerInfo = _this.getNativeBannerInfo();
                  if (-1 == bannerInfo.st_banner_show_back_up) {
                    Utils_1.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");
                    return;
                  }
                  if (_this.ServerConfig.banner_first_ad.indexOf("native") > -1) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01");
                    _this._createMiniGameBannerAd();
                  } else if (Utils_1.utils.isShowRecommondGamesBanner()) {
                    clearTimeout(_this._showBannerTimerId);
                    Utils_1.utils.showRecommendGamesBanner();
                    Utils_1.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner");
                    return;
                  }
                }
              });
              nativeBannerAd_2.onError(function(err) {
                if (_this._nativeIsClose) {
                  Utils_1.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");
                  return;
                }
                Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01" + err.code + err.msg);
                _this._curPosIdIndexNativeBanner++;
                if (_this._curPosIdIndexNativeBanner < Utils_1.utils.config.oppoconfig.nativeBannerIds.length) _this._createNativeBannerAd(callback_1); else {
                  _this._curPosIdIndexNativeBanner = 0;
                  Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                  var bannerInfo = _this.getNativeBannerInfo();
                  if (-1 == bannerInfo.st_banner_show_back_up) {
                    Utils_1.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");
                    return;
                  }
                  if (_this.ServerConfig.banner_first_ad.indexOf("native") > -1) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01");
                    _this._createMiniGameBannerAd();
                  } else if (Utils_1.utils.isShowRecommondGamesBanner()) {
                    clearTimeout(_this._showBannerTimerId);
                    Utils_1.utils.showRecommendGamesBanner();
                    Utils_1.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner");
                    return;
                  }
                }
              });
            }
          }
          if (nativeBannerAd_2) {
            Utils_1.utils.showLog("nativeBannerAd reLoad>>");
            nativeBannerAd_2.load();
          } else {
            this._curPosIdIndexNativeBanner++;
            if (Utils_1.utils.config.oppoconfig.nativeBannerIds && this._curPosIdIndexNativeBanner < Utils_1.utils.config.oppoconfig.nativeBannerIds.length) this._createNativeBannerAd(callback_1); else {
              this._curPosIdIndexNativeBanner = 0;
              Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
              var bannerInfo = this.getNativeBannerInfo();
              if (-1 == bannerInfo.st_banner_show_back_up) {
                Utils_1.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");
                return;
              }
              if (this.ServerConfig.banner_first_ad.indexOf("native") > -1) {
                Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01");
                this._createMiniGameBannerAd();
              } else if (Utils_1.utils.isShowRecommondGamesBanner()) {
                clearTimeout(this._showBannerTimerId);
                Utils_1.utils.showRecommendGamesBanner();
                Utils_1.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner");
                return;
              }
            }
          }
        }
      };
      AdAgentOPPO.prototype._createNativeInsertAd = function(completeCallback) {
        var _this = this;
        if (PlatUtils_1.default.IsOPPO) {
          var callback_2 = completeCallback;
          Utils_1.utils.showLog("curPosIdIndexNativeInsert:" + this._curPosIdIndexNativeInser);
          var nativeInsertAd_1 = this._nativeInsertAd[this._curPosIdIndexNativeInser];
          if (!nativeInsertAd_1 && Utils_1.utils.config.oppoconfig.nativeInsertIds && Utils_1.utils.config.oppoconfig.nativeInsertIds[this._curPosIdIndexNativeInser]) {
            Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u3002 posId:" + Utils_1.utils.config.oppoconfig.nativeInsertIds[this._curPosIdIndexNativeInser]);
            nativeInsertAd_1 = qg.createNativeAd({
              posId: Utils_1.utils.config.oppoconfig.nativeInsertIds[this._curPosIdIndexNativeInser]
            });
            if (nativeInsertAd_1) {
              this._nativeInsertAd.push(nativeInsertAd_1);
              nativeInsertAd_1.onLoad(function(res) {
                if (res && res.adList && res.adList.length > 0) {
                  Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01");
                  Utils_1.utils.showLog(JSON.stringify(res));
                  res = JSON.parse(JSON.stringify(res));
                  var data = res.adList[0];
                  if (_this._checkNativeInsertDataValid(data)) {
                    _this._curPosIdIndexNativeInser = 0;
                    _this._showNativeInsert(nativeInsertAd_1, data);
                    return;
                  }
                  Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u4e0d\u5408\u6cd5\uff01");
                }
                Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01");
                _this._curPosIdIndexNativeInser++;
                if (_this._curPosIdIndexNativeInser < Utils_1.utils.config.oppoconfig.nativeInsertIds.length) _this._createNativeInsertAd(callback_2); else {
                  _this._curPosIdIndexNativeInser = 0;
                  Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                  if ("native" == _this.ServerConfig.intersititial_first_ad) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
                    _this._createMiniGameInsertAd();
                  }
                }
              });
              nativeInsertAd_1.onError(function(err) {
                Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01" + err.code + err.msg);
                _this._curPosIdIndexNativeInser++;
                if (_this._curPosIdIndexNativeInser < Utils_1.utils.config.oppoconfig.nativeInsertIds.length) _this._createNativeInsertAd(callback_2); else {
                  _this._curPosIdIndexNativeInser = 0;
                  Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                  if ("native" == _this.ServerConfig.intersititial_first_ad) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
                    _this._createMiniGameInsertAd();
                  }
                }
              });
            }
          }
          if (nativeInsertAd_1) nativeInsertAd_1.load(); else {
            this._curPosIdIndexNativeInser++;
            if (Utils_1.utils.config.oppoconfig.nativeInsertIds && this._curPosIdIndexNativeInser < Utils_1.utils.config.oppoconfig.nativeInsertIds.length) this._createNativeInsertAd(callback_2); else {
              this._curPosIdIndexNativeInser = 0;
              Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
              if ("native" == this.ServerConfig.intersititial_first_ad) {
                Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
                this._createMiniGameInsertAd();
              }
            }
          }
        }
      };
      AdAgentOPPO.prototype._createNativeInsertAdByConfig = function(index) {
        var _this = this;
        if (PlatUtils_1.default.IsOPPO) {
          Utils_1.utils.showLog("_createNativeInsertAdByConfig: #index=" + index);
          if (this._isAdInit && Utils_1.utils.config.oppoconfig && index < Utils_1.utils.config.oppoconfig.intersitialAdConfigs.length) {
            var nativeInsertAd_2 = Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].nativeInsertAd;
            YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_INTERSITITIAL, EventAdInfo_1.YwAdStatus.REQUEST, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].id));
            if (!nativeInsertAd_2 && Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].id) {
              Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u3002 posId:" + Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].id);
              nativeInsertAd_2 = qg.createNativeAd({
                posId: Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].id
              });
              if (nativeInsertAd_2) {
                Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].nativeInsertAd = nativeInsertAd_2;
                nativeInsertAd_2.onLoad(function(res) {
                  YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_INTERSITITIAL, EventAdInfo_1.YwAdStatus.REQUEST_SUCCESS, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].id));
                  if (res && res.adList && res.adList.length > 0) {
                    Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01");
                    Utils_1.utils.showLog(JSON.stringify(res));
                    res = JSON.parse(JSON.stringify(res));
                    var data = res.adList[0];
                    if (_this._checkNativeInsertDataValid(data)) {
                      YouWanAnalytics_1.default.EventAd(EventAdInfo_1.YwAdType.INTERSITITIAL, EventAdInfo_1.YwAdStatus.AD_ID_REQUEST_SUCCESS);
                      YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_INTERSITITIAL, EventAdInfo_1.YwAdStatus.SHOW_SUCCESS, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].id));
                      _this._showNativeInsert(nativeInsertAd_2, data);
                      return;
                    }
                    Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u4e0d\u5408\u6cd5\uff01");
                    YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_INTERSITITIAL, EventAdInfo_1.YwAdStatus.REQUEST_FAIL, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].id));
                  }
                  Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01");
                  _this.ShowInterstitialByConfigs(index + 1);
                });
                nativeInsertAd_2.onError(function(err) {
                  Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01" + err.code + err.msg);
                  YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_INTERSITITIAL, EventAdInfo_1.YwAdStatus.REQUEST_FAIL, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].id, err.code, err.msg));
                  _this.ShowInterstitialByConfigs(index + 1);
                });
              }
            }
            if (nativeInsertAd_2) nativeInsertAd_2.load(); else {
              YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_INTERSITITIAL, EventAdInfo_1.YwAdStatus.REQUEST_FAIL, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].id));
              Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5931\u8d25\uff1a#index=" + index);
              this.ShowInterstitialByConfigs(index + 1);
            }
          }
        }
      };
      AdAgentOPPO.prototype.getNativeAdData = function() {
        this._nativeAdObject || (this._nativeAdObject = new YZ_NativeAdObject_1.default());
        this._nativeAdObject._nativeObj = this._nativeAd;
        if (this._nativeAdObject.data && this._nativeAdObject.data.adId != this._nativeData.adId) {
          this._nativeAdObject.is_reportClick = false;
          this._nativeAdObject.is_reportShow = false;
        }
        this._nativeAdObject.data = this._nativeData;
        if (this._nativeData && this._nativeAd) {
          Utils_1.utils.showLog("\u83b7\u53d6\u539f\u751f\u6570\u636e >>>", this._nativeData, "...", this._nativeAdObject);
          return this._nativeAdObject;
        }
        return null;
      };
      AdAgentOPPO.prototype.createNativeAd = function(params, nativeItem) {
        var _this = this;
        void 0 === params && (params = null);
        Utils_1.utils.showLog("_createNativeAd >>>>>");
        if (PlatUtils_1.default.IsOPPO) {
          nativeItem && (this._curNativeItem = nativeItem);
          var refreshTime = this.ServerConfig.st_native_ad_refresh_time ? this.ServerConfig.st_native_ad_refresh_time : 0;
          if (this._nativeAdObject && this._nativeAdObject.data && !this._nativeAdObject.is_reportClick && (new Date().getTime() - this._singleAdCreateTime) / 1e3 < refreshTime) {
            Utils_1.utils.showLog("\u5f53\u524d\u539f\u751f\u5e7f\u544a\u7684\u5c55\u793a\u65f6\u95f4" + (new Date().getTime() - this._singleAdCreateTime) / 1e3 + "\u79d2\uff0c\u672a\u8fbe\u5237\u65b0\u65f6\u95f4" + refreshTime + "\u79d2\u9650\u5236\uff0c\u76f4\u63a5\u4f7f\u7528\u4e0a\u4e00\u6b21\u6570\u636e\uff01");
            this._showNativeAd();
            return;
          }
          Utils_1.utils.showLog("_curPosIdIndexSingleNative:" + this._curPosIdIndexSingleNative + "  #this._nativeSingleAd.length" + this._nativeSingleAd.length);
          var nativeSingleAd_1 = this._nativeSingleAd[this._curPosIdIndexSingleNative];
          if (!nativeSingleAd_1 && Utils_1.utils.config.oppoconfig.nativeSingleAdIds && Utils_1.utils.config.oppoconfig.nativeSingleAdIds[this._curPosIdIndexSingleNative]) {
            Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u5e7f\u544a\u3002 posId:" + Utils_1.utils.config.oppoconfig.nativeSingleAdIds[this._curPosIdIndexSingleNative]);
            nativeSingleAd_1 = qg.createNativeAd({
              posId: Utils_1.utils.config.oppoconfig.nativeSingleAdIds[this._curPosIdIndexSingleNative]
            });
            if (nativeSingleAd_1) {
              this._nativeSingleAd.push(nativeSingleAd_1);
              nativeSingleAd_1.onLoad(function(res) {
                if (res && res.adList && res.adList.length > 0) {
                  Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01");
                  Utils_1.utils.showLog(JSON.stringify(res));
                  res = JSON.parse(JSON.stringify(res));
                  var data = res.adList[0];
                  if (_this._checkNativeDataValid(data)) {
                    _this._singleAdCreateTime = new Date().getTime();
                    _this._curPosIdIndexSingleNative = 0;
                    _this._nativeData = data;
                    _this._nativeAd = nativeSingleAd_1;
                    _this._showNativeAd();
                    return;
                  }
                  Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u8d44\u6e90\u4e0d\u5408\u6cd5\uff01");
                }
                Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01");
                _this._curPosIdIndexSingleNative++;
                if (_this._curPosIdIndexSingleNative < Utils_1.utils.config.oppoconfig.nativeSingleAdIds.length) _this.createNativeAd(); else {
                  _this._curPosIdIndexSingleNative = 0;
                  Utils_1.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544aID\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                }
              });
              nativeSingleAd_1.onError(function(err) {
                Utils_1.utils.showLog("\u539f\u751f\u5355\u4e2a\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01" + err.code + err.msg);
                _this._curPosIdIndexSingleNative++;
                if (_this._curPosIdIndexSingleNative < Utils_1.utils.config.oppoconfig.nativeSingleAdIds.length) _this.createNativeAd(); else {
                  _this._curPosIdIndexSingleNative = 0;
                  Utils_1.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544aID\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                }
              });
            }
          }
          if (nativeSingleAd_1) {
            Utils_1.utils.showLog("nativeSingleAd reload");
            nativeSingleAd_1.load();
          } else {
            this._curPosIdIndexSingleNative++;
            if (Utils_1.utils.config.oppoconfig.nativeSingleAdIds && this._curPosIdIndexSingleNative < Utils_1.utils.config.oppoconfig.nativeSingleAdIds.length) this.createNativeAd(); else {
              this._curPosIdIndexSingleNative = 0;
              Utils_1.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544aID \u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
            }
          }
        }
      };
      AdAgentOPPO.prototype._showNativeBanner = function(nativeBannerAd, data) {
        if (PlatUtils_1.default.IsOPPO && data) {
          cc.isValid(this._nativeBannerNode) && this._nativeBannerNode && this._nativeBannerNode.destroy();
          this._nativeBannerNode = cc.instantiate(Utils_1.utils.config.otherconfig.nativeBanner);
          this._nativeBannerNode.position = CompatibleTool_1.default.position(cc.winSize.width / 2, this._nativeBannerNode.height * this._nativeBannerNode.scaleY / 2);
          cc.director.getScene().addChild(this._nativeBannerNode, 1e3);
          if (this._nativeBannerNode) {
            this._nativeBannerNode.active = true;
            var nativeBanner = this._nativeBannerNode.getComponent("YZ_NativeBanner");
            nativeBanner ? nativeBanner.init(nativeBannerAd, data, this.getNativeBannerInfo()) : Utils_1.utils.showLog("NativeBanner\u7ec4\u4ef6\u4e0d\u5b58\u5728!");
            this._showBannerCallBack && this._showBannerCallBack();
            this._showBannerCallBack = null;
          } else Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544abanner\u4f4d\u6ca1\u6709\u521b\u5efa\uff01");
        }
      };
      AdAgentOPPO.prototype._showNativeInsert = function(nativeInsertAd, data) {
        if (PlatUtils_1.default.IsOPPO && data) {
          if (!cc.isValid(this._nativeInsertNode) || !this._nativeInsertNode && Utils_1.utils.config.otherconfig.nativeInsert) {
            Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u4f4d");
            this._nativeInsertNode = cc.instantiate(Utils_1.utils.config.otherconfig.nativeInsert);
            this._nativeInsertNode.position = CompatibleTool_1.default.position(cc.winSize.width / 2, cc.winSize.height / 2);
            cc.director.getScene().addChild(this._nativeInsertNode, 999999);
          }
          if (this._nativeInsertNode) {
            var nativeInsert = this._nativeInsertNode.getComponent("YZ_NativeInsert");
            if (nativeInsert) {
              this._nativeInsertAdShowCount = 0;
              nativeInsert.init(nativeInsertAd, data);
              this._insertLastShowTime = new Date().getTime();
              Utils_1.utils.oppoTool.countInserShowCount();
              Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u663e\u793a\u6210\u529f\uff0c\u5f53\u524d\u663e\u793a\u6b21\u6570=" + Utils_1.utils.oppoTool.insertAdShowCounts);
              var closeType = this.ServerConfig.intersititial_open_close_banner;
              if (closeType && closeType > 0) {
                Utils_1.utils.showLog("OPPO \u914d\u7f6e\u5f53\u524d\u63d2\u5c4f\u663e\u793a\u6210\u529f\u540e" + (1 == closeType ? "\u9500\u6bc1" : "\u9690\u85cf") + "banner!");
                this.HideBanner();
              }
            } else Utils_1.utils.showLog("NativeInsert\u7ec4\u4ef6\u4e0d\u5b58\u5728!");
          } else Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u63d2\u5c4f\u4f4d\u6ca1\u6709\u521b\u5efa\uff01");
        }
      };
      AdAgentOPPO.prototype.HideSingleNativeAd = function(args) {
        this.signleNativeAd && cc.isValid(this.signleNativeAd) && this.signleNativeAd.destroy();
      };
      AdAgentOPPO.prototype.ShowCloseBtnBanner = function(location, args) {
        var _this = this;
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        Utils_1.utils.showLog("ShowCloseBtnBanner >>>>>>>>>.");
        var isMoveBtn = 0;
        var fadeInTime = 0;
        var btn = args.closeBtn;
        var winHeight = cc.winSize.height;
        btn.opacity = 0;
        if (this.ServerConfig) {
          this.ServerConfig.is_move_btn && (isMoveBtn = this.ServerConfig.is_move_btn);
          this.ServerConfig.close_btn_fade_in_time && (fadeInTime = this.ServerConfig.close_btn_fade_in_time);
          Utils_1.utils.showLog(0 == isMoveBtn ? "\u663e\u793abanner,\u4e14\u6309\u94ae\u5728\u4e0a\u9762" : "\u663e\u793aBanner,\u6309\u94ae\u5c45\u5e95\u90e8\u4e14" + isMoveBtn + "\u6beb\u79d2\u540e\u79fb\u52a8");
          setTimeout(function() {
            Utils_1.utils.showLog("\u5ef6\u8fdf\u8c03\u7528\u5173\u95ed\u6309\u94ae\u7684Banner >>>>");
            _this.ShowBanner(location, args);
            var adY = 240;
            Utils_1.utils.showLog("utils - adY:" + adY);
            if (adY > 0 && btn) {
              btn.y = -(winHeight / 2 - adY) + btn.height;
              Utils_1.utils.showLog("btnClose.y" + btn.y);
            }
          }, isMoveBtn);
          setTimeout(function() {
            btn.runAction(cc.fadeIn(.3));
          }, 1e3 * fadeInTime);
        }
      };
      AdAgentOPPO.prototype._checkNativeInsertDataValid = function(data) {
        if (!data) return false;
        return data.title && (data.iconUrlList && data.iconUrlList.length > 0 || data.imgUrlList && data.imgUrlList.length > 0);
      };
      AdAgentOPPO.prototype._checkNativeDataValid = function(data) {
        if (!data) return false;
        return data.imgUrlList && data.imgUrlList.length;
      };
      AdAgentOPPO.prototype.checkRewardInsertIsShow = function() {
        var jumpList = Utils_1.utils.getRecommondGameList();
        if (Utils_1.utils.isSupportnavigateToMiniGame()) {
          if (Utils_1.utils.oppoTool && Utils_1.utils.oppoTool.ServerConfig && Utils_1.utils.oppoTool.ServerConfig.is_reward_intersititia) {
            if ("true" == Utils_1.utils.oppoTool.ServerConfig.is_reward_intersititia && jumpList && jumpList.length > 0) {
              Utils_1.utils.showLog("\u6fc0\u52b1\u63d2\u5c4f\u663e\u793a\u73af\u5883\u9a8c\u8bc1\u901a\u8fc7\uff01");
              return true;
            }
            Utils_1.utils.showLog("is_reward_intersititia \u53c2\u6570\u4e3afalse\uff0c\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
            return false;
          }
          Utils_1.utils.showLog("\u914d\u7f6e\u4e2d\u6ca1\u6709is_reward_intersititia\u53c2\u6570\uff0c\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
          return false;
        }
        Utils_1.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u5c0f\u7a0b\u5e8f\u8df3\u8f6c\uff01");
        return false;
      };
      AdAgentOPPO.prototype.showRewardInsert = function() {
        Utils_1.utils.showLog("show reward");
        var self = this;
        if (!this.checkRewardInsertIsShow()) {
          self._videoCallback && self._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a\uff01");
          Utils_1.utils.adManager.videoCallBack = null;
          return;
        }
        if ((!cc.isValid(this._rewardInsertNode) || !this._rewardInsertNode) && Utils_1.utils.config.otherconfig.rewardInsert) {
          Utils_1.utils.showLog("\u521b\u5efa\u6fc0\u52b1\u63d2\u5c4f\u5e7f\u544a");
          this._rewardInsertNode = cc.instantiate(Utils_1.utils.config.otherconfig.rewardInsert);
          this._rewardInsertNode.position = CompatibleTool_1.default.position(cc.winSize.width / 2, cc.winSize.height / 2);
          cc.director.getScene().addChild(this._rewardInsertNode, 9999);
        }
        if (this._rewardInsertNode) {
          var rewardInsert = this._rewardInsertNode.getComponent("RewardInsert");
          if (rewardInsert) {
            rewardInsert.isShow = false;
            Utils_1.utils.showLog("\u663e\u793a\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\uff01");
          } else Utils_1.utils.showLog("RewardInsert\u7ec4\u4ef6\u4e0d\u5b58\u5728!");
        } else Utils_1.utils.showLog("\u6fc0\u52b1\u63d2\u5c4f\u6ca1\u6709\u521b\u5efa\uff01");
      };
      AdAgentOPPO.prototype.hideRewardInsert = function() {
        if (this._rewardInsertNode) {
          var rewardInsert = this._rewardInsertNode.getComponent("RewardInsert");
          if (rewardInsert) {
            rewardInsert.hide();
            Utils_1.utils.showLog("\u9690\u85cf\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\uff01");
          } else Utils_1.utils.showLog("RewardInsert\u7ec4\u4ef6\u4e0d\u5b58\u5728!");
        } else Utils_1.utils.showLog("\u6fc0\u52b1\u63d2\u5c4f\u6ca1\u6709\u521b\u5efa\uff01");
      };
      AdAgentOPPO.prototype.checkIsShowStatementAd = function() {
        if (Utils_1.utils.isSupportnavigateToMiniGame() && this.ServerConfig) return true;
        Utils_1.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        return false;
      };
      AdAgentOPPO.prototype.ShowStatementRecomment = function(showNativeAd) {
        void 0 === showNativeAd && (showNativeAd = true);
        if (this.checkIsShowStatementAd()) {
          if (showNativeAd) {
            if (Utils_1.utils.config.otherconfig.statementRecomment) {
              var node = cc.instantiate(Utils_1.utils.config.otherconfig.statementRecomment);
              var statementRecomment = node.getComponent("YZ_StatementRecommentAd");
              statementRecomment.showNativeAd = showNativeAd;
              Utils_1.utils.showLog("\u663e\u793a\u7ed3\u7b97\u4e92\u63a8\u548c\u539f\u751f\u5e7f\u544a");
              return node;
            }
            Utils_1.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 StatementRecomment, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
            return null;
          }
          if (Utils_1.utils.config.otherconfig.crossWidget6) {
            var node = cc.instantiate(Utils_1.utils.config.otherconfig.crossWidget6);
            Utils_1.utils.showLog("\u53ea\u663e\u793a\u7ed3\u7b97\u4e92\u63a8\u5e7f\u544a");
            return node;
          }
          Utils_1.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 crossWidget6, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
          return null;
        }
        return null;
      };
      AdAgentOPPO.prototype._showNativeAd = function() {
        this._curNativeItem && cc.isValid(this._curNativeItem.node) && this._curNativeItem.init(this.getNativeAdData());
      };
      AdAgentOPPO.prototype.ShowSingleNativeAd = function(params) {
        if (Utils_1.utils.config.otherconfig.singleNativeAd) {
          this.signleNativeAd && cc.isValid(this.signleNativeAd) && this.signleNativeAd.destroy();
          this.signleNativeAd = cc.instantiate(Utils_1.utils.config.otherconfig.singleNativeAd);
          var nativeItem = this.signleNativeAd.getComponent("YZ_NativeItem");
          nativeItem.showType = 2;
          nativeItem.params = params;
          this._curNativeItem = nativeItem;
          params && params.parent && params.parent.addChild(this.signleNativeAd, cc.macro.MAX_ZINDEX);
          this.createNativeAd();
          Utils_1.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544a\u521b\u5efa\u6210\u529f\uff01");
          return this.signleNativeAd;
        }
        Utils_1.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 singleNativeAd, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        return null;
      };
      AdAgentOPPO.prototype.showStatementAds = function(data) {
        var result = {
          type: 0,
          node: null
        };
        if (this.ServerConfig && this.ServerConfig.statement_type) {
          if (4 === this.ServerConfig.statement_type) {
            result.type = 2;
            result.node = this.ShowSingleNativeAd();
            Utils_1.utils.showLog("\u7ed3\u7b97\u5e7f\u544a >> \u5355\u4e2a\u539f\u751f\u5e7f\u544a>>" + result.node.name);
          } else this.ShowInterstitial();
          return result;
        }
        Utils_1.utils.showLog("\u6ca1\u6709\u914d\u7f6e\u7ed3\u7b97\u5e7f\u544a\uff01");
        return result;
      };
      AdAgentOPPO.prototype.createNativeTryGameWidget = function(params) {
        void 0 === params && (params = null);
        this._nativeTryGameNode && cc.isValid(this._nativeTryGameNode) && this._nativeTryGameNode.destroy();
        var node = cc.instantiate(Utils_1.utils.config.otherconfig.nativeTryGameWidget);
        if (node) {
          this._nativeTryGameNode = node;
          this._nativeTryGameNode.zIndex = 9999;
        }
        node = this._nativeTryGameNode;
        var widget = node.getComponent(cc.Widget);
        if (params) {
          params.group && (node.group = params.group);
          null != params.scale && (node.scale = params.scale);
          if (null != params.top) {
            widget.isAlignTop = true;
            widget.isAlignBottom = false;
            widget.top = params.top;
          } else if (null != params.bottom) {
            widget.isAlignTop = false;
            widget.isAlignBottom = true;
            widget.bottom = params.bottom;
          }
          if (null != params.left) {
            widget.isAlignLeft = true;
            widget.isAlignRight = false;
            widget.left = params.left;
          } else if (null != params.right) {
            widget.isAlignLeft = false;
            widget.isAlignRight = true;
            widget.right = params.right;
          }
          null != params.parent && (node.parent = params.parent);
        }
        widget.updateAlignment();
        node.active = true;
        this._nativeTryGameNode && this._nativeTryGameNode.getComponent(NativeTryGamesWidget_1.default).init();
      };
      AdAgentOPPO.prototype.hideNativeTryGameWidget = function() {
        this._nativeTryGameNode && cc.isValid(this._nativeTryGameNode) && this._nativeTryGameNode.destroy();
      };
      AdAgentOPPO.prototype.canShowNativeTemplateAd = function() {
        return qg.createCustomAd;
      };
      AdAgentOPPO.prototype.getNativeTemplateAdStyle = function(type) {
        var style = {};
        var systemInfo = Utils_1.utils.oppoTool.SysInfo;
        switch (type) {
         case 1:
          style.width = "";
          style.top = "";
          style.left = "";
          break;

         case 2:
          style.width = "";
          style.top = (systemInfo.screenHeight - 400) / 2;
          style.left = "";
        }
        return style;
      };
      AdAgentOPPO.prototype._createNativeTemplateBannerAd = function(index) {
        var _this = this;
        Utils_1.utils.showLog("_createNativeTemplateBannerAd : #index=" + index);
        YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_TEMPLATE_BANNER, EventAdInfo_1.YwAdStatus.REQUEST, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].id));
        if (!this.canShowNativeTemplateAd()) {
          Utils_1.utils.showLog("\u5f53\u524d\u5feb\u5e94\u7528\u7248\u672c\u4e0d\u652f\u6301\u539f\u751f\u6a21\u7248\u5e7f\u544a\uff01");
          return;
        }
        if (index < Utils_1.utils.config.oppoconfig.bannerAdConfigs.length) {
          this.nativeTemplateBannerAd = qg.createCustomAd({
            adUnitId: Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].id,
            style: this.getNativeTemplateAdStyle(1)
          });
          this.nativeTemplateBannerAd.onLoad(function() {
            _this.nativeTemplateBannerAd.offLoad();
            Utils_1.utils.showLog("NativeTemplateBannerAd \u5e7f\u544a\u52a0\u8f7d\u6210\u529f");
            YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_TEMPLATE_BANNER, EventAdInfo_1.YwAdStatus.REQUEST_SUCCESS, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].id));
          });
          this.nativeTemplateBannerAd.onError(function(err) {
            _this.nativeTemplateBannerAd.offError();
            YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_TEMPLATE_BANNER, EventAdInfo_1.YwAdStatus.REQUEST_FAIL, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].id));
            Utils_1.utils.showLog("NativeTemplateBannerAd \u5e7f\u544a\u5f02\u5e38\uff1a#erro=" + JSON.stringify(err));
            if (_this._nativeIsClose) {
              Utils_1.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");
              YouWanAnalytics_1.default.EventAd(EventAdInfo_1.YwAdType.NATIVE_TEMPLATE_BANNER, EventAdInfo_1.YwAdStatus.AD_ID_REQUEST_FAIL);
              return;
            }
            var bannerInfo = _this.getNativeBannerInfo();
            if (-1 == bannerInfo.st_banner_show_back_up) {
              YouWanAnalytics_1.default.EventAd(EventAdInfo_1.YwAdType.NATIVE_TEMPLATE_BANNER, EventAdInfo_1.YwAdStatus.AD_ID_REQUEST_FAIL);
              Utils_1.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");
              return;
            }
            _this.ShowBannerByConfigs(index + 1);
          });
          this.nativeTemplateBannerAd.show().then(function() {
            YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_TEMPLATE_BANNER, EventAdInfo_1.YwAdStatus.SHOW_SUCCESS, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.bannerAdConfigs[index].id));
            YouWanAnalytics_1.default.EventAd(EventAdInfo_1.YwAdType.NATIVE_TEMPLATE_BANNER, EventAdInfo_1.YwAdStatus.AD_ID_REQUEST_SUCCESS);
            _this.nativeTemplateBannerAd.offShow();
            Utils_1.utils.showLog("NativeTemplateBannerAd show success");
            _this.hideBanner("template");
          }).catch(function(error) {
            Utils_1.utils.showLog("NativeTemplateBannerAd show fail with:" + error.errCode + "," + error.errMsg);
          });
        }
      };
      AdAgentOPPO.prototype.hideNativeTemplateBannerAd = function() {
        Utils_1.utils.showLog("hideNativeTemplateBannerAd ");
        this.nativeTemplateBannerAd && this.nativeTemplateBannerAd.destroy();
        this.nativeTemplateBannerAd = null;
      };
      AdAgentOPPO.prototype._createNativeTemplateIntersitialAd = function(index) {
        var _this = this;
        Utils_1.utils.showLog("_createNativeTemplateIntersitialAd : #index=" + index);
        if (!this.canShowNativeTemplateAd()) {
          Utils_1.utils.showLog("\u5f53\u524d\u5feb\u5e94\u7528\u7248\u672c\u4e0d\u652f\u6301\u539f\u751f\u6a21\u7248\u5e7f\u544a\uff01");
          return;
        }
        if (index < Utils_1.utils.config.oppoconfig.intersitialAdConfigs.length) {
          Utils_1.utils.showLog("nativetemplate style=" + this.getNativeTemplateAdStyle(2));
          var customAd = qg.createCustomAd({
            adUnitId: Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].id,
            style: this.getNativeTemplateAdStyle(2)
          });
          customAd.onLoad(function() {
            YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.INTERSITITIAL, EventAdInfo_1.YwAdStatus.REQUEST_SUCCESS, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].id));
            Utils_1.utils.showLog("NativeTemplateIntersitialAd \u5e7f\u544a\u52a0\u8f7d\u6210\u529f");
          });
          customAd.onError(function(err) {
            Utils_1.utils.showLog("NativeTemplateIntersitialAd \u5e7f\u544a\u5f02\u5e38\uff1a" + +JSON.stringify(err));
            _this.ShowInterstitialByConfigs(index + 1);
          });
          customAd.show().then(function() {
            Utils_1.utils.showLog("NativeTemplateIntersitialAd show success");
            _this._insertLastShowTime = new Date().getTime();
            var closeType = _this.ServerConfig.intersititial_open_close_banner;
            if (closeType && closeType > 0) {
              Utils_1.utils.showLog("OPPO \u914d\u7f6e\u5f53\u524d\u63d2\u5c4f\u663e\u793a\u6210\u529f\u540e" + (1 == closeType ? "\u9500\u6bc1" : "\u9690\u85cf") + "banner!");
              _this.HideBanner();
            }
            YouWanAnalytics_1.default.EventAd(EventAdInfo_1.YwAdType.INTERSITITIAL, EventAdInfo_1.YwAdStatus.AD_ID_REQUEST_SUCCESS);
            YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.INTERSITITIAL, EventAdInfo_1.YwAdStatus.SHOW_SUCCESS, new EventAdInfo_1.AdEventParameter(Utils_1.utils.config.oppoconfig.intersitialAdConfigs[index].id));
          }).catch(function(error) {
            Utils_1.utils.showLog("NativeTemplateIntersitialAd show fail with:" + error.errCode + "," + error.errMsg);
          });
        }
      };
      AdAgentOPPO.prototype.GameExit = function() {};
      AdAgentOPPO.prototype.Share = function() {};
      AdAgentOPPO = __decorate([ ccclass ], AdAgentOPPO);
      return AdAgentOPPO;
    }(AdAgent_1.default);
    exports.default = AdAgentOPPO;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./CompatibleTool": "CompatibleTool",
    "./NativeTryGamesWidget": "NativeTryGamesWidget",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_NativeAdObject": "YZ_NativeAdObject",
    "./YouWanSDK/EventAdInfo": "EventAdInfo",
    "./YouWanSDK/YouWanAnalytics": "YouWanAnalytics"
  } ],
  AdAgentQQ: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6cb5aEWJx5EW7q8x7AowbbW", "AdAgentQQ");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdAgentQQ = function(_super) {
      __extends(AdAgentQQ, _super);
      function AdAgentQQ() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._sysData = null;
        _this._curBannerAd = null;
        _this._videoAd = null;
        _this._insertAd = null;
        _this._oldAd = null;
        _this._appBox = null;
        _this._videoCallback = null;
        _this._isVideoLoaded = false;
        _this._isVideoShow = false;
        _this.qq = window.qq;
        _this._bannerShow = false;
        _this._bannerSizePercent = .5;
        _this._bannerBottom = 0;
        _this._oldBannerLocation = YZ_Constant_1.BannerLocation.None;
        _this._curBannerHeight = 240;
        _this._moveBtn = null;
        _this._cur_level = null;
        _this._showBannerTimerId = 0;
        _this._isShow = false;
        _this._blockAd = null;
        return _this;
      }
      AdAgentQQ.prototype.Init = function() {
        var _this = this;
        PlatUtils_1.default.IsQQ && Utils_1.utils.registerServerInitEvent(function() {
          _this._sysData = Utils_1.utils.Tool_QQ.getSystemInfo();
          _this._initVideoAd();
        }, this);
      };
      Object.defineProperty(AdAgentQQ.prototype, "ServerConfig", {
        get: function() {
          return Utils_1.utils.Tool_QQ.ServerConfig;
        },
        enumerable: false,
        configurable: true
      });
      AdAgentQQ.prototype._initVideoAd = function() {
        var _this = this;
        if (!this._videoAd) {
          Utils_1.utils.showLog("\u521d\u59cb\u5316\u89c6\u9891!");
          if (!Utils_1.utils.config.qqconfig.videoId) {
            Utils_1.utils.showLog("\u89c6\u9891ID\u914d\u7f6e\u9519\u8bef!");
            if (this._videoCallback) {
              this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
              this._videoCallback = null;
            }
            return;
          }
          Utils_1.utils.showLog("\u89c6\u9891\u5e7f\u544aID:", Utils_1.utils.config.qqconfig.videoId.trim());
          this._videoAd = this.qq.createRewardedVideoAd({
            adUnitId: Utils_1.utils.config.qqconfig.videoId
          });
          if (this._videoAd) {
            Utils_1.utils.showLog("\u521d\u59cb\u5316\u6ce8\u518c\u89c6\u9891\u56de\u8c03!");
            this._videoAd.onLoad(function() {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f");
              _this._isVideoLoaded = true;
              _this._isVideoShow && _this._videoAd.show().then(function() {}).catch(function() {
                Utils_1.utils.showLog("\u89c6\u9891\u64ad\u653e\u5931\u8d25\uff01");
                if (_this._videoCallback) {
                  _this._videoCallback("\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
                  _this._videoCallback = null;
                }
              });
            });
            this._videoAd.onError(function(err) {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u5931\u8d25!", err.code, err.msg);
              _this._isVideoLoaded = false;
              if (_this._videoCallback) {
                _this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
                _this._videoCallback = null;
              }
            });
            this._videoAd.onClose(function(res) {
              _this._isVideoShow = false;
              if (res && res.isEnded || void 0 === res) {
                Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1");
                if (_this._videoCallback) {
                  _this._videoCallback(true, "");
                  _this._videoCallback = null;
                }
              } else {
                Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1");
                if (_this._videoCallback) {
                  _this._videoCallback(false, "\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!");
                  _this._videoCallback = null;
                }
              }
            });
          } else {
            Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u521d\u59cb\u5316\u5931\u8d25!");
            if (this._videoCallback) {
              this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
              this._videoCallback = null;
            }
          }
        }
      };
      AdAgentQQ.prototype._createBanner = function(location, args) {
        var _this = this;
        void 0 === args && (args = null);
        if (PlatUtils_1.default.IsQQ) {
          if (!Utils_1.utils.config.qqconfig.bannerId) {
            Utils_1.utils.showLog("banner\u5e7f\u544aID\u4e0d\u5b58\u5728");
            return;
          }
          var argsTmp = args;
          this._bannerShow = false;
          if (argsTmp && argsTmp.width) {
            this._bannerSizePercent = argsTmp.width < 0 ? 0 : argsTmp.width;
            this._bannerSizePercent = argsTmp.width > 1 ? 1 : this._bannerSizePercent;
          }
          if (argsTmp && argsTmp.bottom) {
            this._bannerBottom = argsTmp.bottom / this._sysData.pixelRatio;
            this._bannerBottom = this._bannerBottom < 0 ? 0 : this._bannerBottom;
            this._bannerBottom = this._bannerBottom > this._sysData.screenHeight ? this._sysData.screenHeight : this._bannerBottom;
          }
          var width = 300;
          var height = 72;
          var left = (this._sysData.screenWidth - width) / 2;
          var top = this._sysData.screenHeight - height - this._bannerBottom;
          var params = {
            adUnitId: Utils_1.utils.config.qqconfig.bannerId,
            style: {
              left: left,
              width: width,
              top: top,
              height: height
            }
          };
          var bannerAd_1 = null;
          var oldBannerAd_1 = this._curBannerAd;
          bannerAd_1 = this.qq.createBannerAd(params);
          Utils_1.utils.showLog("bannerAd ", bannerAd_1);
          if (bannerAd_1) {
            bannerAd_1.onError(function(err) {
              Utils_1.utils.showLog("\u5e7f\u544a\u6761\u52a0\u8f7d\u5931\u8d25! ", JSON.stringify(err));
              _this._bannerShow = false;
            });
            bannerAd_1.onLoad(function() {
              if (_this._bannerShow) return;
              _this._bannerShow = true;
              try {
                bannerAd_1.show().then(function() {
                  Utils_1.utils.showLog("Banner\u5e7f\u544a\u663e\u793a\u6210\u529f!");
                  _this.ServerConfig.banner_move_btn_interval && _this._cur_level && _this._cur_level % _this.ServerConfig.banner_move_btn_interval == 0 && _this.moveBtnToBannerTop();
                  oldBannerAd_1 && oldBannerAd_1.destroy();
                  _this._curBannerAd = bannerAd_1;
                }).catch(function(err) {
                  Utils_1.utils.showLog("Banner\u5e7f\u544a\u51fa\u9519", JSON.stringify(err));
                  _this._bannerShow = false;
                });
              } catch (error) {
                _this.ServerConfig.banner_move_btn_interval && _this._cur_level && _this._cur_level % _this.ServerConfig.banner_move_btn_interval == 0 && _this.moveBtnToBannerTop();
                Utils_1.utils.showLog("Banner ad Show erro", error);
              }
            });
            bannerAd_1.onResize(function(res) {
              res && (_this._curBannerHeight = res.height * _this._sysData.pixelRatio);
            });
          }
        }
      };
      AdAgentQQ.prototype._showBannerTimer = function(location, args) {
        var _this = this;
        var locationTmp = location;
        var argsTmp = args;
        Utils_1.utils.showLog("\u663e\u793aBanner\u5e7f\u544axxx\uff01location:" + locationTmp + "; \u95f4\u9694\u65f6\u95f4:" + Utils_1.utils.Tool_QQ.ServerConfig.refresh_ad_time + ":\u4f18\u5148\u7ea7\uff1a" + this.ServerConfig.banner_first_ad);
        var banner_delay_time = this.ServerConfig.banner_delay_time ? this.ServerConfig.banner_delay_time : 0;
        Utils_1.utils.showLog("\u5ef6\u8fdf" + banner_delay_time + "\u79d2\u663e\u793abanner");
        if (!this.ServerConfig.banner_move_btn_interval || !this._cur_level || this._cur_level % this.ServerConfig.banner_move_btn_interval != 0) {
          Utils_1.utils.showLog("\u5f53\u524d\u5173\u5361\u4e0d\u505a\u5ef6\u8fdf\u79fb\u52a8\uff01");
          this.moveBtnToBannerTop();
        }
        this._showBannerTimerId = setTimeout(function() {
          _this._createBanner(locationTmp, argsTmp);
        }, 1e3 * banner_delay_time);
      };
      AdAgentQQ.prototype.ShowBanner = function(location, args) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        void 0 === args && (args = null);
        if (PlatUtils_1.default.IsQQ) if (Utils_1.utils.Tool_QQ.ServerConfig) {
          var locationTmp = location;
          var argsTmp = args;
          this._moveBtn = args ? args.moveBtn : null;
          this._cur_level = args ? args.cur_level : null;
          this._showBannerTimer(locationTmp, argsTmp);
        } else Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!");
      };
      AdAgentQQ.prototype.HideBanner = function(location) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        if (PlatUtils_1.default.IsQQ) {
          Utils_1.utils.showLog("\u9690\u85cf\u5e7f\u544a\u6761");
          this._bannerShow = false;
          clearInterval(this._showBannerTimerId);
          this._curBannerAd && this._curBannerAd.hide();
        }
      };
      AdAgentQQ.prototype.ShowVideo = function(callback) {
        var _this = this;
        if (PlatUtils_1.default.IsQQ) {
          this._videoCallback = callback;
          this._isVideoShow = true;
          this._videoAd ? this._videoAd.show().then(function() {
            Utils_1.utils.showLog("\u89c6\u9891\u663e\u793a\u6210\u529f\uff01");
          }).catch(function(err) {
            Utils_1.utils.showLog("\u89c6\u9891\u672a\u52a0\u8f7d\uff01");
            _this._videoAd.load();
          }) : this._initVideoAd();
        }
      };
      AdAgentQQ.prototype.ShowInterstitial = function(location) {
        void 0 === location && (location = null);
        if (PlatUtils_1.default.IsQQ) {
          if (!Utils_1.utils.Tool_QQ.isOverMinVersion("1.12.0")) {
            Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c" + Utils_1.utils.Tool_QQ._sysInfo.SDKVersion + "\u4e0d\u652f\u6301\u63d2\u5c4f\u5e7f\u544a\u548c\u76d2\u5b50\u5e7f\u544a!");
            return;
          }
          if (this.ServerConfig) if (this.ServerConfig.intersititial_first_ad) {
            Utils_1.utils.showLog("\u670d\u52a1\u5668\u63d2\u5c4f\u4f18\u5148\u7ea7>>>" + this.ServerConfig.intersititial_first_ad);
            switch (this.ServerConfig.intersititial_first_ad) {
             case "default":
              Utils_1.utils.delayCall(this._createInsterstitial.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);
              break;

             case "box":
              if (!Utils_1.utils.Tool_QQ.isOverMinVersion("1.7.1")) {
                Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c" + Utils_1.utils.Tool_QQ._sysInfo.SDKVersion + "\u4e0d\u652f\u6301\u76d2\u5b50\u5e7f\u544a,\u663e\u793a\u63d2\u5c4f");
                Utils_1.utils.delayCall(this._createInsterstitial.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);
                return;
              }
              Utils_1.utils.delayCall(this.ShowAppBox.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);
              break;

             case "onlydefault":
              Utils_1.utils.delayCall(this._createInsterstitial.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);
            }
          } else {
            Utils_1.utils.showLog("\u670d\u52a1\u5668\u672a\u914d\u7f6e\u4f18\u5148\u7ea7\uff0c\u663e\u793a\u9ed8\u8ba4\u63d2\u5c4f");
            Utils_1.utils.delayCall(this._createInsterstitial.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);
          }
        }
      };
      AdAgentQQ.prototype._createInsterstitial = function() {
        var _this = this;
        Utils_1.utils.showLog("_createInsterstitial >>> 222");
        if (!this._insertAd) {
          this._insertAd = this.qq.createInterstitialAd({
            adUnitId: Utils_1.utils.config.qqconfig.insertId
          });
          this._insertAd.onError(function(err) {
            switch (err.errCode) {
             case 2001:
              Utils_1.utils.showLog("\u5c0f\u7a0b\u5e8f\u542f\u52a8\u4e00\u5b9a\u65f6\u95f4\u5185\u4e0d\u5141\u8bb8\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a");
              break;

             case 2002:
              Utils_1.utils.showLog("\u8ddd\u79bb\u5c0f\u7a0b\u5e8f\u63d2\u5c4f\u5e7f\u544a\u6216\u8005\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u4e0a\u6b21\u64ad\u653e\u65f6\u95f4\u95f4\u9694\u4e0d\u8db3\uff0c\u4e0d\u5141\u8bb8\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a");
              break;

             case 2003:
              Utils_1.utils.showLog("\u5f53\u524d\u6b63\u5728\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u6216\u8005\u63d2\u5c4f\u5e7f\u544a\uff0c\u4e0d\u5141\u8bb8\u518d\u6b21\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a");
              break;

             case 2004:
              Utils_1.utils.showLog("\u8be5\u9879\u9519\u8bef\u4e0d\u662f\u5f00\u53d1\u8005\u7684\u5f02\u5e38\u60c5\u51b5\uff0c\u6216\u56e0\u5c0f\u7a0b\u5e8f\u9875\u9762\u5207\u6362\u5bfc\u81f4\u5e7f\u544a\u6e32\u67d3\u5931\u8d25");
              break;

             case 2005:
              Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5b9e\u4f8b\u4e0d\u5141\u8bb8\u8de8\u9875\u9762\u8c03\u7528");
              break;

             default:
              Utils_1.utils.showLog("\u63d2\u5c4f\u52a0\u8f7d\u5931\u8d25! ", JSON.stringify(err));
            }
            if (_this.ServerConfig.intersititial_first_ad && "default" == _this.ServerConfig.intersititial_first_ad) {
              Utils_1.utils.showLog("\u4f18\u5148\u663e\u793a\u7684\u662f\u63d2\u5c4f\u5e7f\u544a\uff0c\u5907\u7528\u663e\u793a\u76d2\u5b50\u5e7f\u544a\uff01");
              var show_level = _this.ServerConfig.insert_show_appBox_level ? _this.ServerConfig.insert_show_appBox_level : 0;
              Utils_1.utils.currentLevel > show_level ? _this.ShowAppBox() : Utils_1.utils.showLog("\u5907\u7528\u663e\u793a\u76d2\u5b50\u5e7f\u544a\u672a\u8fbe\u5230\u5173\u5361\u9650\u5236\u8981\u6c42");
            }
          });
          this._insertAd.onClose(function() {
            Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5173\u95ed\u6210\u529f\uff01");
          });
        }
        if (this._insertAd) {
          this._insertAd.load().then(function() {
            Utils_1.utils.showLog("\u63d2\u5c4f\u52a0\u8f7d\u6210\u529f! ");
            _this._insertAd.show().then(function() {
              Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f!");
            }).catch(function(err) {
              Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u51fa\u9519", JSON.stringify(err));
            });
          }).catch(function() {
            Utils_1.utils.showLog("\u63d2\u5c4f\u52a0\u8f7d\u5931\u8d25! ");
          });
          if (!this._isShow) {
            this._insertAd.show().then(function() {
              Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f!");
            }).catch(function(err) {
              Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u51fa\u9519", JSON.stringify(err));
            });
            this._isShow = true;
          }
        }
      };
      AdAgentQQ.prototype.ShowAppBox = function(isMoreGame) {
        var _this = this;
        if (PlatUtils_1.default.IsQQ) {
          if (!Utils_1.utils.Tool_QQ.isOverMinVersion("1.7.1")) {
            Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c" + Utils_1.utils.Tool_QQ._sysInfo.SDKVersion + "\u4e0d\u652f\u6301\u6e38\u620f\u76d2\u5b50!");
            return;
          }
          Utils_1.utils.showLog(">>>>>ShowAppBox");
          if (this._appBox) this._appBox.destroy().then(function() {
            Utils_1.utils.showLog("\u6e38\u620f\u76d2\u5b50id\u4e3a:", Utils_1.utils.config.qqconfig.boxId);
            _this._appBox = _this.qq.createAppBox({
              adUnitId: Utils_1.utils.config.qqconfig.boxId
            });
            _this._appBox.load().then(function() {
              Utils_1.utils.showLog("\u6e38\u620f\u76d2\u5b50\u52a0\u8f7d\u6210\u529f\uff01");
              _this._appBox.show().then(function() {
                Utils_1.utils.showLog("\u6e38\u620f\u76d2\u5b50\u663e\u793a\u6210\u529f\uff01");
              }).catch(function(err) {
                Utils_1.utils.showLog("\u6e38\u620f\u76d2\u5b50\u672a\u52a0\u8f7d\uff01#err=", JSON.stringify(err));
              });
            }).catch(function(err) {
              Utils_1.utils.showLog("\u6e38\u620f\u76d2\u5b50\u52a0\u8f7d\u5931\u8d25\uff01 #err=", JSON.stringify(err));
              if (!isMoreGame && _this.ServerConfig.intersititial_first_ad && "box" == _this.ServerConfig.intersititial_first_ad) {
                Utils_1.utils.showLog("\u4f18\u5148\u663e\u793a\u7684\u662f\u76d2\u5b50\u5e7f\u544a\uff0c\u5907\u7528\u663e\u793a\u63d2\u5c4f");
                _this._createInsterstitial();
              }
            });
          }).catch(function(err) {
            Utils_1.utils.showLog("\u6e38\u620f\u76d2\u5b50\u9500\u6bc1\u5931\u8d25\uff01 #err=", JSON.stringify(err));
          }); else {
            Utils_1.utils.showLog("\u6e38\u620f\u76d2\u5b50id\u4e3a:", Utils_1.utils.config.qqconfig.boxId);
            this._appBox = this.qq.createAppBox({
              adUnitId: Utils_1.utils.config.qqconfig.boxId
            });
            this._appBox.load().then(function() {
              Utils_1.utils.showLog("\u6e38\u620f\u76d2\u5b50\u52a0\u8f7d\u6210\u529f\uff01");
              _this._appBox.show().then(function() {
                Utils_1.utils.showLog("\u6e38\u620f\u76d2\u5b50\u663e\u793a\u6210\u529f\uff01");
              }).catch(function(err) {
                Utils_1.utils.showLog("\u6e38\u620f\u76d2\u5b50\u672a\u52a0\u8f7d\uff01#err=", JSON.stringify(err));
              });
            }).catch(function(err) {
              Utils_1.utils.showLog("\u6e38\u620f\u76d2\u5b50\u52a0\u8f7d\u5931\u8d25\uff01 #err=", JSON.stringify(err));
              if (!isMoreGame && _this.ServerConfig.intersititial_first_ad && "box" == _this.ServerConfig.intersititial_first_ad) {
                Utils_1.utils.showLog("\u4f18\u5148\u663e\u793a\u7684\u662f\u76d2\u5b50\u5e7f\u544a\uff0c\u5907\u7528\u663e\u793a\u63d2\u5c4f");
                _this._createInsterstitial();
              }
            });
          }
        }
      };
      AdAgentQQ.prototype.HideAppbox = function() {
        PlatUtils_1.default.IsQQ && this._appBox && this._appBox.destroy().then(function() {
          Utils_1.utils.showLog("\u6e38\u620f\u76d2\u5b50\u9500\u6bc1\u6210\u529f\uff01");
        }).catch(function() {
          cc.warn("\u6e38\u620f\u76d2\u5b50\u9500\u6bc1\u5931\u8d25!");
        });
      };
      AdAgentQQ.prototype.showBlockAd = function(parme) {
        var _this = this;
        if (!this.ServerConfig) {
          Utils_1.utils.showLog("\u7ec4\u4ef6\u672a\u521d\u59cb\u5316\uff01");
          return;
        }
        if (!Utils_1.utils.config.qqconfig.bannerBoxId) {
          Utils_1.utils.showLog("\u79ef\u6728\u5e7f\u544aID\u4e0d\u5b58\u5728");
          return;
        }
        if ("false" == this.ServerConfig.is_banner_box) {
          Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u79ef\u6728\u5e7f\u544a\u4e0d\u5c55\u793a\uff01");
          return;
        }
        if (this._blockAd) {
          this._blockAd.offLoad();
          this._blockAd.offResize();
          this._blockAd.offError();
          this._blockAd.destroy();
        }
        if (PlatUtils_1.default.IsIOS && this._sysData.screenHeight < 736) {
          var top = 16;
          var left_1 = 16;
          var width_1 = 65;
          top = parme.top ? parme.top / cc.winSize.height * this._sysData.screenHeight : this._sysData.screenHeight - 65.5 - parme.bottom / cc.winSize.height * this._sysData.screenHeight;
          this._blockAd = this.qq.createBlockAd({
            adUnitId: Utils_1.utils.config.qqconfig.bannerBoxId,
            style: {
              left: left_1,
              top: top
            },
            size: parme.showNum ? parme.showNum : 5,
            orientation: "landscape"
          });
          this._blockAd.onResize(function(res) {
            _this._blockAd.offResize();
            Utils_1.utils.showLog("this._sysData", JSON.stringify(_this._sysData));
            Utils_1.utils.showLog("onresize >>", JSON.stringify(res));
            _this._blockAd.show().then(function() {
              Utils_1.utils.showLog("\u663e\u793a\u6210\u529f\uff01");
            }).catch(function(res) {
              Utils_1.utils.showLog("\u663e\u793a\u5f02\u5e38", JSON.stringify(res));
            });
            width_1 = 1 == parme.showNum ? 0 : res.width;
            left_1 = parme.left ? parme.left / cc.winSize.width * _this._sysData.screenWidth : parme.right ? _this._sysData.screenWidth - res.width - parme.right / cc.winSize.width * _this._sysData.screenWidth : (_this._sysData.screenWidth - width_1) / 2;
            _this._blockAd.style.left = left_1;
            Utils_1.utils.showLog("onresize end>>", _this._blockAd.style.top, "<<", _this._blockAd.style.left, "<<");
          });
        } else {
          this._blockAd = this.qq.createBlockAd({
            adUnitId: Utils_1.utils.config.qqconfig.bannerBoxId,
            style: {
              left: 16,
              top: 16
            },
            size: parme.showNum ? parme.showNum : 5,
            orientation: "landscape"
          });
          this._blockAd.onResize(function(res) {
            _this._blockAd.offResize();
            Utils_1.utils.showLog("this._sysData", JSON.stringify(_this._sysData));
            Utils_1.utils.showLog("onresize >>", JSON.stringify(res));
            if (parme) {
              Utils_1.utils.showLog("parme:" + JSON.stringify(parme));
              if (parme.top) {
                Utils_1.utils.showLog("\u79ef\u6728\u5e7f\u544aTOP\u4f4d\u7f6e\uff1a", parme.top);
                _this._blockAd.style.top = parme.top / cc.winSize.height * _this._sysData.screenHeight;
              } else parme.bottom && (_this._blockAd.style.top = _this._sysData.screenHeight - res.height - parme.bottom / cc.winSize.height * _this._sysData.screenHeight);
              parme.left ? _this._blockAd.style.left = parme.left / cc.winSize.width * _this._sysData.screenWidth : parme.right ? _this._blockAd.style.left = _this._sysData.screenWidth - res.width - parme.right / cc.winSize.width * _this._sysData.screenWidth : _this._blockAd.style.left = (_this._sysData.screenWidth - res.width) / 2;
            } else {
              _this._blockAd.style.top = _this._sysData.screenHeight - res.height;
              _this._blockAd.style.left = (_this._sysData.screenWidth - res.width) / 2;
            }
            _this._blockAd.show().then(function() {
              Utils_1.utils.showLog("\u663e\u793a\u6210\u529f\uff01");
            }).catch(function(res) {
              Utils_1.utils.showLog("\u663e\u793a\u5f02\u5e38", JSON.stringify(res));
            });
            Utils_1.utils.showLog("onresize end>>", _this._blockAd.style.top, "<<", _this._blockAd.style.left, "<<");
          });
        }
        this._blockAd.onLoad(function() {
          Utils_1.utils.showLog("\u79ef\u6728\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\uff01");
        });
        this._blockAd.onError(function(res) {
          Utils_1.utils.showLog("\u79ef\u6728\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff01", res.errMsg, ">>", res.errCode);
        });
      };
      AdAgentQQ.prototype.hideBlockAd = function() {
        Utils_1.utils.showLog("\u9690\u85cf\u79ef\u6728\u5e7f\u544a");
        this._blockAd && this._blockAd.hide();
      };
      AdAgentQQ.prototype.moveBtnToBannerTop = function() {
        var _this = this;
        Utils_1.utils.showLog("moveBtnToBannerTop >>>>>>>>>.");
        if (this.ServerConfig && this._moveBtn && cc.isValid(this._moveBtn)) {
          var moveBtnTime = 0;
          var btn_1 = this._moveBtn;
          this.ServerConfig.banner_move_btn_interval && this._cur_level && this._cur_level % this.ServerConfig.banner_move_btn_interval == 0 && this.ServerConfig.banner_move_btn_time && (moveBtnTime = this.ServerConfig.banner_move_btn_time);
          Utils_1.utils.showLog(0 == moveBtnTime ? "\u6309\u94ae\u76f4\u63a5\u663e\u793a\u5728banner\u4e0a\u9762" : "\u6309\u94ae\u5c45\u5e95\u90e8\u4e14" + moveBtnTime + "\u79d2\u540e\u79fb\u52a8");
          setTimeout(function() {
            if (btn_1 && cc.isValid(btn_1)) {
              _this._sysData.screenHeight < 600 ? btn_1.getComponent(cc.Widget).bottom = 250 : btn_1.getComponent(cc.Widget).bottom = 220;
              btn_1.getComponent(cc.Widget).updateAlignment();
            }
          }, 1e3 * moveBtnTime);
        }
      };
      AdAgentQQ = __decorate([ ccclass ], AdAgentQQ);
      return AdAgentQQ;
    }(AdAgent_1.default);
    exports.default = AdAgentQQ;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  AdAgentQTT: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "520fef1u0xCZbOYX8XB2Yli", "AdAgentQTT");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdAgentQTT = function(_super) {
      __extends(AdAgentQTT, _super);
      function AdAgentQTT() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._bannerAd = null;
        _this._videoAd = null;
        _this._isInsertAdShow = false;
        _this._isInsertAdLoaded = false;
        _this._videoCallback = null;
        _this._isVideoLoaded = false;
        _this._isVideoShow = false;
        _this.qttGame = window.qttGame;
        _this.options = null;
        _this._insertLastShowTime = 0;
        return _this;
      }
      Object.defineProperty(AdAgentQTT.prototype, "ServerConfig", {
        get: function() {
          if (Utils_1.utils._tool_QTT && Utils_1.utils._tool_QTT.ServerConfig) return Utils_1.utils._tool_QTT.ServerConfig;
          return {};
        },
        enumerable: false,
        configurable: true
      });
      AdAgentQTT.prototype.Init = function() {
        PlatUtils_1.default.IsQTT && (Utils_1.utils.config.qttconfig.showAd || cc.warn("\u5e7f\u544a\u5f00\u5173\u5173\u95ed\u72b6\u6001\uff0c\u6240\u6709\u5e7f\u544a\u4e0d\u663e\u793a\uff01\u8981\u663e\u793a\u5e7f\u544a\uff0c\u8bf7\u6253\u5f00 CommonUtils \u7ec4\u4ef6\u4e0aVIVIO \u914d\u7f6e\u4e0b\u7684\u5e7f\u544a\u5f00\u5173\uff01"));
      };
      AdAgentQTT.prototype.createOption = function() {
        var _this = this;
        var options = {};
        options.gametype = Math.floor(3 * Math.random() + 1);
        options.rewardtype = 1;
        options.data = {};
        options.data.title = "\u83b7\u5f97\u5956\u52b1";
        options.data.url = "//newidea4-gamecenter-frontend.1sapp.com/game/prod/fkxxl_img/1.png";
        options.callback = function(res) {
          Utils_1.utils.showLog("\u64ad\u653e\u4e92\u52a8\u5e7f\u544a>> #res=", res);
          if (1 == res) {
            if (_this._videoCallback) {
              _this._videoCallback(true, "");
              _this._videoCallback = null;
            }
          } else if (_this._videoCallback) {
            _this._videoCallback(false, "\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5!");
            _this._videoCallback = null;
          }
        };
        return options;
      };
      AdAgentQTT.prototype.ShowBanner = function() {
        if (PlatUtils_1.default.IsQTT) {
          if (!Utils_1.utils.config.qttconfig.showAd) return;
          var options = {};
          options.index = location;
          if (cc.winSize.height < cc.winSize.width) {
            options.x = 1;
            options.y = 1;
            options.w = cc.winSize.width;
            options.stage_width = cc.winSize.width;
            options.stage_height = cc.winSize.height;
          }
          this.qttGame.showBanner(options);
        }
      };
      AdAgentQTT.prototype.HideBanner = function() {
        if (PlatUtils_1.default.IsQTT) {
          if (!Utils_1.utils.config.qttconfig.showAd) return;
          this.qttGame.hideBanner();
        }
      };
      AdAgentQTT.prototype.ShowInterstitial = function(location) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        return;
      };
      AdAgentQTT.prototype.showInteractiveAd = function() {
        if (PlatUtils_1.default.IsQTT) {
          if (!this.checkInsertAdShow()) return;
          var options = {};
          options.rewardtype = 1;
          Utils_1.utils.showLog("\u4e92\u52a8\u76f4\u5f39\u65f6\u95f4\u95f4\u9694\u5f00\u59cb");
          this._insertLastShowTime = new Date().getTime();
          this.qttGame.showHDReward(options);
        }
      };
      AdAgentQTT.prototype.checkInsertAdShow = function() {
        var intervalTime = this.ServerConfig.intersititial_interval_time ? this.ServerConfig.intersititial_interval_time : 30;
        var curTime = new Date().getTime();
        var interval = (curTime - this._insertLastShowTime) / 1e3;
        Utils_1.utils.showLog("qtt\u670d\u52a1\u5668\u63d2\u5c4f\u95f4\u9694\u663e\u793a\u65f6\u95f4\u4e3a\uff1a" + intervalTime + "\u79d2\uff01");
        Utils_1.utils.showLog("qtt\u63d2\u5c4f\u5f53\u524d\u5e7f\u544a\u95f4\u9694\u65f6\u95f4\uff1a" + interval + "\u79d2\uff01");
        if (intervalTime > 0 && interval < intervalTime) {
          Utils_1.utils.showLog("qtt\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u7684\u95f4\u9694\u5c11\u4e8e" + intervalTime + "\u79d2\u3002\u63d2\u5c4f\u4e0d\u663e\u793a");
          return false;
        }
        return true;
      };
      AdAgentQTT.prototype.ShowVideo = function(callback) {
        var _this = this;
        if (PlatUtils_1.default.IsQTT) {
          this._videoCallback = callback;
          if (!Utils_1.utils.config.qttconfig.showAd) {
            if (this._videoCallback) {
              this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
              this._videoCallback = null;
            }
            return;
          }
          this._isVideoShow = true;
          var opt = this.createOption();
          this.qttGame.showVideo(function(res) {
            Utils_1.utils.showLog("\u64ad\u653e\u89c6\u9891\u5e7f\u544a>> #res=", res);
            if (1 == res) {
              if (_this._videoCallback) {
                _this._videoCallback(true, "");
                _this._videoCallback = null;
              }
            } else if (_this._videoCallback) {
              0 == res ? _this._videoCallback(false, "\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5!") : 2 == res && _this._videoCallback(false, "\u89c6\u9891\u64ad\u653e\u5b8c\u6bd5\u624d\u80fd\u591f\u83b7\u53d6\u5956\u52b1!");
              _this._videoCallback = null;
            }
          }, opt);
        }
      };
      AdAgentQTT = __decorate([ ccclass ], AdAgentQTT);
      return AdAgentQTT;
    }(AdAgent_1.default);
    exports.default = AdAgentQTT;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  AdAgentUC: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "55980AsZiBGCooaYvCVOMVB", "AdAgentUC");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdAgentUC = function(_super) {
      __extends(AdAgentUC, _super);
      function AdAgentUC() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._videoCallback = null;
        _this._isVideoLoaded = false;
        _this._videoAd = null;
        _this._bannerAd = null;
        _this.uc = window.uc;
        _this._sysInfo = {};
        return _this;
      }
      AdAgentUC.prototype.Init = function() {
        Utils_1.utils.showLog("UC \u5e7f\u544a\u521d\u59cb\u5316");
        this.initVideo();
        if (!this._sysInfo) {
          this._sysInfo = this.uc.getSystemInfoSync();
          if ("string" === typeof this._sysInfo) try {
            this._sysInfo = JSON.parse(this._sysInfo);
          } catch (e) {}
        }
      };
      AdAgentUC.prototype.ShowBanner = function() {
        if (this._bannerAd) {
          this._bannerAd.destroy();
          this._bannerAd = null;
        }
        Utils_1.utils.showLog("uc banner width>>", this._sysInfo.screenWidth, " #height>>", 194 * this._sysInfo.screenWidth / 345);
        this._bannerAd = this.uc.createBannerAd({
          style: {
            gravity: 7,
            bottom: 0,
            width: cc.winSize.height < cc.winSize.width ? 250 : this._sysInfo.screenWidth,
            height: this._sysInfo.screenWidth / 4
          }
        });
        if (this._bannerAd) {
          this._bannerAd.show();
          this._bannerAd.onError(function(err) {
            Utils_1.utils.showLog("UC\u5e73\u53f0banner\u51fa\u9519" + err);
          });
        }
      };
      AdAgentUC.prototype.ShowInterstitial = function() {
        Utils_1.utils.showLog("\u5c55\u793a\u63d2\u5c4f\u5e7f\u544a");
        var interstitialAd = this.uc.createInterstitialAd();
        interstitialAd.load().then().catch(function(err) {
          return Utils_1.utils.showLog("\u63d2\u5c4f\u52a0\u8f7d\u5f02\u5e38\uff1a" + err);
        });
        interstitialAd.onLoad(function() {
          interstitialAd.offLoad();
          interstitialAd.show().then().catch(function(err) {
            return Utils_1.utils.showLog("\u63d2\u5c4f\u5c55\u793a\u5f02\u5e38\uff1a" + err);
          });
          Utils_1.utils.showLog("UC\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f");
        });
        interstitialAd.onError(function(err) {
          Utils_1.utils.showLog(err);
        });
      };
      AdAgentUC.prototype.initVideo = function() {
        var _this = this;
        this._videoAd = this.uc.createRewardVideoAd();
        this._videoAd.onLoad(function() {
          Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f");
        });
        this._videoAd.onError(function(err) {
          Utils_1.utils.showLog("\u51fa\u9519\u4e86\uff1a" + err);
          if (_this._videoCallback) {
            _this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a");
            _this._videoCallback = null;
          }
        });
        this._videoAd.onClose(function(res) {
          Utils_1.utils.showLog("\u7528\u6237\u5173\u95ed\u89c6\u9891" + res);
          if (res && res.isEnded) {
            if (_this._videoCallback) {
              _this._videoCallback(true, "");
              _this._videoCallback = null;
            }
          } else if (_this._videoCallback) {
            _this._videoCallback(false, "\u89c6\u9891\u64ad\u653e\u5b8c\u6bd5\u624d\u80fd\u591f\u83b7\u53d6\u5956\u52b1!");
            _this._videoCallback = null;
          }
        });
      };
      AdAgentUC.prototype.ShowVideo = function(callback) {
        if (PlatUtils_1.default.ISUC) {
          this._videoCallback = callback;
          this._videoAd ? this._videoAd.show() : this.initVideo();
        }
      };
      AdAgentUC = __decorate([ ccclass ], AdAgentUC);
      return AdAgentUC;
    }(AdAgent_1.default);
    exports.default = AdAgentUC;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils"
  } ],
  AdAgentVIVO: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "403ectDoOdB058Z+/79HsK6", "AdAgentVIVO");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var NativeTryGamesWidget_1 = require("./NativeTryGamesWidget");
    var CompatibleTool_1 = require("./CompatibleTool");
    var YZ_NativeAdObject_1 = require("./YZ_NativeAdObject");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdAgentVIVO = function(_super) {
      __extends(AdAgentVIVO, _super);
      function AdAgentVIVO() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._bannerAd = null;
        _this._insertAd = null;
        _this._videoAd = null;
        _this._nativeBannerAd = [];
        _this._nativeInsertAd = [];
        _this._nativeSingleAd = [];
        _this._isBannerShow = false;
        _this._isInsertShow = false;
        _this._curPosIdIndexNativeBanner = 0;
        _this._curPosIdIndexNativeInser = 0;
        _this._curPosIdIndexSingleNative = 0;
        _this._nativeData = null;
        _this._nativeInsertData = null;
        _this._nativeBannerNode = null;
        _this._nativeInsertNode = null;
        _this._videoCallback = null;
        _this._videoLoaded = null;
        _this._isInsertAdShow = false;
        _this._isInsertAdLoaded = false;
        _this._isVideoLoaded = false;
        _this._isVideoShow = false;
        _this.lastLastShowVideoTime = 0;
        _this.showNum = 0;
        _this.showInsertNum = 0;
        _this._curNativeItem = null;
        _this._nativeAdObject = null;
        _this._nativeAd = null;
        _this._nativeBannerInfo = null;
        _this._curLocation = YZ_Constant_1.BannerLocation.None;
        _this._lastShowTime = 0;
        _this._bannerTimeoutShow = 0;
        _this._nativeIsClose = false;
        _this._showBannerTimerId = 0;
        _this._delayShowBannerId = 0;
        _this._startBannerTimerTask = 0;
        _this._tryIndex = 0;
        _this._nativeInsertAdShowCount = 0;
        _this._curNativeBannerInfo = {};
        _this._nativeTryGameNode = null;
        _this.signleNativeAd = null;
        _this._singleAdCreateTime = 0;
        _this._customAd = null;
        _this._refreshCustomAdTimerTask = null;
        _this._isHide = false;
        _this._lastLocation = "";
        return _this;
      }
      Object.defineProperty(AdAgentVIVO.prototype, "SysInfo", {
        get: function() {
          return Utils_1.utils.Tool_Vivo.SysInfo;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(AdAgentVIVO.prototype, "ServerConfig", {
        get: function() {
          if (PlatUtils_1.default.IsVIVO) return Utils_1.utils.Tool_Vivo.ServerConfig;
          return null;
        },
        enumerable: false,
        configurable: true
      });
      AdAgentVIVO.prototype.getNativeBannerInfo = function() {
        if (this._nativeBannerInfo && this._nativeBannerInfo.location == this._curLocation) return this._nativeBannerInfo;
        return Utils_1.utils.config.vivoconfig.getNativeBannerInfo(this._curLocation);
      };
      AdAgentVIVO.prototype.Init = function() {
        var _this = this;
        if (PlatUtils_1.default.IsVIVO) {
          Utils_1.utils.Tool_Vivo.isOverMiniVersion("1084") && (qg.isSupportNativeAd = true);
          Utils_1.utils.registerServerInitEvent(function() {
            Utils_1.utils.config.vivoconfig.showAd ? _this._initVideoAd() : Utils_1.utils.showLog("\u5e7f\u544a\u5f00\u5173\u5173\u95ed\u72b6\u6001\uff0c\u6240\u6709\u5e7f\u544a\u4e0d\u663e\u793a\uff01\u8981\u663e\u793a\u5e7f\u544a\uff0c\u8bf7\u6253\u5f00 CommonUtils \u7ec4\u4ef6\u4e0aVIVIO \u914d\u7f6e\u4e0b\u7684\u5e7f\u544a\u5f00\u5173\uff01");
          }, this);
        }
      };
      AdAgentVIVO.prototype._initVideoAd = function() {
        var _this = this;
        if (!this._videoAd) {
          if (!Utils_1.utils.Tool_Vivo.isOverMiniVersion("1041")) {
            Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u89c6\u9891\u5e7f\u544a!");
            if (this._videoCallback) {
              this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
              this._videoCallback = null;
            }
            return;
          }
          if (!Utils_1.utils.config.vivoconfig.videoId) {
            Utils_1.utils.showLog("\u89c6\u9891ID\u914d\u7f6e\u4e0d\u6b63\u786e\uff01");
            if (this._videoCallback) {
              this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
              this._videoCallback = null;
            }
            return;
          }
          var posId = Utils_1.utils.config.vivoconfig.videoId.trim();
          Utils_1.utils.showLog("video\u5e7f\u544aID:" + posId);
          this._videoAd = qg.createRewardedVideoAd({
            posId: posId
          });
          if (this._videoAd) {
            this._videoAd.onLoad(function() {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f!");
              _this._isVideoLoaded = true;
              if (_this._isVideoShow) {
                var adshow = _this._videoAd.show();
                adshow && adshow.then(function() {
                  _this._isVideoLoaded = false;
                }).catch(function(err) {
                  if (_this._videoCallback) {
                    _this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
                    _this._videoCallback = null;
                  }
                  Utils_1.utils.showLog("\u89c6\u9891\u64ad\u653e\u5931\u8d25\uff01");
                });
              }
            });
            this._videoAd.onError(function(err) {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5f02\u5e38!" + err.errCode);
              _this._isVideoLoaded = false;
              if (_this._videoCallback) {
                _this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
                _this._videoCallback = null;
              }
            });
            this._videoAd.onClose(function(res) {
              _this._videoAd.load();
              _this._isVideoShow = false;
              if (res && res.isEnded) {
                Utils_1.utils.showLog("\u6b63\u5e38\u64ad\u653e\u7ed3\u675f\uff0c\u53ef\u4ee5\u4e0b\u53d1\u6e38\u620f\u5956\u52b1");
                if (_this._videoCallback) {
                  _this._videoCallback(true, "");
                  _this._videoCallback = null;
                }
              } else {
                Utils_1.utils.showLog("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1");
                if (_this._videoCallback) {
                  _this._videoCallback(false, "\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!");
                  _this._videoCallback = null;
                }
              }
            });
          }
        }
      };
      AdAgentVIVO.prototype.ShowBanner = function(location, args, isTimeRefresh) {
        var _this = this;
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        void 0 === args && (args = null);
        void 0 === isTimeRefresh && (isTimeRefresh = false);
        if (!this.ServerConfig) {
          Utils_1.utils.showLog("\u672a\u8bf7\u6c42\u5230\u914d\u7f6e\u6587\u4ef6\uff01");
          return;
        }
        var oldLocation = this._curLocation;
        this._curLocation = location;
        oldLocation != location && this.HideBanner(location);
        var curTime = new Date().getTime();
        var refresh_ad_time = (curTime - this._startBannerTimerTask) / 1e3;
        var interval = this.ServerConfig.refresh_ad_time;
        args && args.isRefresh ? isTimeRefresh = true : interval && interval > 0 && refresh_ad_time > interval && (isTimeRefresh = true);
        if (-1 == this.getNativeBannerInfo().is_show_banner) {
          Utils_1.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u914d\u7f6e\u4e3a\u4e0d\u5c55\u793abanner!");
          this.HideBanner(location);
          return;
        }
        if (this.getNativeBannerInfo().is_show_rec > -1) {
          Utils_1.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u663e\u793a\u4e92\u63a8banner");
          if (Utils_1.utils.Tool_Vivo.canShowRecommend()) {
            this.HideBanner(location);
            Utils_1.utils.Tool_Vivo.showRecBanner();
            return;
          }
          Utils_1.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u4e92\u63a8banner");
        } else if (!isTimeRefresh && this.ServerConfig.nbclr && "true" == this.ServerConfig.nbclr && this._curNativeBannerInfo.nativeBannerAd) {
          Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5b9a\u65f6\u5668\u5237\u65b0\u6570\u636e ");
          this._showNativeBanner(this._curNativeBannerInfo.nativeBannerAd, this._curNativeBannerInfo.data);
          Utils_1.utils.showLog("\u5f00\u542f\u5b9a\u65f6\u5237\u65b0 >>>>>>>>>" + (interval - refresh_ad_time));
          clearTimeout(this._showBannerTimerId);
          clearTimeout(this._delayShowBannerId);
          this._showBannerTimerId = setTimeout(function() {
            Utils_1.utils.showLog("\u5b9a\u65f6" + interval + "\u79d2\u8c03\u7528showbanner");
            _this.ShowOldBanner(_this._curLocation, {});
          }, 1e3 * (interval - refresh_ad_time));
          return;
        }
        Utils_1.utils._tool_Vivo.isOverMiniVersion("1059") ? this.showNewBanner(location, args) : this.ShowOldBanner(location, args);
      };
      AdAgentVIVO.prototype.showNewBanner = function(location, args) {
        var _this = this;
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        void 0 === args && (args = null);
        var curTime = new Date().getTime();
        var cap = this.ServerConfig ? this.ServerConfig.cap_show_banner_time : void 0;
        cap = cap || 15;
        if ((curTime - this._lastShowTime) / 1e3 > cap) {
          this._lastShowTime = curTime;
          this.ShowOldBanner(location, args);
        } else {
          this._lastShowTime = curTime;
          clearTimeout(this._bannerTimeoutShow);
          this._bannerTimeoutShow = setTimeout(function() {
            Utils_1.utils.showLog("\u8fbe\u5230" + cap + "\u95f4\u9694\uff0c\u663e\u793abanner");
            _this.ShowOldBanner(_this._curLocation, args);
          }, 1e3 * cap);
          Utils_1.utils.showLog("1059\u4ee5\u4e0a\u5c55\u793abanner\u5fc5\u987b\u95f4\u9694" + cap + "\u79d2");
        }
      };
      AdAgentVIVO.prototype.ShowOldBanner = function(location, args) {
        var _this = this;
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        void 0 === args && (args = null);
        if (PlatUtils_1.default.IsVIVO) {
          if (!Utils_1.utils.config.vivoconfig.showAd) return;
          clearTimeout(this._showBannerTimerId);
          clearTimeout(this._delayShowBannerId);
          this._nativeIsClose = false;
          if (this.ServerConfig) {
            var interval_1 = this.ServerConfig.refresh_ad_time;
            var bannerInfo = this.getNativeBannerInfo();
            interval_1 && interval_1 > 0 && (this._showBannerTimerId = setTimeout(function() {
              Utils_1.utils.showLog("\u5b9a\u65f6" + interval_1 + "\u79d2\u8c03\u7528showbanner");
              _this.ShowBanner(location, {}, true);
            }, 1e3 * interval_1));
            if (this.ServerConfig && this.ServerConfig.isTest && "true" == this.ServerConfig.isTest) {
              this.showNum++;
              if (this.showNum % 2 != 0 && qg.isSupportNativeAd) {
                Utils_1.utils.showLog("\u6d4b\u8bd5\u6a21\u5f0f>> \u987a\u5e8f\u5c55\u793a\u539f\u751fBanner\u5e7f\u544a\uff01");
                this._createNativeBannerAd(this._showNativeBanner);
              } else {
                Utils_1.utils.showLog("\u6d4b\u8bd5\u6a21\u5f0f>>" + (qg.isSupportNativeAd ? "" : "\u5e73\u53f0\u4e0d\u652f\u6301\u539f\u751f\u5e7f\u544a>>\u987a\u5e8f\u5c55\u793a\u5c0f\u6e38\u620fBanner\u5e7f\u544a\uff01"));
                this._createMiniGameBannerAd(location);
              }
              return;
            }
            if (this.ServerConfig.banner_first_ad) if ("native" == this.ServerConfig.banner_first_ad && qg.isSupportNativeAd) {
              Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751fBanner\u5e7f\u544a!");
              if ("native" == this.ServerConfig.intersititial_first_ad) {
                var timeOut = 1;
                this.ServerConfig.native_banner_delay_time && (timeOut = this.ServerConfig.native_banner_delay_time);
                Utils_1.utils.showLog("\u56e0\u4e3a\u63d2\u5c4f\u4e5f\u662f\u4f18\u5148\u5c55\u793a\u539f\u751f\uff0c\u6240\u4ee5banner\u5ef6\u8fdf\u663e\u793a" + timeOut + "\u79d2");
                this._delayShowBannerId = setTimeout(function() {
                  _this._createNativeBannerAd(_this._showNativeBanner);
                }, 1e3 * timeOut);
              } else this._createNativeBannerAd(this._showNativeBanner);
            } else {
              Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620fBanner\u5e7f\u544a\uff0c\u5f15\u64ce" + (qg.isSupportNativeAd ? "\u652f\u6301" : "\u4e0d\u652f\u6301") + "\u539f\u751f\u5e7f\u544a");
              this._createMiniGameBannerAd(location);
            } else Utils_1.utils.showLog("\u914d\u7f6e\u6570\u636e\u4e2d\u6ca1\u6709 banner_first_ad \u5b57\u6bb5\uff0c banner\u5e7f\u544a\u4e0d\u663e\u793a!");
          } else Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!");
        }
      };
      AdAgentVIVO.prototype.HideBanner = function(location) {
        var _this = this;
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        if (PlatUtils_1.default.IsVIVO) {
          clearTimeout(this._showBannerTimerId);
          clearTimeout(this._delayShowBannerId);
          clearTimeout(this._bannerTimeoutShow);
          this._nativeIsClose = true;
          if (this._bannerAd) {
            var adhide = this._bannerAd.hide();
            adhide && adhide.then(function() {
              console.log("banner\u5e7f\u544a\u9690\u85cf\u6210\u529f");
            }).catch(function(err) {
              console.log("banner\u5e7f\u544a\u9690\u85cf\u5931\u8d25", JSON.stringify(err));
              var addestroy = _this._bannerAd.destroy();
              addestroy && addestroy.then(function() {
                console.log("banner\u5e7f\u544a\u9500\u6bc1\u6210\u529f");
              }).catch(function(err) {
                console.log("banner\u5e7f\u544a\u9500\u6bc1\u5931\u8d25", JSON.stringify(err));
              });
            });
          }
          if (this._nativeBannerNode) {
            Utils_1.utils.showLog("\u9690\u85cf\u539f\u751fBanner");
            this._nativeBannerNode.active = false;
          }
          Utils_1.utils.Tool_Vivo && Utils_1.utils.Tool_Vivo.hideRecBanner();
        }
      };
      AdAgentVIVO.prototype.showNativeTryGameWidget = function(params) {
        var _this = this;
        void 0 === params && (params = null);
        if (PlatUtils_1.default.IsVIVO) {
          Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u6296\u52a8\u5e7f\u544a\u3002 posId:" + Utils_1.utils.config.vivoconfig.nativeTryGameIds[0], "  utils.tryGameDate", Utils_1.utils.tryGameDate, "needchange", Utils_1.utils.nativeNeedChange);
          if (Utils_1.utils.nativeNeedChange || !Utils_1.utils.tryGameDate) if (Utils_1.utils.config.vivoconfig.nativeTryGameIds) {
            var tryGameAd_1 = qg.createNativeAd({
              posId: Utils_1.utils.config.vivoconfig.nativeTryGameIds[0]
            });
            Utils_1.utils.showLog("tryGameAd\uff1a" + tryGameAd_1);
            if (tryGameAd_1) {
              tryGameAd_1.onLoad(function(res) {
                Utils_1.utils.showLog("res", res);
                Utils_1.utils.nativeNeedChange = false;
                _this.tryGameInfo = res.adList;
                if (res && res.adList && res.adList.length > 0) {
                  Utils_1.utils.showLog("\u539f\u751f\u6296\u52a8\u8bd5\u5b8c\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01");
                  Utils_1.utils.showLog(JSON.stringify(res));
                  res = JSON.parse(JSON.stringify(res));
                  var adId_1 = res.adList[0].adId;
                  Utils_1.utils.showLog("adId:" + adId_1);
                  var canAdd_1 = true;
                  Utils_1.utils.tryGameDate.forEach(function(element) {
                    adId_1 == element.date[0].adId && (canAdd_1 = false);
                  });
                  if (canAdd_1) {
                    Utils_1.utils.tryGameDate.push({
                      tryGameAd: tryGameAd_1,
                      date: _this.tryGameInfo
                    });
                    Utils_1.utils._nativeTryGameNode && Utils_1.utils._nativeTryGameNode.getComponent(NativeTryGamesWidget_1.default).init();
                  }
                }
              });
              tryGameAd_1.onError(function(err) {
                console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5f02\u5e38", JSON.stringify(err));
              });
              tryGameAd_1.load();
            }
          } else Utils_1.utils.showLog("\u539f\u751f\u6296\u52a8id\u4e0d\u5b58\u5728");
          this.createNativeTryGameWidget(params);
        }
      };
      AdAgentVIVO.prototype.ShowInterstitial = function(location) {
        void 0 === location && (location = null);
        if (PlatUtils_1.default.IsVIVO) {
          if (!Utils_1.utils.config.vivoconfig.showAd) return;
          if (this.ServerConfig && this.ServerConfig.isTest && "true" == this.ServerConfig.isTest) {
            this.showInsertNum++;
            if (this.showInsertNum % 2 == 0 && qg.isSupportNativeAd) {
              Utils_1.utils.showLog("\u6d4b\u8bd5\u6a21\u5f0f>> \u987a\u5e8f\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\uff01");
              this.nativeInserAdDelayCall();
            } else {
              Utils_1.utils.showLog("\u6d4b\u8bd5\u6a21\u5f0f>>" + (qg.isSupportNativeAd ? "" : "\u5e73\u53f0\u4e0d\u652f\u6301\u539f\u751f\u5e7f\u544a>>") + "\u987a\u5e8f\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\uff01");
              this._createMiniGameInsertAd();
            }
            return;
          }
          if (this.ServerConfig) if (location && location == YZ_Constant_1.BannerLocation.Pause) if ("native" == this.ServerConfig.intersititial_first_ad && qg.isSupportNativeAd) {
            Utils_1.utils.showLog("\u6682\u505c\u754c\u9762\u4e0d\u5ef6\u65f6\u5c55\u793a\uff01");
            Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!");
            this.nativeInserAdDelayCall();
          } else {
            Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
            this._createMiniGameInsertAd();
          } else if ("native" == this.ServerConfig.intersititial_first_ad && qg.isSupportNativeAd) {
            Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!");
            Utils_1.utils.delayCall(this.nativeInserAdDelayCall.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);
          } else {
            Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
            this._createMiniGameInsertAd();
          } else Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!");
        }
      };
      AdAgentVIVO.prototype.nativeInserAdDelayCall = function() {
        Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a: \u5f53\u524d\u70b9\u51fb\u6b21\u6570=" + Utils_1.utils.Tool_Vivo.NativeInsertAdClickTimes + "; \u70b9\u51fb\u6b21\u6570\u9650\u5236=" + this.ServerConfig.intersititia_click_count + "; \u5c55\u793a\u6b21\u6570\u95f4\u9694=" + this.ServerConfig.intersititial_interval_time + "; \u5c55\u793a\u7d2f\u8ba1=" + this._nativeInsertAdShowCount);
        Utils_1.utils.Tool_Vivo.NativeInsertAdClickTimes >= (this.ServerConfig.intersititia_click_count || 0) ? this._nativeInsertAdShowCount >= (this.ServerConfig.intersititia_show_interval || 0) ? this._createNativeInsertAd(this._showNativeInsert) : this._nativeInsertAdShowCount++ : this._createNativeInsertAd(this._showNativeInsert);
      };
      AdAgentVIVO.prototype.ShowVideo = function(callback) {
        var _this = this;
        if (PlatUtils_1.default.IsVIVO) {
          this._videoCallback = callback;
          if (!Utils_1.utils.config.vivoconfig.showAd) {
            if (this._videoCallback) {
              this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
              this._videoCallback = null;
            }
            return;
          }
          this._isVideoShow = true;
          var curTime = new Date().getTime();
          var interval = (curTime - this.lastLastShowVideoTime) / 1e3;
          var interval_time = 0;
          Utils_1.utils.ServerConfig && Utils_1.utils.ServerConfig.video_interval_time && (interval_time = Utils_1.utils.ServerConfig.video_interval_time);
          if (interval > interval_time) {
            this.lastLastShowVideoTime = new Date().getTime();
            if (this._videoAd) {
              if (!this._isVideoLoaded) {
                this._isVideoShow = false;
                if (this._videoCallback) {
                  this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
                  this._videoCallback = null;
                }
                this._videoAd.load();
                return;
              }
              var adshow = this._videoAd.show();
              adshow && adshow.then(function() {
                Utils_1.utils.showLog("\u89c6\u9891\u663e\u793a\u6210\u529f!");
                _this._isVideoLoaded = false;
              }).catch(function(err) {
                Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u663e\u793a\u5931\u8d25" + JSON.stringify(err));
                if (_this._videoCallback) {
                  _this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
                  _this._videoCallback = null;
                }
              });
            } else this._initVideoAd();
          } else {
            Utils_1.utils.showLog("\u89c6\u9891\u5e7f\u544a\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e60\u79d2,\u76f4\u63a5\u8fd4\u56defalse");
            if (this._videoCallback) {
              this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
              this._videoCallback = null;
            }
          }
        }
      };
      AdAgentVIVO.prototype._createMiniGameInsertAd = function() {
        var _this = this;
        if (PlatUtils_1.default.IsVIVO) {
          this._isInsertShow = true;
          if (Utils_1.utils.config.vivoconfig && Utils_1.utils.config.vivoconfig.insertId) {
            this._insertAd = qg.createInterstitialAd({
              posId: Utils_1.utils.config.vivoconfig.insertId
            });
            if (this._insertAd) {
              Utils_1.utils.showLog("\u6ce8\u518c\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u56de\u8c03\uff01");
              this._insertAd.onError(function(err) {
                Utils_1.utils.showLog("vivo \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u51fa\u9519:" + err.errCode + err.errMsg);
                if (_this._isInsertShow && "default" == _this.ServerConfig.intersititial_first_ad) {
                  _this._isInsertShow = false;
                  Utils_1.utils.showLog("\u5f00\u59cb\u663e\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!");
                  _this._curPosIdIndexNativeInser = 0;
                  Utils_1.utils.delayCall(_this.nativeInserAdDelayCall.bind(_this), _this.ServerConfig.intersititia_delay_show_time || 0);
                }
              }.bind(this));
              if (this._isInsertShow) {
                var adshow = this._insertAd.show();
                adshow && adshow.then(function() {
                  Utils_1.utils.showLog("vivo \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f\uff01");
                  _this._isInsertShow = false;
                }).catch(function(err) {
                  switch (err.code) {
                   case 30003:
                    Utils_1.utils.showLog("\u65b0\u7528\u62377\u5929\u5185\u4e0d\u80fd\u66dd\u5149\u63d2\u5c4f\uff0c\u8bf7\u5c06\u624b\u673a\u65f6\u95f4\u8c03\u6574\u4e3a7\u5929\u540e\uff0c\u9000\u51fa\u6e38\u620f\u91cd\u65b0\u8fdb\u5165");
                    break;

                   case 30009:
                    Utils_1.utils.showLog("10\u79d2\u5185\u8c03\u7528\u5e7f\u544a\u6b21\u6570\u8d85\u8fc71\u6b21\uff0c10\u79d2\u540e\u518d\u8c03\u7528");
                    break;

                   case 30002:
                    Utils_1.utils.showLog("\u52a0\u8f7d\u5e7f\u544a\u5931\u8d25\uff0c\u91cd\u65b0\u52a0\u8f7d\u5e7f\u544a");
                    break;

                   default:
                    Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25");
                  }
                });
              }
            }
            if (!this._insertAd) {
              Utils_1.utils.showLog("vivo \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u521b\u5efa\u5931\u8d25\uff01");
              if ("default" == this.ServerConfig.intersititial_first_ad) {
                Utils_1.utils.showLog("\u5f00\u59cb\u663e\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!");
                this._curPosIdIndexNativeInser = 0;
                Utils_1.utils.delayCall(this.nativeInserAdDelayCall.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);
              }
            }
          } else {
            Utils_1.utils.showLog("vivo \u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a\u914d\u7f6e\u4fe1\u606f\u9519\u8bef!");
            if ("default" == this.ServerConfig.intersititial_first_ad) {
              Utils_1.utils.showLog("\u5f00\u59cb\u663e\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!");
              this._curPosIdIndexNativeInser = 0;
              Utils_1.utils.delayCall(this.nativeInserAdDelayCall.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);
            }
          }
        }
      };
      AdAgentVIVO.prototype._createMiniGameBannerAd = function(location) {
        var _this = this;
        void 0 === location && (location = null);
        if (PlatUtils_1.default.IsVIVO) {
          this._isBannerShow = true;
          if (Utils_1.utils.config.vivoconfig && Utils_1.utils.config.vivoconfig.bannerId) {
            var oldBannerAd = this._bannerAd;
            if (oldBannerAd) {
              var addestroy = oldBannerAd.destroy();
              addestroy && addestroy.then(function() {
                console.log("banner\u5e7f\u544a\u9500\u6bc1\u6210\u529f");
              }).catch(function(err) {
                console.log("banner\u5e7f\u544a\u9500\u6bc1\u5931\u8d25", JSON.stringify(err));
              });
            }
            this._bannerAd = qg.createBannerAd({
              posId: Utils_1.utils.config.vivoconfig.bannerId,
              style: {}
            });
            if (this._bannerAd) {
              Utils_1.utils.showLog("\u6ce8\u518c\u5c0f\u6e38\u620fbanner\u56de\u8c03!");
              this._bannerAd.onError(function(err) {
                Utils_1.utils.showLog("VIVO \u5e7f\u544a\u6761\u52a0\u8f7d\u5931\u8d25! code : " + err.errCode + "; msg : " + err.errMsg);
                var bannerInfo = _this.getNativeBannerInfo();
                if (-1 == bannerInfo.st_banner_show_back_up) {
                  Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a");
                  return;
                }
                if (_this._isBannerShow) {
                  _this._isBannerShow = false;
                  if ("default" == _this.ServerConfig.banner_first_ad) {
                    _this._curPosIdIndexNativeBanner = 0;
                    _this._createNativeBannerAd(_this._showNativeBanner.bind(_this));
                  }
                }
              }.bind(this));
            } else if ("default" == this.ServerConfig.banner_first_ad) {
              this._curPosIdIndexNativeBanner = 0;
              this._createNativeBannerAd(this._showNativeBanner.bind(this));
            }
            if (this._bannerAd) {
              var adshow = this._bannerAd.show();
              adshow && adshow.then(function() {
                Utils_1.utils.showLog("vivo\u5c0f\u6e38\u620fbanner\u5e7f\u544a\u5c55\u793a\u6210\u529f");
                _this._nativeBannerNode && (_this._nativeBannerNode.active = false);
              }).catch(function(err) {
                switch (err.code) {
                 case 30003:
                  Utils_1.utils.showLog("\u65b0\u7528\u62377\u5929\u5185\u4e0d\u80fd\u66dd\u5149Banner\uff0c\u8bf7\u5c06\u624b\u673a\u65f6\u95f4\u8c03\u6574\u4e3a7\u5929\u540e\uff0c\u9000\u51fa\u6e38\u620f\u91cd\u65b0\u8fdb\u5165");
                  break;

                 case 30009:
                  Utils_1.utils.showLog("10\u79d2\u5185\u8c03\u7528\u5e7f\u544a\u6b21\u6570\u8d85\u8fc71\u6b21\uff0c10\u79d2\u540e\u518d\u8c03\u7528");
                  break;

                 case 30002:
                  Utils_1.utils.showLog("\u52a0\u8f7d\u5e7f\u544a\u5931\u8d25\uff0c\u91cd\u65b0\u52a0\u8f7d\u5e7f\u544a");
                  break;

                 default:
                  Utils_1.utils.showLog("banner\u5e7f\u544a\u5c55\u793a\u5931\u8d25");
                }
              });
            } else {
              Utils_1.utils.showLog("vivo \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u521b\u5efa\u5931\u8d25!");
              if ("default" == this.ServerConfig.banner_first_ad) {
                this._curPosIdIndexNativeBanner = 0;
                this._createNativeBannerAd(this._showNativeBanner.bind(this));
              }
            }
          } else {
            Utils_1.utils.showLog("vivo \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u914d\u7f6e\u4fe1\u606f\u9519\u8bef!");
            var bannerInfo = this.getNativeBannerInfo();
            if (-1 == bannerInfo.st_banner_show_back_up) {
              Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a");
              return;
            }
            if ("default" == this.ServerConfig.banner_first_ad) {
              this._curPosIdIndexNativeBanner = 0;
              this._createNativeBannerAd(this._showNativeBanner.bind(this));
            }
          }
        }
      };
      AdAgentVIVO.prototype._createNativeBannerAd = function(completeCallback) {
        var _this = this;
        if (PlatUtils_1.default.IsVIVO) {
          if (!qg.isSupportNativeAd) {
            Utils_1.utils.showLog("\u5f53\u524d\u5f15\u64ce\u4e0d\u652f\u6301\u539f\u751fBanner\u5e7f\u544a\uff01");
            return;
          }
          var callback_1 = completeCallback;
          Utils_1.utils.showLog("curPosIdIndexNativeBanner:" + this._curPosIdIndexNativeBanner);
          if (Utils_1.utils.config.vivoconfig.nativeBannerIds && Utils_1.utils.config.vivoconfig.nativeBannerIds[this._curPosIdIndexNativeBanner]) {
            Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u5e7f\u544aBanner\u3002 posId:" + Utils_1.utils.config.vivoconfig.nativeBannerIds[this._curPosIdIndexNativeBanner]);
            var nativeBannerAd_1 = qg.createNativeAd({
              posId: Utils_1.utils.config.vivoconfig.nativeBannerIds[this._curPosIdIndexNativeBanner]
            });
            if (nativeBannerAd_1) {
              nativeBannerAd_1.onLoad(function(res) {
                if (_this._nativeIsClose) {
                  Utils_1.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");
                  return;
                }
                if (res && res.adList && res.adList.length > 0) {
                  _this._startBannerTimerTask = new Date().getTime();
                  Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01");
                  Utils_1.utils.showLog(JSON.stringify(res));
                  res = JSON.parse(JSON.stringify(res));
                  var data = res.adList[0];
                  if (_this._checkNativeDataValid(data) || "true" == _this.getNativeBannerInfo().show_st_banner) {
                    _this._curPosIdIndexNativeBanner = 0;
                    _this._showNativeBanner(nativeBannerAd_1, data);
                    _this._curNativeBannerInfo.nativeBannerAd = nativeBannerAd_1;
                    _this._curNativeBannerInfo.data = data;
                    if (_this._bannerAd) {
                      var adhide = _this._bannerAd.hide();
                      adhide && adhide.then(function() {
                        console.log("banner\u5e7f\u544a\u9690\u85cf\u6210\u529f");
                      }).catch(function(err) {
                        console.log("banner\u5e7f\u544a\u9690\u85cf\u5931\u8d25", JSON.stringify(err));
                        var addestroy = _this._bannerAd.destroy();
                        addestroy && addestroy.then(function() {
                          console.log("banner\u5e7f\u544a\u9500\u6bc1\u6210\u529f");
                        }).catch(function(err) {
                          console.log("banner\u5e7f\u544a\u9500\u6bc1\u5931\u8d25", JSON.stringify(err));
                        });
                      });
                    }
                    return;
                  }
                }
                Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01");
                _this._curPosIdIndexNativeBanner++;
                if (_this._curPosIdIndexNativeBanner < Utils_1.utils.config.vivoconfig.nativeBannerIds.length) _this._createNativeBannerAd(callback_1); else {
                  _this._curPosIdIndexNativeBanner = 0;
                  Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                  var bannerInfo = _this.getNativeBannerInfo();
                  if (-1 == bannerInfo.st_banner_show_back_up) {
                    Utils_1.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");
                    return;
                  }
                  if ("native" == _this.ServerConfig.banner_first_ad) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01");
                    _this._createMiniGameBannerAd();
                  }
                }
              });
              var adLoad = nativeBannerAd_1.load();
              adLoad && adLoad.then(function(res) {
                console.log("res", JSON.stringify(res));
              }).catch(function(err) {
                Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01" + JSON.stringify(err));
                if (_this._nativeIsClose) {
                  Utils_1.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");
                  return;
                }
                _this._curPosIdIndexNativeBanner++;
                if (_this._curPosIdIndexNativeBanner < Utils_1.utils.config.vivoconfig.nativeBannerIds.length) _this._createNativeBannerAd(callback_1); else {
                  _this._curPosIdIndexNativeBanner = 0;
                  Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                  var bannerInfo = _this.getNativeBannerInfo();
                  if (-1 == bannerInfo.st_banner_show_back_up) {
                    Utils_1.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");
                    return;
                  }
                  if ("native" == _this.ServerConfig.banner_first_ad) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01");
                    _this._createMiniGameBannerAd();
                  }
                }
              });
            } else {
              this._curPosIdIndexNativeBanner++;
              if (Utils_1.utils.config.vivoconfig.nativeBannerIds && this._curPosIdIndexNativeBanner < Utils_1.utils.config.vivoconfig.nativeBannerIds.length) this._createNativeBannerAd(callback_1); else {
                this._curPosIdIndexNativeBanner = 0;
                Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                var bannerInfo = this.getNativeBannerInfo();
                if (-1 == bannerInfo.st_banner_show_back_up) {
                  Utils_1.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");
                  return;
                }
                if ("native" == this.ServerConfig.banner_first_ad) {
                  Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01");
                  this._createMiniGameBannerAd();
                }
              }
            }
          }
        }
      };
      AdAgentVIVO.prototype._createNativeInsertAd = function(completeCallback) {
        var _this = this;
        if (PlatUtils_1.default.IsVIVO) {
          if (!qg.isSupportNativeAd) {
            Utils_1.utils.showLog("\u5f53\u524d\u5f15\u64ce\u4e0d\u652f\u6301\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\uff01");
            return;
          }
          var callback_2 = completeCallback;
          Utils_1.utils.showLog("curPosIdIndexNativeInsert:" + this._curPosIdIndexNativeInser);
          if (Utils_1.utils.config.vivoconfig.nativeInsertIds && Utils_1.utils.config.vivoconfig.nativeInsertIds[this._curPosIdIndexNativeInser]) {
            Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u3002 posId:" + Utils_1.utils.config.vivoconfig.nativeInsertIds[this._curPosIdIndexNativeInser]);
            var nativeInsertAd_1 = qg.createNativeAd({
              posId: Utils_1.utils.config.vivoconfig.nativeInsertIds[this._curPosIdIndexNativeInser]
            });
            if (nativeInsertAd_1) {
              nativeInsertAd_1.onLoad(function(res) {
                if (res && res.adList && res.adList.length > 0) {
                  Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01");
                  Utils_1.utils.showLog(JSON.stringify(res));
                  res = JSON.parse(JSON.stringify(res));
                  var data = res.adList[0];
                  if (_this._checkNativeInsertDataValid(data)) {
                    _this._curPosIdIndexNativeInser = 0;
                    _this._showNativeInsert(nativeInsertAd_1, data);
                    return;
                  }
                  Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u4e0d\u5408\u6cd5\uff01");
                }
                Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01");
                _this._curPosIdIndexNativeInser++;
                if (_this._curPosIdIndexNativeInser < Utils_1.utils.config.vivoconfig.nativeInsertIds.length) _this._createNativeInsertAd(callback_2); else {
                  _this._curPosIdIndexNativeInser = 0;
                  Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                  if ("native" == _this.ServerConfig.intersititial_first_ad) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
                    _this._createMiniGameInsertAd();
                  }
                }
              });
              nativeInsertAd_1.onError(function(err) {
                Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u521b\u5efa\u5931\u8d25\uff01" + JSON.stringify(err));
              });
              var adLoad = nativeInsertAd_1.load();
              adLoad && adLoad.then(function(res) {
                console.log("res", JSON.stringify(res));
              }).catch(function(err) {
                Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01" + JSON.stringify(err));
                _this._curPosIdIndexNativeInser++;
                if (_this._curPosIdIndexNativeInser < Utils_1.utils.config.vivoconfig.nativeInsertIds.length) _this._createNativeInsertAd(callback_2); else {
                  _this._curPosIdIndexNativeInser = 0;
                  Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                  if ("native" == _this.ServerConfig.intersititial_first_ad) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
                    _this._createMiniGameInsertAd();
                  }
                }
              });
            } else {
              this._curPosIdIndexNativeInser++;
              if (Utils_1.utils.config.vivoconfig.nativeInsertIds && this._curPosIdIndexNativeInser < Utils_1.utils.config.vivoconfig.nativeInsertIds.length) this._createNativeInsertAd(callback_2); else {
                this._curPosIdIndexNativeInser = 0;
                Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                if ("native" == this.ServerConfig.intersititial_first_ad) {
                  Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
                  this._createMiniGameInsertAd();
                }
              }
            }
          }
        }
      };
      AdAgentVIVO.prototype._showNativeBanner = function(nativeBannerAd, data) {
        if (PlatUtils_1.default.IsVIVO && data) {
          Utils_1.utils.showLog("\u663e\u793a\u539f\u751fbanner");
          cc.isValid(this._nativeBannerNode) && this._nativeBannerNode && this._nativeBannerNode.destroy();
          Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u5e7f\u544abanner\u4f4d");
          this._nativeBannerNode = cc.instantiate(Utils_1.utils.config.otherconfig.nativeBanner);
          this._nativeBannerNode.position = CompatibleTool_1.default.position(cc.winSize.width / 2, this._nativeBannerNode.height * this._nativeBannerNode.scaleY / 2);
          cc.director.getScene().addChild(this._nativeBannerNode, 1e3);
          if (this._nativeBannerNode) {
            this._nativeBannerNode.active = true;
            var nativeBanner = this._nativeBannerNode.getComponent("YZ_NativeBanner");
            nativeBanner ? nativeBanner.init(nativeBannerAd, data, this.getNativeBannerInfo()) : Utils_1.utils.showLog("NativeBanner\u7ec4\u4ef6\u4e0d\u5b58\u5728!");
          } else Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544abanner\u4f4d\u6ca1\u6709\u521b\u5efa\uff01");
        }
      };
      AdAgentVIVO.prototype._showNativeInsert = function(nativeInsertAd, data) {
        if (PlatUtils_1.default.IsVIVO && data) {
          Utils_1.utils.showLog("\u663e\u793a\u539f\u751f\u63d2\u5c4f");
          if (!cc.isValid(this._nativeInsertNode) || !this._nativeInsertNode && Utils_1.utils.config.otherconfig.nativeInsert) {
            Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u4f4d");
            this._nativeInsertNode = cc.instantiate(Utils_1.utils.config.otherconfig.nativeInsert);
            this._nativeInsertNode.position = CompatibleTool_1.default.position(cc.winSize.width / 2, cc.winSize.height / 2);
            cc.director.getScene().addChild(this._nativeInsertNode, 9999);
          }
          if (this._nativeInsertNode) {
            var nativeInsert = this._nativeInsertNode.getComponent("YZ_NativeInsert");
            if (nativeInsert) {
              this._nativeInsertAdShowCount = 0;
              nativeInsert.init(nativeInsertAd, data);
            } else Utils_1.utils.showLog("NativeInsert\u7ec4\u4ef6\u4e0d\u5b58\u5728!");
          } else Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u63d2\u5c4f\u4f4d\u6ca1\u6709\u521b\u5efa\uff01");
          if (!this.ServerConfig.show_insert_hide_banner || "false" != this.ServerConfig.show_insert_hide_banner) {
            Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u63d2\u5c4f\u5c55\u793a\u540e\u9690\u85cfBanner\uff01");
            this.HideBanner();
          }
        }
      };
      AdAgentVIVO.prototype.ShowCloseBtnBanner = function(location, args) {
        var _this = this;
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        Utils_1.utils.showLog("ShowCloseBtnBanner >>>>>>>>>.");
        var isMoveBtn = 0;
        var btn = args.closeBtn;
        var winHeight = cc.winSize.height;
        if (this.ServerConfig) {
          this.ServerConfig.is_move_btn && (isMoveBtn = this.ServerConfig.is_move_btn);
          Utils_1.utils.showLog(0 == isMoveBtn ? "\u663e\u793abanner,\u4e14\u6309\u94ae\u5728\u4e0a\u9762" : "\u663e\u793aBanner,\u6309\u94ae\u5c45\u5e95\u90e8\u4e14" + isMoveBtn + "\u6beb\u79d2\u540e\u79fb\u52a8");
          setTimeout(function() {
            Utils_1.utils.showLog("\u5ef6\u8fdf\u8c03\u7528\u5173\u95ed\u6309\u94ae\u7684Banner >>>>");
            _this.ShowBanner(location, args);
            var adY = 240;
            Utils_1.utils.showLog("utils - adY:" + adY);
            if (adY > 0 && btn) {
              btn.y = -(winHeight / 2 - adY) + btn.height;
              Utils_1.utils.showLog("btnClose.y" + btn.y);
            }
          }, isMoveBtn);
        }
      };
      AdAgentVIVO.prototype._checkNativeDataValid = function(data) {
        if (!data) return false;
        return data.icon || data.imgUrlList && data.imgUrlList.length > 0;
      };
      AdAgentVIVO.prototype._checkNativeInsertDataValid = function(data) {
        if (!data) return false;
        return data.icon || data.imgUrlList && data.imgUrlList.length > 0;
      };
      AdAgentVIVO.prototype._checkNativeSignDataValid = function(data) {
        if (!data) return false;
        return data.imgUrlList && data.imgUrlList.length > 0;
      };
      AdAgentVIVO.prototype.createNativeTryGameWidget = function(params) {
        void 0 === params && (params = null);
        this._nativeTryGameNode && cc.isValid(this._nativeTryGameNode) && this._nativeTryGameNode.destroy();
        var node = cc.instantiate(Utils_1.utils.config.otherconfig.nativeTryGameWidget);
        if (node) {
          this._nativeTryGameNode = node;
          this._nativeTryGameNode.zIndex = 9999;
        }
        node = this._nativeTryGameNode;
        var widget = node.getComponent(cc.Widget);
        if (params) {
          params.group && (node.group = params.group);
          null != params.scale && (node.scale = params.scale);
          if (null != params.top) {
            widget.isAlignTop = true;
            widget.isAlignBottom = false;
            widget.top = params.top;
          } else if (null != params.bottom) {
            widget.isAlignTop = false;
            widget.isAlignBottom = true;
            widget.bottom = params.bottom;
          }
          if (null != params.left) {
            widget.isAlignLeft = true;
            widget.isAlignRight = false;
            widget.left = params.left;
          } else if (null != params.right) {
            widget.isAlignLeft = false;
            widget.isAlignRight = true;
            widget.right = params.right;
          }
          null != params.parent && (node.parent = params.parent);
        }
        widget.updateAlignment();
        node.active = true;
        this._nativeTryGameNode && this._nativeTryGameNode.getComponent(NativeTryGamesWidget_1.default).init();
      };
      AdAgentVIVO.prototype.hideNativeTryGameWidget = function() {
        this._nativeTryGameNode && cc.isValid(this._nativeTryGameNode) && this._nativeTryGameNode.destroy();
      };
      AdAgentVIVO.prototype.ShowSingleNativeAd = function(params) {
        if (Utils_1.utils.config.otherconfig.singleNativeAd) {
          this.signleNativeAd && cc.isValid(this.signleNativeAd) && this.signleNativeAd.destroy();
          this.signleNativeAd = cc.instantiate(Utils_1.utils.config.otherconfig.singleNativeAd);
          var nativeItem = this.signleNativeAd.getComponent("YZ_NativeItem");
          nativeItem.showType = 2;
          nativeItem.params = params;
          this._curNativeItem = nativeItem;
          params && params.parent && params.parent.addChild(this.signleNativeAd, cc.macro.MAX_ZINDEX);
          this.createNativeAd();
          Utils_1.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544a\u521b\u5efa\u6210\u529f\uff01");
          return this.signleNativeAd;
        }
        Utils_1.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 singleNativeAd, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        return null;
      };
      AdAgentVIVO.prototype.createNativeAd = function(params, nativeItem) {
        var _this = this;
        void 0 === params && (params = null);
        Utils_1.utils.showLog("_createNativeAd >>>>>");
        if (PlatUtils_1.default.IsVIVO) {
          nativeItem && (this._curNativeItem = nativeItem);
          var refreshTime = this.ServerConfig.st_native_ad_refresh_time ? this.ServerConfig.st_native_ad_refresh_time : 0;
          if (this._nativeAdObject && this._nativeAdObject.data && !this._nativeAdObject.is_reportClick && (new Date().getTime() - this._singleAdCreateTime) / 1e3 < refreshTime) {
            Utils_1.utils.showLog("\u5f53\u524d\u539f\u751f\u5e7f\u544a\u7684\u5c55\u793a\u65f6\u95f4" + (new Date().getTime() - this._singleAdCreateTime) / 1e3 + "\u79d2\uff0c\u672a\u8fbe\u5237\u65b0\u65f6\u95f4" + refreshTime + "\u79d2\u9650\u5236\uff0c\u76f4\u63a5\u4f7f\u7528\u4e0a\u4e00\u6b21\u6570\u636e\uff01");
            this._showNativeAd();
            return;
          }
          Utils_1.utils.showLog("_curPosIdIndexSingleNative:" + this._curPosIdIndexSingleNative + "  #this._nativeSingleAd.length" + this._nativeSingleAd.length);
          var nativeSingleAd_1 = this._nativeSingleAd[this._curPosIdIndexSingleNative];
          if (!nativeSingleAd_1 && Utils_1.utils.config.vivoconfig.nativeSingleAdIds && Utils_1.utils.config.vivoconfig.nativeSingleAdIds[this._curPosIdIndexSingleNative]) {
            Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u5e7f\u544a\u3002 posId:" + Utils_1.utils.config.vivoconfig.nativeSingleAdIds[this._curPosIdIndexSingleNative]);
            nativeSingleAd_1 = qg.createNativeAd({
              posId: Utils_1.utils.config.vivoconfig.nativeSingleAdIds[this._curPosIdIndexSingleNative]
            });
            if (nativeSingleAd_1) {
              this._nativeSingleAd.push(nativeSingleAd_1);
              nativeSingleAd_1.onLoad(function(res) {
                if (res && res.adList && res.adList.length > 0) {
                  Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01");
                  Utils_1.utils.showLog(JSON.stringify(res));
                  res = JSON.parse(JSON.stringify(res));
                  var data = res.adList[0];
                  if (_this._checkNativeSignDataValid(data)) {
                    _this._singleAdCreateTime = new Date().getTime();
                    _this._curPosIdIndexSingleNative = 0;
                    _this._nativeData = data;
                    _this._nativeAd = nativeSingleAd_1;
                    _this._showNativeAd();
                    return;
                  }
                  Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u8d44\u6e90\u4e0d\u5408\u6cd5\uff01");
                }
                Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01");
                _this._curPosIdIndexSingleNative++;
                if (_this._curPosIdIndexSingleNative < Utils_1.utils.config.vivoconfig.nativeSingleAdIds.length) _this.createNativeAd(); else {
                  _this._curPosIdIndexSingleNative = 0;
                  Utils_1.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544aID\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                }
              });
              nativeSingleAd_1.onError(function(err) {
                Utils_1.utils.showLog("\u539f\u751f\u5355\u4e2a\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01" + err.code + err.msg);
                _this._curPosIdIndexSingleNative++;
                if (_this._curPosIdIndexSingleNative < Utils_1.utils.config.vivoconfig.nativeSingleAdIds.length) _this.createNativeAd(); else {
                  _this._curPosIdIndexSingleNative = 0;
                  Utils_1.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544aID\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                }
              });
            }
          }
          if (nativeSingleAd_1) {
            Utils_1.utils.showLog("nativeSingleAd reload");
            nativeSingleAd_1.load();
          } else {
            this._curPosIdIndexSingleNative++;
            if (Utils_1.utils.config.vivoconfig.nativeSingleAdIds && this._curPosIdIndexSingleNative < Utils_1.utils.config.vivoconfig.nativeSingleAdIds.length) this.createNativeAd(); else {
              this._curPosIdIndexSingleNative = 0;
              Utils_1.utils.showLog("\u5355\u4e2a\u539f\u751f\u5e7f\u544aID \u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
            }
          }
        }
      };
      AdAgentVIVO.prototype._showNativeAd = function() {
        this._curNativeItem && cc.isValid(this._curNativeItem.node) && this._curNativeItem.init(this.getNativeAdData());
      };
      AdAgentVIVO.prototype.getNativeAdData = function() {
        this._nativeAdObject || (this._nativeAdObject = new YZ_NativeAdObject_1.default());
        this._nativeAdObject._nativeObj = this._nativeAd;
        if (this._nativeAdObject.data && this._nativeAdObject.data.adId != this._nativeData.adId) {
          this._nativeAdObject.is_reportClick = false;
          this._nativeAdObject.is_reportShow = false;
        }
        this._nativeAdObject.data = this._nativeData;
        if (this._nativeData && this._nativeAd) {
          Utils_1.utils.showLog("\u83b7\u53d6\u539f\u751f\u6570\u636e >>>", this._nativeData, "...", this._nativeAdObject);
          return this._nativeAdObject;
        }
        return null;
      };
      AdAgentVIVO.prototype.showCustomAd = function(parme) {
        var _this = this;
        if (Utils_1.utils.config.vivoconfig.customAdInfos.length <= 0) {
          Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u672a\u914d\u7f6e\u6a21\u7248\u5e7f\u544a\uff01");
          return;
        }
        if (qg.createCustomAd) {
          clearTimeout(this._refreshCustomAdTimerTask);
          var customAdInfo_1 = Utils_1.utils.config.vivoconfig.getCustomAdInfoInfo(parme.location);
          Utils_1.utils.showLog("\u5f53\u524d\u4f4d\u7f6e obj >>>", customAdInfo_1.customAdObj);
          if ("true" != customAdInfo_1.is_show_ad) {
            Utils_1.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u670d\u52a1\u5668\u914d\u7f6e\u4e3a\u4e0d\u663e\u793a\u6a21\u7248\u5e7f\u544a\uff01");
            return;
          }
          this._lastLocation != parme.location && this.hideCustomAd();
          if (null != customAdInfo_1.customAdObj) {
            this._customAd = customAdInfo_1.customAdObj;
            if (customAdInfo_1.customAdObj.isShow()) Utils_1.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u7684\u6a21\u7248\u6b63\u5728\u663e\u793a\u4e2d\uff0c\u4e0d\u6267\u884c\u52a0\u8f7d\uff01"); else {
              Utils_1.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u4e0a\u6b21\u5c55\u793a\u8fc7\u539f\u751f\u6a21\u7248\uff0c\u5f53\u524d\u91cd\u65b0\u663e\u793a\u51fa\u6765\uff01");
              customAdInfo_1.customAdObj.show().then(function() {
                "true" == customAdInfo_1.hide_banner && _this.HideBanner();
                Utils_1.utils.showLog("\u91cd\u65b0\u5c55\u793a\u6210\u529f\uff01");
              }).catch(function(err) {
                customAdInfo_1.customAdObj.destroy();
                customAdInfo_1.customAdObj = null;
                Utils_1.utils.showLog("\u91cd\u65b0\u5c55\u793a\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5931\u8d25", JSON.stringify(err));
                _this.showCustomAd(parme);
              });
            }
            customAdInfo_1.refresh_time > 0 && (this._refreshCustomAdTimerTask = setTimeout(function() {
              Utils_1.utils.showLog("\u5b9a\u65f6" + customAdInfo_1.refresh_time + "\u79d2\u5237\u65b0\u539f\u751f\u6a21\u7248");
              _this.showCustomAd(parme);
            }, 1e3 * customAdInfo_1.refresh_time));
            return;
          }
          this._lastLocation = parme.location;
          this._isHide = false;
          var style = {};
          customAdInfo_1.top > 0 ? style.top = customAdInfo_1.top / cc.winSize.height * this.SysInfo.screenHeight : customAdInfo_1.bottom > 0 && (style.top = this.SysInfo.screenHeight - customAdInfo_1.height - customAdInfo_1.bottom / cc.winSize.height * this.SysInfo.screenHeight);
          customAdInfo_1.left > 0 ? style.left = customAdInfo_1.left / cc.winSize.width * this.SysInfo.screenWidth : customAdInfo_1.right > 0 && (style.left = this.SysInfo.screenWidth - customAdInfo_1.width - customAdInfo_1.right / cc.winSize.width * this.SysInfo.screenWidth);
          Utils_1.utils.showLog("custom ad style>>" + JSON.stringify(style));
          var _customAd = qg.createCustomAd({
            posId: customAdInfo_1.id,
            style: style
          });
          _customAd.onError(function(err) {
            try {
              Utils_1.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25", JSON.stringify(err));
            } catch (erro) {
              console.log("\u6a21\u7248\u5f02\u5e38\uff1a#errMsg=" + erro);
            }
          });
          _customAd.onClose(function() {
            Utils_1.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a onClose");
            _customAd.destroy();
            _customAd = null;
            customAdInfo_1.customAdObj = null;
          });
          _customAd.onLoad(function() {
            _customAd.offLoad();
            Utils_1.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\uff01");
            _this._customAd = _customAd;
            customAdInfo_1.customAdObj && customAdInfo_1.customAdObj.destroy();
            customAdInfo_1.customAdObj = _customAd;
            _this._isHide ? Utils_1.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u8c03\u7528\u4e86\u9690\u85cf\uff0c\u5f53\u524d\u5e7f\u544a\u4e0d\u663e\u793a\uff01") : _customAd.show().then(function() {
              "true" == customAdInfo_1.hide_banner && _this.HideBanner();
              Utils_1.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5b8c\u6210\uff01");
            }).catch(function(err) {
              Utils_1.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5931\u8d25", JSON.stringify(err));
            });
          });
          customAdInfo_1.refresh_time > 0 && (this._refreshCustomAdTimerTask = setTimeout(function() {
            Utils_1.utils.showLog("\u5b9a\u65f6" + customAdInfo_1.refresh_time + "\u79d2\u5237\u65b0\u539f\u751f\u6a21\u7248");
            _this.showCustomAd(parme);
          }, 1e3 * customAdInfo_1.refresh_time));
        } else Utils_1.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u539f\u751f\u6a21\u7248\u5e7f\u544a\uff01");
      };
      AdAgentVIVO.prototype.showCustomAdV2 = function(parme) {
        var _this = this;
        if (Utils_1.utils.config.vivoconfig.customAdInfos.length <= 0) {
          Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u672a\u914d\u7f6e\u6a21\u7248\u5e7f\u544a\uff01");
          return;
        }
        if (qg.createCustomAd) {
          clearTimeout(this._refreshCustomAdTimerTask);
          var customAdInfo_2 = Utils_1.utils.config.vivoconfig.getCustomAdInfoInfo(parme.location);
          Utils_1.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u7684\u5e7f\u544a\u5bf9\u8c61 >>>", customAdInfo_2.customAdObj);
          if ("true" != customAdInfo_2.is_show_ad) {
            Utils_1.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u670d\u52a1\u5668\u914d\u7f6e\u4e3a\u4e0d\u663e\u793a\u6a21\u7248\u5e7f\u544a\uff01");
            return;
          }
          var isRefresh = true;
          if (this._lastLocation != parme.location) this.hideCustomAd(); else if (null != customAdInfo_2.customAdObj) if (customAdInfo_2.customAdObj.isShow()) Utils_1.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u7684\u6a21\u7248\u6b63\u5728\u663e\u793a\u4e2d\uff0c\u4e0d\u6267\u884c\u52a0\u8f7d\uff01"); else {
            Utils_1.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u4e0a\u6b21\u5c55\u793a\u8fc7\u539f\u751f\u6a21\u7248\uff0c\u5f53\u524d\u91cd\u65b0\u663e\u793a\u51fa\u6765\uff01");
            isRefresh = false;
            customAdInfo_2.customAdObj.show().then(function() {
              "true" == customAdInfo_2.hide_banner && _this.HideBanner();
              Utils_1.utils.showLog("\u91cd\u65b0\u5c55\u793a\u6210\u529f\uff01");
            }).catch(function(err) {
              isRefresh = true;
              customAdInfo_2.customAdObj.destroy();
              customAdInfo_2.customAdObj = null;
              Utils_1.utils.showLog("\u91cd\u65b0\u5c55\u793a\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5931\u8d25", JSON.stringify(err));
            });
          }
          this._lastLocation = parme.location;
          this._isHide = false;
          var style = {};
          customAdInfo_2.top > 0 ? style.top = customAdInfo_2.top / cc.winSize.height * this.SysInfo.screenHeight : customAdInfo_2.bottom > 0 && (style.top = this.SysInfo.screenHeight - customAdInfo_2.height - customAdInfo_2.bottom / cc.winSize.height * this.SysInfo.screenHeight);
          customAdInfo_2.left > 0 ? style.left = customAdInfo_2.left / cc.winSize.width * this.SysInfo.screenWidth : customAdInfo_2.right > 0 && (style.left = this.SysInfo.screenWidth - customAdInfo_2.width - customAdInfo_2.right / cc.winSize.width * this.SysInfo.screenWidth);
          Utils_1.utils.showLog("custom ad style>>" + JSON.stringify(style));
          var _customAd = qg.createCustomAd({
            posId: customAdInfo_2.id,
            style: style
          });
          _customAd.onError(function(err) {
            try {
              Utils_1.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25", JSON.stringify(err));
            } catch (erro) {
              console.log("\u6a21\u7248\u5f02\u5e38\uff1a#errMsg=" + erro);
            }
          });
          _customAd.onClose(function() {
            Utils_1.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a onClose");
            _customAd.destroy();
            _customAd = null;
            customAdInfo_2.customAdObj = null;
          });
          _customAd.onLoad(function() {
            Utils_1.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\uff01");
            _this._customAd = _customAd;
            customAdInfo_2.customAdObj && customAdInfo_2.customAdObj.destroy();
            customAdInfo_2.customAdObj = _customAd;
            !_this._isHide && isRefresh ? _customAd.show().then(function() {
              "true" == customAdInfo_2.hide_banner && _this.HideBanner();
              Utils_1.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5b8c\u6210\uff01");
            }).catch(function(err) {
              Utils_1.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5931\u8d25", JSON.stringify(err));
            }) : Utils_1.utils.showLog("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u8c03\u7528\u4e86\u9690\u85cf\u6216\u8005\u5f53\u524d\u4e0d\u5237\u65b0\u5e7f\u544a\uff0c\u5f53\u524d\u5e7f\u544a\u4e0d\u663e\u793a\uff01");
          });
          customAdInfo_2.refresh_time > 0 && (this._refreshCustomAdTimerTask = setTimeout(function() {
            Utils_1.utils.showLog("\u5b9a\u65f6" + customAdInfo_2.refresh_time + "\u79d2\u5237\u65b0\u539f\u751f\u6a21\u7248");
            _this.showCustomAd(parme);
          }, 1e3 * customAdInfo_2.refresh_time));
        } else Utils_1.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u539f\u751f\u6a21\u7248\u5e7f\u544a\uff01");
      };
      AdAgentVIVO.prototype.hideCustomAd = function() {
        this._isHide = true;
        clearTimeout(this._refreshCustomAdTimerTask);
        this._customAd && this._customAd.hide();
      };
      AdAgentVIVO = __decorate([ ccclass ], AdAgentVIVO);
      return AdAgentVIVO;
    }(AdAgent_1.default);
    exports.default = AdAgentVIVO;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./CompatibleTool": "CompatibleTool",
    "./NativeTryGamesWidget": "NativeTryGamesWidget",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_NativeAdObject": "YZ_NativeAdObject"
  } ],
  AdAgentWechat: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4e11aZbbXVLHacOspfN2ARf", "AdAgentWechat");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var CompatibleTool_1 = require("./CompatibleTool");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdAgentWechat = function(_super) {
      __extends(AdAgentWechat, _super);
      function AdAgentWechat() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._curBannerAd = null;
        _this._videoAd = null;
        _this._videoCallback = null;
        _this._insertAd = null;
        _this._rewardInsertNode = null;
        _this._sysInfo = null;
        _this._bannerSizePercent = .1;
        _this._bannerBottom = 0;
        _this._oldBannerLocation = YZ_Constant_1.BannerLocation.None;
        _this._showBannerTimerId = 0;
        _this.isFirstShowInsertAd = true;
        _this._customAdObjs = [];
        _this._nativeCustomAdObjs = [];
        _this.nativeBannerAd = null;
        _this.nativeIntersititialAd = null;
        return _this;
      }
      Object.defineProperty(AdAgentWechat.prototype, "ServerConfig", {
        get: function() {
          return Utils_1.utils.wechatTool.ServerConfig;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(AdAgentWechat.prototype, "sysInfo", {
        get: function() {
          if (this._sysInfo) return this._sysInfo;
          this._sysInfo = Utils_1.utils.wechatTool.getSystemInfo();
          return this._sysInfo;
        },
        enumerable: false,
        configurable: true
      });
      AdAgentWechat.prototype.Init = function() {
        var _this = this;
        PlatUtils_1.default.IsWechat && Utils_1.utils.registerServerInitEvent(function() {
          _this._initVideoAd();
          _this._initInsertAd();
          Utils_1.utils.getConfigByKey("game_time_report") && Utils_1.utils.scheduleOnce(function() {
            Utils_1.utils.wechatTool.reportAttributedEvent(YZ_Constant_1.AttributedType.GameAddiction, YZ_Constant_1.AttributedKey.GameAddiction, YZ_Constant_1.AttributedValue.GameTimeAction);
          }, Utils_1.utils.getConfigByKey("game_time_report"));
        }, this);
      };
      AdAgentWechat.prototype._initVideoAd = function() {
        if (PlatUtils_1.default.IsWechat) {
          if (!Utils_1.utils.wechatTool.isOverMinVersion("2.0.4")) {
            Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u89c6\u9891\u5e7f\u544a!");
            return;
          }
          if (!this._videoAd) {
            Utils_1.utils.showLog("\u521d\u59cb\u5316\u89c6\u9891!");
            if (!Utils_1.utils.config.wechatconfig.videoId) {
              Utils_1.utils.showLog("\u89c6\u9891ID\u914d\u7f6e\u9519\u8bef!");
              return;
            }
            Utils_1.utils.showLog("\u89c6\u9891\u5e7f\u544aID:", Utils_1.utils.config.wechatconfig.videoId.trim());
            this._videoAd = wx.createRewardedVideoAd({
              adUnitId: Utils_1.utils.config.wechatconfig.videoId
            });
            var self_1 = this;
            if (this._videoAd) {
              Utils_1.utils.showLog("\u521d\u59cb\u5316\u6ce8\u518c\u89c6\u9891\u56de\u8c03!");
              this._videoAd.onLoad(function() {
                Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f");
              }.bind(this));
              this._videoAd.onError(function(err) {
                Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u5931\u8d25!", err.code, err.msg);
              }.bind(this));
              this._videoAd.onClose(function(res) {
                if (res && res.isEnded || void 0 === res) {
                  Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1");
                  if (self_1._videoCallback) {
                    self_1._videoCallback(true, "");
                    self_1._videoCallback = null;
                  }
                } else {
                  Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1");
                  if (self_1._videoCallback) {
                    self_1._videoCallback(false, "\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!");
                    self_1._videoCallback = null;
                  }
                }
              }.bind(this));
            } else Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u521d\u59cb\u5316\u5931\u8d25!");
          }
        }
      };
      AdAgentWechat.prototype._createBanner = function(location, args) {
        var _this = this;
        void 0 === args && (args = null);
        if (PlatUtils_1.default.IsWechat) {
          var locationTmp = location;
          var argsTmp = args;
          if (argsTmp && argsTmp.width) {
            this._bannerSizePercent = argsTmp.width < 0 ? 0 : argsTmp.width;
            this._bannerSizePercent = argsTmp.width > 1 ? 1 : argsTmp.width;
          }
          if (argsTmp && argsTmp.bottom) {
            this._bannerBottom = argsTmp.bottom < 0 ? 0 : argsTmp.bottom;
            this._bannerBottom = argsTmp.bottom > cc.winSize.height ? cc.winSize.height : argsTmp.bottom;
          }
          var params = {
            adUnitId: Utils_1.utils.config.wechatconfig.getBannerId(locationTmp),
            style: {
              left: 0,
              width: 300,
              top: 0
            }
          };
          if (this._oldBannerLocation != locationTmp && this._curBannerAd) {
            this._curBannerAd.destroy();
            this._oldBannerLocation = locationTmp;
          }
          var curBannerAd_1 = wx.createBannerAd(params);
          if (curBannerAd_1) {
            curBannerAd_1.onError(function(err) {
              Utils_1.utils.showLog("\u5e7f\u544a\u6761\u52a0\u8f7d\u5931\u8d25! ", JSON.stringify(err));
              curBannerAd_1 && curBannerAd_1.destroy();
              _this.ServerConfig.banner_first_ad && "default" == _this.ServerConfig.banner_first_ad && _this.showNativeBannerAd(location, args);
            });
            var self_2 = this;
            curBannerAd_1.onLoad(function() {
              curBannerAd_1.show().then(function() {
                var old = self_2._curBannerAd;
                old && old.destroy();
                self_2._curBannerAd = curBannerAd_1;
                Utils_1.utils.showLog("\u9ed8\u8ba4Banner\u5e7f\u544a\u663e\u793a\u6210\u529f!");
                _this.HideNativeBanner();
              }).catch(function(err) {
                Utils_1.utils.showLog("Banner\u5e7f\u544a\u51fa\u9519", JSON.stringify(err));
                curBannerAd_1 && curBannerAd_1.destroy();
                _this.ServerConfig.banner_first_ad && "default" == _this.ServerConfig.banner_first_ad && _this.showNativeBannerAd(location, args);
              });
            });
            curBannerAd_1.onResize(function(res) {
              curBannerAd_1.style.width = Utils_1.utils.wechatTool.getSystemInfo().screenWidth * self_2._bannerSizePercent;
              curBannerAd_1.style.left = .5 * (Utils_1.utils.wechatTool.getSystemInfo().screenWidth - res.width);
              self_2._bannerBottom == cc.winSize.height ? curBannerAd_1.style.top = 0 : curBannerAd_1.style.top = Utils_1.utils.wechatTool.getSystemInfo().screenHeight - res.height - self_2._bannerBottom;
            });
          } else Utils_1.utils.showLog("\u5e7f\u544a\u6761\u521b\u5efa\u5931\u8d25!");
        }
      };
      AdAgentWechat.prototype.createCustomADBanner = function(location, args) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Game);
        void 0 === args && (args = null);
        if (PlatUtils_1.default.IsWechat) {
          var locationTmp_1 = location;
          Utils_1.utils.config.wechatconfig.getBannerId(locationTmp_1) || (locationTmp_1 = YZ_Constant_1.BannerLocation.Home);
          var argsTmp_1 = args;
          if (argsTmp_1 && argsTmp_1.width) {
            this._bannerSizePercent = argsTmp_1.width < 0 ? 0 : argsTmp_1.width;
            this._bannerSizePercent = argsTmp_1.width > 1 ? 1 : argsTmp_1.width;
          }
          if (argsTmp_1 && argsTmp_1.bottom) {
            this._bannerBottom = argsTmp_1.bottom < 0 ? 0 : argsTmp_1.bottom;
            this._bannerBottom = argsTmp_1.bottom > cc.winSize.height ? cc.winSize.height : argsTmp_1.bottom;
          }
          var params = {
            adUnitId: Utils_1.utils.config.wechatconfig.getBannerId(locationTmp_1),
            style: {
              left: 0,
              width: 300,
              top: 0
            }
          };
          if (this._oldBannerLocation != locationTmp_1 && this._curBannerAd) {
            this._curBannerAd.destroy();
            this._oldBannerLocation = locationTmp_1;
          }
          var curBannerAd_2 = wx.createBannerAd(params);
          if (curBannerAd_2) {
            curBannerAd_2.onError(function(err) {
              Utils_1.utils.showLog("\u5e7f\u544a\u6761\u52a0\u8f7d\u5931\u8d25! ", JSON.stringify(err));
              curBannerAd_2 && curBannerAd_2.destroy();
            });
            var self_3 = this;
            curBannerAd_2.onLoad(function() {
              cc.director.on("CloseCustomADPanel", function() {
                curBannerAd_2.show().then(function() {
                  var old = self_3._curBannerAd;
                  old && old.destroy();
                  self_3._curBannerAd = curBannerAd_2;
                  Utils_1.utils.showLog("Banner\u5e7f\u544a\u663e\u793a\u6210\u529f!");
                  var interval = 18;
                  Utils_1.utils.wechatTool.ServerConfig.refresh_ad_time && (interval = Utils_1.utils.wechatTool.ServerConfig.refresh_ad_time);
                  clearInterval(self_3._showBannerTimerId);
                  self_3._showBannerTimerId = setInterval(function() {
                    Utils_1.utils.showLog("\u663e\u793aBanner\u5e7f\u544a\uff01location:" + locationTmp_1 + "; args:" + JSON.stringify(argsTmp_1) + "; \u95f4\u9694\u65f6\u95f4:" + Utils_1.utils.wechatTool.ServerConfig.refresh_ad_time);
                    self_3._showBannerTimer(locationTmp_1, argsTmp_1);
                  }.bind(self_3), 1e3 * interval);
                }).catch(function(err) {
                  Utils_1.utils.showLog("Banner\u5e7f\u544a\u51fa\u9519", JSON.stringify(err));
                  curBannerAd_2 && curBannerAd_2.destroy();
                });
                cc.director.targetOff(self_3);
              }, self_3);
            });
            curBannerAd_2.onResize(function(res) {
              curBannerAd_2.style.width = Utils_1.utils.wechatTool.getSystemInfo().screenWidth * self_3._bannerSizePercent;
              curBannerAd_2.style.left = .5 * (Utils_1.utils.wechatTool.getSystemInfo().screenWidth - res.width);
              self_3._bannerBottom == cc.winSize.height ? curBannerAd_2.style.top = 0 : curBannerAd_2.style.top = Utils_1.utils.wechatTool.getSystemInfo().screenHeight - res.height - self_3._bannerBottom;
            });
          } else Utils_1.utils.showLog("\u5e7f\u544a\u6761\u521b\u5efa\u5931\u8d25!");
        }
      };
      AdAgentWechat.prototype._initInsertAd = function() {
        var _this = this;
        if (PlatUtils_1.default.IsWechat) {
          if (!Utils_1.utils.wechatTool.isOverMinVersion("2.6.0")) {
            Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u63d2\u5c4f\u5e7f\u544a!");
            return;
          }
          if (!this._insertAd) {
            Utils_1.utils.showLog("\u521d\u59cb\u5316\u63d2\u5c4f\u5e7f\u544a!");
            if (!Utils_1.utils.config.wechatconfig.insertId) {
              Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544aID\u914d\u7f6e\u9519\u8bef!");
              return;
            }
            Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544aID:", Utils_1.utils.config.wechatconfig.insertId.trim());
            this._insertAd = wx.createInterstitialAd({
              adUnitId: Utils_1.utils.config.wechatconfig.insertId.trim()
            });
            if (this._insertAd) {
              this._insertAd.onLoad(function() {
                Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u62c9\u53d6\u6210\u529f!");
              });
              this._insertAd.onError(function(err) {
                Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u62c9\u53d6\u5931\u8d25!", JSON.stringify(err));
                _this.ServerConfig.intersititial_first_ad && "default" == _this.ServerConfig.intersititial_first_ad && _this.showNativeIntersititialAd();
              });
              this._insertAd.onClose(function() {
                Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u88ab\u5173\u95ed!");
              });
            } else Utils_1.utils.showLog("\u63d2\u5c4f\u7ec4\u4ef6\u521d\u59cb\u5316\u5931\u8d25!");
          }
        }
      };
      AdAgentWechat.prototype._showBannerTimer = function(location, args) {
        var locationTmp = location;
        var argsTmp = args;
        Utils_1.utils.showLog("\u663e\u793aBanner\u5e7f\u544axxx\uff01location:" + locationTmp + "; args:" + JSON.stringify(argsTmp) + "; \u95f4\u9694\u65f6\u95f4:" + Utils_1.utils.wechatTool.ServerConfig.refresh_ad_time + ";\u4f18\u5148\u7ea7\uff1a" + this.ServerConfig.banner_first_ad);
        if (this.ServerConfig.banner_first_ad && "native" == this.ServerConfig.banner_first_ad) this.showNativeBannerAd(location, args); else if (locationTmp == YZ_Constant_1.BannerLocation.None) Utils_1.utils.showLog("\u672a\u5b9a\u4e49\u7684BannerLocation,", locationTmp); else if (Utils_1.utils.config.wechatconfig.getBannerId(locationTmp)) this._createBanner(locationTmp, argsTmp); else {
          Utils_1.utils.showLog("\u672a\u627e\u5230\u4f4d\u7f6e\u4e3a " + locationTmp + " \u7684\u5e7f\u544aID!");
          this._createBanner(YZ_Constant_1.BannerLocation.Home, argsTmp);
        }
      };
      AdAgentWechat.prototype.ShowBanner = function(location, args) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        void 0 === args && (args = null);
        if (PlatUtils_1.default.IsWechat) {
          if (!Utils_1.utils.wechatTool.isOverMinVersion("2.0.4")) {
            Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301Banner\u5e7f\u544a!");
            return;
          }
          if (Utils_1.utils.wechatTool.ServerConfig) {
            var locationTmp_2 = location;
            var argsTmp_2 = args;
            this._showBannerTimer(locationTmp_2, argsTmp_2);
            var interval = 18;
            Utils_1.utils.wechatTool.ServerConfig.refresh_ad_time && (interval = Utils_1.utils.wechatTool.ServerConfig.refresh_ad_time);
            clearInterval(this._showBannerTimerId);
            this._showBannerTimerId = setInterval(function() {
              Utils_1.utils.showLog("\u663e\u793aBanner\u5e7f\u544a\uff01location:" + locationTmp_2 + "; args:" + JSON.stringify(argsTmp_2) + "; \u95f4\u9694\u65f6\u95f4:" + Utils_1.utils.wechatTool.ServerConfig.refresh_ad_time);
              this._showBannerTimer(locationTmp_2, argsTmp_2);
            }.bind(this), 1e3 * interval);
          } else Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!");
        }
      };
      AdAgentWechat.prototype.HideBanner = function(location) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        if (PlatUtils_1.default.IsWechat) {
          Utils_1.utils.showLog("\u9690\u85cf\u5e7f\u544a\u6761");
          clearInterval(this._showBannerTimerId);
          this.HideDefaultBanner();
          this.HideNativeBanner();
        }
      };
      AdAgentWechat.prototype.HideDefaultBanner = function() {
        this._curBannerAd && this._curBannerAd.hide();
      };
      AdAgentWechat.prototype.HideNativeBanner = function() {
        this.nativeBannerAd && this.nativeBannerAd.hide();
      };
      AdAgentWechat.prototype.ShowInterstitial = function(location) {
        var _this = this;
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        if (PlatUtils_1.default.IsWechat) {
          if (!Utils_1.utils.wechatTool.isOverMinVersion("2.6.0")) {
            Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u63d2\u5c4f\u5e7f\u544a!");
            return;
          }
          var delayTime = 0;
          Utils_1.utils.wechatTool && Utils_1.utils.wechatTool.ServerConfig && Utils_1.utils.wechatTool.ServerConfig.intersititia_delay_show_time && (delayTime = Utils_1.utils.wechatTool.ServerConfig.intersititia_delay_show_time);
          Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5ef6\u65f6\u5c55\u793a\uff01 delayTime:" + delayTime + "\u79d2");
          setTimeout(function() {
            if (_this.ServerConfig && _this.ServerConfig.intersititial_first_ad && "box" == _this.ServerConfig.intersititial_first_ad) {
              Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u76d2\u5b50\u63d2\u5c4f\u5e7f\u544a!");
              if (_this.canShowBoxInsertAd()) _this._createBoxInsertAd(); else {
                Utils_1.utils.showLog("\u76d2\u5b50\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25\uff0c\u5c55\u793a\u9ed8\u8ba4\u63d2\u5c4f!");
                _this._createMiniGameInsertAd();
              }
            } else if (_this.ServerConfig && _this.ServerConfig.intersititial_first_ad && "native" == _this.ServerConfig.intersititial_first_ad) _this.showNativeIntersititialAd(); else {
              Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
              _this._createMiniGameInsertAd();
            }
          }, 1e3 * delayTime);
        }
      };
      AdAgentWechat.prototype._createBoxInsertAd = function() {
        Utils_1.utils.rewardCallFunc = null;
        Utils_1.utils.rewardCloseFunc = null;
        if (Utils_1.utils.config && Utils_1.utils.config.otherconfig.beforGameOverRecGamesPanel && Utils_1.utils.getRecommondGameList()) {
          var panel = cc.instantiate(Utils_1.utils.config.otherconfig.beforGameOverRecGamesPanel);
          panel.zIndex = 999999;
          var morePanel = panel.getComponent("BeforGameOverRecGamesPanel");
          cc.director.getScene().addChild(panel);
          morePanel._location = YZ_Constant_1.SubLocation.isBoxInsertAd;
          morePanel.init(Utils_1.utils.getRecommondGameList());
          morePanel.show();
        } else Utils_1.utils.showLog("\u4e92\u63a8\u63d2\u5c4f\u5c55\u793a\u5931\u8d25\uff01");
      };
      AdAgentWechat.prototype.canShowBoxInsertAd = function() {
        var jumpList = Utils_1.utils.getRecommondGameList();
        if (jumpList && jumpList.length > 0) return true;
        return false;
      };
      AdAgentWechat.prototype._createMiniGameInsertAd = function() {
        var _this = this;
        if (this._insertAd) this._insertAd.show().then(function() {
          Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u6210\u529f!");
          if (_this.isFirstShowInsertAd && "true" == Utils_1.utils.getConfigByKey("insert_ad_first_show_active")) {
            _this.isFirstShowInsertAd = false;
            Utils_1.utils.wechatTool.reportAttributedEvent(YZ_Constant_1.AttributedType.GameAddiction, YZ_Constant_1.AttributedKey.GameAddiction, YZ_Constant_1.AttributedValue.InsertAdFirstShowAction);
          }
        }).catch(function(err) {
          Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25!", JSON.stringify(err));
          _this.ServerConfig.intersititial_first_ad && "default" == _this.ServerConfig.intersititial_first_ad && _this.showNativeIntersititialAd();
        }); else {
          Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u672a\u521d\u59cb\u5316");
          this.ServerConfig.intersititial_first_ad && "default" == this.ServerConfig.intersititial_first_ad && this.showNativeIntersititialAd();
        }
      };
      AdAgentWechat.prototype.ShowVideo = function(callback) {
        if (PlatUtils_1.default.IsWechat) {
          this._videoCallback = callback;
          if (this.checkRewardInsertIsShow() && Utils_1.utils.wechatTool && Utils_1.utils.wechatTool.ServerConfig && Utils_1.utils.wechatTool.ServerConfig.reward_first_ad && "video" != Utils_1.utils.wechatTool.ServerConfig.reward_first_ad) {
            Utils_1.utils.showLog("<<<\u670d\u52a1\u5668\u9ed8\u8ba4\u4f18\u5148\u5c55\u793a\u6fc0\u52b1\u63d2\u5c4f>>>");
            this.showRewardInsert();
            return;
          }
          if (!Utils_1.utils.wechatTool.isOverMinVersion("2.0.4")) {
            Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u89c6\u9891\u5e7f\u544a!");
            this._videoCallback && this.showRewardInsert();
            return;
          }
          if (this._videoAd) this._videoAd.show().then(function() {
            Utils_1.utils.showLog("\u89c6\u9891\u663e\u793a\u6210\u529f\uff01");
          }.bind(this)).catch(function(err) {
            Utils_1.utils.showLog("\u89c6\u9891\u672a\u52a0\u8f7d\uff01");
            this._videoAd.load();
            this._videoCallback && this.showRewardInsert();
          }.bind(this)); else {
            Utils_1.utils.showLog("\u89c6\u9891\u672a\u521d\u59cb\u5316!");
            this._videoCallback && this.showRewardInsert();
          }
        }
      };
      AdAgentWechat.prototype.checkRewardInsertIsShow = function() {
        var jumpList = Utils_1.utils.getRecommondGameList();
        if (Utils_1.utils.isSupportnavigateToMiniGame()) {
          if (Utils_1.utils.wechatTool && Utils_1.utils.wechatTool.ServerConfig && Utils_1.utils.wechatTool.ServerConfig.is_reward_intersititia) {
            if ("true" == Utils_1.utils.wechatTool.ServerConfig.is_reward_intersititia && jumpList && jumpList.length > 0) {
              Utils_1.utils.showLog("\u6fc0\u52b1\u63d2\u5c4f\u663e\u793a\u73af\u5883\u9a8c\u8bc1\u901a\u8fc7\uff01");
              return true;
            }
            cc.warn("is_reward_intersititia \u53c2\u6570\u4e3afalse\uff0c\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
            return false;
          }
          cc.warn("\u914d\u7f6e\u4e2d\u6ca1\u6709is_reward_intersititia\u53c2\u6570\uff0c\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
          return false;
        }
        Utils_1.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u5c0f\u7a0b\u5e8f\u8df3\u8f6c\uff01");
        return false;
      };
      AdAgentWechat.prototype.showRewardInsert = function() {
        Utils_1.utils.showLog("show reward");
        if (!this.checkRewardInsertIsShow()) {
          Utils_1.utils.adManager.videoCallBack && Utils_1.utils.adManager.videoCallBack(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a\uff01");
          Utils_1.utils.adManager.videoCallBack = null;
          return;
        }
        if ((!cc.isValid(this._rewardInsertNode) || !this._rewardInsertNode) && Utils_1.utils.config.otherconfig.rewardInsert) {
          Utils_1.utils.showLog("\u521b\u5efa\u6fc0\u52b1\u63d2\u5c4f\u5e7f\u544a");
          this._rewardInsertNode = cc.instantiate(Utils_1.utils.config.otherconfig.rewardInsert);
          this._rewardInsertNode.position = CompatibleTool_1.default.position(cc.winSize.width / 2, cc.winSize.height / 2);
          cc.director.getScene().addChild(this._rewardInsertNode, 9999);
        }
        if (this._rewardInsertNode) {
          var rewardInsert = this._rewardInsertNode.getComponent("RewardInsert");
          if (rewardInsert) {
            rewardInsert.isShow = false;
            Utils_1.utils.showLog("\u663e\u793a\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\uff01");
          } else Utils_1.utils.showLog("RewardInsert\u7ec4\u4ef6\u4e0d\u5b58\u5728!");
        } else Utils_1.utils.showLog("\u6fc0\u52b1\u63d2\u5c4f\u6ca1\u6709\u521b\u5efa\uff01");
      };
      AdAgentWechat.prototype.hideRewardInsert = function() {
        if (this._rewardInsertNode) {
          var rewardInsert = this._rewardInsertNode.getComponent("RewardInsert");
          if (rewardInsert) {
            rewardInsert.hide();
            Utils_1.utils.showLog("\u9690\u85cf\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\uff01");
          } else Utils_1.utils.showLog("RewardInsert\u7ec4\u4ef6\u4e0d\u5b58\u5728!");
        } else Utils_1.utils.showLog("\u6fc0\u52b1\u63d2\u5c4f\u6ca1\u6709\u521b\u5efa\uff01");
      };
      AdAgentWechat.prototype.ShowCloseBtnBanner = function(location, args) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        if (PlatUtils_1.default.IsWechat) {
          if (Utils_1.utils.wechatTool && !Utils_1.utils.wechatTool.isOverMinVersion("2.0.4")) {
            Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301Banner\u5e7f\u544a!");
            return;
          }
          if (Utils_1.utils.wechatTool.ServerConfig && (!Utils_1.utils.wechatTool.ServerConfig.isMoveBtn || "true" != Utils_1.utils.wechatTool.ServerConfig.isMoveBtn)) {
            Utils_1.utils.showLog("\u670d\u52a1\u5668\u6ca1\u6709\u5f00\u542f\u79fb\u52a8\u6309\u94ae\uff0c\u4e0d\u663e\u793a\u5e7f\u544a\uff01");
            return;
          }
          if (Utils_1.utils.wechatTool && Utils_1.utils.wechatTool.ServerConfig) {
            if (PlatUtils_1.default.IsWechat) {
              var locationTmp = location;
              var params = {
                adUnitId: Utils_1.utils.config.wechatconfig.getBannerId(locationTmp),
                style: {
                  left: 0,
                  width: 300,
                  top: 0
                }
              };
              if (this._oldBannerLocation != locationTmp && this._curBannerAd) {
                this._curBannerAd.destroy();
                this._oldBannerLocation = locationTmp;
              }
              var curBannerAd_3 = wx.createBannerAd(params);
              if (curBannerAd_3) {
                curBannerAd_3.onError(function(err) {
                  Utils_1.utils.showLog("\u5e7f\u544a\u6761\u52a0\u8f7d\u5931\u8d25! ", JSON.stringify(err));
                  curBannerAd_3 && curBannerAd_3.destroy();
                });
                var self_4 = this;
                curBannerAd_3.onLoad(function() {
                  curBannerAd_3.show().then(function() {
                    var old = self_4._curBannerAd;
                    old && old.destroy();
                    self_4._curBannerAd = curBannerAd_3;
                    var closeBtn = args.closeBtn;
                    if (!closeBtn) return;
                    var winHeight = cc.winSize.height;
                    var adY = self_4.getBannerAdHeight();
                    Utils_1.utils.showLog("utils - adY:", adY);
                    if (adY > 0) {
                      closeBtn.y = -(winHeight / 2 - adY) + closeBtn.height;
                      Utils_1.utils.showLog("btnClose.y", closeBtn.y);
                    }
                    Utils_1.utils.showLog("\u5173\u95ed\u6309\u94ae---Banner\u5e7f\u544a\u663e\u793a\u6210\u529f!");
                  }).catch(function(err) {
                    Utils_1.utils.showLog("Banner\u5e7f\u544a\u51fa\u9519", JSON.stringify(err));
                    curBannerAd_3 && curBannerAd_3.destroy();
                  });
                });
                curBannerAd_3.onResize(function(res) {
                  curBannerAd_3.style.width = .6 * Utils_1.utils.wechatTool.getSystemInfo().screenWidth;
                  curBannerAd_3.style.left = .5 * (Utils_1.utils.wechatTool.getSystemInfo().screenWidth - res.width);
                  curBannerAd_3.style.top = Utils_1.utils.wechatTool.getSystemInfo().screenHeight - res.height;
                });
              } else Utils_1.utils.showLog("\u5e7f\u544a\u6761\u521b\u5efa\u5931\u8d25!");
            }
          } else Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!");
        }
      };
      AdAgentWechat.prototype.canShowCrossWidget6 = function() {
        if (PlatUtils_1.default.IsWechat) {
          if (Utils_1.utils.isSupportnavigateToMiniGame()) return true;
          cc.warn("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
          return false;
        }
      };
      AdAgentWechat.prototype.showCrossWidget6 = function() {
        if (this.canShowCrossWidget6()) {
          if (Utils_1.utils.config.otherconfig.crossWidget6) return cc.instantiate(Utils_1.utils.config.otherconfig.crossWidget6);
          Utils_1.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 CrossWidget6, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        }
        return null;
      };
      AdAgentWechat.prototype.showStatementAds = function(data) {
        var result = {
          type: 0,
          node: null
        };
        var node = null;
        this.ShowInterstitial();
        if (Utils_1.utils.canShowCrossWidget6()) {
          Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u663e\u793a6\u4e2a\u4e92\u63a8\u7ec4\u4ef6");
          node = this.showCrossWidget6();
          result.type = 1;
          result.node = node;
          return result;
        }
        return result;
      };
      AdAgentWechat.prototype.getBannerAdHeight = function() {
        if (this._curBannerAd) {
          var i = 2 * this._curBannerAd.style.realHeight;
          return null === i || void 0 === i || isNaN(i) ? 0 : i;
        }
        return 0;
      };
      AdAgentWechat.prototype.showNativeTryGameWidget = function(params) {
        void 0 === params && (params = null);
        if (!Utils_1.utils.wechatTool.isOverMinVersion("2.11.1")) {
          Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u539f\u751f\u5e7f\u544a!");
          return;
        }
        if (!this.ServerConfig) {
          Utils_1.utils.showLog("\u7ec4\u4ef6\u672a\u521d\u59cb\u5316\uff01");
          return;
        }
        if (!Utils_1.utils.config.wechatconfig.bannerBoxId) {
          Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544aID\u4e0d\u5b58\u5728");
          return;
        }
        var top = 0;
        var left = 0;
        top = params.top ? params.top / cc.winSize.height * this.sysInfo.screenHeight : this.sysInfo.screenHeight - 112 - params.bottom / cc.winSize.height * this.sysInfo.screenHeight;
        params.left ? left = params.left / cc.winSize.width * this.sysInfo.screenWidth : params.right && (left = this.sysInfo.screenWidth - 70 - params.right / cc.winSize.width * this.sysInfo.screenWidth);
        var customAd = wx.createCustomAd({
          adUnitId: Utils_1.utils.config.wechatconfig.bannerBoxId,
          adIntervals: 30,
          style: {
            left: left,
            top: top
          }
        });
        customAd.onError(function(erro) {
          Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u5f02\u5e38\uff01>>>>> #code=" + erro.errCode + " #msg=" + erro.errMsg);
          if (params.onError) {
            Utils_1.utils.showLog("\u6267\u884c\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u5f02\u5e38\u56de\u8c03\uff01");
            params.onError();
          }
        });
        customAd.onLoad(function() {
          Utils_1.utils.showLog("\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\uff01");
          customAd.show().then(function() {
            if (params.onSuccess) {
              Utils_1.utils.showLog("\u6267\u884c\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u663e\u793a\u6210\u529f\u56de\u8c03\uff01");
              params.onSuccess();
            }
            Utils_1.utils.showLog("\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u663e\u793a\u6210\u529f\uff01");
          }).catch(function(err) {
            Utils_1.utils.showLog("\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u663e\u793a\u5931\u8d25\uff01");
          });
        });
        this._customAdObjs.push(customAd);
      };
      AdAgentWechat.prototype.showCustomAd = function(params) {
        void 0 === params && (params = null);
        if (!Utils_1.utils.wechatTool.isOverMinVersion("2.11.1")) {
          Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u539f\u751f\u6a21\u7248\u5e7f\u544a!");
          return;
        }
        if (!this.ServerConfig) {
          Utils_1.utils.showLog("\u7ec4\u4ef6\u672a\u521d\u59cb\u5316\uff01");
          return;
        }
        if (Utils_1.utils.config.wechatconfig.customAdInfos.length < 1) {
          Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u914d\u7f6e\u4e0d\u5b58\u5728");
          return;
        }
        var customAdInfo = Utils_1.utils.config.wechatconfig.getCustomAdInfoInfo(params.location);
        if (!customAdInfo) {
          Utils_1.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u672a\u914d\u7f6e\u6a21\u7248\u5e7f\u544a\uff01");
          return;
        }
        var top = 0;
        var left = 0;
        if ("false" == customAdInfo.is_center) {
          top = customAdInfo.top > -1 ? customAdInfo.top / cc.winSize.height * this.sysInfo.screenHeight : this.sysInfo.screenHeight - customAdInfo.height - customAdInfo.bottom / cc.winSize.height * this.sysInfo.screenHeight;
          left = customAdInfo.left > -1 ? customAdInfo.left / cc.winSize.width * this.sysInfo.screenWidth : this.sysInfo.screenWidth - customAdInfo.width - customAdInfo.right / cc.winSize.width * this.sysInfo.screenWidth;
        } else if ("updown" == customAdInfo.is_center) {
          Utils_1.utils.showLog("\u539f\u751f\u6a21\u7248\u4e0a\u4e0b\u5c45\u4e2d\u5bf9\u9f50\uff01");
          left = customAdInfo.left > -1 ? customAdInfo.left / cc.winSize.width * this.sysInfo.screenWidth : this.sysInfo.screenWidth - customAdInfo.width - customAdInfo.right / cc.winSize.width * this.sysInfo.screenWidth;
          top = (this.sysInfo.screenHeight - customAdInfo.height) / 2;
        } else if ("about" == customAdInfo.is_center) {
          Utils_1.utils.showLog("\u539f\u751f\u6a21\u7248\u5de6\u53f3\u5c45\u4e2d\u5bf9\u9f50\uff01");
          left = (this.sysInfo.screenWidth - customAdInfo.width) / 2;
          top = customAdInfo.top > -1 ? customAdInfo.top / cc.winSize.height * this.sysInfo.screenHeight : this.sysInfo.screenHeight - customAdInfo.height - customAdInfo.bottom / cc.winSize.height * this.sysInfo.screenHeight;
        } else {
          Utils_1.utils.showLog("\u539f\u751f\u6a21\u7248\u4e0a\u4e0b\u5de6\u53f3\u5c45\u4e2d\u5bf9\u9f50\uff01");
          left = (this.sysInfo.screenWidth - customAdInfo.width) / 2;
          top = (this.sysInfo.screenHeight - customAdInfo.height) / 2;
        }
        var customAd = wx.createCustomAd({
          adUnitId: customAdInfo.id,
          adIntervals: customAdInfo.refresh_time,
          style: {
            left: left,
            top: top,
            width: customAdInfo.width
          }
        });
        customAd.location = params.location;
        Utils_1.utils.showLog("customAd style left=" + left + ",top=" + top + ";  screenWidth=" + this.sysInfo.screenWidth + ", screenHeight=" + this.sysInfo.screenHeight);
        customAd.onError(function(erro) {
          Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u5f02\u5e38\uff01>>>>> #code=" + erro.errCode + " #msg=" + erro.errMsg);
          if (params.onError) {
            Utils_1.utils.showLog("\u6267\u884c\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u5f02\u5e38\u56de\u8c03\uff01");
            params.onError();
          }
        });
        customAd.onLoad(function() {
          Utils_1.utils.showLog("\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\uff01");
          customAd.show().then(function() {
            if (params.onSuccess) {
              Utils_1.utils.showLog("\u6267\u884c\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u663e\u793a\u6210\u529f\u56de\u8c03\uff01");
              params.onSuccess();
            }
            Utils_1.utils.showLog("\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u663e\u793a\u6210\u529f\uff01");
          }).catch(function(err) {
            Utils_1.utils.showLog("\u5fae\u4fe1\u539f\u751f\u5e7f\u544a\u663e\u793a\u5931\u8d25\uff01");
          });
        });
        this._customAdObjs.push(customAd);
      };
      AdAgentWechat.prototype.hideCustomAd = function(params) {
        for (var i = 0; i < this._customAdObjs.length; i++) if (this._customAdObjs[i]) if (params && "location" in params) {
          if (this._customAdObjs[i].location == params.location) {
            Utils_1.utils.showLog("\u9690\u85cf\u4f4d\u7f6e\uff1a" + params.location + "\u7684\u539f\u751f\u6a21\u7248\u5e7f\u544a");
            this._customAdObjs[i].destroy();
            this._customAdObjs.splice(i, 1);
          }
        } else {
          this._customAdObjs[i].destroy();
          this._customAdObjs.splice(i, 1);
        }
        params && "location" in params || Utils_1.utils.showLog("\u9690\u85cf\u6240\u6709\u4f4d\u7f6e\u7684\u539f\u751f\u6a21\u7248\u5e7f\u544a");
      };
      AdAgentWechat.prototype.hideNativeTryGameWidget = function() {
        for (var i = 0; i < this._customAdObjs.length; i++) this._customAdObjs[i] && this._customAdObjs[i].destroy();
        for (var i = 0; i < this._customAdObjs.length; i++) this._customAdObjs.splice(i, 1);
      };
      AdAgentWechat.prototype.showNativeBannerAd = function(location, args) {
        var _this = this;
        void 0 === args && (args = null);
        Utils_1.utils.showLog("\u5c55\u793a\u539f\u751fbanner\u5e7f\u544a!");
        if (!Utils_1.utils.wechatTool.isOverMinVersion("2.11.1")) {
          Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u539f\u751f\u6a21\u7248\u5e7f\u544a!");
          return;
        }
        if (!this.ServerConfig) {
          Utils_1.utils.showLog("\u7ec4\u4ef6\u672a\u521d\u59cb\u5316\uff01");
          return;
        }
        if (!Utils_1.utils.config.wechatconfig.nativeBannerId) {
          Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544aID\u914d\u7f6e\u4e0d\u5b58\u5728");
          return;
        }
        var bannerWidth = 325;
        var bannerHeight = 100;
        var left = (this.sysInfo.screenWidth - bannerWidth) / 2;
        var top = this.sysInfo.screenHeight - bannerHeight;
        if (this.nativeBannerAd) {
          this.nativeBannerAd.isShow() ? Utils_1.utils.showLog("\u539f\u751fBanner\u6b63\u5728\u663e\u793a\uff0c\u4e0d\u91cd\u65b0\u521b\u5efa\uff01") : this.nativeBannerAd.show().then(function() {
            Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u663e\u793a\u6210\u529f\uff01");
            _this.HideDefaultBanner();
          }).catch(function(err) {
            Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u663e\u793a\u5931\u8d25\uff01");
            _this.nativeBannerAd && _this.nativeBannerAd.destroy();
            _this.nativeBannerAd = null;
            _this.ServerConfig.banner_first_ad && "native" == _this.ServerConfig.banner_first_ad && _this._createBanner(location, args);
          });
          return;
        }
        var customAd = wx.createCustomAd({
          adUnitId: Utils_1.utils.config.wechatconfig.nativeBannerId,
          adIntervals: Utils_1.utils.wechatTool.ServerConfig.refresh_ad_time || 30,
          style: {
            left: left,
            top: top,
            width: bannerWidth
          }
        });
        Utils_1.utils.showLog("native nanner ad style left=" + left + ",top=" + top + ";  screenWidth=" + this.sysInfo.screenWidth + ", screenHeight=" + this.sysInfo.screenHeight);
        customAd.onError(function(erro) {
          Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u5f02\u5e38\uff01>>>>> #code=" + erro.errCode + " #msg=" + erro.errMsg);
          _this.nativeBannerAd && _this.nativeBannerAd.destroy();
          _this.nativeBannerAd = null;
          _this.ServerConfig.banner_first_ad && "native" == _this.ServerConfig.banner_first_ad && _this._createBanner(location, args);
        });
        customAd.onLoad(function() {
          Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\uff01");
          customAd.show().then(function() {
            _this.nativeBannerAd && _this.nativeBannerAd.destroy();
            _this.nativeBannerAd = customAd;
            Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u663e\u793a\u6210\u529f\uff01");
            _this.HideDefaultBanner();
          }).catch(function(err) {
            Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u663e\u793a\u5931\u8d25\uff01");
            _this.nativeBannerAd && _this.nativeBannerAd.destroy();
            _this.nativeBannerAd = null;
            _this.ServerConfig.banner_first_ad && "native" == _this.ServerConfig.banner_first_ad && _this._createBanner(location, args);
          });
        });
      };
      AdAgentWechat.prototype.showNativeIntersititialAd = function() {
        var _this = this;
        Utils_1.utils.showLog("\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!");
        if (!Utils_1.utils.wechatTool.isOverMinVersion("2.11.1")) {
          Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u539f\u751f\u6a21\u7248\u5e7f\u544a!");
          return;
        }
        if (!this.ServerConfig) {
          Utils_1.utils.showLog("\u7ec4\u4ef6\u672a\u521d\u59cb\u5316\uff01");
          return;
        }
        if (!Utils_1.utils.config.wechatconfig.nativeInsertIds) {
          Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544aID\u914d\u7f6e\u4e0d\u5b58\u5728");
          return;
        }
        var insertWidth = 345;
        var insertHeight = 420;
        cc.winSize.width > cc.winSize.height && (insertHeight = 300);
        var left = (this.sysInfo.screenWidth - insertWidth) / 2;
        var top = (this.sysInfo.screenHeight - insertHeight) / 2;
        if (this.nativeIntersititialAd) {
          this.nativeIntersititialAd.isShow() ? Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u6b63\u5728\u663e\u793a\uff0c\u4e0d\u91cd\u65b0\u521b\u5efa\uff01") : this.nativeIntersititialAd.show().then(function() {
            Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f\uff01");
          }).catch(function(err) {
            Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u5931\u8d25\uff01");
            _this.nativeIntersititialAd && _this.nativeIntersititialAd.destroy();
            _this.nativeIntersititialAd = null;
            _this.ServerConfig.intersititial_first_ad && "native" == _this.ServerConfig.intersititial_first_ad && _this._createMiniGameInsertAd();
          });
          return;
        }
        var customAd = wx.createCustomAd({
          adUnitId: Utils_1.utils.config.wechatconfig.nativeInsertIds,
          adIntervals: 60,
          style: {
            left: left,
            top: top,
            width: insertWidth
          }
        });
        Utils_1.utils.showLog("native insert ad style left=" + left + ",top=" + top + ";  screenWidth=" + this.sysInfo.screenWidth + ", screenHeight=" + this.sysInfo.screenHeight);
        customAd.onError(function(erro) {
          Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u5f02\u5e38\uff01>>>>> #code=" + erro.errCode + " #msg=" + erro.errMsg);
          _this.nativeIntersititialAd && _this.nativeIntersititialAd.destroy();
          _this.nativeIntersititialAd = null;
          _this.ServerConfig.intersititial_first_ad && "native" == _this.ServerConfig.intersititial_first_ad && _this._createMiniGameInsertAd();
        });
        customAd.onLoad(function() {
          Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\uff01");
          customAd.show().then(function() {
            _this.nativeIntersititialAd && _this.nativeIntersititialAd.destroy();
            _this.nativeIntersititialAd = customAd;
            Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f\uff01");
          }).catch(function(err) {
            Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u5931\u8d25\uff01");
            _this.nativeIntersititialAd && _this.nativeIntersititialAd.destroy();
            _this.nativeIntersititialAd = null;
            _this.ServerConfig.intersititial_first_ad && "native" == _this.ServerConfig.intersititial_first_ad && _this._createMiniGameInsertAd();
          });
        });
      };
      AdAgentWechat = __decorate([ ccclass ], AdAgentWechat);
      return AdAgentWechat;
    }(AdAgent_1.default);
    exports.default = AdAgentWechat;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./CompatibleTool": "CompatibleTool",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  AdAgentWiFi: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a74c2u0w9xBuLKuXchK/Ass", "AdAgentWiFi");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdAgentWiFi = function(_super) {
      __extends(AdAgentWiFi, _super);
      function AdAgentWiFi() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._sysData = null;
        _this._curBannerAd = null;
        _this._videoAd = null;
        _this._insertAd = null;
        _this._oldAd = null;
        _this._appBox = null;
        _this._videoCallback = null;
        _this._isVideoLoaded = false;
        _this._isVideoShow = false;
        _this.wuji = window.wuji;
        _this._bannerShow = true;
        _this._showBannerTimerId = 0;
        return _this;
      }
      AdAgentWiFi.prototype.Init = function() {
        var _this = this;
        PlatUtils_1.default.IsWiFi && Utils_1.utils.registerServerInitEvent(function() {
          _this._sysData = Utils_1.utils.wifiTool.getSystemInfo();
        }, this);
      };
      Object.defineProperty(AdAgentWiFi.prototype, "ServerConfig", {
        get: function() {
          return Utils_1.utils.wifiTool.ServerConfig;
        },
        enumerable: false,
        configurable: true
      });
      AdAgentWiFi.prototype._initVideoAd = function() {
        var _this = this;
        if (!this._videoAd) {
          Utils_1.utils.showLog("\u521d\u59cb\u5316\u89c6\u9891!");
          var example = {
            adUnitId: ""
          };
          this._videoAd = this.wuji.createRewardedVideoAd(example);
          this._videoAd.onLoad(function() {
            Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u5b8c\u6210");
            _this._videoAd.show().then(function() {
              return Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5c55\u793a\u6210\u529f");
            }).catch(function(err) {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5c55\u793a\u5931\u8d25", err);
              _this._videoAd.load().then(function() {
                Utils_1.utils.showLog("\u624b\u52a8\u52a0\u8f7d\u6210\u529f");
                return _this._videoAd.show();
              });
            });
          });
          this._videoAd.onError(function(err) {
            Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u9519\u8bef", err);
            if (_this._videoCallback) {
              _this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
              _this._videoCallback = null;
            }
          });
          this._videoAd.onClose(function(res) {
            _this._isVideoShow = false;
            if (res.isEnded) {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1");
              if (_this._videoCallback) {
                _this._videoCallback(true, "");
                _this._videoCallback = null;
              }
            } else {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1");
              if (_this._videoCallback) {
                _this._videoCallback(false, "\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!");
                _this._videoCallback = null;
              }
            }
          });
        }
      };
      AdAgentWiFi.prototype._createBanner = function(location, args) {
        var _this = this;
        void 0 === args && (args = null);
        if (PlatUtils_1.default.IsWiFi) {
          var _a = this._sysData, windowWidth = _a.windowWidth, windowHeight = _a.windowHeight;
          var targetBannerAdWidth = windowWidth - 20;
          var example = {
            adUnitId: "",
            style: {
              top: windowHeight,
              left: (windowWidth - targetBannerAdWidth) / 2,
              width: targetBannerAdWidth
            }
          };
          this._curBannerAd = this.wuji.createBannerAd(example);
          this._curBannerAd.onLoad(function() {
            _this._curBannerAd.show().then(function() {
              return Utils_1.utils.showLog("banner ad \u5c55\u793a\u6210\u529f");
            }).catch(function(err) {
              return Utils_1.utils.showLog(err);
            });
          });
        }
      };
      AdAgentWiFi.prototype._showBannerTimer = function(location, args) {
        var locationTmp = location;
        var argsTmp = args;
        this._createBanner(locationTmp, argsTmp);
      };
      AdAgentWiFi.prototype.ShowInterstitial = function() {
        Utils_1.utils.showLog("\u8fde\u5c1a\u5c0f\u6e38\u620f\u6ca1\u6709\u63d2\u5c4f\u5e7f\u544a\uff01");
      };
      AdAgentWiFi.prototype.ShowBanner = function(location, args) {
        var _this = this;
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        void 0 === args && (args = null);
        if (PlatUtils_1.default.IsWiFi) if (this.ServerConfig) {
          var locationTmp = location;
          var argsTmp = args;
          var interval = 30;
          this.ServerConfig.refresh_ad_time && (interval = this.ServerConfig.refresh_ad_time);
          Utils_1.utils.showLog("\u663e\u793aBanner\u5e7f\u544a\uff01location:" + locationTmp + "; args:" + JSON.stringify(argsTmp) + "; \u95f4\u9694\u65f6\u95f4:" + this.ServerConfig.refresh_ad_time);
          var _a = this._sysData, windowWidth = _a.windowWidth, windowHeight = _a.windowHeight;
          var targetBannerAdWidth = windowWidth - 20;
          var example = {
            adUnitId: "",
            adIntervals: interval,
            style: {
              top: windowHeight,
              left: (windowWidth - targetBannerAdWidth) / 2,
              width: targetBannerAdWidth
            }
          };
          if (this._curBannerAd) {
            this._curBannerAd.offLoad();
            this._curBannerAd.destroy();
          }
          this._curBannerAd = this.wuji.createBannerAd(example);
          this._curBannerAd.onLoad(function() {
            _this._curBannerAd.show().then(function() {
              return Utils_1.utils.showLog("banner ad \u5c55\u793a\u6210\u529f");
            }).catch(function(err) {
              return Utils_1.utils.showLog(err);
            });
          });
        } else Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!");
      };
      AdAgentWiFi.prototype.HideBanner = function(location) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        if (PlatUtils_1.default.IsWiFi) {
          Utils_1.utils.showLog("\u9690\u85cf\u5e7f\u544a\u6761");
          this._bannerShow = false;
          clearInterval(this._showBannerTimerId);
          this._curBannerAd && this._curBannerAd.hide();
        }
      };
      AdAgentWiFi.prototype.ShowVideo = function(callback) {
        if (PlatUtils_1.default.IsWiFi) {
          this._videoCallback = callback;
          this._isVideoShow = true;
          this._videoAd ? this._videoAd.load() : this._initVideoAd();
        }
      };
      AdAgentWiFi = __decorate([ ccclass ], AdAgentWiFi);
      return AdAgentWiFi;
    }(AdAgent_1.default);
    exports.default = AdAgentWiFi;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  AdAgentXiaomi: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "fdbd3JnjlNEf4sZulsTyGNv", "AdAgentXiaomi");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var AdAgent_1 = require("./AdAgent");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var CompatibleTool_1 = require("./CompatibleTool");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdAgentXiaoMi = function(_super) {
      __extends(AdAgentXiaoMi, _super);
      function AdAgentXiaoMi() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._bannerAd = null;
        _this._insertAd = null;
        _this._videoAd = null;
        _this._nativeBannerAd = [];
        _this._nativeInsertAd = [];
        _this._nativeSingleAd = [];
        _this.nativeBannerAd = null;
        _this._isInsertShow = false;
        _this._curPosIdIndexNativeBanner = 0;
        _this._curPosIdIndexNativeInser = 0;
        _this._curPosIdIndexSingleNative = 0;
        _this._nativeData = null;
        _this._nativeInsertData = null;
        _this._nativeBannerNode = null;
        _this._nativeInsertNode = null;
        _this._videoCallback = null;
        _this._videoLoaded = null;
        _this._isBannerShow = false;
        _this._isInsertAdShow = false;
        _this._isInsertAdLoaded = false;
        _this._isVideoLoaded = false;
        _this._isVideoShow = false;
        _this.lastLastShowVideoTime = 0;
        _this.showNum = 0;
        _this.showInsertNum = 0;
        _this._showBannerCallBack = null;
        _this._isNativeBannerShow = false;
        _this._nativeIsClose = false;
        _this._showBannerTimerId = 0;
        _this._delayShowBannerId = 0;
        _this.canShowNativeBanner = true;
        _this._curLocation = YZ_Constant_1.BannerLocation.None;
        _this._isTimeRefresh = false;
        _this._startBannerTimerTask = 0;
        _this._showBannerCount = 0;
        _this._nativeBannerInfo = null;
        _this._curNativeBannerInfo = {};
        _this._nativeInsertAdShowCount = 0;
        _this._insertLastShowTime = 0;
        return _this;
      }
      Object.defineProperty(AdAgentXiaoMi.prototype, "ServerConfig", {
        get: function() {
          if (PlatUtils_1.default.IsXiaoMi) return Utils_1.utils.Tool_XiaoMi.ServerConfig;
          return null;
        },
        enumerable: false,
        configurable: true
      });
      AdAgentXiaoMi.prototype.Init = function() {
        var _this = this;
        PlatUtils_1.default.IsXiaoMi && Utils_1.utils.registerServerInitEvent(function() {
          _this._initVideoAd();
        }, this);
      };
      AdAgentXiaoMi.prototype._initVideoAd = function() {
        var _this = this;
        if (!this._videoAd) {
          if (!Utils_1.utils.config.xiaomiConfig.videoId) {
            Utils_1.utils.showLog("\u89c6\u9891ID\u914d\u7f6e\u4e0d\u6b63\u786e\uff01");
            if (this._videoCallback) {
              this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
              this._videoCallback = null;
            }
            return;
          }
          var posId = Utils_1.utils.config.xiaomiConfig.videoId.trim();
          Utils_1.utils.showLog("video\u5e7f\u544aID:" + posId);
          this._videoAd = qg.createRewardedVideoAd({
            adUnitId: posId
          });
          if (this._videoAd) {
            this._videoAd.onLoad(function() {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f!");
              _this._isVideoLoaded = true;
            });
            this._videoAd.onError(function(err) {
              Utils_1.utils.showLog("\u6fc0\u52b1\u89c6\u9891\u5f02\u5e38!error: errorMsg: " + err.errMsg + ", erroCode: " + err.errCode);
              _this._isVideoLoaded = false;
            });
            this._videoAd.onClose(function(res) {
              _this._isVideoShow = false;
              if (res && res.isEnded) {
                Utils_1.utils.showLog("\u6b63\u5e38\u64ad\u653e\u7ed3\u675f\uff0c\u53ef\u4ee5\u4e0b\u53d1\u6e38\u620f\u5956\u52b1");
                if (_this._videoCallback) {
                  _this._videoCallback(true, "");
                  _this._videoCallback = null;
                }
              } else {
                Utils_1.utils.showLog("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1");
                if (_this._videoCallback) {
                  _this._videoCallback(false, "\u89c2\u770b\u5b8c\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u5956\u52b1!");
                  _this._videoCallback = null;
                }
              }
            });
          }
        }
      };
      AdAgentXiaoMi.prototype.ShowBanner = function(location, args, isTimeRefresh) {
        var _this = this;
        void 0 === location && (location = null);
        void 0 === args && (args = null);
        void 0 === isTimeRefresh && (isTimeRefresh = false);
        if (PlatUtils_1.default.IsXiaoMi) {
          if (!this.ServerConfig) {
            Utils_1.utils.showLog("\u672a\u8bf7\u6c42\u5230\u914d\u7f6e\u6587\u4ef6\uff01");
            return;
          }
          if (this.ServerConfig && this.ServerConfig.isTest && "true" == this.ServerConfig.isTest) {
            this.showNum++;
            if (this.showNum % 2 == 0) {
              Utils_1.utils.showLog("\u6d4b\u8bd5\u6a21\u5f0f>> \u987a\u5e8f\u5c55\u793a\u539f\u751fBanner\u5e7f\u544a\uff01");
              this._createNativeBannerAd(this._showNativeBanner);
            } else {
              Utils_1.utils.showLog("\u6d4b\u8bd5\u6a21\u5f0f>> \u987a\u5e8f\u5c55\u793a\u9ed8\u8ba4Banner\u5e7f\u544a\uff01");
              this._createMiniGameBannerAd(location);
            }
            return;
          }
          if (!this.checkBannerAdShow()) {
            this.HideBanner();
            return;
          }
          this._showBannerCount++;
          var oldLocation = this._curLocation;
          this._curLocation = location;
          this._isTimeRefresh = isTimeRefresh;
          oldLocation != location && this.HideBanner(location);
          var curTime = new Date().getTime();
          var refresh_ad_time = (curTime - this._startBannerTimerTask) / 1e3;
          var interval_1 = this.ServerConfig.refresh_ad_time;
          args && args.isRefresh ? isTimeRefresh = true : interval_1 && interval_1 > 0 && refresh_ad_time > interval_1 && (isTimeRefresh = true);
          if (-1 == this.getNativeBannerInfo().is_show_banner) {
            Utils_1.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u914d\u7f6e\u4e3a\u4e0d\u5c55\u793abanner!");
            this.HideBanner(location);
            return;
          }
          if (!isTimeRefresh && this.ServerConfig.nbclr && "true" == this.ServerConfig.nbclr && this._curNativeBannerInfo.nativeBannerAd) {
            Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5b9a\u65f6\u5668\u5237\u65b0\u6570\u636e ");
            Utils_1.utils.showLog("\u539f\u751fbanner\u5ef6\u8fdf\u663e\u793a" + this.getNativeBannerInfo().delay_show_time + "\u79d2");
            clearTimeout(this._showBannerTimerId);
            clearTimeout(this._delayShowBannerId);
            this._delayShowBannerId = setTimeout(function() {
              _this._showNativeBanner(_this._curNativeBannerInfo.nativeBannerAd, _this._curNativeBannerInfo.data);
            }, 1e3 * this.getNativeBannerInfo().delay_show_time);
            Utils_1.utils.showLog("\u5f00\u542f\u5b9a\u65f6\u5237\u65b0 >>>>>>>>>" + (interval_1 - refresh_ad_time));
            this._showBannerTimerId = setTimeout(function() {
              Utils_1.utils.showLog("\u5b9a\u65f6" + interval_1 + "\u79d2\u8c03\u7528showbanner");
              _this.ShowBanner(_this._curLocation, {}, true);
            }, 1e3 * (interval_1 - refresh_ad_time));
            return;
          }
          this.canShowNativeBanner = true;
          this._nativeIsClose = false;
          clearTimeout(this._showBannerTimerId);
          clearTimeout(this._delayShowBannerId);
          Utils_1.utils.showLog("\u6e05\u7406\u5b9a\u65f6\u5668");
          if (this.ServerConfig) {
            Utils_1.utils.showLog("banner \u4f18\u5148\u5c55\u793a >>>>" + this.ServerConfig.banner_first_ad);
            if (interval_1 && interval_1 > 0) {
              Utils_1.utils.showLog("\u5f00\u542f\u5b9a\u65f6\u5237\u65b0 >>>>>>>>>" + interval_1);
              this._showBannerTimerId = setTimeout(function() {
                Utils_1.utils.showLog("\u5b9a\u65f6" + interval_1 + "\u79d2\u8c03\u7528showbanner");
                _this.ShowBanner(_this._curLocation, {}, true);
              }, 1e3 * interval_1);
            }
            var closeCount = this.ServerConfig.banner_close_count ? this.ServerConfig.banner_close_count : 0;
            if (closeCount > 0 && Utils_1.utils.Tool_XiaoMi.bannerAdCloseCounts >= closeCount) {
              Utils_1.utils.showLog("banner \u5173\u95ed\u6b21\u6570\u8fbe\u5230" + closeCount + "\u6b21,banner\u4eca\u65e5\u4e0d\u518d\u663e\u793a\uff01");
              return;
            }
            if (this.ServerConfig.banner_first_ad) if (this.ServerConfig.banner_first_ad.indexOf("native") > -1) {
              Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751fBanner\u5e7f\u544a!" + isTimeRefresh + " <<<<");
              if (this._isTimeRefresh) this._createNativeBannerAd(this._showNativeBanner); else {
                Utils_1.utils.showLog("\u539f\u751fbanner\u5ef6\u8fdf\u663e\u793a" + this.getNativeBannerInfo().delay_show_time + "\u79d2");
                this._delayShowBannerId = setTimeout(function() {
                  _this._createNativeBannerAd(_this._showNativeBanner);
                }, 1e3 * this.getNativeBannerInfo().delay_show_time);
              }
            } else {
              Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620fBanner\u5e7f\u544a!");
              this._createMiniGameBannerAd(location);
            } else Utils_1.utils.showLog("\u914d\u7f6e\u6570\u636e\u4e2d\u6ca1\u6709 banner_first_ad \u5b57\u6bb5\uff0c banner\u5e7f\u544a\u4e0d\u663e\u793a!");
          } else Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!");
        }
      };
      AdAgentXiaoMi.prototype.HideBanner = function(location) {
        void 0 === location && (location = null);
        if (PlatUtils_1.default.IsXiaoMi) {
          clearTimeout(this._showBannerTimerId);
          clearTimeout(this._delayShowBannerId);
          this._isBannerShow = false;
          this._nativeIsClose = true;
          if (this._bannerAd) {
            Utils_1.utils.showLog("\u9690\u85cf\u5c0f\u6e38\u620fBanner");
            this._bannerAd.hide();
          }
          this.canShowNativeBanner = false;
          if (this._nativeBannerNode) {
            Utils_1.utils.showLog("\u9690\u85cf\u539f\u751fBanner");
            this._nativeBannerNode.active = false;
          }
        }
      };
      AdAgentXiaoMi.prototype.getNativeBannerInfo = function() {
        if (this._nativeBannerInfo && this._nativeBannerInfo.location == this._curLocation) return this._nativeBannerInfo;
        return Utils_1.utils.config.xiaomiConfig.getNativeBannerInfo(this._curLocation);
      };
      AdAgentXiaoMi.prototype._createMiniGameBannerAd = function(location) {
        var _this = this;
        void 0 === location && (location = null);
        if (PlatUtils_1.default.IsXiaoMi) {
          this._isBannerShow = true;
          if (Utils_1.utils.config.xiaomiConfig && Utils_1.utils.config.xiaomiConfig.bannerId) {
            this._bannerAd && this._bannerAd.destroy();
            var left = .5 * (Utils_1.utils.Tool_XiaoMi.SysInfo.screenWidth - 385);
            cc.winSize.height < cc.winSize.width && (left = .5 * Utils_1.utils.Tool_XiaoMi.SysInfo.screenWidth);
            var bannerStyle = {
              left: left,
              top: Utils_1.utils.Tool_XiaoMi.SysInfo.screenHeight - 58,
              width: 385
            };
            "top" === this.getNativeBannerInfo()._alignType && (bannerStyle.top = 0);
            this._bannerAd = qg.createBannerAd({
              adUnitId: Utils_1.utils.config.xiaomiConfig.bannerId,
              style: bannerStyle
            });
            Utils_1.utils.showLog("createBannerAd:" + this._bannerAd);
            Utils_1.utils.showLog("\u6ce8\u518c\u5c0f\u6e38\u620fbanner\u56de\u8c03!");
            this._bannerAd.onError(function(err) {
              Utils_1.utils.showLog("xiaomi \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u51fa\u9519: " + err.code + err.msg);
              var bannerInfo = _this.getNativeBannerInfo();
              if (-1 == bannerInfo.st_banner_show_back_up) {
                Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a");
                return;
              }
              if (_this._isBannerShow) {
                _this._isBannerShow = false;
                if (_this.ServerConfig.banner_first_ad.indexOf("default") > -1) {
                  _this._curPosIdIndexNativeBanner = 0;
                  _this._createNativeBannerAd(_this._showNativeBanner.bind(_this));
                }
              }
            });
            this._bannerAd.onResize(function(res) {
              Utils_1.utils.showLog("xiaomi \u5c0f\u6e38\u620fBanner\u663e\u793a\u6210\u529f\uff01");
              _this._nativeBannerNode && (_this._nativeBannerNode.active = false);
              _this._showBannerCallBack && _this._showBannerCallBack();
              _this._showBannerCallBack = null;
              _this._bannerAd.style.left = .5 * (Utils_1.utils.Tool_XiaoMi.SysInfo.screenWidth - res.width);
              "top" == _this.getNativeBannerInfo()._alignType ? _this._bannerAd.style.top = 0 : _this._bannerAd.style.top = Utils_1.utils.Tool_XiaoMi.SysInfo.screenHeight - res.height;
            });
            this._bannerAd.onClose(function() {
              Utils_1.utils._bannerCloseTime = new Date().getTime();
              if (_this._isNativeBannerShow) {
                _this._isNativeBannerShow = false;
                Utils_1.utils.showLog("xiaomi \u5c0f\u6e38\u620fBanner \u5e7f\u544a\u9690\u85cf,\u6765\u81ea\u539f\u751f\u7684\u663e\u793a\uff0c\u4e0d\u589e\u52a0\u9690\u85cf\u6b21\u6570\uff0c\u5f53\u524d\u9690\u85cf\u6b21\u6570>" + Utils_1.utils.Tool_XiaoMi.bannerAdCloseCounts);
              } else {
                Utils_1.utils.Tool_XiaoMi.countBannerCloseCount();
                Utils_1.utils.showLog("xiaomi \u5c0f\u6e38\u620fBanner \u5e7f\u544a\u9690\u85cf,\u5f53\u524d\u9690\u85cf\u6b21\u6570>" + Utils_1.utils.Tool_XiaoMi.bannerAdCloseCounts);
              }
            });
            if (this._bannerAd) {
              this._bannerAd.show();
              Utils_1.utils.showLog("xiaomi \u5c0f\u6e38\u620fBanner show");
            } else {
              Utils_1.utils.showLog("xiaomi \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u521b\u5efa\u5931\u8d25!");
              if (this.ServerConfig.indexOf("default") > -1) {
                this._curPosIdIndexNativeBanner = 0;
                this._createNativeBannerAd(this._showNativeBanner.bind(this));
              }
            }
          } else {
            Utils_1.utils.showLog("xiaomi \u5c0f\u6e38\u620fBanner\u5e7f\u544a\u914d\u7f6e\u4fe1\u606f\u9519\u8bef!");
            var bannerInfo = this.getNativeBannerInfo();
            if (-1 == bannerInfo.st_banner_show_back_up) {
              Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a");
              return;
            }
            if (this.ServerConfig.banner_first_ad.indexOf("default") > -1) {
              this._curPosIdIndexNativeBanner = 0;
              this._createNativeBannerAd(this._showNativeBanner.bind(this));
            }
          }
        }
      };
      AdAgentXiaoMi.prototype._createNativeBannerAd = function(completeCallback) {
        var _this = this;
        if (PlatUtils_1.default.IsXiaoMi) {
          var callback_1 = completeCallback;
          Utils_1.utils.showLog("curPosIdIndexNativeBanner:" + this._curPosIdIndexNativeBanner);
          var nativeBannerAd_1 = this._nativeBannerAd[this._curPosIdIndexNativeBanner];
          if (!nativeBannerAd_1 && Utils_1.utils.config.xiaomiConfig.nativeBannerIds && Utils_1.utils.config.xiaomiConfig.nativeBannerIds[this._curPosIdIndexNativeBanner]) {
            Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u5e7f\u544aBanner\u3002 posId:" + Utils_1.utils.config.xiaomiConfig.nativeBannerIds[this._curPosIdIndexNativeBanner]);
            nativeBannerAd_1 = qg.createNativeAd({
              adUnitId: Utils_1.utils.config.xiaomiConfig.nativeBannerIds[this._curPosIdIndexNativeBanner]
            });
            if (nativeBannerAd_1) {
              this._nativeBannerAd.push(nativeBannerAd_1);
              nativeBannerAd_1.onLoad(function(res) {
                if (_this._nativeIsClose) {
                  Utils_1.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");
                  return;
                }
                if (res && res.adList && res.adList.length > 0) {
                  _this._startBannerTimerTask = new Date().getTime();
                  Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01");
                  Utils_1.utils.showLog(JSON.stringify(res));
                  res = JSON.parse(JSON.stringify(res));
                  var data = res.adList[0];
                  if (_this._checkNativeDataValid(data) || "true" == _this.getNativeBannerInfo().show_st_banner) {
                    if (_this.canShowNativeBanner) {
                      _this._curPosIdIndexNativeBanner = 0;
                      _this._showNativeBanner(nativeBannerAd_1, data);
                      _this._curNativeBannerInfo.nativeBannerAd = nativeBannerAd_1;
                      _this._curNativeBannerInfo.data = data;
                      if (_this._bannerAd) {
                        _this._isNativeBannerShow = true;
                        Utils_1.utils.showLog("\u9690\u85cf\u5c0f\u6e38\u620fBanner");
                        _this._bannerAd.hide();
                      }
                    } else Utils_1.utils.showLog("\u5df2\u7ecf\u9690\u85cfbanner\u4e0d\u53ef\u91cd\u590d\u5c55\u793a");
                    return;
                  }
                }
                Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01");
                _this._curPosIdIndexNativeBanner++;
                if (_this._curPosIdIndexNativeBanner < Utils_1.utils.config.xiaomiConfig.nativeBannerIds.length) _this._createNativeBannerAd(callback_1); else {
                  _this._curPosIdIndexNativeBanner = 0;
                  Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                  var bannerInfo = _this.getNativeBannerInfo();
                  if (-1 == bannerInfo.st_banner_show_back_up) {
                    Utils_1.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");
                    return;
                  }
                  if (_this.ServerConfig.banner_first_ad.indexOf("native") > -1) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01");
                    _this._createMiniGameBannerAd();
                  }
                }
              });
              nativeBannerAd_1.onError(function(err) {
                if (_this._nativeIsClose) {
                  Utils_1.utils.showLog("\u9690\u85cf\u4e86BANNER\uff0c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff01");
                  return;
                }
                Utils_1.utils.showLog("\u539f\u751fBanner\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01" + err.code + err.msg);
                _this._curPosIdIndexNativeBanner++;
                if (_this._curPosIdIndexNativeBanner < Utils_1.utils.config.xiaomiConfig.nativeBannerIds.length) _this._createNativeBannerAd(callback_1); else {
                  _this._curPosIdIndexNativeBanner = 0;
                  Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                  var bannerInfo = _this.getNativeBannerInfo();
                  if (-1 == bannerInfo.st_banner_show_back_up) {
                    Utils_1.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");
                    return;
                  }
                  if (_this.ServerConfig.banner_first_ad.indexOf("native") > -1) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01");
                    _this._createMiniGameBannerAd();
                  } else if (Utils_1.utils.isShowRecommondGamesBanner()) {
                    clearTimeout(_this._showBannerTimerId);
                    Utils_1.utils.showRecommendGamesBanner();
                    Utils_1.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner");
                    return;
                  }
                }
              });
            }
          }
          if (nativeBannerAd_1) {
            Utils_1.utils.showLog("nativeBannerAd reLoad>>");
            nativeBannerAd_1.load();
          } else {
            this._curPosIdIndexNativeBanner++;
            if (Utils_1.utils.config.xiaomiConfig.nativeBannerIds && this._curPosIdIndexNativeBanner < Utils_1.utils.config.xiaomiConfig.nativeBannerIds.length) this._createNativeBannerAd(callback_1); else {
              this._curPosIdIndexNativeBanner = 0;
              Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u6761\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
              var bannerInfo = this.getNativeBannerInfo();
              if (-1 == bannerInfo.st_banner_show_back_up) {
                Utils_1.utils.showLog(">>>>>\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5907\u7528\u5e7f\u544a\uff01");
                return;
              }
              if (this.ServerConfig.banner_first_ad.indexOf("native") > -1) {
                Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u5e7f\u544a\u6761\uff01");
                this._createMiniGameBannerAd();
              } else if (Utils_1.utils.isShowRecommondGamesBanner()) {
                clearTimeout(this._showBannerTimerId);
                Utils_1.utils.showRecommendGamesBanner();
                Utils_1.utils.showLog("\u5c0f\u6e38\u620f\u3001\u539f\u751f\u5e7f\u544a\u6761\u90fd\u65e0\u6cd5\u5c55\u793a\uff0c\u5c55\u793a\u81ea\u5b9a\u4e49banner");
                return;
              }
            }
          }
        }
      };
      AdAgentXiaoMi.prototype.ShowVideo = function(callback) {
        if (PlatUtils_1.default.IsXiaoMi) {
          this._videoCallback = callback;
          if (this._videoAd) this._videoAd.show(); else {
            if (this._videoCallback) {
              this._videoCallback(false, "\u6682\u65e0\u89c6\u9891\u5e7f\u544a!");
              this._videoCallback = null;
            }
            this._initVideoAd();
          }
        }
      };
      AdAgentXiaoMi.prototype.ShowInterstitial = function(location) {
        void 0 === location && (location = null);
        if (PlatUtils_1.default.IsXiaoMi) {
          if (!this.checkInsertAdShow()) return;
          var delayTime = 0;
          this.ServerConfig && this.ServerConfig.intersititia_delay_show_time && (delayTime = this.ServerConfig.intersititia_delay_show_time);
          Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5ef6\u65f6\u5c55\u793a\uff01 delayTime:" + delayTime + "\u79d2");
          if (this.ServerConfig && this.ServerConfig.isTest && "true" == this.ServerConfig.isTest) {
            this.showInsertNum++;
            if (this.showInsertNum % 2 == 0) {
              Utils_1.utils.showLog("\u6d4b\u8bd5\u6a21\u5f0f>> \u987a\u5e8f\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\uff01");
              this.nativeInserAdDelayCall();
            } else this._createMiniGameInsertAd();
            return;
          }
          if (this.ServerConfig) if (location && location == YZ_Constant_1.BannerLocation.Pause) if ("native" == this.ServerConfig.intersititial_first_ad) {
            Utils_1.utils.showLog("\u6682\u505c\u754c\u9762\u4e0d\u5ef6\u65f6\u5c55\u793a\uff01");
            Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!");
            this.nativeInserAdDelayCall();
          } else {
            Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
            this._createMiniGameInsertAd();
          } else if ("native" == this.ServerConfig.intersititial_first_ad) {
            Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!");
            Utils_1.utils.delayCall(this.nativeInserAdDelayCall.bind(this), delayTime);
          } else {
            Utils_1.utils.showLog("\u4f18\u5148\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
            Utils_1.utils.delayCall(this._createMiniGameInsertAd.bind(this), delayTime);
          } else Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u672a\u521d\u59cb\u5316!");
        }
      };
      AdAgentXiaoMi.prototype._createMiniGameInsertAd = function() {
        var _this = this;
        this._isInsertShow = true;
        this._insertAd = qg.createInterstitialAd({
          adUnitId: Utils_1.utils.config.xiaomiConfig.insertId.trim()
        });
        if (this._insertAd) {
          this._insertAd.onLoad(function() {
            Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f");
            _this._isInsertShow && _this._insertAd.show().then(function() {
              Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u6210\u529f!");
              _this._insertLastShowTime = new Date().getTime();
            }).catch(function(err) {
              Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25!, err=" + JSON.stringify(err));
            });
          });
          this._insertAd.onError(function(err) {
            Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u76d1\u542c\u5f02\u5e38!, err=" + JSON.stringify(err));
            if (_this._isInsertShow && "default" == _this.ServerConfig.intersititial_first_ad) {
              _this._isInsertShow = false;
              Utils_1.utils.showLog("\u5f00\u59cb\u663e\u793a\u539f\u751f\u63d2\u5c4f\u5e7f\u544a!");
              _this._curPosIdIndexNativeInser = 0;
              Utils_1.utils.delayCall(_this.nativeInserAdDelayCall.bind(_this), _this.ServerConfig.intersititia_delay_show_time || 0);
            }
          });
        } else Utils_1.utils.showLog("\u63d2\u5c4f\u5e7f\u544a\u672a\u521d\u59cb\u5316!");
      };
      AdAgentXiaoMi.prototype.nativeInserAdDelayCall = function() {
        Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a: \u5f53\u524d\u70b9\u51fb\u6b21\u6570=" + Utils_1.utils.Tool_XiaoMi.NativeInsertAdClickTimes + "; \u70b9\u51fb\u6b21\u6570\u9650\u5236=" + this.ServerConfig.intersititia_click_count + "; \u5c55\u793a\u6b21\u6570\u95f4\u9694=" + this.ServerConfig.intersititial_interval_time + "; \u5c55\u793a\u7d2f\u8ba1=" + this._nativeInsertAdShowCount);
        Utils_1.utils.Tool_XiaoMi.NativeInsertAdClickTimes >= (this.ServerConfig.intersititia_click_count || 0) ? this._nativeInsertAdShowCount >= (this.ServerConfig.intersititia_show_interval || 0) ? this._createNativeInsertAd(this._showNativeInsert) : this._nativeInsertAdShowCount++ : this._createNativeInsertAd(this._showNativeInsert);
      };
      AdAgentXiaoMi.prototype._createNativeInsertAd = function(completeCallback) {
        var _this = this;
        if (PlatUtils_1.default.IsXiaoMi) {
          var callback_2 = completeCallback;
          Utils_1.utils.showLog("curPosIdIndexNativeInsert:" + this._curPosIdIndexNativeInser);
          if (Utils_1.utils.config.xiaomiConfig.nativeInsertIds && Utils_1.utils.config.xiaomiConfig.nativeInsertIds[this._curPosIdIndexNativeInser]) {
            Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u3002 posId:" + Utils_1.utils.config.xiaomiConfig.nativeInsertIds[this._curPosIdIndexNativeInser]);
            var nativeInsertAd_1 = qg.createNativeAd({
              adUnitId: Utils_1.utils.config.xiaomiConfig.nativeInsertIds[this._curPosIdIndexNativeInser]
            });
            if (nativeInsertAd_1) {
              nativeInsertAd_1.onLoad(function(res) {
                if (res && res.adList && res.adList.length > 0) {
                  Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u6210\u529f\uff01");
                  Utils_1.utils.showLog(JSON.stringify(res));
                  res = JSON.parse(JSON.stringify(res));
                  var data = res.adList[0];
                  if (_this._checkNativeInsertDataValid(data)) {
                    _this._curPosIdIndexNativeInser = 0;
                    _this._showNativeInsert(nativeInsertAd_1, data);
                    return;
                  }
                  Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u4e0d\u5408\u6cd5\uff01");
                }
                Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u51fa\u9519\uff01");
                _this._curPosIdIndexNativeInser++;
                if (_this._curPosIdIndexNativeInser < Utils_1.utils.config.xiaomiConfig.nativeInsertIds.length) _this._createNativeInsertAd(callback_2); else {
                  _this._curPosIdIndexNativeInser = 0;
                  Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                  if ("native" == _this.ServerConfig.intersititial_first_ad) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
                    _this._createMiniGameInsertAd();
                  }
                }
              });
              nativeInsertAd_1.onError(function(err) {
                Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u521b\u5efa\u5931\u8d25\uff01" + JSON.stringify(err));
              });
              var adLoad = nativeInsertAd_1.load();
              adLoad && adLoad.then(function(res) {
                console.log("res", JSON.stringify(res));
              }).catch(function(err) {
                Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u8d44\u6e90\u62c9\u53d6\u5931\u8d25\uff01" + JSON.stringify(err));
                _this._curPosIdIndexNativeInser++;
                if (_this._curPosIdIndexNativeInser < Utils_1.utils.config.xiaomiConfig.nativeInsertIds.length) _this._createNativeInsertAd(callback_2); else {
                  _this._curPosIdIndexNativeInser = 0;
                  Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                  if ("native" == _this.ServerConfig.intersititial_first_ad) {
                    Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
                    _this._createMiniGameInsertAd();
                  }
                }
              });
            } else {
              this._curPosIdIndexNativeInser++;
              if (Utils_1.utils.config.xiaomiConfig.nativeInsertIds && this._curPosIdIndexNativeInser < Utils_1.utils.config.xiaomiConfig.nativeInsertIds.length) this._createNativeInsertAd(callback_2); else {
                this._curPosIdIndexNativeInser = 0;
                Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u6cd5\u5c55\u793a\uff01");
                if ("native" == this.ServerConfig.intersititial_first_ad) {
                  Utils_1.utils.showLog("\u5f00\u59cb\u5c55\u793a\u5c0f\u6e38\u620f\u63d2\u5c4f\u5e7f\u544a!");
                  this._createMiniGameInsertAd();
                }
              }
            }
          }
        }
      };
      AdAgentXiaoMi.prototype._showNativeInsert = function(nativeInsertAd, data) {
        if (PlatUtils_1.default.IsXiaoMi && data) {
          Utils_1.utils.showLog("\u663e\u793a\u539f\u751f\u63d2\u5c4f");
          if (!cc.isValid(this._nativeInsertNode) || !this._nativeInsertNode && Utils_1.utils.config.otherconfig.nativeInsert) {
            Utils_1.utils.showLog("\u521b\u5efa\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u4f4d");
            this._nativeInsertNode = cc.instantiate(Utils_1.utils.config.otherconfig.nativeInsert);
            this._nativeInsertNode.position = CompatibleTool_1.default.position(cc.winSize.width / 2, cc.winSize.height / 2);
            cc.director.getScene().addChild(this._nativeInsertNode, 9999);
          }
          if (this._nativeInsertNode) {
            var nativeInsert = this._nativeInsertNode.getComponent("YZ_NativeInsert");
            if (nativeInsert) {
              this._nativeInsertAdShowCount = 0;
              this._insertLastShowTime = new Date().getTime();
              nativeInsert.init(nativeInsertAd, data);
            } else Utils_1.utils.showLog("NativeInsert\u7ec4\u4ef6\u4e0d\u5b58\u5728!");
          } else Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u63d2\u5c4f\u4f4d\u6ca1\u6709\u521b\u5efa\uff01");
          if (!this.ServerConfig.show_insert_hide_banner || "false" != this.ServerConfig.show_insert_hide_banner) {
            Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544a\u63d2\u5c4f\u5c55\u793a\u540e\u9690\u85cfBanner\uff01");
            this.HideBanner();
          }
        }
      };
      AdAgentXiaoMi.prototype._showNativeBanner = function(nativeBannerAd, data) {
        if (PlatUtils_1.default.IsXiaoMi && data) {
          cc.isValid(this._nativeBannerNode) && this._nativeBannerNode && this._nativeBannerNode.destroy();
          this._nativeBannerNode = cc.instantiate(Utils_1.utils.config.otherconfig.nativeBanner);
          this._nativeBannerNode.position = CompatibleTool_1.default.position(cc.winSize.width / 2, this._nativeBannerNode.height * this._nativeBannerNode.scaleY / 2);
          cc.director.getScene().addChild(this._nativeBannerNode, 1e3);
          if (this._nativeBannerNode) {
            this._nativeBannerNode.active = true;
            var nativeBanner = this._nativeBannerNode.getComponent("YZ_NativeBanner");
            nativeBanner ? nativeBanner.init(nativeBannerAd, data, this.getNativeBannerInfo()) : Utils_1.utils.showLog("NativeBanner\u7ec4\u4ef6\u4e0d\u5b58\u5728!");
            this._showBannerCallBack && this._showBannerCallBack();
            this._showBannerCallBack = null;
          } else Utils_1.utils.showLog("\u539f\u751f\u5e7f\u544abanner\u4f4d\u6ca1\u6709\u521b\u5efa\uff01");
        }
      };
      AdAgentXiaoMi.prototype.checkInsertAdShow = function() {
        var intervalTime = this.ServerConfig.intersititial_interval_time ? this.ServerConfig.intersititial_interval_time : 30;
        var curTime = new Date().getTime();
        var interval = (curTime - this._insertLastShowTime) / 1e3;
        Utils_1.utils.showLog("xiaomi\u670d\u52a1\u5668\u63d2\u5c4f\u95f4\u9694\u663e\u793a\u65f6\u95f4\u4e3a\uff1a" + intervalTime + "\u79d2\uff01");
        Utils_1.utils.showLog("xiaomi\u63d2\u5c4f\u5f53\u524d\u5e7f\u544a\u95f4\u9694\u65f6\u95f4\uff1a" + interval + "\u79d2\uff01");
        if (intervalTime > 0 && interval < intervalTime) {
          Utils_1.utils.showLog("xiaomi\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u7684\u95f4\u9694\u5c11\u4e8e" + intervalTime + "\u79d2\u3002\u63d2\u5c4f\u4e0d\u663e\u793a");
          return false;
        }
        return true;
      };
      AdAgentXiaoMi.prototype.checkBannerAdShow = function() {
        var intervalTime = this.ServerConfig.hide_banner_interval_show_time ? this.ServerConfig.hide_banner_interval_show_time : 0;
        var curTime = new Date().getTime();
        var interval = (curTime - Utils_1.utils._bannerCloseTime) / 1e3;
        Utils_1.utils.showLog("xiaomi\u670d\u52a1\u5668Banner\u5173\u95ed\u540e\u95f4\u9694\u663e\u793a\u65f6\u95f4\u4e3a\uff1a" + intervalTime + "\u79d2\uff01");
        Utils_1.utils.showLog("xiaomi-Banner\u5173\u95ed\u540e\u5f53\u524d\u5e7f\u544a\u95f4\u9694\u65f6\u95f4\uff1a" + interval + "\u79d2\uff01");
        if (intervalTime > 0 && interval < intervalTime) {
          Utils_1.utils.showLog("xiaomi-Banner\u5173\u95ed\u540e\u663e\u793a\u7684\u95f4\u9694\u5c11\u4e8e" + intervalTime + "\u79d2\u3002Banner\u4e0d\u663e\u793a");
          return false;
        }
        return true;
      };
      AdAgentXiaoMi.prototype._checkNativeInsertDataValid = function(data) {
        if (!data) return false;
        return data.title && (data.iconUrlList && data.iconUrlList.length > 0 || data.imgUrlList && data.imgUrlList.length > 0);
      };
      AdAgentXiaoMi.prototype._checkNativeDataValid = function(data) {
        if (!data) return false;
        return data.imgUrlList && data.imgUrlList.length;
      };
      AdAgentXiaoMi = __decorate([ ccclass ], AdAgentXiaoMi);
      return AdAgentXiaoMi;
    }(AdAgent_1.default);
    exports.default = AdAgentXiaoMi;
    cc._RF.pop();
  }, {
    "./AdAgent": "AdAgent",
    "./CompatibleTool": "CompatibleTool",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  AdAgent: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c007b2/0jZPJ7WzuygFZTgG", "AdAgent");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdAgent = function() {
      function AdAgent() {}
      AdAgent.prototype.Init = function() {};
      AdAgent.prototype.ShowBanner = function(location, args) {};
      AdAgent.prototype.HideBanner = function(location) {};
      AdAgent.prototype.ShowInterstitial = function(location) {};
      AdAgent.prototype.ShowVideo = function(callback) {};
      AdAgent.prototype.showInteractiveAd = function() {};
      AdAgent.prototype.ShowAppBox = function(isMoreGame) {};
      AdAgent.prototype.HideAppBox = function() {};
      AdAgent.prototype.showRewardInsert = function() {};
      AdAgent.prototype.hideRewardInsert = function() {};
      AdAgent.prototype.ShowCloseBtnBanner = function(location, args) {};
      AdAgent.prototype.ShowStatementRecomment = function() {};
      AdAgent.prototype.getNativeAdData = function(args) {};
      AdAgent.prototype.showStatementAds = function(data) {};
      AdAgent.prototype.createNativeAd = function(params, yzItem) {
        void 0 === params && (params = null);
      };
      AdAgent.prototype.hideKyxBanner = function() {};
      AdAgent.prototype.showNativeTryGameWidget = function(params) {
        void 0 === params && (params = null);
      };
      AdAgent.prototype.hideNativeTryGameWidget = function() {};
      AdAgent.prototype.showBlockAd = function(parme) {};
      AdAgent.prototype.hideBlockAd = function() {};
      AdAgent.prototype.showFullScreenVideo = function(callback) {};
      AdAgent.prototype.showNativeSplashView = function(callBack) {};
      AdAgent.prototype.ShowSingleNativeAd = function(params) {};
      AdAgent.prototype.HideSingleNativeAd = function(params) {};
      AdAgent.prototype.showCustomAd = function(params) {};
      AdAgent.prototype.hideCustomAd = function(params) {};
      AdAgent.prototype.createCustomADBanner = function() {};
      AdAgent = __decorate([ ccclass("AdAgent") ], AdAgent);
      return AdAgent;
    }();
    exports.default = AdAgent;
    cc._RF.pop();
  }, {} ],
  AdManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "fea03SQueFJo7iMSvZ2Vxkg", "AdManager");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var AdAgentNative_1 = require("./AdAgentNative");
    var AdAgentWechat_1 = require("./AdAgentWechat");
    var AdAgentOPPO_1 = require("./AdAgentOPPO");
    var AdAgentVIVO_1 = require("./AdAgentVIVO");
    var AdAgentBaidu_1 = require("./AdAgentBaidu");
    var AdAgentDouyin_1 = require("./AdAgentDouyin");
    var YZ_Constant_1 = require("./YZ_Constant");
    var AdAgentQQ_1 = require("./AdAgentQQ");
    var AdAgentQTT_1 = require("./AdAgentQTT");
    var Utils_1 = require("./Utils");
    var AdAgentXiaomi_1 = require("./AdAgentXiaomi");
    var AdAgent4399_1 = require("./AdAgent4399");
    var AdAgentIOS_1 = require("./AdAgentIOS");
    var AdAgentCocosplay_1 = require("./AdAgentCocosplay");
    var AdAgentUC_1 = require("./AdAgentUC");
    var AdAgentBili_1 = require("./AdAgentBili");
    var AdAgentKwai_1 = require("./AdAgentKwai");
    var AdAgentBroser_1 = require("./AdAgentBroser");
    var BeforGameOverRecGamesPanel_1 = require("./BeforGameOverRecGamesPanel");
    var AdAgentWiFi_1 = require("./AdAgentWiFi");
    var AdAgentHago_1 = require("./AdAgentHago");
    var AdAgentHuaWei_1 = require("./AdAgentHuaWei");
    var AdAgentFaceBook_1 = require("./AdAgentFaceBook");
    var YzCustomAdPanel_1 = require("./YzCustomAdPanel");
    var AdAgentGoogleWeb_1 = require("./AdAgentGoogleWeb");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AdManager = function() {
      function AdManager() {
        this._curAdAgent = null;
        this.videoCallBack = null;
        this._lastShowGameOverAdType = YZ_Constant_1.BeForGameOverAdId.None;
        this.beforRewardTypes = [ YZ_Constant_1.BeForGameOverAdId.SharePanel, YZ_Constant_1.BeForGameOverAdId.GoldBox, YZ_Constant_1.BeForGameOverAdId.Turntable, YZ_Constant_1.BeForGameOverAdId.CreateShortCut, YZ_Constant_1.BeForGameOverAdId.RecGame, YZ_Constant_1.BeForGameOverAdId.LuckBox ];
        this.rewardBoxPanel = null;
        this.rewardRecGamePanel = null;
        this.rewardTurnTablePanel = null;
        this.rewardShortCutPanel = null;
        this._rewardLuckBoxPanel = null;
        this._insertLastShowTime = 0;
        this._customAdPanel = null;
      }
      AdManager.prototype.Init = function() {
        if (PlatUtils_1.default.IsNativeAndroid) {
          this._curAdAgent = new AdAgentNative_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.IsWechat) {
          this._curAdAgent = new AdAgentWechat_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.IsOPPO) {
          this._curAdAgent = new AdAgentOPPO_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.IsVIVO) {
          this._curAdAgent = new AdAgentVIVO_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.IsBaidu) {
          this._curAdAgent = new AdAgentBaidu_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.IsDouyin) {
          this._curAdAgent = new AdAgentDouyin_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.IsQQ) {
          this._curAdAgent = new AdAgentQQ_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.IsQTT) {
          this._curAdAgent = new AdAgentQTT_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.IsXiaoMi) {
          this._curAdAgent = new AdAgentXiaomi_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.ISUC) {
          this._curAdAgent = new AdAgentUC_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.ISCocos) {
          this._curAdAgent = new AdAgentCocosplay_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.Is4399) {
          this._curAdAgent = new AdAgent4399_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.IsNativeIOS) {
          this._curAdAgent = new AdAgentIOS_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.IsBili) {
          this._curAdAgent = new AdAgentBili_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.IsKwai) {
          this._curAdAgent = new AdAgentKwai_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.IsWiFi) {
          this._curAdAgent = new AdAgentWiFi_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.IsHago) {
          this._curAdAgent = new AdAgentHago_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.IsHuaWei) {
          this._curAdAgent = new AdAgentHuaWei_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.IsFaceBook) {
          this._curAdAgent = new AdAgentFaceBook_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.IsTest) {
          this._curAdAgent = new AdAgentBroser_1.default();
          this._curAdAgent.Init();
        } else if (PlatUtils_1.default.IsGoogleWeb) {
          this._curAdAgent = new AdAgentGoogleWeb_1.default();
          this._curAdAgent.Init();
        }
      };
      AdManager.prototype.OnUpdate = function(dt) {};
      AdManager.prototype.showNativeTryGameWidget = function(params) {
        void 0 === params && (params = null);
        if (!this.checkShowAdTime()) {
          Utils_1.utils.showLog("\u663e\u793a\u63d2\u5c4f\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01");
          return;
        }
        if (this._curAdAgent) {
          if (!Utils_1.utils.isShowNativeTryGamesWidget() || PlatUtils_1.default.IsHuaWei) {
            Utils_1.utils.showLog("\u4e0d\u80fd\u663e\u793a\u539f\u751f\u6296\u52a8\u8bd5\u73a9");
            return;
          }
          this._curAdAgent.showNativeTryGameWidget(params);
        }
      };
      AdManager.prototype.hideNativeTryGameWidget = function() {
        this._curAdAgent && this._curAdAgent.hideNativeTryGameWidget();
      };
      AdManager.prototype.showNativeSplashView = function(callBack) {
        void 0 === callBack && (callBack = null);
        PlatUtils_1.default.IsHuaWei && this._curAdAgent ? this._curAdAgent.showNativeSplashView(callBack) : callBack && callBack();
      };
      AdManager.prototype.ShowBanner = function(location, args) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        void 0 === args && (args = null);
        if (!this.checkShowAdTime()) {
          Utils_1.utils.showLog("\u663e\u793a\u5e7f\u544a\u6761\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01");
          return;
        }
        this._curAdAgent && this._curAdAgent.ShowBanner(location, args);
      };
      AdManager.prototype.HideBanner = function(location) {
        this._curAdAgent && this._curAdAgent.HideBanner(location);
      };
      AdManager.prototype.ShowInterstitial = function(localtion) {
        void 0 === localtion && (localtion = YZ_Constant_1.BannerLocation.Home);
        if (!this.checkShowAdTime()) {
          Utils_1.utils.showLog("\u663e\u793a\u63d2\u5c4f\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01");
          return;
        }
        if (!this.checkInsertAdTime()) {
          Utils_1.utils.showLog("\u663e\u793a\u63d2\u5c4f\u65f6\u95f4\u672a\u8fbe\u5230\u95f4\u9694\u65f6\u95f4\uff01");
          return;
        }
        this._curAdAgent && this._curAdAgent.ShowInterstitial(localtion);
      };
      AdManager.prototype.ShowVideo = function(callback) {
        if (this._curAdAgent) {
          this.videoCallBack = callback;
          this._curAdAgent.ShowVideo(callback);
        } else callback && callback(false, "\u89c6\u9891\u52a0\u8f7d\u5931\u8d25\uff01");
      };
      AdManager.prototype.showInteractiveAd = function() {
        this._curAdAgent && this._curAdAgent.showInteractiveAd();
      };
      AdManager.prototype.ShowAppBox = function(isMoreGame) {
        this._curAdAgent && this._curAdAgent.ShowAppBox(isMoreGame);
      };
      AdManager.prototype.HideAppBox = function() {
        this._curAdAgent && this._curAdAgent.HideAppBox();
      };
      AdManager.prototype.showRewardInsert = function() {
        if (this._curAdAgent) {
          Utils_1.utils.showLog("\u663e\u793a RI");
          this._curAdAgent.showRewardInsert();
        }
      };
      AdManager.prototype.hideRewardInsert = function() {
        this._curAdAgent && this._curAdAgent.hideRewardInsert();
      };
      AdManager.prototype.ShowCloseBtnBanner = function(location, args) {
        void 0 === location && (location = YZ_Constant_1.BannerLocation.Home);
        if (!this.checkShowAdTime()) {
          Utils_1.utils.showLog("\u663e\u793a\u5e7f\u544a\u6761\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01");
          return;
        }
        this._curAdAgent && this._curAdAgent.ShowCloseBtnBanner(location, args);
      };
      AdManager.prototype.ShowStatementRecomment = function() {
        if (this._curAdAgent) {
          if (PlatUtils_1.default.IsOPPO || PlatUtils_1.default.IsVIVO) return this._curAdAgent.ShowStatementRecomment();
          if (PlatUtils_1.default.IsWechat) return Utils_1.utils.showCrossWidget6();
        }
        return null;
      };
      AdManager.prototype.getNativeAdData = function(args) {
        if (this._curAdAgent) {
          Utils_1.utils.showLog("adManager \u83b7\u53d6\u539f\u751f\u5e7f\u544a");
          return this._curAdAgent.getNativeAdData(args);
        }
        return null;
      };
      AdManager.prototype.showStatementAds = function(data) {
        var res = {
          type: -1,
          node: null
        };
        if (!this.checkShowAdTime()) {
          Utils_1.utils.showLog("\u663e\u793a\u7ed3\u7b97\u9875\u9762\u5e7f\u544a\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01");
          return res;
        }
        if (this._curAdAgent && (PlatUtils_1.default.IsWechat || PlatUtils_1.default.IsBaidu)) return this._curAdAgent.showStatementAds(data);
        PlatUtils_1.default.IsQTT ? Utils_1.utils.adManager.showInteractiveAd() : Utils_1.utils.adManager.ShowInterstitial();
        Utils_1.utils.showLog("\u975eoppo\u548c\u5fae\u4fe1\u5e73\u53f0\u6b63\u5e38\u663e\u793a\u7ed3\u7b97\u5e7f\u544a");
        return res;
      };
      AdManager.prototype.createNativeAd = function(params, yzItem) {
        void 0 === params && (params = null);
        this._curAdAgent && this._curAdAgent.createNativeAd(params, yzItem);
      };
      AdManager.prototype.hideKyxBanner = function() {
        this._curAdAgent && this._curAdAgent.hideKyxBanner();
      };
      AdManager.prototype.showBeforGameOverAd = function(level, levelStatus, rewardValue, closeCallFunc, rewardFunc) {
        if (PlatUtils_1.default.IsOPPO || PlatUtils_1.default.IsVIVO || PlatUtils_1.default.IsDouyin || PlatUtils_1.default.IsBaidu || PlatUtils_1.default.IsWechat || PlatUtils_1.default.IsQQ || PlatUtils_1.default.IsKwai || PlatUtils_1.default.IsNativeAndroid || PlatUtils_1.default.IsNativeIOS || Utils_1.utils._tool_Broswer || PlatUtils_1.default.IsWiFi || PlatUtils_1.default.IsHuaWei) {
          if (Utils_1.utils.ServerConfig && Utils_1.utils.ServerConfig.befor_ad_min_level && Utils_1.utils.ServerConfig.befor_ad_min_level >= level) {
            Utils_1.utils.showLog(level + " >>\u670d\u52a1\u5668\u914d\u7f6e\u7ed3\u7b97\u524d\u5e7f\u544a\u5728" + Utils_1.utils.ServerConfig.befor_ad_min_level + "\u5173\u540e\u624d\u80fd\u663e\u793a\uff01");
            closeCallFunc && closeCallFunc();
            return;
          }
          Utils_1.utils.showLog("\u663e\u793a\u7ed3\u7b97\u524d\u5e7f\u544a\uff1a  #Level= ", level, " #LevelStatys=", levelStatus, " #rewardValue = ", rewardValue);
          Utils_1.utils.currentLevel = level;
          Utils_1.utils.isSuccess = levelStatus == YZ_Constant_1.LevelStatus.GameWin;
          Utils_1.utils.rewardCallFunc = rewardFunc;
          Utils_1.utils.rewardCloseFunc = closeCallFunc;
          Utils_1.utils.rewardValue = rewardValue;
          var adType = Utils_1.utils.adManager.checkShowBeforGameOverAd(level, levelStatus == YZ_Constant_1.LevelStatus.GameWin);
          switch (adType) {
           case YZ_Constant_1.BeForGameOverAdId.SharePanel:
            Utils_1.utils.recordEnd();
            Utils_1.utils.showShareRecordPanel();
            break;

           case YZ_Constant_1.BeForGameOverAdId.GoldBox:
            Utils_1.utils.adManager.showRewardBoxPanel();
            break;

           case YZ_Constant_1.BeForGameOverAdId.Turntable:
            Utils_1.utils.adManager.showrewardTurnTablePanel();
            break;

           case YZ_Constant_1.BeForGameOverAdId.CreateShortCut:
            Utils_1.utils.adManager.showRewardShortCutPanel();
            break;

           case YZ_Constant_1.BeForGameOverAdId.RecGame:
            Utils_1.utils.adManager.showRecGamePanel();
            break;

           case YZ_Constant_1.BeForGameOverAdId.LuckBox:
            var show_level = Utils_1.utils.ServerConfig.reward_luck_box_show_level ? Utils_1.utils.ServerConfig.reward_luck_box_show_level : 0;
            if (level > show_level) Utils_1.utils.adManager.showRewardLuckBoxPanel(); else {
              Utils_1.utils.showLog("\u5e78\u8fd0\u5b9d\u7bb1\u95f4\u9694\u5173\u5361\u672a\u8fbe\u5230\uff01");
              closeCallFunc && closeCallFunc();
              Utils_1.utils.rewardCloseFunc = null;
            }
            break;

           default:
            closeCallFunc && closeCallFunc();
            Utils_1.utils.rewardCloseFunc = null;
          }
        } else {
          closeCallFunc && closeCallFunc();
          Utils_1.utils.rewardCloseFunc = null;
        }
      };
      AdManager.prototype.getRewardCloseAndShowCallFunc = function(index) {
        var result = null;
        switch (index) {
         case 1:
          result = Utils_1.utils.adManager.showShareRecordPanel;
          break;

         case 2:
          result = Utils_1.utils.adManager.showRewardBoxPanel;
          break;

         case 3:
          result = Utils_1.utils.adManager.showrewardTurnTablePanel;
          break;

         case 4:
          result = Utils_1.utils.adManager.showRewardShortCutPanel;
          break;

         case 5:
          result = Utils_1.utils.adManager.showRecGamePanel;
          break;

         case 6:
          result = Utils_1.utils.adManager.showRewardLuckBoxPanel;
        }
        return result;
      };
      AdManager.prototype.checkShowBeforGameOverAd = function(level, isSuccess) {
        if (!this._curAdAgent || !Utils_1.utils.ServerConfig) {
          Utils_1.utils.showLog("\u7ec4\u4ef6\u521d\u59cb\u5316\u5931\u8d25\uff01");
          return YZ_Constant_1.BeForGameOverAdId.None;
        }
        var befor_game_over_reward_share_interval = Utils_1.utils.ServerConfig.befor_game_over_share_interval;
        var befor_game_over_reward_box_interval = Utils_1.utils.ServerConfig.befor_game_over_reward_box_interval;
        var befor_game_over_turntable_interval = Utils_1.utils.ServerConfig.befor_game_over_turntable_interval;
        var befor_game_over_shortcut_interval = Utils_1.utils.ServerConfig.auto_desktop_interval;
        var befor_game_over_rec_game_interval = Utils_1.utils.ServerConfig.befor_game_over_rec_game_interval;
        var befor_game_over_luck_box_interval = Utils_1.utils.ServerConfig.befor_game_over_luck_box_interval;
        var befor_game_over_reward_share_type = Utils_1.utils.ServerConfig.befor_game_over_share_type;
        var befor_game_over_reward_box_type = Utils_1.utils.ServerConfig.befor_game_over_reward_box_type;
        var befor_game_over_turntable_type = Utils_1.utils.ServerConfig.befor_game_over_turntable_type;
        var befor_game_over_rec_game_type = Utils_1.utils.ServerConfig.befor_game_over_rec_game_type;
        var befor_game_over_luck_box_type = Utils_1.utils.ServerConfig.befor_game_over_luck_box_type;
        var befor_game_over_shortcut_type = Utils_1.utils.ServerConfig.auto_desktop_type;
        var befor_game_over_is_sync = Utils_1.utils.ServerConfig.befor_game_over_sync_list;
        var befor_game_over_sync_interval = Utils_1.utils.ServerConfig.befor_game_over_sync_interval;
        var befor_game_over_sync_type = Utils_1.utils.ServerConfig.befor_game_over_sync_type;
        if (PlatUtils_1.default.IsTest) {
          befor_game_over_reward_box_type = "all";
          befor_game_over_reward_box_interval = 1;
        }
        var result = YZ_Constant_1.BeForGameOverAdId.None;
        var isShow = false;
        if (befor_game_over_is_sync) {
          Utils_1.utils.showLog("\u8fdb\u5165\u540c\u6b65\u663e\u793a\u5f39\u7a97\u5224\u65ad\uff1a", befor_game_over_is_sync, "<<interval=", befor_game_over_sync_interval, "<<<type", befor_game_over_sync_type);
          switch (befor_game_over_sync_type) {
           case "all":
            isShow = true;
            break;

           case "success":
            isShow = isSuccess;
            break;

           case "fail":
            isShow = !isSuccess;
          }
          if (isShow && befor_game_over_sync_interval && level % befor_game_over_sync_interval == 0) {
            var syncTypes = befor_game_over_is_sync.split("");
            for (var i = 0; i < syncTypes.length; i++) {
              0 == i && (result = this.beforRewardTypes[parseInt(syncTypes[i]) - 1]);
              var closeFunc = null;
              closeFunc = i == syncTypes.length - 1 ? Utils_1.utils.rewardCloseFunc : this.getRewardCloseAndShowCallFunc(parseInt(syncTypes[i + 1]));
              switch (syncTypes[i]) {
               case "1":
                Utils_1.utils.shareRecordPanelCloseFunc = closeFunc;
                break;

               case "2":
                Utils_1.utils.rewardBoxPanelCloseFunc = closeFunc;
                break;

               case "3":
                Utils_1.utils.turnTablePanelCloseFunc = closeFunc;
                break;

               case "4":
                Utils_1.utils.rewardShortCutPanelCloseFunc = closeFunc;
                break;

               case "5":
                Utils_1.utils.rewardRecGamePanelCloseFunc = closeFunc;
                break;

               case "6":
                Utils_1.utils.rewardLuckBoxPanelCloseFunc = closeFunc;
              }
            }
          }
        } else {
          var showCount = 0;
          befor_game_over_reward_share_type && showCount++;
          befor_game_over_reward_box_type && showCount++;
          befor_game_over_turntable_type && showCount++;
          befor_game_over_shortcut_type && showCount++;
          befor_game_over_luck_box_type && showCount++;
          Utils_1.utils.showLog("\u663e\u793a\u7684\u7c7b\u578b" + showCount + "\u79cd\uff0c\u8fdb\u884c\u987a\u5e8f\u5207\u6362\u5224\u65ad,\u4e0a\u4e00\u6b21\u663e\u793a\u7684\u7c7b\u578b\u4e3a\uff1a" + this._lastShowGameOverAdType);
          isShow = true;
          if (befor_game_over_reward_share_interval && level % befor_game_over_reward_share_interval == 0) {
            Utils_1.utils.showLog("\u8fdb\u5165\u663e\u793a\u5206\u4eab\u5956\u52b1\u5f39\u7a97\u5224\u65ad", befor_game_over_reward_share_type, "<<");
            showCount > 1 && (isShow = this._lastShowGameOverAdType != YZ_Constant_1.BeForGameOverAdId.SharePanel);
            if (isShow) switch (befor_game_over_reward_share_type) {
             case "all":
              Utils_1.utils.showLog("\u95f4\u9694" + befor_game_over_reward_share_interval + "\u5173\uff0c\u663e\u793a\u5206\u4eab\u5956\u52b1\u5f39\u7a97\uff01");
              result = YZ_Constant_1.BeForGameOverAdId.SharePanel;
              break;

             case "success":
              if (isSuccess) {
                result = YZ_Constant_1.BeForGameOverAdId.SharePanel;
                Utils_1.utils.showLog("\u6e38\u620f\u80dc\u5229 >> \u95f4\u9694" + befor_game_over_reward_share_interval + "\u5173\uff0c\u663e\u793a\u5206\u4eab\u5956\u52b1\u5f39\u7a97\uff01");
              }
              break;

             case "fail":
              if (!isSuccess) {
                result = YZ_Constant_1.BeForGameOverAdId.SharePanel;
                Utils_1.utils.showLog("\u6e38\u620f\u5931\u8d25 >> \u95f4\u9694" + befor_game_over_reward_share_interval + "\u5173\uff0c\u663e\u793a\u5206\u4eab\u5956\u52b1\u5f39\u7a97\uff01");
              }
            }
          }
          if (result != YZ_Constant_1.BeForGameOverAdId.None) {
            Utils_1.utils.showLog("\u7ed3\u7b97\u524d\u5e7f\u544a\u9a8c\u8bc1\u5b8c\u6210\uff0c\u663e\u793a\u7ed3\u7b97\u524d\u5e7f\u544a\u7c7b\u578b\uff1a", result);
            this._lastShowGameOverAdType = result;
            return result;
          }
          if (befor_game_over_reward_box_interval && level % befor_game_over_reward_box_interval == 0) {
            Utils_1.utils.showLog("\u8fdb\u5165\u663e\u793a\u5b9d\u7bb1\u5224\u65ad", befor_game_over_reward_box_type, "<<");
            showCount > 1 && (isShow = this._lastShowGameOverAdType != YZ_Constant_1.BeForGameOverAdId.GoldBox);
            if (isShow) switch (befor_game_over_reward_box_type) {
             case "all":
              result = YZ_Constant_1.BeForGameOverAdId.GoldBox;
              Utils_1.utils.showLog("\u95f4\u9694" + befor_game_over_reward_box_interval + "\u5173\uff0c\u663e\u793a\u5b9d\u7bb1\u5f39\u7a97\uff01");
              break;

             case "success":
              if (isSuccess) {
                result = YZ_Constant_1.BeForGameOverAdId.GoldBox;
                Utils_1.utils.showLog("\u6e38\u620f\u80dc\u5229 >> \u95f4\u9694" + befor_game_over_reward_box_interval + "\u5173\uff0c\u663e\u793a\u5b9d\u7bb1\u5f39\u7a97\uff01");
              }
              break;

             case "fail":
              if (!isSuccess) {
                result = YZ_Constant_1.BeForGameOverAdId.GoldBox;
                Utils_1.utils.showLog("\u6e38\u620f\u5931\u8d25 >> \u95f4\u9694" + befor_game_over_reward_box_interval + "\u5173\uff0c\u663e\u793a\u5b9d\u7bb1\u5f39\u7a97\uff01");
              }
            }
          }
          if (result != YZ_Constant_1.BeForGameOverAdId.None) {
            Utils_1.utils.showLog("\u7ed3\u7b97\u524d\u5e7f\u544a\u9a8c\u8bc1\u5b8c\u6210\uff0c\u663e\u793a\u7ed3\u7b97\u524d\u5e7f\u544a\u7c7b\u578b\uff1a", result);
            this._lastShowGameOverAdType = result;
            return result;
          }
          if (befor_game_over_turntable_interval && level % befor_game_over_turntable_interval == 0) {
            Utils_1.utils.showLog("\u8fdb\u5165\u663e\u793a\u62bd\u5956\u5f39\u7a97\u5224\u65ad", befor_game_over_turntable_type, "<<");
            showCount > 1 && (isShow = this._lastShowGameOverAdType != YZ_Constant_1.BeForGameOverAdId.Turntable);
            if (isShow) switch (befor_game_over_turntable_type) {
             case "all":
              result = YZ_Constant_1.BeForGameOverAdId.Turntable;
              Utils_1.utils.showLog("\u95f4\u9694" + befor_game_over_turntable_interval + "\u5173\uff0c\u663e\u793a\u62bd\u5956\u5f39\u7a97\uff01");
              break;

             case "success":
              if (isSuccess) {
                result = YZ_Constant_1.BeForGameOverAdId.Turntable;
                Utils_1.utils.showLog("\u6e38\u620f\u80dc\u5229 >> \u95f4\u9694" + befor_game_over_turntable_interval + "\u5173\uff0c\u663e\u793a\u62bd\u5956\u5f39\u7a97\uff01");
              }
              break;

             case "fail":
              if (!isSuccess) {
                result = YZ_Constant_1.BeForGameOverAdId.Turntable;
                Utils_1.utils.showLog("\u6e38\u620f\u5931\u8d25 >> \u95f4\u9694" + befor_game_over_turntable_interval + "\u5173\uff0c\u663e\u793a\u62bd\u5956\u5f39\u7a97\uff01");
              }
            }
          }
          if (result != YZ_Constant_1.BeForGameOverAdId.None) {
            Utils_1.utils.showLog("\u7ed3\u7b97\u524d\u5e7f\u544a\u9a8c\u8bc1\u5b8c\u6210\uff0c\u663e\u793a\u7ed3\u7b97\u524d\u5e7f\u544a\u7c7b\u578b\uff1a", result);
            this._lastShowGameOverAdType = result;
            return result;
          }
          if (befor_game_over_shortcut_interval && level % befor_game_over_shortcut_interval == 0) {
            Utils_1.utils.showLog("\u8fdb\u5165\u663e\u793a\u6dfb\u52a0\u684c\u9762\u5f39\u7a97\u5224\u65ad", befor_game_over_shortcut_type, "<<");
            showCount > 1 && (isShow = this._lastShowGameOverAdType != YZ_Constant_1.BeForGameOverAdId.CreateShortCut);
            if (isShow) switch (befor_game_over_shortcut_type) {
             case "all":
              result = YZ_Constant_1.BeForGameOverAdId.CreateShortCut;
              Utils_1.utils.showLog("\u95f4\u9694" + befor_game_over_shortcut_interval + "\u5173\uff0c\u663e\u793a\u6dfb\u52a0\u684c\u9762\u5f39\u7a97\uff01");
              break;

             case "success":
              if (isSuccess) {
                result = YZ_Constant_1.BeForGameOverAdId.CreateShortCut;
                Utils_1.utils.showLog("\u6e38\u620f\u80dc\u5229 >> \u95f4\u9694" + befor_game_over_shortcut_interval + "\u5173\uff0c\u663e\u793a\u6dfb\u52a0\u684c\u9762\u5f39\u7a97\uff01");
              }
              break;

             case "fail":
              if (!isSuccess) {
                result = YZ_Constant_1.BeForGameOverAdId.CreateShortCut;
                Utils_1.utils.showLog("\u6e38\u620f\u5931\u8d25 >> \u95f4\u9694" + befor_game_over_shortcut_interval + "\u5173\uff0c\u663e\u793a\u6dfb\u52a0\u684c\u9762\u5f39\u7a97\uff01");
              }
            }
          } else Utils_1.utils.showLog("\u7ed3\u7b97\u524d\u5e7f\u544a\u9a8c\u8bc1\u5b8c\u6210\uff0c\u4e0d\u663e\u793a\u7ed3\u7b97\u524d\u5e7f\u544a\uff01");
          if (result != YZ_Constant_1.BeForGameOverAdId.None) {
            Utils_1.utils.showLog("\u7ed3\u7b97\u524d\u5e7f\u544a\u9a8c\u8bc1\u5b8c\u6210\uff0c\u663e\u793a\u7ed3\u7b97\u524d\u5e7f\u544a\u7c7b\u578b\uff1a", result);
            this._lastShowGameOverAdType = result;
            return result;
          }
          if (befor_game_over_rec_game_interval && level % befor_game_over_rec_game_interval == 0) {
            Utils_1.utils.showLog("\u8fdb\u5165\u663e\u793a\u6e38\u620f\u63a8\u8350\u5f39\u7a97\u5224\u65ad", befor_game_over_rec_game_type, "<<");
            showCount > 1 && (isShow = this._lastShowGameOverAdType != YZ_Constant_1.BeForGameOverAdId.RecGame);
            if (isShow) switch (befor_game_over_rec_game_type) {
             case "all":
              result = YZ_Constant_1.BeForGameOverAdId.RecGame;
              Utils_1.utils.showLog("\u95f4\u9694" + befor_game_over_rec_game_interval + "\u5173\uff0c\u663e\u793a\u6e38\u620f\u63a8\u8350\u5f39\u7a97\uff01");
              break;

             case "success":
              if (isSuccess) {
                result = YZ_Constant_1.BeForGameOverAdId.RecGame;
                Utils_1.utils.showLog("\u6e38\u620f\u80dc\u5229 >> \u95f4\u9694" + befor_game_over_rec_game_interval + "\u5173\uff0c\u663e\u793a\u6e38\u620f\u63a8\u8350\u5f39\u7a97\uff01");
              }
              break;

             case "fail":
              if (!isSuccess) {
                result = YZ_Constant_1.BeForGameOverAdId.RecGame;
                Utils_1.utils.showLog("\u6e38\u620f\u5931\u8d25 >> \u95f4\u9694" + befor_game_over_rec_game_interval + "\u5173\uff0c\u663e\u793a\u6e38\u620f\u63a8\u8350\u5f39\u7a97\uff01");
              }
            }
          } else Utils_1.utils.showLog("\u7ed3\u7b97\u524d\u5e7f\u544a\u9a8c\u8bc1\u5b8c\u6210\uff0c\u4e0d\u663e\u793a\u66f4\u591a\u6e38\u620f\u5e7f\u544a\uff01");
          if (result != YZ_Constant_1.BeForGameOverAdId.None) {
            Utils_1.utils.showLog("\u7ed3\u7b97\u524d\u5e7f\u544a\u9a8c\u8bc1\u5b8c\u6210\uff0c\u663e\u793a\u7ed3\u7b97\u524d\u5e7f\u544a\u7c7b\u578b\uff1a", result);
            this._lastShowGameOverAdType = result;
            return result;
          }
          if (befor_game_over_luck_box_interval && level % befor_game_over_luck_box_interval == 0) {
            Utils_1.utils.showLog("\u8fdb\u5165\u663e\u793a\u5e78\u8fd0\u5b9d\u7bb1\u5f39\u7a97\u5224\u65ad", befor_game_over_luck_box_type, "<<");
            showCount > 1 && (isShow = this._lastShowGameOverAdType != YZ_Constant_1.BeForGameOverAdId.LuckBox);
            if (isShow) switch (befor_game_over_luck_box_type) {
             case "all":
              result = YZ_Constant_1.BeForGameOverAdId.LuckBox;
              Utils_1.utils.showLog("\u95f4\u9694" + befor_game_over_luck_box_interval + "\u5173\uff0c\u663e\u793a\u6e38\u620f\u63a8\u8350\u5f39\u7a97\uff01");
              break;

             case "success":
              if (isSuccess) {
                result = YZ_Constant_1.BeForGameOverAdId.LuckBox;
                Utils_1.utils.showLog("\u6e38\u620f\u80dc\u5229 >> \u95f4\u9694" + befor_game_over_luck_box_interval + "\u5173\uff0c\u663e\u793a\u6e38\u620f\u63a8\u8350\u5f39\u7a97\uff01");
              }
              break;

             case "fail":
              if (!isSuccess) {
                result = YZ_Constant_1.BeForGameOverAdId.LuckBox;
                Utils_1.utils.showLog("\u6e38\u620f\u5931\u8d25 >> \u95f4\u9694" + befor_game_over_luck_box_interval + "\u5173\uff0c\u663e\u793a\u6e38\u620f\u63a8\u8350\u5f39\u7a97\uff01");
              }
            }
          } else Utils_1.utils.showLog("\u7ed3\u7b97\u524d\u5e7f\u544a\u9a8c\u8bc1\u5b8c\u6210\uff0c\u4e0d\u663e\u793a\u5e78\u8fd0\u5b9d\u7bb1\u5f39\u7a97\uff01");
        }
        Utils_1.utils.showLog("\u7ed3\u7b97\u524d\u5e7f\u544a\u9a8c\u8bc1\u5b8c\u6210\uff0c\u663e\u793a\u7ed3\u7b97\u524d\u5e7f\u544a\u7c7b\u578b\uff1a", result);
        this._lastShowGameOverAdType = result;
        return result;
      };
      AdManager.prototype.showShareRecordPanel = function(params) {
        void 0 === params && (params = null);
        if (!Utils_1.utils._isConfigInit) {
          Utils_1.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (Utils_1.utils.config.otherconfig.shareRecordPanel) {
          var node = cc.instantiate(Utils_1.utils.config.otherconfig.shareRecordPanel);
          if (node) {
            Utils_1.utils.shareRecordPanel && cc.isValid(Utils_1.utils.shareRecordPanel) && Utils_1.utils.shareRecordPanel.destroy();
            Utils_1.utils.shareRecordPanel = node;
            Utils_1.utils.shareRecordPanel.zIndex = 9999;
            var widget = node.getComponent(cc.Widget);
            if (params) {
              params.group && (node.group = params.group);
              null != params.scale && (node.scale = params.scale);
              if (null != params.top) {
                widget.isAlignTop = true;
                widget.isAlignBottom = false;
                widget.top = params.top;
              } else if (null != params.bottom) {
                widget.isAlignTop = false;
                widget.isAlignBottom = true;
                widget.bottom = params.bottom;
              }
              if (null != params.left) {
                widget.isAlignLeft = true;
                widget.isAlignRight = false;
                widget.left = params.left;
              } else if (null != params.right) {
                widget.isAlignLeft = false;
                widget.isAlignRight = true;
                widget.right = params.right;
              }
              null != params.parent ? node.parent = params.parent : cc.director.getScene().addChild(Utils_1.utils.shareRecordPanel, 1e3);
            } else cc.director.getScene().addChild(Utils_1.utils.shareRecordPanel, 1e3);
            widget.updateAlignment();
            return node;
          }
        } else Utils_1.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 ShareRecordPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        return null;
      };
      AdManager.prototype.showRewardBoxPanel = function() {
        if (!Utils_1.utils._isConfigInit) {
          Utils_1.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (Utils_1.utils.config.otherconfig.rewardBoxPanel) {
          var node = cc.instantiate(Utils_1.utils.config.otherconfig.rewardBoxPanel);
          if (node) {
            this.rewardBoxPanel && cc.isValid(this.rewardBoxPanel) && this.rewardBoxPanel.destroy();
            this.rewardBoxPanel = node;
            this.rewardBoxPanel.zIndex = 9999;
            cc.director.getScene().addChild(node, 1e3);
            return node;
          }
        } else Utils_1.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 rewardBoxPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        return null;
      };
      AdManager.prototype.showRecGamePanel = function() {
        if (!Utils_1.utils._isConfigInit) {
          Utils_1.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (Utils_1.utils.config.otherconfig.beforGameOverRecGamesPanel && Utils_1.utils.getRecommondGameList()) {
          var node = cc.instantiate(Utils_1.utils.config.otherconfig.beforGameOverRecGamesPanel);
          if (node) {
            this.rewardRecGamePanel && cc.isValid(this.rewardRecGamePanel) && this.rewardRecGamePanel.destroy();
            this.rewardRecGamePanel = node;
            this.rewardRecGamePanel.zIndex = 9999;
            cc.director.getScene().addChild(node, 1e3);
            var recMoreGame = this.rewardRecGamePanel.getComponent(BeforGameOverRecGamesPanel_1.default);
            recMoreGame._location = YZ_Constant_1.SubLocation.isBeforGameOverAd;
            recMoreGame.init(Utils_1.utils.getRecommondGameList());
            recMoreGame.show();
            return node;
          }
        } else Utils_1.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 moreGamesPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        return null;
      };
      AdManager.prototype.showrewardTurnTablePanel = function() {
        if (!Utils_1.utils._isConfigInit) {
          Utils_1.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (Utils_1.utils.config.otherconfig.rewardTurnTablePanel) {
          var node = cc.instantiate(Utils_1.utils.config.otherconfig.rewardTurnTablePanel);
          if (node) {
            this.rewardTurnTablePanel && cc.isValid(this.rewardTurnTablePanel) && this.rewardTurnTablePanel.destroy();
            this.rewardTurnTablePanel = node;
            this.rewardTurnTablePanel.zIndex = 9999;
            cc.director.getScene().addChild(node, 1e3);
            return node;
          }
        } else Utils_1.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 rewardTurnTablePanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        return null;
      };
      AdManager.prototype.showRewardShortCutPanel = function() {
        if (!Utils_1.utils._isConfigInit) {
          Utils_1.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (Utils_1.utils.config.otherconfig.rewardShortCutPanel) {
          var node = cc.instantiate(Utils_1.utils.config.otherconfig.rewardShortCutPanel);
          if (node) {
            this.rewardShortCutPanel && cc.isValid(this.rewardShortCutPanel) && this.rewardShortCutPanel.destroy();
            this.rewardShortCutPanel = node;
            this.rewardShortCutPanel.zIndex = 9999;
            cc.director.getScene().addChild(node, 1e3);
            return node;
          }
        } else Utils_1.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 rewardShortCutPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        return null;
      };
      AdManager.prototype.showRewardLuckBoxPanel = function() {
        if (!Utils_1.utils._isConfigInit) {
          Utils_1.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (Utils_1.utils.config.otherconfig.rewardLuckBoxPanel) {
          var node = cc.instantiate(Utils_1.utils.config.otherconfig.rewardLuckBoxPanel);
          if (node) {
            this._rewardLuckBoxPanel && cc.isValid(this._rewardLuckBoxPanel) && this._rewardLuckBoxPanel.destroy();
            this._rewardLuckBoxPanel = node;
            this._rewardLuckBoxPanel.zIndex = 9999;
            cc.director.getScene().addChild(node, 1e3);
            return node;
          }
        } else Utils_1.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 RewardLuckBoxPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        return null;
      };
      AdManager.prototype.checkShowAdTime = function() {
        if (!Utils_1.utils._isConfigInit) {
          Utils_1.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return false;
        }
        var curTime = new Date().getTime();
        var interval = (curTime - Utils_1.utils._gameEntryTime) / 1e3;
        var showAdTime = 0;
        PlatUtils_1.default.IsOPPO && (showAdTime = 90);
        "" !== Utils_1.utils.getConfigByKey("show_ad_time") && (showAdTime = Utils_1.utils.getConfigByKey("show_ad_time"));
        Utils_1.utils.showLog("\u9a8c\u8bc1\u5f53\u524d\u5e7f\u544a\u663e\u793a\u65f6\u95f4\uff1a#showAdTime=", showAdTime, " #interval=", interval);
        if (interval >= showAdTime) return true;
        return false;
      };
      AdManager.prototype.checkInsertAdTime = function() {
        if (Utils_1.utils.ServerConfig && Utils_1.utils.ServerConfig.insert_ad_interval_time) {
          var curTime = new Date().getTime();
          var interval = (curTime - this._insertLastShowTime) / 1e3;
          if (interval < Utils_1.utils.ServerConfig.insert_ad_interval_time) {
            Utils_1.utils.showLog("\u9a8c\u8bc1\u5f53\u524d\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u65f6\u95f4\uff1a#showAdTime=", Utils_1.utils.ServerConfig.insert_ad_interval_time, " #interval=", interval);
            return false;
          }
          this._insertLastShowTime = curTime;
        }
        return true;
      };
      AdManager.prototype.showBlockAd = function(parme) {
        this._curAdAgent && PlatUtils_1.default.IsQQ && this._curAdAgent.showBlockAd(parme);
      };
      AdManager.prototype.hideBlockAd = function(parme) {
        this._curAdAgent && PlatUtils_1.default.IsQQ && this._curAdAgent.hideBlockAd();
      };
      AdManager.prototype.showFullScreenVideo = function(callback) {
        this._curAdAgent ? this._curAdAgent.showFullScreenVideo(callback) : callback && callback(false, "\u89c6\u9891\u52a0\u8f7d\u5931\u8d25\uff01");
      };
      AdManager.prototype.ShowSingleNativeAd = function(params) {
        if (!this.checkShowAdTime()) {
          Utils_1.utils.showLog("\u663e\u793a\u5e7f\u544a\u6761\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01");
          return;
        }
        this._curAdAgent && this._curAdAgent.ShowSingleNativeAd && this._curAdAgent.ShowSingleNativeAd(params);
      };
      AdManager.prototype.HideSingleNativeAd = function(params) {
        this._curAdAgent && this._curAdAgent.HideSingleNativeAd && this._curAdAgent.HideSingleNativeAd(params);
      };
      AdManager.prototype.showCustomAd = function(params) {
        if (!this.checkShowAdTime()) {
          Utils_1.utils.showLog("\u663e\u793a\u539f\u751f\u6a21\u7248\u5e7f\u544a\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01");
          return;
        }
        this._curAdAgent && this._curAdAgent.showCustomAd && this._curAdAgent.showCustomAd(params);
      };
      AdManager.prototype.hideCustomAd = function(params) {
        this._curAdAgent && this._curAdAgent.hideCustomAd && this._curAdAgent.hideCustomAd(params);
      };
      AdManager.prototype.showCustomAdPanel = function(level, closeCallFunc) {
        Utils_1.utils.showLog("\u663e\u793a\u6a21\u7248\u5f39\u7a97\u5e7f\u544a");
        if (!Utils_1.utils._isConfigInit) {
          Utils_1.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        var customAdInfo = null;
        if (!PlatUtils_1.default.IsWechat) {
          closeCallFunc && closeCallFunc();
          Utils_1.utils.showLog("\u670d\u52a1\u5668\u672a\u914d\u7f6e\u6a21\u7248\u5f39\u7a97\u5e7f\u544a");
          return;
        }
        customAdInfo = Utils_1.utils.config.wechatconfig.getCustomAdInfoInfo(100);
        if (!customAdInfo) {
          closeCallFunc && closeCallFunc();
          Utils_1.utils.showLog("\u670d\u52a1\u5668\u672a\u914d\u7f6e\u6a21\u7248\u5f39\u7a97\u5e7f\u544a");
          return;
        }
        var custom_panel_show_ad_level = Utils_1.utils.getConfigByKey("custom_panel_show_ad_level");
        if (custom_panel_show_ad_level && level % custom_panel_show_ad_level != 0) {
          closeCallFunc && closeCallFunc();
          Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u95f4\u9694" + custom_panel_show_ad_level + "\u5173\u663e\u793a\u6a21\u7248\u5f39\u7a97\u5e7f\u544a!");
          return;
        }
        if (Utils_1.utils.config.otherconfig.yzCustomAdPanel) {
          this._curAdAgent && this._curAdAgent.createCustomADBanner();
          var node = cc.instantiate(Utils_1.utils.config.otherconfig.yzCustomAdPanel);
          node.getComponent(YzCustomAdPanel_1.default).closeCallFunc = closeCallFunc;
          if (node) {
            this._customAdPanel && cc.isValid(this._customAdPanel) && this._customAdPanel.destroy();
            this._customAdPanel = node;
            this._customAdPanel.zIndex = 9999;
            cc.director.getScene().addChild(node, 1e3);
            return node;
          }
        } else Utils_1.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 CustomAdPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        return null;
      };
      AdManager = __decorate([ ccclass ], AdManager);
      return AdManager;
    }();
    exports.default = AdManager;
    cc._RF.pop();
  }, {
    "./AdAgent4399": "AdAgent4399",
    "./AdAgentBaidu": "AdAgentBaidu",
    "./AdAgentBili": "AdAgentBili",
    "./AdAgentBroser": "AdAgentBroser",
    "./AdAgentCocosplay": "AdAgentCocosplay",
    "./AdAgentDouyin": "AdAgentDouyin",
    "./AdAgentFaceBook": "AdAgentFaceBook",
    "./AdAgentGoogleWeb": "AdAgentGoogleWeb",
    "./AdAgentHago": "AdAgentHago",
    "./AdAgentHuaWei": "AdAgentHuaWei",
    "./AdAgentIOS": "AdAgentIOS",
    "./AdAgentKwai": "AdAgentKwai",
    "./AdAgentNative": "AdAgentNative",
    "./AdAgentOPPO": "AdAgentOPPO",
    "./AdAgentQQ": "AdAgentQQ",
    "./AdAgentQTT": "AdAgentQTT",
    "./AdAgentUC": "AdAgentUC",
    "./AdAgentVIVO": "AdAgentVIVO",
    "./AdAgentWechat": "AdAgentWechat",
    "./AdAgentWiFi": "AdAgentWiFi",
    "./AdAgentXiaomi": "AdAgentXiaomi",
    "./BeforGameOverRecGamesPanel": "BeforGameOverRecGamesPanel",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YzCustomAdPanel": "YzCustomAdPanel"
  } ],
  AdSDK: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "38700bTBL9M2a/u4fH6cviO", "AdSDK");
    "use strict";
    (function() {
      var AdSDK = window.AdSDK = {
        bannerAds: {},
        interstitialAds: {},
        videoAds: {},
        init: function init() {
          var self = this;
          GameSDK.registerCallback("ad_banner_onLoad", function(param) {
            var banner = self.bannerAds[param.adId];
            banner && banner.onLoad && banner.onLoad(param);
          });
          GameSDK.registerCallback("ad_banner_onError", function(param) {
            var banner = self.bannerAds[param.adId];
            banner && banner.onError && banner.onError(param);
          });
          GameSDK.registerCallback("ad_banner_onResize", function(param) {
            var banner = self.bannerAds[param.adId];
            banner && banner.onResize && banner.onResize(param);
          });
          GameSDK.registerCallback("ad_interstitial_onLoad", function(param) {
            var interstitialAd = self.interstitialAds[param.adId];
            interstitialAd && interstitialAd.onLoad && interstitialAd.onLoad(param);
          });
          GameSDK.registerCallback("ad_interstitial_onError", function(param) {
            var interstitialAd = self.interstitialAds[param.adId];
            interstitialAd && interstitialAd.onError && interstitialAd.onError(param);
          });
          GameSDK.registerCallback("ad_interstitial_onResize", function(param) {
            var interstitialAd = self.interstitialAds[param.adId];
            interstitialAd && interstitialAd.onResize && interstitialAd.onResize(param);
          });
          GameSDK.registerCallback("ad_rewardedVideo_onLoad", function(param) {
            var videoAd = self.videoAds[param.adId];
            videoAd && videoAd.onLoad && videoAd.onLoad(param);
          });
          GameSDK.registerCallback("ad_rewardedVideo_onError", function(param) {
            var videoAd = self.videoAds[param.adId];
            videoAd && videoAd.onError && videoAd.onError(param);
          });
          GameSDK.registerCallback("ad_rewardedVideo_onClose", function(param) {
            var videoAd = self.videoAds[param.adId];
            videoAd && videoAd.onClose && videoAd.onClose(param);
          });
          GameSDK.registerCallback("ad_onShow", function(param) {
            if (1 == param.type) {
              var banner = self.bannerAds[param.adId];
              banner && banner.mHandler && banner.mHandler(param.success);
            } else if (2 == param.type) {
              var interstitialAd = self.interstitialAds[param.adId];
              interstitialAd && interstitialAd.mHandler && interstitialAd.mHandler(param.success);
            } else if (3 == param.type) {
              var videoAd = self.videoAds[param.adId];
              videoAd && videoAd.mHandler && videoAd.mHandler(param.success);
            }
          });
        },
        createBannerAd: function createBannerAd(adId, bannerAdId, position) {
          var self = this;
          var bannerAd = {
            adId: adId
          };
          var param = {
            adId: adId,
            bannerAdId: bannerAdId,
            position: position
          };
          GameSDK.callNative("ad_banner_create", param);
          bannerAd.show = function() {
            var param = {
              adId: adId
            };
            GameSDK.callNative("ad_banner_show", param);
            var promise = new Promise(function(resolve, reject) {
              var handler = function handler(params) {
                0 == params ? resolve() : reject();
              };
              self.bannerAds[adId].mHandler = handler;
            });
            return promise;
          };
          bannerAd.hide = function() {
            var param = {
              adId: adId
            };
            GameSDK.callNative("ad_banner_hide", param);
          };
          bannerAd.destroy = function() {
            var param = {
              adId: adId
            };
            self.bannerAds[adId] = null;
            GameSDK.callNative("ad_banner_destroy", param);
          };
          bannerAd.onLoad = function(cb) {
            this.onLoad = cb;
          };
          bannerAd.onError = function(cb) {
            this.onError = cb;
          };
          bannerAd.onResize = function(cb) {
            this.onResize = cb;
          };
          bannerAd.offLoad = function(cb) {
            this.onLoad == cb && (this.onLoad = null);
          };
          bannerAd.offError = function(cb) {
            this.onError == cb && (this.onError = null);
          };
          bannerAd.offResize = function(cb) {
            this.onResize == cb && (this.onResize = null);
          };
          self.bannerAds[adId] = bannerAd;
          return bannerAd;
        },
        createInterstitialAd: function createInterstitialAd(adId, interstitialAdId, style) {
          var self = this;
          var interstitialAd = {
            adId: adId
          };
          var param = {
            adId: adId,
            interstitialAdId: interstitialAdId,
            style: style
          };
          GameSDK.callNative("ad_interstitial_create", param);
          interstitialAd.show = function() {
            var param = {
              adId: adId
            };
            GameSDK.callNative("ad_interstitial_show", param);
            var promise = new Promise(function(resolve, reject) {
              var handler = function handler(params) {
                0 == params ? resolve() : reject();
              };
              self.interstitialAds[adId].mHandler = handler;
            });
            return promise;
          };
          interstitialAd.hide = function() {
            var param = {
              adId: adId
            };
            GameSDK.callNative("ad_interstitial_hide", param);
          };
          interstitialAd.destroy = function() {
            var param = {
              adId: adId
            };
            self.interstitialAds[adId] = null;
            GameSDK.callNative("ad_interstitial_destroy", param);
          };
          interstitialAd.onLoad = function(cb) {
            this.onLoad = cb;
          };
          interstitialAd.onError = function(cb) {
            this.onError = cb;
          };
          interstitialAd.onResize = function(cb) {
            this.onResize = cb;
          };
          interstitialAd.offLoad = function(cb) {
            this.onLoad == cb && (this.onLoad = null);
          };
          interstitialAd.offError = function(cb) {
            this.onError == cb && (this.onError = null);
          };
          interstitialAd.offResize = function(cb) {
            this.onResize == cb && (this.onResize = null);
          };
          self.interstitialAds[adId] = interstitialAd;
          return interstitialAd;
        },
        createRewardedVideoAd: function createRewardedVideoAd(adId, videoAdId, screenOrientation) {
          var self = this;
          var rewardedVideoAd = {
            adId: adId
          };
          var param = {
            adId: adId,
            videoAdId: videoAdId,
            screenOrientation: screenOrientation
          };
          GameSDK.callNative("ad_rewardedVideo_create", param);
          rewardedVideoAd.show = function() {
            var param = {
              adId: adId
            };
            GameSDK.callNative("ad_rewardedVideo_show", param);
            var promise = new Promise(function(resolve, reject) {
              var handler = function handler(params) {
                0 == params ? resolve() : reject();
              };
              self.videoAds[adId].mHandler = handler;
            });
            return promise;
          };
          rewardedVideoAd.hide = function() {
            var param = {
              adId: adId
            };
            GameSDK.callNative("ad_rewardedVideo_hide", param);
          };
          rewardedVideoAd.destroy = function() {
            var param = {
              adId: adId
            };
            self.videoAds[adId] = null;
            GameSDK.callNative("ad_rewardedVideo_destroy", param);
          };
          rewardedVideoAd.onLoad = function(cb) {
            this.onLoad = cb;
          };
          rewardedVideoAd.onError = function(cb) {
            this.onError = cb;
          };
          rewardedVideoAd.onClose = function(cb) {
            this.onClose = cb;
          };
          rewardedVideoAd.offLoad = function(cb) {
            this.onLoad == cb && (this.onLoad = null);
          };
          rewardedVideoAd.offError = function(cb) {
            this.onError == cb && (this.onError = null);
          };
          rewardedVideoAd.offClose = function(cb) {
            this.onClose == cb && (this.onClose = null);
          };
          self.videoAds[adId] = rewardedVideoAd;
          return rewardedVideoAd;
        }
      };
    })();
    cc._RF.pop();
  }, {} ],
  AldUtils: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7efdf2MYTNBZ4vdYA+fz1rS", "AldUtils");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var YZ_Constant_1 = require("./YZ_Constant");
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AldUtils = function() {
      function AldUtils() {}
      AldUtils.StartGame = function(level, model) {
        var stageName = model ? model + ",\u7b2c" + level + "\u5173" : "\u7b2c" + level + "\u5173";
        var prarm = {
          stageId: "" + level,
          stageName: stageName
        };
        Utils_1.utils.showLog("\u5173\u5361\uff1a" + stageName + "\u5f00\u59cb");
        Utils_1.utils.cur_tool && Utils_1.utils.cur_tool.postLevel && Utils_1.utils.cur_tool.postLevel(level, YZ_Constant_1.LevelStatus.GameStart, stageName);
      };
      AldUtils.GameWin = function(level, star, model) {
        void 0 === star && (star = 0);
        var stageName = model ? model + ",\u7b2c" + level + "\u5173" : "\u7b2c" + level + "\u5173";
        var desc = model ? model + ",\u7b2c" + level + "\u5173\uff0c\u6e38\u620f\u80dc\u5229\uff01\u83b7\u5f97" + star + "\u661f" : "\u7b2c" + level + "\u5173\uff0c\u6e38\u620f\u80dc\u5229\uff01\u83b7\u5f97" + star + "\u661f";
        var prarm = {
          stageId: "" + level,
          stageName: stageName,
          event: "complete",
          params: {
            desc: desc
          }
        };
        Utils_1.utils.showLog("\u5173\u5361\uff1a" + stageName + "\u80dc\u5229");
        Utils_1.utils.cur_tool && Utils_1.utils.cur_tool.postLevel && Utils_1.utils.cur_tool.postLevel(level, YZ_Constant_1.LevelStatus.GameWin, stageName);
      };
      AldUtils.GameFail = function(level, model) {
        var stageName = model ? model + ",\u7b2c" + level + "\u5173" : "\u7b2c" + level + "\u5173";
        var desc = model ? model + ",\u7b2c" + level + "\u5173\uff0c\u6e38\u620f\u5931\u8d25!" : "\u7b2c" + level + "\u5173\uff0c\u6e38\u620f\u5931\u8d25!";
        var prarm = {
          stageId: "" + level,
          stageName: stageName,
          event: "fail",
          params: {
            desc: desc
          }
        };
        Utils_1.utils.showLog("\u5173\u5361\uff1a" + stageName + "\u5931\u8d25");
        Utils_1.utils.cur_tool && Utils_1.utils.cur_tool.postLevel && Utils_1.utils.cur_tool.postLevel(level, YZ_Constant_1.LevelStatus.GameFail, stageName);
      };
      AldUtils.GameSkip = function(level, model) {
        var stageName = model ? model + ",\u7b2c" + level + "\u5173" : "\u7b2c" + level + "\u5173";
        Utils_1.utils.cur_tool && Utils_1.utils.cur_tool.postLevel && Utils_1.utils.cur_tool.postLevel(level, YZ_Constant_1.LevelStatus.GameSkip, stageName);
      };
      AldUtils.UseTool = function(level, toolName, model) {};
      AldUtils.SendEvent = function(eventName) {
        Utils_1.utils.showLog("\u4e8b\u4ef6\u4e0a\u62a5:" + eventName);
        Utils_1.utils.cur_tool && Utils_1.utils.cur_tool.sendEvent && Utils_1.utils.cur_tool.sendEvent(eventName);
      };
      AldUtils = __decorate([ ccclass ], AldUtils);
      return AldUtils;
    }();
    exports.default = AldUtils;
    cc._RF.pop();
  }, {
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  AudioMgr: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2fcf47bjJBFQLVlDEKoJgp6", "AudioMgr");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CocosZ_1 = require("./CocosZ");
    var AudioMgr = function() {
      function AudioMgr() {
        this._curMusicId = -1;
        this._curMusicClip = null;
        this._videoOn = false;
        this._guideAudioId = -1;
        this.audioIdList = [];
      }
      Object.defineProperty(AudioMgr, "inst", {
        get: function() {
          AudioMgr._inst || (AudioMgr._inst = new AudioMgr());
          return AudioMgr._inst;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(AudioMgr.prototype, "videoOn", {
        get: function() {
          return this._videoOn;
        },
        set: function(value) {
          this._videoOn = value;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(AudioMgr.prototype, "AudioOn", {
        get: function() {
          return CocosZ_1.cocosz.dataMgr.AudioOn;
        },
        set: function(value) {
          CocosZ_1.cocosz.dataMgr.AudioOn = value;
          value ? this._curMusicClip && (this._curMusicId = this._play(this._curMusicClip, true, 1)) : this.stopAll();
        },
        enumerable: false,
        configurable: true
      });
      AudioMgr.prototype.playBgm = function(loop) {
        void 0 === loop && (loop = true);
        if (!this.AudioOn) return;
        var str = "bgm_ui";
        if ("Home" == cc.director.getScene().name) str = "bgm_ui"; else {
          if ("Game" != cc.director.getScene().name) return;
          str = "bgm_6";
        }
        var res_bgm = CocosZ_1.cocosz.resMgr.getRes(str, cc.AudioClip);
        if (res_bgm) {
          this.stopAll();
          setTimeout(function() {
            cc.audioEngine.playMusic(res_bgm, true);
          }, 0);
        }
      };
      AudioMgr.prototype.playGuideAudio = function(name) {
        if (-1 != this._guideAudioId) {
          cc.audioEngine.stop(this._guideAudioId);
          this._guideAudioId = -1;
        }
        this._guideAudioId = CocosZ_1.cocosz.audioMgr.playEffect(name);
      };
      AudioMgr.prototype.playEffect = function(url, loop, volume) {
        void 0 === loop && (loop = false);
        void 0 === volume && (volume = 1);
        if (this.videoOn || !this.AudioOn) return;
        var music = CocosZ_1.cocosz.resMgr.getRes(url, cc.AudioClip);
        if (music) {
          this.audioIdList[url] = cc.audioEngine.play(music, loop, volume);
          return this.audioIdList[url];
        }
      };
      AudioMgr.prototype.playClip = function(clip, loop, volume) {
        void 0 === loop && (loop = false);
        void 0 === volume && (volume = 1);
        if (this.videoOn || !this.AudioOn) return;
        if (clip && clip.isValid) {
          this.audioIdList[clip.name] = cc.audioEngine.play(clip, loop, volume);
          return this.audioIdList[clip.name];
        }
      };
      AudioMgr.prototype.stopEffect = function(url) {
        if (this.audioIdList[url] >= 0) {
          cc.audioEngine.stop(this.audioIdList[url]);
          this.audioIdList[url] = null;
        }
      };
      AudioMgr.prototype.checkEffect = function(url) {
        if (this.audioIdList[url]) return true;
        return false;
      };
      AudioMgr.prototype.playBtnEffect = function() {
        var _this = this;
        return new Promise(function(resolve, reject) {
          _this.playEffect("btn");
          setTimeout(function() {
            resolve(1);
          }, 200);
        });
      };
      AudioMgr.prototype.playEffectWinner = function(volume) {
        var _this = this;
        void 0 === volume && (volume = 1);
        this.stopAll();
        setTimeout(function() {
          6 != CocosZ_1.cocosz.gameMode ? _this.playEffect("win") : _this.playEffect("zombie_win");
        });
      };
      AudioMgr.prototype.playEffectFailed = function(volume) {
        var _this = this;
        void 0 === volume && (volume = 1);
        this.stopAll();
        setTimeout(function() {
          6 != CocosZ_1.cocosz.gameMode ? _this.playEffect("fail") : _this.playEffect("zombie_fail");
        });
      };
      AudioMgr.prototype.pauseAll = function() {
        cc.audioEngine.pauseAll();
      };
      AudioMgr.prototype.resumeAll = function() {
        this._videoOn || cc.audioEngine.resumeAll();
      };
      AudioMgr.prototype.stopAll = function() {
        cc.audioEngine.stopAll();
        this.audioIdList = [];
      };
      AudioMgr.prototype._play = function(clip, loop, volume) {
        if (!this.AudioOn) return -1;
        return cc.audioEngine.play(clip, loop, volume);
      };
      return AudioMgr;
    }();
    exports.default = AudioMgr;
    cc._RF.pop();
  }, {
    "./CocosZ": "CocosZ"
  } ],
  BeforGameOverRecGamesPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "fe7d8OK+QlJO4RCiDkr2evw", "BeforGameOverRecGamesPanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var BeforGameOverRecGamesPanel = function(_super) {
      __extends(BeforGameOverRecGamesPanel, _super);
      function BeforGameOverRecGamesPanel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._panel = null;
        _this._gameList = null;
        _this._originScale = 1;
        _this._gameItems = [];
        _this._jumpList = null;
        _this._dataDirty = false;
        _this._is_Horizontal = false;
        _this._closeBtnRight = null;
        _this._closeBtnLine = null;
        _this._star = null;
        _this.gameItemNode = null;
        _this._location = YZ_Constant_1.SubLocation.isMoreGame;
        return _this;
      }
      BeforGameOverRecGamesPanel.prototype.onLoad = function() {
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        PlatUtils_1.default.IsNativeAndroid || Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Home);
        this._panel = this.node.getChildByName("Panel");
        this.node.active = false;
        var ratio = 1;
        if (cc.winSize.height < cc.winSize.width) {
          ratio = cc.winSize.width / 1920;
          this._is_Horizontal = true;
        } else ratio = cc.winSize.width / 1080;
        if (this._is_Horizontal) {
          this._panel.getChildByName("VGameScrollView").active = false;
          this._panel.getChildByName("VHead").active = false;
          this._gameList = this._panel.getChildByName("HGameScrollView").getComponent(cc.ScrollView).content;
          this.gameItemNode = this._gameList.children[0];
          this._gameList.removeAllChildren();
        } else {
          this._panel.getChildByName("HGameScrollView").active = false;
          this._panel.getChildByName("HHead").active = false;
          this._gameList = this._panel.getChildByName("VGameScrollView").getComponent(cc.ScrollView).content;
          this.gameItemNode = this._gameList.children[0];
          this._gameList.removeAllChildren();
        }
        this._panel.scale = ratio;
        this._originScale = this._panel.scale;
      };
      BeforGameOverRecGamesPanel.prototype._initWidget = function() {
        var _this = this;
        this.scheduleOnce(function() {
          _this._gameList.removeAllChildren();
          var clo = _this._is_Horizontal ? 7 : 4;
          var totalRow = Math.floor(_this._jumpList.length / clo);
          var totalClo = clo * totalRow;
          for (var i = 0; i < totalClo; i++) {
            var data = _this._jumpList[i];
            if (data && data.logo) {
              var tempNode = cc.instantiate(_this.gameItemNode);
              var gameItem = tempNode.getComponent("GameItem");
              gameItem.init(data, _this._location);
              _this._gameList.addChild(tempNode);
            }
          }
        });
      };
      BeforGameOverRecGamesPanel.prototype.update = function() {
        if (this._dataDirty) {
          this._dataDirty = false;
          this._updatePanel();
        }
      };
      BeforGameOverRecGamesPanel.prototype._updatePanel = function() {
        Utils_1.utils.postRecommentShowData(this._location);
        this._initWidget();
        return;
      };
      BeforGameOverRecGamesPanel.prototype.init = function(jumpList) {
        this._jumpList = jumpList;
        this._dataDirty = true;
      };
      BeforGameOverRecGamesPanel.prototype.show = function() {
        this.node.active = true;
      };
      BeforGameOverRecGamesPanel.prototype.hide = function() {
        var self = this;
        self.node.active = false;
        if (Utils_1.utils.rewardRecGamePanelCloseFunc) {
          Utils_1.utils.rewardRecGamePanelCloseFunc();
          Utils_1.utils.rewardRecGamePanelCloseFunc = null;
        } else {
          Utils_1.utils.rewardCloseFunc && Utils_1.utils.rewardCloseFunc();
          Utils_1.utils.rewardCloseFunc = null;
        }
      };
      BeforGameOverRecGamesPanel.prototype.onCloseBtnHandler = function(event, data) {
        this.hide();
      };
      BeforGameOverRecGamesPanel = __decorate([ ccclass ], BeforGameOverRecGamesPanel);
      return BeforGameOverRecGamesPanel;
    }(cc.Component);
    exports.default = BeforGameOverRecGamesPanel;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  BgScroll: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "acdbc3aRD5AGp4ypzXGP/2Q", "BgScroll");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ShaderParamComponent = function(_super) {
      __extends(ShaderParamComponent, _super);
      function ShaderParamComponent() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.sprite = null;
        _this._material = null;
        _this._start = 0;
        _this.speed = 1;
        return _this;
      }
      ShaderParamComponent.prototype.onLoad = function() {
        this.sprite = this.getComponent(cc.Sprite);
        this.sprite && (this._material = this.sprite.getMaterial(0));
        this.initParams();
      };
      ShaderParamComponent.prototype.initParams = function() {
        this.sprite && this._material && this.speed && this._material.setProperty("speed", this.speed);
      };
      ShaderParamComponent.prototype.update = function(dt) {
        if (this.node.active && this._material && void 0 != this._material.getProperty("time", 0)) {
          this._material.setProperty("time", this._start);
          this._start += dt;
        }
      };
      __decorate([ property({
        displayName: "\u901f\u5ea6"
      }) ], ShaderParamComponent.prototype, "speed", void 0);
      ShaderParamComponent = __decorate([ ccclass ], ShaderParamComponent);
      return ShaderParamComponent;
    }(cc.Component);
    exports.default = ShaderParamComponent;
    cc._RF.pop();
  }, {} ],
  CheckIsShowIcon: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2ccb4i7SjxNi5AcJc3fVuDW", "CheckIsShowIcon");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CheckIsShowIcon = function(_super) {
      __extends(CheckIsShowIcon, _super);
      function CheckIsShowIcon() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      CheckIsShowIcon.prototype.onEnable = function() {
        Utils_1.utils.ServerConfig && Utils_1.utils.ServerConfig.show_video_icon && "false" == Utils_1.utils.ServerConfig.show_video_icon ? this.node.active = false : this.node.active = true;
      };
      CheckIsShowIcon = __decorate([ ccclass ], CheckIsShowIcon);
      return CheckIsShowIcon;
    }(cc.Component);
    exports.default = CheckIsShowIcon;
    cc._RF.pop();
  }, {
    "./Utils": "Utils"
  } ],
  CocosZ: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "54a8bcZAI1KMJdjQ5CMJRqd", "CocosZ");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.cocosz = void 0;
    var GameMgr_1 = require("./GameMgr");
    var DataMgr_1 = require("./DataMgr");
    var UIMgr_1 = require("./UIMgr");
    var ResMgr_1 = require("./ResMgr");
    var Constant_1 = require("./Constant");
    var SceneMgr_1 = require("./SceneMgr");
    var AudioMgr_1 = require("./AudioMgr");
    var Utils_1 = require("../../common-plugin/Scripts/Utils");
    var Msg_1 = require("./Msg");
    var PlatUtils_1 = require("../../common-plugin/Scripts/PlatUtils");
    var i18n = require("LanguageData");
    false;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Languages;
    (function(Languages) {
      Languages[Languages["zh"] = 0] = "zh";
      Languages[Languages["en"] = 1] = "en";
    })(Languages || (Languages = {}));
    exports.cocosz = null;
    var CocosZ = function(_super) {
      __extends(CocosZ, _super);
      function CocosZ() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._gameMgr = null;
        _this._dataMgr = null;
        _this._uiMgr = null;
        _this._resMgr = null;
        _this._audioMgr = null;
        _this._sceneMgr = null;
        _this.btnDebug = false;
        _this._languagesArr = [ "zh", "en" ];
        _this.curLanguage = "zh";
        _this._curLang = Languages.zh;
        _this.audioList = [];
        _this._useCJTimes = 0;
        _this._totalCJTimes = 0;
        _this.curLevel = 0;
        _this._pauseCount = 0;
        _this.serverConfig_shareMaxNum = 0;
        _this.isDeBug = false;
        _this.isADON = false;
        _this.gameMode = 6;
        _this._dtBack = 1 / 60;
        _this.isOk = false;
        _this.bundleConfig = {
          "ui/UILoadingPage": "bundleLoad"
        };
        _this.serverConfig = {
          shareMaxNum: 5,
          shareTime: 2,
          isVideoAd_advanced_weapon: "true",
          isVideoAd_Qpbz: "true",
          isVideoAd_Citie: "true",
          isVideoAd_hideBanner: "true",
          skillLockNum: 2,
          isBanner_game: true,
          isInterstitial_UIHomePage: "true",
          isInterstitial_UISignPanel: "true",
          isInterstitial_UITurntablePanel: "true",
          isInterstitial_UITimePanel: "true",
          isInterstitial_UIGamePage: "true",
          isInterstitial_UIRevivePanel: "true",
          isInterstitial_UIPausePanel: "true",
          isInterstitial_UIUpgradePanel: "true",
          try_skin_level_count: 1,
          try_skin_show_ad_interval: 1
        };
        _this.serverConfig_shareTime = 2;
        return _this;
      }
      Object.defineProperty(CocosZ.prototype, "gameMgr", {
        get: function() {
          return this._gameMgr;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(CocosZ.prototype, "dataMgr", {
        get: function() {
          return this._dataMgr;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(CocosZ.prototype, "uiMgr", {
        get: function() {
          return this._uiMgr;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(CocosZ.prototype, "resMgr", {
        get: function() {
          return this._resMgr;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(CocosZ.prototype, "audioMgr", {
        get: function() {
          return this._audioMgr;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(CocosZ.prototype, "sceneMgr", {
        get: function() {
          return this._sceneMgr;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(CocosZ.prototype, "curLang", {
        get: function() {
          return this._curLang;
        },
        set: function(v) {
          this._curLang = v;
          this.curLanguage = this._languagesArr[v];
          cc.log("\u5f53\u524d\u8bed\u8a00: ", this.curLanguage);
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(CocosZ.prototype, "useCJTimes", {
        get: function() {
          return this._useCJTimes;
        },
        set: function(num) {
          this._useCJTimes = num;
          localStorage.setItem(Constant_1.default.ST_GameData + "useCJTimes_dmm", this._useCJTimes.toString());
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(CocosZ.prototype, "totalCJTimes", {
        get: function() {
          return this._totalCJTimes;
        },
        set: function(num) {
          this._totalCJTimes = num;
          localStorage.setItem(Constant_1.default.ST_GameData + "totalCJTimes_dmm", this._totalCJTimes.toString());
        },
        enumerable: false,
        configurable: true
      });
      CocosZ.prototype.getLevelId = function(id) {
        return exports.cocosz.dataMgr.TotoalCount_6;
      };
      Object.defineProperty(CocosZ.prototype, "pauseCount", {
        get: function() {
          return this._pauseCount;
        },
        set: function(v) {
          v < 0 && (v = 0);
          this._pauseCount = v;
          cc.log("pauseCount:", this._pauseCount);
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(CocosZ.prototype, "isPause", {
        get: function() {
          return this.pauseCount > 0;
        },
        set: function(v) {},
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(CocosZ.prototype, "canShare", {
        get: function() {
          var r = false;
          ((true, this.isDeBug) || PlatUtils_1.default.IsWechat) && exports.cocosz.dataMgr.shareNum < exports.cocosz.serverConfig_shareMaxNum && (r = true);
          return r;
        },
        enumerable: false,
        configurable: true
      });
      CocosZ.prototype.onLoad = function() {
        var _this = this;
        exports.cocosz = this;
        this._gameMgr = GameMgr_1.default.inst;
        this._dataMgr = DataMgr_1.default.inst;
        this._resMgr = ResMgr_1.default.inst;
        this._uiMgr = UIMgr_1.default.inst;
        this._audioMgr = AudioMgr_1.default.inst;
        this._sceneMgr = SceneMgr_1.default.inst;
        cc.game.addPersistRootNode(this.node);
        cc.sys.languageCode && (cc.sys.languageCode.toLowerCase().indexOf("zh") > -1 ? this.curLanguage = "zh" : this.curLanguage = "en");
        i18n.init(this.curLanguage);
        this.isDeBug = this.btnDebug;
        this._initConfigKey();
        cc.director.getCollisionManager().enabled = true;
        var manager = cc.director.getPhysicsManager();
        manager.enabled = true;
        manager.gravity = cc.v2();
        PlatUtils_1.default.IsWechat ? wx.setKeepScreenOn({
          keepScreenOn: true
        }) : PlatUtils_1.default.IsOPPO ? qg.setKeepScreenOn({
          keepScreenOn: true,
          success: function(res) {},
          fail: function(res) {},
          complete: function(res) {}
        }) : PlatUtils_1.default.IsVIVO && qg.setKeepScreenOn({
          keepScreenOn: true,
          success: function() {
            console.log("handling success");
          },
          fail: function(data, code) {
            console.log("handling fail, code = " + code);
          }
        });
        cc.assetManager.loadBundle("bundleLoad", null, function(err, bundle) {
          err ? cc.log("\u52a0\u8f7d\u5206\u5305bundleLoad\u51fa\u9519") : _this._initLoadingPage();
        });
      };
      CocosZ.prototype.update = function(dt) {
        var manager = cc.director.getPhysicsManager();
        manager.enabledAccumulator = true;
        manager.FIXED_TIME_STEP = cc.misc.lerp(this._dtBack, dt, .01);
        this._dtBack = dt;
      };
      CocosZ.prototype._initLoadingPage = function() {
        var _this = this;
        var url = "ui/UILoadingPage";
        this.resMgr.loadAndCacheRes(url, cc.Prefab, null, function() {
          _this._uiMgr.openPage(Constant_1.PageName.UILoadingPage);
          Utils_1.utils.login(function() {
            _this._initCache();
            _this._loadBundleRes();
            PlatUtils_1.default.IsHuaWei || (_this.isOk = true);
          });
        });
      };
      CocosZ.prototype._loadBundleRes = function() {
        var _this = this;
        cc.assetManager.loadBundle("bundleRes", function(err, bundle) {
          if (err) cc.log("\u52a0\u8f7d\u5206\u5305bundleRes\u51fa\u9519"); else {
            _this._initBundleConfig();
            _this._loadRes();
          }
        });
      };
      CocosZ.prototype._loadRes = function() {
        var _this = this;
        var totalCount = 0;
        var compCount = 0;
        var mess1 = [];
        exports.cocosz.getDirWithPath("UI/", cc.Prefab, mess1);
        exports.cocosz.resMgr.loadAndCacheResArray(mess1, cc.Prefab, null, function() {
          compCount++;
        });
        var mess2 = [];
        exports.cocosz.getDirWithPath("i18n/tex_name/" + exports.cocosz.curLanguage, cc.SpriteAtlas, mess2);
        exports.cocosz.resMgr.loadAndCacheResArray(mess2, cc.SpriteAtlas, null, function() {
          compCount++;
        });
        var mess3 = [];
        exports.cocosz.getDirWithPath("tex_common", cc.SpriteAtlas, mess3);
        exports.cocosz.resMgr.loadAndCacheResArray(mess3, cc.SpriteAtlas, null, function() {
          compCount++;
        });
        var mess4 = [];
        exports.cocosz.getDirWithPath("prefab_heads", cc.Prefab, mess4);
        exports.cocosz.resMgr.loadAndCacheResArray(mess4, cc.Prefab, null, function() {
          compCount++;
        });
        var mess5 = [];
        exports.cocosz.getDirWithPath("prefab_weapon", cc.Prefab, mess5);
        exports.cocosz.resMgr.loadAndCacheResArray(mess5, cc.Prefab, null, function() {
          compCount++;
        });
        var mess6 = [];
        exports.cocosz.getDirWithPath("prefab_skin", cc.Prefab, mess6);
        exports.cocosz.resMgr.loadAndCacheResArray(mess6, cc.Prefab, null, function() {
          compCount++;
        });
        var mess7 = [];
        exports.cocosz.getDirWithPath("audio_common", cc.AudioClip, mess7);
        exports.cocosz.resMgr.loadAndCacheResArray(mess7, cc.AudioClip, null, function() {
          compCount++;
        });
        totalCount = mess1.length + mess2.length + mess3.length + mess4.length + mess5.length + mess6.length + mess7.length;
        this.resMgr.cacheCocoszAudio();
        var percent = 0;
        this.schedule(function() {
          percent = compCount / totalCount;
          cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
            type: Constant_1.default.E_UPDATE_PROGRESS,
            data: percent
          });
          if (compCount >= totalCount && _this.isOk) {
            _this.unscheduleAllCallbacks();
            Utils_1.utils.registerServerInitEvent(function() {
              var t = exports.cocosz.getConfigByKey("interval_time_show_cp");
              Number.isInteger(t) && t > 0 && _this.schedule(function() {
                Utils_1.utils.adManager.ShowInterstitial();
              }, t);
            }, _this);
            setInterval(function() {
              exports.cocosz.dataMgr.OnlineToday++;
            }, 1e3);
            _this._sceneMgr.loadScene("Home", function() {
              _this._uiMgr.openPage(Constant_1.PageName.UIHomePage);
            });
          }
        }, 0);
      };
      CocosZ.prototype._initBundleConfig = function() {
        var arr = [ "resources", "bundleRes", "bundleLoad" ];
        for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {
          var bundleKey = arr_1[_i];
          var bundle = cc.assetManager.bundles.get(bundleKey);
          if (bundle) {
            var info = bundle["_config"]["paths"]["_map"];
            if (info) for (var key in info) this.bundleConfig[key] = bundleKey;
          }
        }
      };
      CocosZ.prototype.getBundleWithPath = function(path) {
        if (this.bundleConfig[path]) return cc.assetManager.bundles.get(this.bundleConfig[path]);
        for (var key in this.bundleConfig) if (key[0] === path[0] && key.includes(path, 0)) return cc.assetManager.bundles.get(this.bundleConfig[key]);
        cc.log("\u67e5\u627ebudle\u5931\u8d25\uff1a", path);
        return null;
      };
      CocosZ.prototype.getDirWithPath = function(path, type, out) {
        var bundle = this.getBundleWithPath(path);
        return bundle ? bundle.getDirWithPath(path, type, out) : null;
      };
      CocosZ.prototype.getConfigByKey = function(key) {
        return true, exports.cocosz.isDeBug ? this.serverConfig ? this.serverConfig[key] : null : Utils_1.utils.getConfigByKey(key);
      };
      CocosZ.prototype._initConfigKey = function() {
        var callback = function() {
          "true" == exports.cocosz.getConfigByKey("game_debug") && (exports.cocosz.isDeBug = true);
          var shareMaxNum = exports.cocosz.getConfigByKey("shareMaxNum");
          Number.isInteger(shareMaxNum) && shareMaxNum >= 0 && (exports.cocosz.serverConfig_shareMaxNum = shareMaxNum);
          var shareTime = exports.cocosz.getConfigByKey("shareTime");
          Number.isInteger(shareTime) && shareTime >= 0 && (exports.cocosz.serverConfig_shareTime = shareTime);
        };
        true, this.isDeBug ? callback && callback() : Utils_1.utils.registerServerInitEvent(callback, this);
      };
      CocosZ.prototype._initCache = function() {
        exports.cocosz.dataMgr && exports.cocosz.dataMgr.init();
        if (exports.cocosz.dataMgr.LastLoadDate != new Date().toDateString()) {
          exports.cocosz.dataMgr.LastLoadDate = new Date().toDateString();
          exports.cocosz.dataMgr.shareNum = 0;
        }
        localStorage.getItem(Constant_1.default.ST_GameData + "totalCJTimes_dmm") && (this._totalCJTimes = Number(localStorage.getItem(Constant_1.default.ST_GameData + "totalCJTimes_dmm")));
        localStorage.getItem(Constant_1.default.ST_GameData + "useCJTimes_dmm") && (this._useCJTimes = Number(localStorage.getItem(Constant_1.default.ST_GameData + "useCJTimes_dmm")));
        if (new Date().toDateString() != exports.cocosz.dataMgr.LastLoadDate) {
          this.useCJTimes = 0;
          exports.cocosz.dataMgr.OnlineToday = 0;
          exports.cocosz.dataMgr.receiveToday = [ 0, 0, 0, 0, 0 ];
          exports.cocosz.dataMgr.LastLoadDate = new Date().toDateString();
        }
      };
      Object.defineProperty(CocosZ.prototype, "isShowAd", {
        get: function() {
          return true;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(CocosZ.prototype, "isShowGameBanner", {
        get: function() {
          return "false" != exports.cocosz.getConfigByKey("gameBanner");
        },
        enumerable: false,
        configurable: true
      });
      CocosZ.prototype.StoHMS = function(s) {
        var m = 0;
        var h = 0;
        if (s >= 60) {
          m = Math.floor(s / 60);
          s = Math.floor(s % 60);
          if (m > 60) {
            h = Math.floor(m / 60);
            m = Math.floor(m % 60);
          }
        }
        var r = "";
        r += 0 == h ? "" : h + ":";
        r += m >= 10 ? "" + m : "0" + m;
        r += s >= 10 ? ":" + s : ":0" + s;
        return r;
      };
      CocosZ.prototype.watchAD = function(callFun_S, callFun_F) {
        void 0 === callFun_S && (callFun_S = null);
        void 0 === callFun_F && (callFun_F = null);
        if (this.isDeBug) {
          callFun_S ? callFun_S() : callFun_F && callFun_F();
          return;
        }
        if (exports.cocosz.audioMgr.videoOn) return;
        exports.cocosz.audioMgr.videoOn = true;
        exports.cocosz.pauseCount++;
        exports.cocosz.audioMgr.stopAll();
        Utils_1.utils.adManager.ShowVideo(function(ret, msg) {
          exports.cocosz.audioMgr.videoOn = false;
          exports.cocosz.pauseCount--;
          exports.cocosz.audioMgr.playBgm();
          if (ret) callFun_S && callFun_S(); else {
            callFun_F && callFun_F();
            msg = msg || i18n.t("msg.video_load_fail");
            Msg_1.default.Show(msg);
          }
        });
      };
      CocosZ.prototype.share = function(callFun_S, callFun_F) {
        var _this = this;
        void 0 === callFun_S && (callFun_S = null);
        void 0 === callFun_F && (callFun_F = null);
        if (this.isDeBug) {
          callFun_S && callFun_S();
          exports.cocosz.dataMgr.shareNum++;
        } else {
          var startTime_1 = new Date().getTime();
          Utils_1.utils.share(function() {
            if (new Date().getTime() - startTime_1 > 1e3 * _this.serverConfig_shareTime) {
              callFun_S && callFun_S();
              exports.cocosz.dataMgr.shareNum++;
            } else {
              callFun_F && callFun_F();
              Msg_1.default.Show("\u8bf7\u5206\u4eab\u81f3\u4e0d\u540c\u597d\u53cb\u624d\u53ef\u83b7\u5f97\u5956\u52b1\u54e6");
            }
          });
        }
      };
      CocosZ.prototype.vibrate = function(type) {
        void 0 === type && (type = "short");
        if (false == exports.cocosz.dataMgr.ShakeOn) return;
        PlatUtils_1.default.IsWechat ? "short" == type ? wx.vibrateShort({
          success: function(res) {},
          fail: function(res) {}
        }) : wx.vibrateLong({
          success: function(res) {},
          fail: function(res) {}
        }) : PlatUtils_1.default.IsOPPO ? "short" == type ? qg.vibrateShort({
          success: function(res) {},
          fail: function(res) {}
        }) : qg.vibrateLong({
          success: function(res) {},
          fail: function(res) {}
        }) : PlatUtils_1.default.IsVIVO ? "short" == type ? qg.vibrateShort() : qg.vibrateLong() : PlatUtils_1.default.IsQQ ? "short" == type ? qq.vibrateShort({
          success: function(res) {},
          fail: function(res) {}
        }) : qq.vibrateLong({
          success: function(res) {},
          fail: function(res) {}
        }) : PlatUtils_1.default.IsDouyin ? "short" == type ? tt.vibrateShort({
          success: function(res) {},
          fail: function(res) {}
        }) : tt.vibrateLong({
          success: function(res) {},
          fail: function(res) {}
        }) : PlatUtils_1.default.IsBaidu ? "short" == type ? swan.vibrateShort({
          success: function(res) {},
          fail: function(res) {}
        }) : swan.vibrateLong({
          success: function(res) {},
          fail: function(res) {}
        }) : PlatUtils_1.default.IsNativeAndroid && ("short" == type ? jsb.reflection.callStaticMethod(Utils_1.utils.Tool_Native.jniClassName, "vibrateShort", "()V") : jsb.reflection.callStaticMethod(Utils_1.utils.Tool_Native.jniClassName, "vibrateLong", "()V"));
      };
      __decorate([ property() ], CocosZ.prototype, "btnDebug", void 0);
      __decorate([ property({
        visible: false
      }) ], CocosZ.prototype, "curLanguage", void 0);
      __decorate([ property({
        visible: false
      }) ], CocosZ.prototype, "_curLang", void 0);
      __decorate([ property({
        type: cc.Enum(Languages),
        displayName: "\u5f53\u524d\u8bed\u8a00",
        tooltip: "zh(\u4e2d\u6587) en(\u82f1\u6587)"
      }) ], CocosZ.prototype, "curLang", null);
      __decorate([ property({
        type: cc.AudioClip
      }) ], CocosZ.prototype, "audioList", void 0);
      CocosZ = __decorate([ ccclass ], CocosZ);
      return CocosZ;
    }(cc.Component);
    exports.default = CocosZ;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/PlatUtils": "PlatUtils",
    "../../common-plugin/Scripts/Utils": "Utils",
    "./AudioMgr": "AudioMgr",
    "./Constant": "Constant",
    "./DataMgr": "DataMgr",
    "./GameMgr": "GameMgr",
    "./Msg": "Msg",
    "./ResMgr": "ResMgr",
    "./SceneMgr": "SceneMgr",
    "./UIMgr": "UIMgr",
    LanguageData: "LanguageData"
  } ],
  CoinBord: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "96bb6h8GYdOW47cjyMPjHjl", "CoinBord");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Constant_1 = require("../Framework/Constant");
    var CocosZ_1 = require("../Framework/CocosZ");
    var Msg_1 = require("../Framework/Msg");
    var i18n = require("LanguageData");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CoinBord = function(_super) {
      __extends(CoinBord, _super);
      function CoinBord() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._label = null;
        _this._icon = null;
        _this._adBtn = null;
        _this.isDiamond = false;
        return _this;
      }
      CoinBord.prototype.onLoad = function() {
        var _this = this;
        this._label = this.node.getChildByName("Label").getComponent(cc.Label);
        this._icon = this.node.getChildByName("Icon");
        this._adBtn = this.node.getChildByName("BtnAD");
        if (this._adBtn) {
          this._adBtn.on(cc.Node.EventType.TOUCH_END, function() {
            var node = cc.instantiate(CocosZ_1.cocosz.resMgr.getRes("UIADPanel", cc.Prefab));
            cc.find("Canvas").addChild(node);
            _this.isDiamond && node.getComponent("UIADPanel").setDiamond();
          });
          this._adBtn.active = CocosZ_1.cocosz.isADON;
        }
      };
      CoinBord.prototype.onEnable = function() {
        cc.game.on(Constant_1.default.E_GAME_LOGIC, this._onGameMessageHandler, this);
        this._updateLabel();
      };
      CoinBord.prototype.onDisable = function() {
        cc.game.targetOff(this);
      };
      CoinBord.prototype._onGameMessageHandler = function(event) {
        switch (event.type) {
         case Constant_1.default.E_COIN_CHANGE:
         case Constant_1.default.E_Diamond_CHANGE:
          this._updateLabel();
        }
      };
      CoinBord.prototype._updateLabel = function() {
        this.isDiamond ? this._label.string = CocosZ_1.cocosz.dataMgr.DiamondCount + "" : this._label.string = CocosZ_1.cocosz.dataMgr.CoinCount + "";
      };
      CoinBord.prototype.getLocation = function() {
        var pos = this._icon.convertToWorldSpaceAR(cc.Vec3.ZERO);
        return pos;
      };
      CoinBord.prototype._addGold = function() {
        CocosZ_1.cocosz.dataMgr.CoinCount += 200;
        Msg_1.default.Show(i18n.t("msg.gxhdjb") + "200");
      };
      __decorate([ property ], CoinBord.prototype, "isDiamond", void 0);
      CoinBord = __decorate([ ccclass ], CoinBord);
      return CoinBord;
    }(cc.Component);
    exports.default = CoinBord;
    cc._RF.pop();
  }, {
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "../Framework/Msg": "Msg",
    LanguageData: "LanguageData"
  } ],
  CommonConfig: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3506bXX0nhILLUvzUl3W+m/", "CommonConfig");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.OtherConfig = exports.FaceBookConfig = exports.BiliConfig = exports.XiaoMiConfig = exports.CocosConfig = exports.UCConfig = exports.QTTConfig = exports.DouyinConfig = exports.NativeIosConfig = exports.HagoConfig = exports.KwaiConfig = exports.WiFiConfig = exports.BaiduConfig = exports.NativeAndroidConfig = exports.HuaWeiConfig = exports.YzRedBagInfo = exports.VivoConfig = exports.OppoConfig = exports.QQConfig = exports.WechatConfig = exports.CustomAdInfo = exports.NativeBannerInfo = exports.BannerIdInfo = void 0;
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var BannerIdInfo = function() {
      function BannerIdInfo() {
        this.location = YZ_Constant_1.BannerLocation.None;
        this.bannerId = "";
      }
      __decorate([ property({
        type: cc.Enum(YZ_Constant_1.BannerLocation),
        displayName: "\u5e7f\u544a\u6761\u4f4d\u7f6e"
      }) ], BannerIdInfo.prototype, "location", void 0);
      __decorate([ property({
        displayName: "\u5e7f\u544a\u6761ID"
      }) ], BannerIdInfo.prototype, "bannerId", void 0);
      BannerIdInfo = __decorate([ ccclass("BannerIdInfo") ], BannerIdInfo);
      return BannerIdInfo;
    }();
    exports.BannerIdInfo = BannerIdInfo;
    var NativeBannerInfo = function() {
      function NativeBannerInfo() {
        this.location = YZ_Constant_1.BannerLocation.None;
        this.show_st_banner = "false";
        this.banner_close_but_size = 40;
        this.banner_close_but_alpha = 120;
        this.banner_show_height = 160;
        this.banner_close_but_range = 40;
        this.banner_close_but_show = "true";
        this.st_banner_scale = 1;
        this.st_banner_down_btn_image = "";
        this.st_banner_down_but_show = 0;
        this.st_banner_down_but_margin_top = 0;
        this.st_banner_close_but_range = 55;
        this.st_banner_close_but_size = 55;
        this.st_banner_close_but_show = "true";
        this.st_banner_bottom = 0;
        this.st_banner_close_but_alpha = 255;
        this.banner_click_refresh = "true";
        this.auto_refresh = -1;
        this.st_banner_style = -1;
        this.st_banner_width = -1;
        this.st_banner_height = -1;
        this.st_banner_show_back_up = 1;
        this.is_show_banner = 1;
        this.is_show_rec = -1;
        this.delay_show_time = 0;
        this.banner_close_showAd_interval = 0;
        this.bg_mask_opacity = 0;
        this.st_banner_bg_mask_opacity = 0;
        this._alignType = "bottom";
      }
      NativeBannerInfo.prototype.init = function(location, info) {
        this.location = location;
        this.banner_close_but_alpha = info.banner_close_but_alpha ? info.banner_close_but_alpha : this.banner_close_but_alpha;
        this.banner_close_but_range = info.banner_close_but_range ? info.banner_close_but_range : this.banner_close_but_range;
        this.banner_close_but_size = info.banner_close_but_size ? info.banner_close_but_size : this.banner_close_but_size;
        this.banner_show_height = info.banner_show_height ? info.banner_show_height : this.banner_show_height;
        this.banner_close_but_show = info.banner_close_but_show ? info.banner_close_but_show : this.banner_close_but_show;
        this.bg_mask_opacity = info.bg_mask_opacity ? info.bg_mask_opacity : this.bg_mask_opacity;
        this.st_banner_close_but_range = info.st_banner_close_but_range ? info.st_banner_close_but_range : this.st_banner_close_but_range;
        this.st_banner_close_but_size = info.st_banner_close_but_size ? info.st_banner_close_but_size : this.st_banner_close_but_size;
        this.st_banner_down_btn_image = info.st_banner_down_btn_image ? info.st_banner_down_btn_image : this.st_banner_down_btn_image;
        this.st_banner_down_but_margin_top = info.st_banner_down_but_margin_top ? info.st_banner_down_but_margin_top : this.st_banner_down_but_margin_top;
        this.st_banner_down_but_show = info.st_banner_down_but_show ? info.st_banner_down_but_show : this.st_banner_down_but_show;
        this.st_banner_scale = info.st_banner_scale ? info.st_banner_scale : this.st_banner_scale;
        this.show_st_banner = info.show_st_banner ? info.show_st_banner : this.show_st_banner;
        this.st_banner_close_but_show = info.st_banner_close_but_show ? info.st_banner_close_but_show : this.st_banner_close_but_show;
        this.st_banner_bottom = info.st_banner_bottom ? info.st_banner_bottom : this.st_banner_bottom;
        this.st_banner_close_but_alpha = info.st_banner_close_but_alpha ? info.st_banner_close_but_alpha : this.st_banner_close_but_alpha;
        this.banner_click_refresh = info.banner_click_refresh ? info.banner_click_refresh : this.banner_click_refresh;
        this.auto_refresh = info.auto_refresh ? info.auto_refresh : this.auto_refresh;
        this.st_banner_style = info.st_banner_style ? info.st_banner_style : this.st_banner_style;
        this.st_banner_width = info.st_banner_width ? info.st_banner_width : this.st_banner_width;
        this.st_banner_height = info.st_banner_height ? info.st_banner_height : this.st_banner_height;
        this.st_banner_show_back_up = info.st_banner_show_back_up ? info.st_banner_show_back_up : this.st_banner_show_back_up;
        this.is_show_banner = info.is_show_banner ? info.is_show_banner : this.is_show_banner;
        this.is_show_rec = info.is_show_rec ? info.is_show_rec : this.is_show_rec;
        this.delay_show_time = info.delay_show_time ? info.delay_show_time : this.delay_show_time;
        this.st_banner_bg_mask_opacity = info.st_banner_bg_mask_opacity ? info.st_banner_bg_mask_opacity : this.st_banner_bg_mask_opacity;
        this._alignType = info.align_type ? info.align_type : this._alignType;
        this.banner_close_showAd_interval = info.banner_close_showAd_interval ? info.banner_close_showAd_interval : this.banner_close_showAd_interval;
      };
      NativeBannerInfo.prototype.toStrong = function() {
        return "location=" + this.location + "&is_show_banner=" + this.is_show_banner + "&banner_close_but_show=" + this.banner_close_but_show + "&banner_close_but_alpha=" + this.banner_close_but_alpha + "&banner_close_but_range=" + this.banner_close_but_range + "&banner_close_but_size=" + this.banner_close_but_size + "&banner_show_height=" + this.banner_show_height + "&st_banner_close_but_range=" + this.st_banner_close_but_range + "&st_banner_close_but_size=" + this.st_banner_close_but_size + "&st_banner_down_btn_image=" + this.st_banner_down_btn_image + "&st_banner_down_but_margin_top=" + this.st_banner_down_but_margin_top + "&st_banner_down_but_show=" + this.st_banner_down_but_show + "&st_banner_scale=" + this.st_banner_scale + "&show_st_banner=" + this.show_st_banner + "&st_banner_close_but_show=" + this.st_banner_close_but_show + "&st_banner_bottom=" + this.st_banner_bottom + "&st_banner_close_but_alpha=" + this.st_banner_close_but_alpha + "&banner_click_refresh=" + this.banner_click_refresh + "&auto_refresh=" + this.auto_refresh + "&st_banner_style=" + this.st_banner_style + "&st_banner_width=" + this.st_banner_width + "&st_banner_height=" + this.st_banner_height + "&st_banner_show_back_up=" + this.st_banner_show_back_up + "&is_show_rec=" + this.is_show_rec;
      };
      NativeBannerInfo = __decorate([ ccclass("NativeBannerInfo") ], NativeBannerInfo);
      return NativeBannerInfo;
    }();
    exports.NativeBannerInfo = NativeBannerInfo;
    var CustomAdInfo = function() {
      function CustomAdInfo() {
        this.location = YZ_Constant_1.BannerLocation.None;
        this.is_show_ad = "true";
        this.top = -1;
        this.left = -1;
        this.right = -1;
        this.bottom = -1;
        this.id = "";
        this.refresh_time = -1;
        this.width = 0;
        this.height = 0;
        this.hide_banner = "false";
        this.is_center = "false";
        this.change_location_refresh_ad = "true";
        this.customAdObj = null;
      }
      CustomAdInfo.prototype.init = function(location, info) {
        this.location = location;
        this.top = "top" in info ? info.top : -1;
        this.right = "right" in info ? info.right : -1;
        this.left = "left" in info ? info.left : -1;
        this.bottom = "bottom" in info ? info.bottom : -1;
        this.id = "id" in info ? info.id : "";
        this.refresh_time = "refresh_time" in info ? info.refresh_time : -1;
        this.is_show_ad = "is_show_ad" in info ? info.is_show_ad : "true";
        this.width = "width" in info ? info.width : 0;
        this.height = "height" in info ? info.height : 0;
        this.hide_banner = "hide_banner" in info ? info.hide_banner : "false";
        this.change_location_refresh_ad = "change_location_refresh_ad" in info ? info.change_location_refresh_ad : "false";
        this.is_center = "is_center" in info ? info.is_center : "all";
      };
      CustomAdInfo.prototype.toStrong = function() {
        return "customAdInfo>>>>#location=" + this.location + "#top=" + this.top + "#left=" + this.left + "#right=" + this.right + "#bottom=" + this.bottom + "#refreshTime=" + this.refresh_time + "#id=" + this.id + "#width=" + this.width + "#height=" + this.height + "#is_center=" + this.is_center;
      };
      CustomAdInfo = __decorate([ ccclass("CustomAdInfo") ], CustomAdInfo);
      return CustomAdInfo;
    }();
    exports.CustomAdInfo = CustomAdInfo;
    var WechatConfig = function() {
      function WechatConfig() {
        this.appID = "";
        this.bannerIds = [];
        this.videoId = "";
        this.insertId = "";
        this.jumpId = "";
        this.appBoxId = "";
        this.boxId = "";
        this.bannerBoxId = "";
        this.customAdInfos = [];
        this.isAttributed = false;
        this.version = "";
        this.nativeBannerId = "";
        this.nativeInsertIds = "";
      }
      WechatConfig.prototype.getBannerId = function(location) {
        for (var i = 0; i < this.bannerIds.length; i++) if (this.bannerIds[i].location == location) return this.bannerIds[i].bannerId;
        if (this.bannerIds.length > 0) return this.bannerIds[0].bannerId;
        return "";
      };
      WechatConfig.prototype.setCustomAdInfo = function(location, custInfo) {
        var nativeCustomAd = new CustomAdInfo();
        nativeCustomAd.init(location, custInfo);
        this.customAdInfos.push(nativeCustomAd);
      };
      WechatConfig.prototype.getCustomAdInfoInfo = function(location) {
        Utils_1.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751f\u6a21\u7248\u914d\u7f6e>>location=", location);
        for (var i = 0; i < this.customAdInfos.length; i++) if (this.customAdInfos[i].location == location) {
          Utils_1.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751f\u6a21\u7248\u914d\u7f6e>>info=", this.customAdInfos[i].toStrong());
          return this.customAdInfos[i];
        }
        return null;
      };
      WechatConfig.prototype.setBannerId = function(location, bannerId) {
        for (var i = 0; i < this.bannerIds.length; i++) if (this.bannerIds[i].location == location) {
          this.bannerIds[i].bannerId = bannerId;
          return;
        }
      };
      WechatConfig = __decorate([ ccclass("WechatConfig") ], WechatConfig);
      return WechatConfig;
    }();
    exports.WechatConfig = WechatConfig;
    var QQConfig = function() {
      function QQConfig() {
        this.QQ = true;
        this.appID = "";
        this.bannerId = "";
        this.insertId = "";
        this.videoId = "";
        this.boxId = "";
        this.version = "";
        this.bannerBoxId = "";
      }
      QQConfig = __decorate([ ccclass("QQConfig") ], QQConfig);
      return QQConfig;
    }();
    exports.QQConfig = QQConfig;
    var OppoConfig = function() {
      function OppoConfig() {
        this.appID = "";
        this.channel = "oppo";
        this.bannerId = "";
        this.insertId = "";
        this.videoId = "";
        this.nativeBannerIds = [];
        this.nativeTryGameIds = [];
        this.nativeInsertIds = [];
        this.nativeSingleAdIds = [];
        this.packageName = "";
        this.nativeBannerInfos = [];
        this.recGameBannerId = "";
        this.recPortalId = "";
        this.version = "";
        this.recGameDrawerId = "";
        this.umengId = "";
        this.intersitialAdConfigs = [];
        this.bannerAdConfigs = [];
      }
      OppoConfig.prototype.getNativeBannerInfo = function(location) {
        Utils_1.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751fbanner\u914d\u7f6e>>location=", location);
        for (var i = 0; i < this.nativeBannerInfos.length; i++) if (this.nativeBannerInfos[i].location == location) {
          Utils_1.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751fbanner\u914d\u7f6e>>info=", this.nativeBannerInfos[i].toStrong());
          return this.nativeBannerInfos[i];
        }
        return new NativeBannerInfo();
      };
      OppoConfig.prototype.setNativeBannerInfo = function(location, bannerInfo) {
        var nativeBannerInfo = new NativeBannerInfo();
        nativeBannerInfo.init(location, bannerInfo);
        this.nativeBannerInfos.push(nativeBannerInfo);
      };
      OppoConfig = __decorate([ ccclass("OppoConfig") ], OppoConfig);
      return OppoConfig;
    }();
    exports.OppoConfig = OppoConfig;
    var VivoConfig = function() {
      function VivoConfig() {
        this.showAd = true;
        this.appID = "";
        this.bannerId = "";
        this.insertId = "";
        this.videoId = "";
        this.nativeTryGameIds = [];
        this.nativeBannerIds = [];
        this.nativeInsertIds = [];
        this.nativeBannerInfos = [];
        this.customAdInfos = [];
        this.nativeSingleAdIds = [];
        this.recGameBannerId = "";
        this.recPortalId = "";
        this.version = "";
        this.umengId = "";
      }
      VivoConfig.prototype.getNativeBannerInfo = function(location) {
        Utils_1.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751fbanner\u914d\u7f6e>>location=", location);
        for (var i = 0; i < this.nativeBannerInfos.length; i++) if (this.nativeBannerInfos[i].location == location) {
          Utils_1.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751fbanner\u914d\u7f6e>>info=", this.nativeBannerInfos[i].toStrong());
          return this.nativeBannerInfos[i];
        }
        return new NativeBannerInfo();
      };
      VivoConfig.prototype.getCustomAdInfoInfo = function(location) {
        Utils_1.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751f\u6a21\u7248\u914d\u7f6e>>location=", location);
        for (var i = 0; i < this.customAdInfos.length; i++) if (this.customAdInfos[i].location == location) {
          Utils_1.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751f\u6a21\u7248\u914d\u7f6e>>info=", this.customAdInfos[i].toStrong());
          return this.customAdInfos[i];
        }
        return new CustomAdInfo();
      };
      VivoConfig.prototype.setNativeBannerInfo = function(location, bannerInfo) {
        var nativeBannerInfo = new NativeBannerInfo();
        nativeBannerInfo.init(location, bannerInfo);
        this.nativeBannerInfos.push(nativeBannerInfo);
      };
      VivoConfig.prototype.setCustomAdInfo = function(location, custInfo) {
        var nativeCustomAd = new CustomAdInfo();
        nativeCustomAd.init(location, custInfo);
        this.customAdInfos.push(nativeCustomAd);
      };
      VivoConfig = __decorate([ ccclass("VivoConfig") ], VivoConfig);
      return VivoConfig;
    }();
    exports.VivoConfig = VivoConfig;
    var YzRedBagInfo = function() {
      function YzRedBagInfo() {
        this._progress = 0;
        this._totalProgress = 5;
        this._balance = 0;
        this._totalMoeny = 0;
        this._lastOpenFreeRedBagTime = "";
        this._progressInfos = null;
        this._lastOpenLevel = "-1";
        this._freeRedBagCount = 0;
        this.withdrawaMoneys = [ 5, 20, 45, 50 ];
        PlatUtils_1.default.IsTest && (this._progressInfos = [ {
          level: 0,
          min_money: .1,
          max_money: 5,
          type: 1
        }, {
          level: 4,
          min_money: .1,
          max_money: 3,
          type: 3
        }, {
          level: 5,
          min_money: .001,
          max_money: .005,
          type: 2
        } ]);
        this._progress = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_RED_BAG_PROGRESS) ? YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_RED_BAG_PROGRESS) : 0;
        this._totalProgress = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_RED_BAG_TOTAL_PROGRESS) ? YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_RED_BAG_TOTAL_PROGRESS) : 5;
        this._balance = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_RED_BAG_BALANCE) ? parseFloat(YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_RED_BAG_BALANCE)) : 0;
        this._totalMoeny = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_RED_BAG_TOTAL_MONEY) ? parseFloat(YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_RED_BAG_TOTAL_MONEY)) : 0;
        this._lastOpenFreeRedBagTime = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_FREE_RED_BAG_TIME) ? YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_FREE_RED_BAG_TIME) : "";
        this._lastOpenLevel = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_LAST_OPEN_LEVEL) ? YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_LAST_OPEN_LEVEL) : "-1";
      }
      Object.defineProperty(YzRedBagInfo.prototype, "freeRedBagCount", {
        get: function() {
          return this._freeRedBagCount;
        },
        set: function(value) {
          this._freeRedBagCount = value;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YzRedBagInfo.prototype, "lastOpenLevel", {
        get: function() {
          return this._lastOpenLevel;
        },
        set: function(value) {
          this._lastOpenLevel = value;
          YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_LAST_OPEN_LEVEL, value);
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YzRedBagInfo.prototype, "progress", {
        get: function() {
          return this._progress;
        },
        set: function(value) {
          this._progress = value;
          this._progress > this._totalProgress ? this._progress = this._totalProgress : Utils_1.utils._rewardRedBagPanelShowCount = -1;
          YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_RED_BAG_PROGRESS, this._progress + "");
          cc.game.emit("YZ_RED_BAG_PROGRESS_CHANGE");
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YzRedBagInfo.prototype, "totalProgress", {
        get: function() {
          return this._totalProgress;
        },
        set: function(value) {
          this._totalProgress = value;
          YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_RED_BAG_TOTAL_PROGRESS, value + "");
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YzRedBagInfo.prototype, "totalMoney", {
        get: function() {
          return this._totalMoeny;
        },
        set: function(value) {
          this._totalMoeny = value;
          YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_RED_BAG_TOTAL_MONEY, value + "");
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YzRedBagInfo.prototype, "progressInfos", {
        get: function() {
          return this._progressInfos;
        },
        set: function(values) {
          this._progressInfos = values;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YzRedBagInfo.prototype, "curProgressInfo", {
        get: function() {
          if (this._progressInfos && this._progressInfos.length > 0) {
            if (parseInt(this.lastOpenLevel) > 0 && parseInt(this.lastOpenLevel) >= Utils_1.utils.currentLevel) return this._progressInfos[this._progressInfos.length - 1];
            var temp = this.lastOpenLevel ? this._progressInfos[0] : this._progressInfos[1];
            for (var i = 0; i < this._progressInfos.length; i++) if (Utils_1.utils.currentLevel <= this._progressInfos[i].level) {
              temp = this._progressInfos[i];
              break;
            }
            console.log("curInfo " + JSON.stringify(temp));
            return temp;
          }
          return null;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YzRedBagInfo.prototype, "balance", {
        get: function() {
          return this._balance;
        },
        set: function(value) {
          this._balance = value;
          YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_RED_BAG_BALANCE, value + "");
          cc.game.emit("YZ_RED_BAG_BALANCE_CHANGE");
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YzRedBagInfo.prototype, "lastOpenFreeRedBagTime", {
        get: function() {
          return this._lastOpenFreeRedBagTime;
        },
        set: function(value) {
          this._lastOpenFreeRedBagTime = value;
          YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_FREE_RED_BAG_TIME, value + "");
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YzRedBagInfo.prototype, "isFreeRedBag", {
        get: function() {
          cc.log("\u662f\u5426\u6709\u514d\u8d39\u7ea2\u5305\uff1a" + new Date().toDateString() != this._lastOpenFreeRedBagTime);
          return new Date().toDateString() != this._lastOpenFreeRedBagTime;
        },
        enumerable: false,
        configurable: true
      });
      YzRedBagInfo = __decorate([ ccclass("YzRedBagInfo") ], YzRedBagInfo);
      return YzRedBagInfo;
    }();
    exports.YzRedBagInfo = YzRedBagInfo;
    var HuaWeiConfig = function() {
      function HuaWeiConfig() {
        this.appID = "";
        this.bannerId = "";
        this.insertId = "";
        this.videoId = "";
        this.nativeSplashId = "";
        this.nativeTryGameIds = [];
        this.nativeBannerIds = [];
        this.nativeInsertIds = [];
        this.nativeBannerInfos = [];
        this.version = "";
        this.umengId = "";
      }
      HuaWeiConfig.prototype.getNativeBannerInfo = function(location) {
        Utils_1.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751fbanner\u914d\u7f6e>>location=", location);
        for (var i = 0; i < this.nativeBannerInfos.length; i++) if (this.nativeBannerInfos[i].location == location) {
          Utils_1.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751fbanner\u914d\u7f6e>>info=", this.nativeBannerInfos[i].toStrong());
          return this.nativeBannerInfos[i];
        }
        return new NativeBannerInfo();
      };
      HuaWeiConfig.prototype.setNativeBannerInfo = function(location, bannerInfo) {
        var nativeBannerInfo = new NativeBannerInfo();
        nativeBannerInfo.init(location, bannerInfo);
        this.nativeBannerInfos.push(nativeBannerInfo);
      };
      HuaWeiConfig = __decorate([ ccclass("HuaWeiConfig") ], HuaWeiConfig);
      return HuaWeiConfig;
    }();
    exports.HuaWeiConfig = HuaWeiConfig;
    var NativeAndroidConfig = function() {
      function NativeAndroidConfig() {
        this.appID = "";
        this.channel = "";
        this.version = "";
      }
      NativeAndroidConfig = __decorate([ ccclass("NativeAndroidConfig") ], NativeAndroidConfig);
      return NativeAndroidConfig;
    }();
    exports.NativeAndroidConfig = NativeAndroidConfig;
    var BaiduConfig = function() {
      function BaiduConfig() {
        this.appID = "";
        this.appSID = "";
        this.bannerId = "";
        this.videoId = "";
        this.version = "";
      }
      BaiduConfig = __decorate([ ccclass("BaiduConfig") ], BaiduConfig);
      return BaiduConfig;
    }();
    exports.BaiduConfig = BaiduConfig;
    var WiFiConfig = function() {
      function WiFiConfig() {
        this.appID = "";
        this.bannerId = "";
        this.videoId = "";
        this.version = "";
      }
      WiFiConfig = __decorate([ ccclass("WiFiConfig") ], WiFiConfig);
      return WiFiConfig;
    }();
    exports.WiFiConfig = WiFiConfig;
    var KwaiConfig = function() {
      function KwaiConfig() {
        this.appID = "";
        this.videoId = "";
        this.insertId = "";
        this.version = "";
      }
      KwaiConfig = __decorate([ ccclass("KwaiConfig") ], KwaiConfig);
      return KwaiConfig;
    }();
    exports.KwaiConfig = KwaiConfig;
    var HagoConfig = function() {
      function HagoConfig() {
        this.appID = "";
        this.videoId = "";
        this.version = "";
      }
      HagoConfig = __decorate([ ccclass("HagoConfig") ], HagoConfig);
      return HagoConfig;
    }();
    exports.HagoConfig = HagoConfig;
    var NativeIosConfig = function() {
      function NativeIosConfig() {
        this.appID = "";
        this.bannerId = "";
        this.insertId = "";
        this.videoId = "";
        this.version = "";
      }
      NativeIosConfig = __decorate([ ccclass("NativeIosConfig") ], NativeIosConfig);
      return NativeIosConfig;
    }();
    exports.NativeIosConfig = NativeIosConfig;
    var DouyinConfig = function() {
      function DouyinConfig() {
        this.Douyin = true;
        this.appID = "";
        this.bannerId = "";
        this.insertId = "";
        this.videoId = "";
        this.version = "";
      }
      DouyinConfig = __decorate([ ccclass("DouyinConfig") ], DouyinConfig);
      return DouyinConfig;
    }();
    exports.DouyinConfig = DouyinConfig;
    var QTTConfig = function() {
      function QTTConfig() {
        this.QuTouTiao = true;
        this.showAd = true;
        this.gamename = "";
        this.appID = "";
        this.appKey = "";
      }
      QTTConfig = __decorate([ ccclass("QuTouTiaoConfig") ], QTTConfig);
      return QTTConfig;
    }();
    exports.QTTConfig = QTTConfig;
    var UCConfig = function() {
      function UCConfig() {
        this.appID = "";
        this.appKey = "";
        this.version = "";
      }
      UCConfig = __decorate([ ccclass("UCConfig") ], UCConfig);
      return UCConfig;
    }();
    exports.UCConfig = UCConfig;
    var CocosConfig = function() {
      function CocosConfig() {
        this.appID = "";
        this.appKey = "";
        this.appSecret = "";
        this.bannerId = "";
        this.videoId = "";
        this.insertId = "";
      }
      CocosConfig = __decorate([ ccclass("CocosConfig") ], CocosConfig);
      return CocosConfig;
    }();
    exports.CocosConfig = CocosConfig;
    var XiaoMiConfig = function() {
      function XiaoMiConfig() {
        this.appID = "";
        this.bannerId = "";
        this.videoId = "";
        this.insertId = "";
        this.nativeSplashId = "";
        this.nativeTryGameIds = [];
        this.nativeBannerIds = [];
        this.nativeInsertIds = [];
        this.nativeBannerInfos = [];
        this.version = "";
      }
      XiaoMiConfig.prototype.getNativeBannerInfo = function(location) {
        Utils_1.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751fbanner\u914d\u7f6e>>location=", location);
        for (var i = 0; i < this.nativeBannerInfos.length; i++) if (this.nativeBannerInfos[i].location == location) {
          Utils_1.utils.showLog("\u6839\u636e\u4f4d\u7f6e\u83b7\u53d6\u539f\u751fbanner\u914d\u7f6e>>info=", this.nativeBannerInfos[i].toStrong());
          return this.nativeBannerInfos[i];
        }
        return new NativeBannerInfo();
      };
      XiaoMiConfig.prototype.setNativeBannerInfo = function(location, bannerInfo) {
        var nativeBannerInfo = new NativeBannerInfo();
        nativeBannerInfo.init(location, bannerInfo);
        this.nativeBannerInfos.push(nativeBannerInfo);
      };
      XiaoMiConfig = __decorate([ ccclass("XiaoMiConfig") ], XiaoMiConfig);
      return XiaoMiConfig;
    }();
    exports.XiaoMiConfig = XiaoMiConfig;
    var BiliConfig = function() {
      function BiliConfig() {
        this.appID = "";
        this.bannerId = "";
        this.videoId = "";
      }
      BiliConfig = __decorate([ ccclass("BiliConfig") ], BiliConfig);
      return BiliConfig;
    }();
    exports.BiliConfig = BiliConfig;
    var FaceBookConfig = function() {
      function FaceBookConfig() {
        this.appID = "";
        this.bannerId = "";
        this.insertId = "";
        this.videoId = "";
        this.version = "";
      }
      FaceBookConfig = __decorate([ ccclass("FaceBookConfig") ], FaceBookConfig);
      return FaceBookConfig;
    }();
    exports.FaceBookConfig = FaceBookConfig;
    var OtherConfig = function() {
      function OtherConfig() {
        this.shareTitle = "";
        this.shareImgUrl = "";
        this.shareIcon = "";
        this.shareDesc = "";
        this.localConfig = null;
        this.logoutView = null;
        this.nativeBanner = null;
        this.nativeInsert = null;
        this.nativeSplashView = null;
        this.recommendGamesBanner = null;
        this.recommendGamesBar = null;
        this.tryGamesWidget = null;
        this.moreGamesWidget = null;
        this.recordWidget = null;
        this.shortcutWidget = null;
        this.gameBox = null;
        this.crossWidget6 = null;
        this.rewardInsert = null;
        this.statementRecomment = null;
        this.singleNativeAd = null;
        this.shareRecordPanel = null;
        this.gameExitDialog = null;
        this.rewardBoxPanel = null;
        this.rewardTurnTablePanel = null;
        this.rewardShortCutPanel = null;
        this.nativeTryGameWidget = null;
        this.beforGameOverRecGamesPanel = null;
        this.withdrawalWidget = null;
        this.withdrawalPanel = null;
        this.redBagProgressWidget = null;
        this.openRedBagPanel = null;
        this.rewardRedBagPanel = null;
        this.rewardLuckBoxPanel = null;
        this.verticalRecommentPanel = null;
        this.privacyWidget = null;
        this.privacyPanel = null;
        this.handPrefab = null;
        this.yzRealNameAuthPanel = null;
        this.yzCustomAdPanel = null;
        this.yzLoginPanel = null;
        this.yw_app_id = "";
      }
      __decorate([ property({
        type: cc.JsonAsset,
        displayName: "\u672c\u5730\u914d\u7f6e\u6587\u4ef6",
        tooltip: "\u5c06Common/Config/\u4e0b\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u62d6\u653e\u5230\u6b64\u5904"
      }) ], OtherConfig.prototype, "localConfig", void 0);
      __decorate([ property({
        type: cc.Prefab,
        displayName: "\u65e5\u5fd7\u8f93\u51fa\u7ec4\u4ef6",
        tooltip: "\u5c06Common/Prefabs/LogoutView\u62d6\u653e\u5230\u6b64\u5904"
      }) ], OtherConfig.prototype, "logoutView", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u539f\u751f\u5e7f\u544a\u6761\u7ec4\u4ef6\uff0c\u5c06Common/Prefabs/NativeBanner\u62d6\u5230\u6b64\u5904",
        displayName: "\u539f\u751f\u5e7f\u544a\u6761\u7ec4\u4ef6"
      }) ], OtherConfig.prototype, "nativeBanner", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u539f\u751f\u63d2\u5c4f\u7ec4\u4ef6\uff0c\u5c06Common/Prefabs/NativeInsert\u62d6\u5230\u6b64\u5904",
        displayName: "\u539f\u751f\u63d2\u5c4f\u7ec4\u4ef6"
      }) ], OtherConfig.prototype, "nativeInsert", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u539f\u751f\u63d2\u5c4f\u7ec4\u4ef6\uff0c\u5c06Common/Prefabs/nativeSplashView\u62d6\u5230\u6b64\u5904",
        displayName: "\u539f\u751f\u5f00\u5c4f\u7ec4\u4ef6"
      }) ], OtherConfig.prototype, "nativeSplashView", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u5e95\u90e8\u63a8\u8350\u6e38\u620f\u5e7f\u544aBanner, \u5c06Common/Prefabs/RecommendGamesBanner\u62d6\u5230\u6b64\u5904"
      }) ], OtherConfig.prototype, "recommendGamesBanner", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u63a8\u8350\u6e38\u620f\u6a2a\u6761\uff0c\u5c06Common/Prefabs/RecommendGamesBar\u62d6\u5230\u6b64\u5904"
      }) ], OtherConfig.prototype, "recommendGamesBar", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u63a8\u8350\u6e38\u620f\u5706\u5f62\u6302\u4ef6\uff0c\u5c06Common/Prefabs/TryGamesWidget\u62d6\u5230\u6b64\u5904"
      }) ], OtherConfig.prototype, "tryGamesWidget", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u4fa7\u8fb9\u66f4\u591a\u6e38\u620f\u9762\u677f\u6302\u4ef6\uff0c\u5c06Common/Prefabs/MoreGamesWidget\u62d6\u5230\u6b64\u5904"
      }) ], OtherConfig.prototype, "moreGamesWidget", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u5f55\u5c4f\u6309\u94ae\u7ec4\u4ef6\uff0c\u5c06Common/Prefabs/RecordWidget\u62d6\u5230\u6b64\u5904"
      }) ], OtherConfig.prototype, "recordWidget", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u5feb\u6377\u65b9\u5f0f\u6309\u94ae\uff0c\u5c06Common/Prefabs/ShortcutWidget\u62d6\u5230\u6b64\u5904 "
      }) ], OtherConfig.prototype, "shortcutWidget", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\uff0c\u5c06Common/Prefabs/CrossWidget6\u62d6\u5230\u6b64\u5904"
      }) ], OtherConfig.prototype, "crossWidget6", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u7ed3\u7b97\u9875\u9762\u63a8\u5e7f\u7ec4\u4ef6\uff0c\u5c06Common/Prefabs/StatementRecomment\u62d6\u5230\u6b64\u5904"
      }) ], OtherConfig.prototype, "statementRecomment", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u5355\u4e2a\u539f\u751f\u5e7f\u544a\uff0c\u5c06Common/Prefabs/SingleNativeAd\u62d6\u5230\u6b64\u5904"
      }) ], OtherConfig.prototype, "singleNativeAd", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u5206\u4eab\u5f55\u5c4f\u5f39\u7a97\uff0c\u5c06Common/Prefabs/ShareRecordPanel\u62d6\u5230\u6b64\u5904"
      }) ], OtherConfig.prototype, "shareRecordPanel", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u4e94\u500d\u5956\u52b1\u5b9d\u7bb1\u5f39\u7a97\uff0c\u5c06Common/Prefabs/RewardBoxPanel\u62d6\u5230\u6b64\u5904"
      }) ], OtherConfig.prototype, "rewardBoxPanel", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u5956\u52b1\u8f6c\u76d8\u62bd\u5956\u5f39\u7a97\uff0c\u5c06Common/Prefabs/RewardTurntablePanel\u62d6\u5230\u6b64\u5904"
      }) ], OtherConfig.prototype, "rewardTurnTablePanel", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u6dfb\u52a0\u684c\u9762\u6fc0\u52b1\u5f39\u7a97\uff0c\u5c06Common/Prefabs/RewardShortCutPanel\u62d6\u5230\u6b64\u5904"
      }) ], OtherConfig.prototype, "rewardShortCutPanel", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u539f\u751f\u6296\u52a8\u8bd5\u73a9\uff0c\u5c06Common/Prefabs/NativeTryGameWidget\u62d6\u5230\u6b64\u5904",
        displayName: "\u539f\u751f\u6296\u52a8\u7ec4\u4ef6"
      }) ], OtherConfig.prototype, "nativeTryGameWidget", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u7ed3\u7b97\u524d\u4e92\u63a8\u9762\u677f\uff0c\u5c06Common/Prefabs/BeforGameOverRecGamesPanel\u62d6\u5230\u6b64\u5904",
        displayName: "\u7ed3\u7b97\u524d\u4e92\u63a8\u9762\u677f"
      }) ], OtherConfig.prototype, "beforGameOverRecGamesPanel", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u5e78\u8fd0\u5b9d\u7bb1\u5f39\u7a97\uff0c\u5c06Common/Prefabs/RewardLuckBoxPanel\u62d6\u5230\u6b64\u5904",
        displayName: "\u5e78\u8fd0\u5b9d\u7bb1\u5f39\u7a97"
      }) ], OtherConfig.prototype, "rewardLuckBoxPanel", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u7ad6\u72b6\u4e92\u63a8\u7a97\u53e3\uff0c\u5c06Common/Prefabs/VerticalRecommentPanel\u62d6\u5230\u6b64\u5904",
        displayName: "\u7ad6\u72b6\u4e92\u63a8\u7a97\u53e3"
      }) ], OtherConfig.prototype, "verticalRecommentPanel", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u9690\u79c1\u534f\u8bae\u6302\u4ef6\uff0c\u5c06Common/Prefabs/PrivacyWidget\u62d6\u5230\u6b64\u5904",
        displayName: "\u9690\u79c1\u534f\u8bae\u6302\u4ef6"
      }) ], OtherConfig.prototype, "privacyWidget", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u9690\u79c1\u534f\u8bae\u5f39\u7a97\uff0c\u5c06Common/Prefabs/PrivacyPanel\u62d6\u5230\u6b64\u5904",
        displayName: "\u9690\u79c1\u534f\u8bae\u5f39\u7a97"
      }) ], OtherConfig.prototype, "privacyPanel", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u6307\u5f15\u7684\u624b\u52bf\uff0c\u5c06Common/Prefabs/HandPrefab\u62d6\u5230\u6b64\u5904",
        displayName: "\u6307\u5f15\u7684\u624b\u52bf"
      }) ], OtherConfig.prototype, "handPrefab", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u5b9e\u540d\u5236\u8ba4\u8bc1\u5f39\u7a97\uff0c\u5c06Common/Prefabs/YzRealNameAuthPanel\u62d6\u5230\u6b64\u5904",
        displayName: "\u5b9e\u540d\u5236\u8ba4\u8bc1\u5f39\u7a97"
      }) ], OtherConfig.prototype, "yzRealNameAuthPanel", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u6a21\u7248\u5e7f\u544a\u63a8\u8350\u5f39\u7a97\uff0c\u5c06Common/Prefabs/YzCustomAdPanel\u62d6\u5230\u6b64\u5904",
        displayName: "\u6a21\u7248\u5e7f\u544a\u63a8\u8350\u5f39\u7a97"
      }) ], OtherConfig.prototype, "yzCustomAdPanel", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u767b\u5f55\u5f39\u7a97\uff0c\u5c06Common/Prefabs/YzLoginPanel\u62d6\u5230\u6b64\u5904",
        displayName: "\u767b\u5f55\u5f39\u7a97"
      }) ], OtherConfig.prototype, "yzLoginPanel", void 0);
      OtherConfig = __decorate([ ccclass("OtherConfig") ], OtherConfig);
      return OtherConfig;
    }();
    exports.OtherConfig = OtherConfig;
    var CommonConfig = function() {
      function CommonConfig() {
        this.wechatconfig = new WechatConfig();
        this.oppoconfig = new OppoConfig();
        this.vivoconfig = new VivoConfig();
        this.nativeAndroidConfig = new NativeAndroidConfig();
        this.baiduconfig = new BaiduConfig();
        this.douyinconfig = new DouyinConfig();
        this.wifiConfig = new WiFiConfig();
        this.qqconfig = new QQConfig();
        this.qttconfig = new QTTConfig();
        this.xiaomiConfig = new XiaoMiConfig();
        this.ucConfig = new UCConfig();
        this.cocosConfig = new CocosConfig();
        this.biliConfig = new BiliConfig();
        this.kwaiConfig = new KwaiConfig();
        this.nativeIoSConfig = new NativeIosConfig();
        this.hagoConfig = new HagoConfig();
        this.huaweiConfig = new HuaWeiConfig();
        this.faceBookConfig = new FaceBookConfig();
        this.otherconfig = new OtherConfig();
      }
      CommonConfig.prototype.init = function(data) {
        this._init_other(data);
        return PlatUtils_1.default.IsWechat ? this._init_wechat(data) : PlatUtils_1.default.IsOPPO ? this._init_oppo(data) : PlatUtils_1.default.IsVIVO ? this._init_vivo(data) : PlatUtils_1.default.IsDouyin ? this._init_douyin(data) : PlatUtils_1.default.IsQQ ? this._init_qq(data) : PlatUtils_1.default.IsBaidu ? this._init_baidu(data) : PlatUtils_1.default.IsQTT ? this._init_qtt(data) : PlatUtils_1.default.IsXiaoMi ? this._init_xiaomi(data) : PlatUtils_1.default.ISUC ? this._init_uc(data) : PlatUtils_1.default.ISCocos ? this._init_cocos(data) : PlatUtils_1.default.IsNativeAndroid ? this._init_native_android() : PlatUtils_1.default.IsNativeIOS ? this._init_native_ios(data) : PlatUtils_1.default.IsBili ? this._init_bili(data) : PlatUtils_1.default.IsKwai ? this._init_kwai(data) : PlatUtils_1.default.IsWiFi ? this._init_wifi(data) : PlatUtils_1.default.IsHago ? this._init_hago(data) : PlatUtils_1.default.IsHuaWei ? this._init_huawei(data) : !PlatUtils_1.default.IsFaceBook || this._init_facebook(data);
      };
      CommonConfig.prototype._init_other = function(data) {
        if (!data) return false;
        var configObj = JSON.parse(data);
        configObj && configObj.other && (configObj.other.yw_app_id ? this.otherconfig.yw_app_id = configObj.other.yw_app_id : Utils_1.utils.showLog("warn:\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018yw_app_id\u2019\u5b57\u6bb5\uff01"));
      };
      CommonConfig.prototype._init_wechat = function(data) {
        if (!data) return false;
        Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:", data);
        var configObj = JSON.parse(data);
        if (!configObj) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!");
          return false;
        }
        if (!configObj.wechat) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018wechat\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        if (!configObj.wechat.app_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.wechatconfig.appID = configObj.wechat.app_id;
        if (!configObj.wechat.intersititia_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersititia_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.wechatconfig.insertId = configObj.wechat.intersititia_pos_id;
        if (!configObj.wechat.video_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.wechatconfig.videoId = configObj.wechat.video_pos_id;
        configObj.wechat.app_box_pos_id ? this.wechatconfig.appBoxId = configObj.wechat.app_box_pos_id : Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_box_pos_id\u2019\u5b57\u6bb5\uff01");
        configObj.wechat.version ? this.wechatconfig.version = configObj.wechat.version : Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01");
        configObj.wechat.is_attributed && (this.wechatconfig.isAttributed = configObj.wechat.is_attributed);
        if (!configObj.wechat.banner_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        for (var key in configObj.wechat.banner_pos_id) {
          var bannerInfo = new BannerIdInfo();
          bannerInfo.location = this._bannerLocationStringToEnum(key);
          bannerInfo.bannerId = configObj.wechat.banner_pos_id[key];
          this.wechatconfig.bannerIds.push(bannerInfo);
        }
        if (!configObj.wechat.shares) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        if (!configObj.wechat.shares.sy_title) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.shareTitle\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.otherconfig.shareTitle = configObj.wechat.shares.sy_title;
        if (!configObj.wechat.shares.sy_img) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.shareImgUrl\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.otherconfig.shareImgUrl = configObj.wechat.shares.sy_img;
        configObj.wechat.banner_box_pos_id ? this.wechatconfig.bannerBoxId = configObj.wechat.banner_box_pos_id : Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u4e2d\u4e0d\u5305\u542b \u2018banner_box_pos_id\u2019 \u5b57\u6bb5");
        configObj.wechat.native_banner_pos_id ? this.wechatconfig.nativeBannerId = configObj.wechat.native_banner_pos_id : Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u4e2d\u4e0d\u5305\u542b native_banner_pos_id \u5b57\u6bb5");
        configObj.wechat.native_intersititial_pos_id ? this.wechatconfig.nativeInsertIds = configObj.wechat.native_intersititial_pos_id : Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u4e2d\u4e0d\u5305\u542b native_intersititial_pos_id \u5b57\u6bb5");
        return true;
      };
      CommonConfig.prototype._init_oppo = function(data) {
        if (!data) return false;
        Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:", data);
        var configObj = JSON.parse(data);
        if (!configObj) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!");
          return false;
        }
        if (!configObj.oppo) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018oppo\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        if (!configObj.oppo.app_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.oppoconfig.appID = configObj.oppo.app_id;
        if (!configObj.oppo.package_name) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018package_name\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.oppoconfig.packageName = configObj.oppo.package_name;
        configObj.oppo.banner_pos_id && (this.oppoconfig.bannerId = configObj.oppo.banner_pos_id);
        configObj.oppo.rec_game_drawer_id ? this.oppoconfig.recGameDrawerId = configObj.oppo.rec_game_drawer_id : Utils_1.utils.showLog("errorrec_game_drawer_id");
        if (!configObj.oppo.video_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.oppoconfig.videoId = configObj.oppo.video_pos_id;
        configObj.oppo.native_banner_pos_id && (this.oppoconfig.nativeBannerIds = configObj.oppo.native_banner_pos_id);
        configObj.oppo.native_trygame_pos_id ? this.oppoconfig.nativeTryGameIds = configObj.oppo.native_trygame_pos_id : Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_trygame_pos_id\u2019\u5b57\u6bb5\uff01");
        if (!configObj.oppo.intersitial_configs) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersitial_configs\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.oppoconfig.intersitialAdConfigs = configObj.oppo.intersitial_configs;
        if (!configObj.oppo.banner_configs) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_configs\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.oppoconfig.bannerAdConfigs = configObj.oppo.banner_configs;
        if (!configObj.oppo.native_single_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_single_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.oppoconfig.nativeSingleAdIds = configObj.oppo.native_single_pos_id;
        configObj.oppo.rec_portal_id ? this.oppoconfig.recPortalId = configObj.oppo.rec_portal_id : Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018rec_portal_id\u2019\u5b57\u6bb5\uff01");
        configObj.oppo.rec_game_banner_id ? this.oppoconfig.recGameBannerId = configObj.oppo.rec_game_banner_id : Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018rec_game_banner_id\u2019\u5b57\u6bb5\uff01");
        if (!configObj.oppo.version) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        if (window.new_version) {
          this.oppoconfig.version = window.new_version;
          Utils_1.utils.showLog("\u83b7\u53d6\u5230\u6ce8\u5165\u7684\u7248\u672c\u53f7\uff1a" + this.oppoconfig.version);
        } else this.oppoconfig.version = configObj.oppo.version;
        configObj.oppo.umeng_id ? this.oppoconfig.umengId = configObj.oppo.umeng_id : Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018umeng_id\u2019\u5b57\u6bb5\uff01");
        return true;
      };
      CommonConfig.prototype._init_vivo = function(data) {
        if (!data) return false;
        Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:", data);
        var configObj = JSON.parse(data);
        if (!configObj) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!");
          return false;
        }
        if (!configObj.vivo) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018vivo\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        if (!configObj.vivo.app_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.vivoconfig.appID = configObj.vivo.app_id;
        if (!configObj.vivo.intersititia_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersititia_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.vivoconfig.insertId = configObj.vivo.intersititia_pos_id;
        if (!configObj.vivo.video_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.vivoconfig.videoId = configObj.vivo.video_pos_id;
        if (!configObj.vivo.banner_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.vivoconfig.bannerId = configObj.vivo.banner_pos_id;
        if (!configObj.vivo.native_banner_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_banner_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.vivoconfig.nativeBannerIds = configObj.vivo.native_banner_pos_id;
        configObj.vivo.native_trygame_pos_id ? this.vivoconfig.nativeTryGameIds = configObj.vivo.native_trygame_pos_id : Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_trygame_pos_id\u2019\u5b57\u6bb5\uff01");
        if (!configObj.vivo.native_intersititial_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_intersititial_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.vivoconfig.nativeInsertIds = configObj.vivo.native_intersititial_pos_id;
        configObj.vivo.rec_portal_id ? this.vivoconfig.recPortalId = configObj.vivo.rec_portal_id : Utils_1.utils.showLog("warn\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018rec_portal_id\u2019\u5b57\u6bb5\uff01");
        configObj.vivo.rec_game_banner_id ? this.vivoconfig.recGameBannerId = configObj.vivo.rec_game_banner_id : Utils_1.utils.showLog("warn\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018rec_game_banner_id\u2019\u5b57\u6bb5\uff01");
        configObj.vivo.native_single_pos_id ? this.vivoconfig.nativeSingleAdIds = configObj.vivo.native_single_pos_id : Utils_1.utils.showLog("warn\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_single_pos_id\u2019\u5b57\u6bb5\uff01");
        configObj.vivo.umeng_id ? this.vivoconfig.umengId = configObj.vivo.umeng_id : Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018umeng_id\u2019\u5b57\u6bb5,\u4e0d\u542f\u7528\u53cb\u76df\u7edf\u8ba1\uff01");
        configObj.vivo.version ? this.vivoconfig.version = configObj.vivo.version : Utils_1.utils.showLog("warn:\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01");
        return true;
      };
      CommonConfig.prototype._init_baidu = function(data) {
        if (!data) return false;
        Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:", data);
        var configObj = JSON.parse(data);
        if (!configObj) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!");
          return false;
        }
        if (!configObj.baidu) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018baidu\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        if (!configObj.baidu.app_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.baiduconfig.appID = configObj.baidu.app_id;
        configObj.baidu.app_sid ? this.baiduconfig.appSID = configObj.baidu.app_sid : Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_sid\u2019\u5b57\u6bb5\uff01");
        if (!configObj.baidu.video_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.baiduconfig.videoId = configObj.baidu.video_pos_id;
        if (!configObj.baidu.banner_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.baiduconfig.bannerId = configObj.baidu.banner_pos_id;
        if (!configObj.baidu.version) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.baiduconfig.version = configObj.baidu.version;
        if (!configObj.baidu.shares) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        if (!configObj.baidu.shares.sy_title) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_title\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.otherconfig.shareTitle = configObj.baidu.shares.sy_title;
        if (!configObj.baidu.shares.sy_img) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_img\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.otherconfig.shareImgUrl = configObj.baidu.shares.sy_img;
        return true;
      };
      CommonConfig.prototype._init_wifi = function(data) {
        if (!data) return false;
        Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:", data);
        var configObj = JSON.parse(data);
        if (!configObj) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!");
          return false;
        }
        if (!configObj.wifi) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018baidu\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        if (!configObj.wifi.app_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.wifiConfig.appID = configObj.wifi.app_id;
        if (!configObj.wifi.version) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.wifiConfig.version = configObj.wifi.version;
        return true;
      };
      CommonConfig.prototype._init_douyin = function(data) {
        if (!data) return false;
        var configObj = JSON.parse(data);
        if (!configObj) {
          Utils_1.utils.showLog("warn:\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!");
          return false;
        }
        if (configObj.toutiao) {
          if (!configObj.toutiao.app_id) {
            Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01");
            return false;
          }
          this.douyinconfig.appID = configObj.toutiao.app_id;
          if (!configObj.toutiao.banner_pos_id) {
            Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01");
            return false;
          }
          this.douyinconfig.bannerId = configObj.toutiao.banner_pos_id;
          if (!configObj.toutiao.video_pos_id) {
            Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01");
            return false;
          }
          this.douyinconfig.videoId = configObj.toutiao.video_pos_id;
          if (!configObj.toutiao.intersititia_pos_id) {
            Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersititia_pos_id\u2019\u5b57\u6bb5\uff01");
            return false;
          }
          this.douyinconfig.insertId = configObj.toutiao.intersititia_pos_id;
          if (!configObj.toutiao.version) {
            Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01");
            return false;
          }
          this.douyinconfig.version = configObj.toutiao.version;
          if (!configObj.toutiao.shares) {
            Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares\u2019\u5b57\u6bb5\uff01");
            return false;
          }
          if (!configObj.toutiao.shares.sy_title) {
            Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_title\u2019\u5b57\u6bb5\uff01");
            return false;
          }
          this.otherconfig.shareTitle = configObj.toutiao.shares.sy_title;
          if (!configObj.toutiao.shares.sy_img) {
            Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_img\u2019\u5b57\u6bb5\uff01");
            return false;
          }
          this.otherconfig.shareImgUrl = configObj.toutiao.shares.sy_img;
        }
        return true;
      };
      CommonConfig.prototype._init_qq = function(data) {
        if (!data) return false;
        Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:", data);
        var configObj = JSON.parse(data);
        if (!configObj) {
          Utils_1.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!");
          return false;
        }
        if (!configObj.qq) {
          Utils_1.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018qq\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        if (!configObj.qq.app_id) {
          Utils_1.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.qqconfig.appID = configObj.qq.app_id;
        if (!configObj.qq.video_pos_id) {
          Utils_1.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.qqconfig.videoId = configObj.qq.video_pos_id;
        if (!configObj.qq.banner_pos_id) {
          Utils_1.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.qqconfig.bannerId = configObj.qq.banner_pos_id;
        if (!configObj.qq.intersititia_pos_id) {
          Utils_1.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersititia_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.qqconfig.insertId = configObj.qq.intersititia_pos_id;
        if (!configObj.qq.box_pos_id) {
          Utils_1.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018box_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.qqconfig.boxId = configObj.qq.box_pos_id;
        if (!configObj.qq.banner_box_pos_id) {
          Utils_1.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_box_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.qqconfig.bannerBoxId = configObj.qq.banner_box_pos_id;
        if (!configObj.qq.shares) {
          Utils_1.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        if (!configObj.qq.shares.sy_title) {
          Utils_1.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.shareTitle\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.otherconfig.shareTitle = configObj.qq.shares.sy_title;
        if (!configObj.qq.shares.sy_img) {
          Utils_1.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.shareImgUrl\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.otherconfig.shareImgUrl = configObj.qq.shares.sy_img;
        if (!configObj.qq.version) {
          Utils_1.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.qqconfig.version = configObj.qq.version;
        return true;
      };
      CommonConfig.prototype._init_qtt = function(data) {
        if (!data) return false;
        Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:", data);
        var configObj = JSON.parse(data);
        if (configObj && configObj.qutoutiao) {
          if (!configObj.qutoutiao.app_id) {
            Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01");
            return false;
          }
          this.qttconfig.appID = configObj.qutoutiao.app_id;
          Utils_1.utils.showLog("this.qttconfig.appID:", this.qttconfig.appID);
          Utils_1.utils.showLog("configObj.qutoutiao.app_id:", configObj.qutoutiao.app_id);
          if (!configObj.qutoutiao.app_key) {
            Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_key\u2019\u5b57\u6bb5\uff01");
            return false;
          }
          this.qttconfig.appKey = configObj.qutoutiao.app_key;
          if (!configObj.qutoutiao.game_name) {
            Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_key\u2019\u5b57\u6bb5\uff01");
            return false;
          }
          this.qttconfig.gamename = configObj.qutoutiao.game_name;
        }
        return true;
      };
      CommonConfig.prototype._bannerLocationStringToEnum = function(str) {
        switch (str) {
         case "home":
          return YZ_Constant_1.BannerLocation.Home;

         case "game":
          return YZ_Constant_1.BannerLocation.Game;

         case "level":
          return YZ_Constant_1.BannerLocation.Level;

         case "skin":
          return YZ_Constant_1.BannerLocation.Skin;

         case "pause":
          return YZ_Constant_1.BannerLocation.Pause;

         case "over":
          return YZ_Constant_1.BannerLocation.Over;

         default:
          return YZ_Constant_1.BannerLocation.None;
        }
      };
      CommonConfig.prototype._init_xiaomi = function(data) {
        if (!data) return false;
        Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:", data);
        var configObj = JSON.parse(data);
        if (!configObj) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!");
          return false;
        }
        if (!configObj.xiaomi) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018xiaomi\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        if (!configObj.xiaomi.app_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.xiaomiConfig.appID = configObj.xiaomi.app_id;
        if (!configObj.xiaomi.intersititia_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersititia_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.xiaomiConfig.insertId = configObj.xiaomi.intersititia_pos_id;
        if (!configObj.xiaomi.video_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.xiaomiConfig.videoId = configObj.xiaomi.video_pos_id;
        if (!configObj.xiaomi.banner_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.xiaomiConfig.bannerId = configObj.xiaomi.banner_pos_id;
        if (!configObj.xiaomi.native_banner_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_banner_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.xiaomiConfig.nativeBannerIds = configObj.xiaomi.native_banner_pos_id;
        configObj.xiaomi.native_trygame_pos_id ? this.xiaomiConfig.nativeTryGameIds = configObj.xiaomi.native_trygame_pos_id : Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_trygame_pos_id\u2019\u5b57\u6bb5\uff01");
        if (!configObj.xiaomi.native_intersititial_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_intersititial_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.xiaomiConfig.nativeInsertIds = configObj.xiaomi.native_intersititial_pos_id;
        return true;
      };
      CommonConfig.prototype._init_uc = function(data) {
        if (!data) return false;
        Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:", data);
        var configObj = JSON.parse(data);
        if (!configObj) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!");
          return false;
        }
        if (!configObj.uc) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018uc\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        if (!configObj.uc.app_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.ucConfig.appID = configObj.uc.app_id;
        if (!configObj.uc.version) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.ucConfig.version = configObj.uc.version;
        if (!configObj.uc.shares) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        if (!configObj.uc.shares.sy_title) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.shareTitle\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.otherconfig.shareTitle = configObj.uc.shares.sy_title;
        if (!configObj.uc.shares.sy_img) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.shareImgUrl\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.otherconfig.shareImgUrl = configObj.uc.shares.sy_img;
        return true;
      };
      CommonConfig.prototype._init_cocos = function(data) {
        if (!data) return false;
        Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:", data);
        var configObj = JSON.parse(data);
        if (!configObj) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!");
          return false;
        }
        if (!configObj.cocos) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018cocos\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        if (!configObj.cocos.app_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.cocosConfig.appID = configObj.cocos.app_id;
        if (!configObj.cocos.video_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.cocosConfig.videoId = configObj.cocos.video_pos_id;
        if (!configObj.cocos.banner_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.cocosConfig.bannerId = configObj.cocos.banner_pos_id;
        if (!configObj.cocos.intersititia_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersititia_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.cocosConfig.insertId = configObj.cocos.intersititia_pos_id;
        if (!configObj.cocos.shares) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        if (!configObj.cocos.shares.sy_title) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.shareTitle\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.otherconfig.shareTitle = configObj.cocos.shares.sy_title;
        if (!configObj.cocos.shares.sy_img) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.shareImgUrl\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.otherconfig.shareImgUrl = configObj.cocos.shares.sy_img;
        return true;
      };
      CommonConfig.prototype._init_native_android = function() {
        if (!Utils_1.utils.Tool_Native) return false;
        var data = Utils_1.utils.Tool_Native.getNativeData();
        Utils_1.utils.showLog("\u539f\u751f\u5b89\u5353\u5e73\u53f0\u672c\u5730\u914d\u7f6e\u6570\u636e:", data);
        if (!data) {
          Utils_1.utils.showLog("error : \u5b89\u5353\u672c\u5730\u914d\u7f6e\u6570\u636e\u914d\u7f6e\u9519\u8bef\uff01");
          return false;
        }
        var configObj = JSON.parse(data);
        if (!configObj) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!");
          return false;
        }
        if (!configObj.app_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.nativeAndroidConfig.appID = configObj.app_id;
        if (!configObj.version) {
          Utils_1.utils.showMsg("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.nativeAndroidConfig.version = configObj.version;
        if (!configObj.channel) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.nativeAndroidConfig.channel = configObj.channel;
        Utils_1.utils.showLog("\u539f\u751f\u5e73\u53f0\u6e20\u9053\u53f7 channel=" + configObj.channel);
        return true;
      };
      CommonConfig.prototype._init_native_ios = function(data) {
        if (!data) return false;
        Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:", data);
        var configObj = JSON.parse(data);
        if (!configObj) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!");
          return false;
        }
        if (!configObj.ios.app_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.nativeIoSConfig.appID = configObj.ios.app_id;
        if (!configObj.ios.video_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.nativeIoSConfig.videoId = configObj.ios.video_pos_id;
        if (!configObj.ios.version) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.nativeIoSConfig.version = configObj.ios.version;
        if (!configObj.ios.banner_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.nativeIoSConfig.bannerId = configObj.ios.banner_pos_id;
        if (!configObj.ios.intersititia_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersititia_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.nativeIoSConfig.insertId = configObj.ios.intersititia_pos_id;
        return true;
      };
      CommonConfig.prototype._init_bili = function(data) {
        if (!data) return false;
        Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:", data);
        var configObj = JSON.parse(data);
        if (!configObj) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!");
          return false;
        }
        if (!configObj.bili.shares.sy_title) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_title\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.otherconfig.shareTitle = configObj.bili.shares.sy_title;
        if (!configObj.bili.shares.sy_img) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_img\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.otherconfig.shareImgUrl = configObj.bili.shares.sy_img;
        return true;
      };
      CommonConfig.prototype._init_kwai = function(data) {
        if (!data) return false;
        Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:", data);
        var configObj = JSON.parse(data);
        if (!configObj) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!");
          return false;
        }
        if (!configObj.kwai.app_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.kwaiConfig.appID = configObj.kwai.app_id;
        if (!configObj.kwai.video_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.kwaiConfig.videoId = configObj.kwai.video_pos_id;
        configObj.kwai.intersititia_pos_id ? this.kwaiConfig.insertId = configObj.kwai.intersititia_pos_id : Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersititia_pos_id\u2019\u5b57\u6bb5\uff01");
        if (!configObj.kwai.version) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.kwaiConfig.version = configObj.kwai.version;
        if (!configObj.kwai.shares) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        if (!configObj.kwai.shares.sy_title) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_title\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.otherconfig.shareTitle = configObj.kwai.shares.sy_title;
        if (!configObj.kwai.shares.sy_img) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_img\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.otherconfig.shareImgUrl = configObj.kwai.shares.sy_img;
        if (!configObj.kwai.shares.sy_icon) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_icon");
          return false;
        }
        this.otherconfig.shareIcon = configObj.kwai.shares.sy_icon;
        if (!configObj.kwai.shares.sy_desc) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018shares.sy_desc\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.otherconfig.shareDesc = configObj.kwai.shares.sy_desc;
        return true;
      };
      CommonConfig.prototype._init_facebook = function(data) {
        if (!data) return false;
        Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:", data);
        var configObj = JSON.parse(data);
        if (!configObj) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!");
          return false;
        }
        if (!configObj.faceBook.app_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.faceBookConfig.appID = configObj.faceBook.app_id;
        if (!configObj.faceBook.video_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.faceBookConfig.videoId = configObj.faceBook.video_pos_id;
        if (!configObj.faceBook.intersititia_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018intersititia_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.faceBookConfig.insertId = configObj.faceBook.intersititia_pos_id;
        if (!configObj.faceBook.banner_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.faceBookConfig.bannerId = configObj.faceBook.banner_pos_id;
        if (!configObj.faceBook.version) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.faceBookConfig.version = configObj.faceBook.version;
        Utils_1.utils.showLog("success\u672c\u5730\u914d\u7f6e\u6570\u636e\u9a8c\u8bc1\u5b8c\u6210!");
        return true;
      };
      CommonConfig.prototype._init_hago = function(data) {
        if (!data) return false;
        Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:", data);
        var configObj = JSON.parse(data);
        if (!configObj) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!");
          return false;
        }
        if (!configObj.hago.app_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.hagoConfig.appID = configObj.hago.app_id;
        if (!configObj.hago.video_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.hagoConfig.videoId = configObj.hago.video_pos_id;
        if (!configObj.hago.version) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.hagoConfig.version = configObj.hago.version;
        return true;
      };
      CommonConfig.prototype._init_huawei = function(data) {
        if (!data) return false;
        Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:", data);
        var configObj = JSON.parse(data);
        if (!configObj) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684json\u6570\u636e!");
          return false;
        }
        if (!configObj.huawei.app_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018app_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.huaweiConfig.appID = configObj.huawei.app_id;
        if (!configObj.huawei.video_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018video_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.huaweiConfig.videoId = configObj.huawei.video_pos_id;
        if (!configObj.huawei.banner_pos_id) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018banner_pos_id\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.huaweiConfig.bannerId = configObj.huawei.banner_pos_id;
        configObj.huawei.native_banner_pos_id ? this.huaweiConfig.nativeBannerIds = configObj.huawei.native_banner_pos_id : Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_banner_pos_id\u2019\u5b57\u6bb5\uff01");
        configObj.huawei.native_intersititial_pos_id ? this.huaweiConfig.nativeInsertIds = configObj.huawei.native_intersititial_pos_id : Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_intersititial_pos_id\u2019\u5b57\u6bb5\uff01");
        configObj.huawei.native_trygame_pos_id ? this.huaweiConfig.nativeTryGameIds = configObj.huawei.native_trygame_pos_id : Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_trygame_pos_id\u2019\u5b57\u6bb5\uff01");
        configObj.huawei.native_splash_id ? this.huaweiConfig.nativeSplashId = configObj.huawei.native_splash_id : Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018native_splash_id\u2019\u5b57\u6bb5\uff01");
        configObj.huawei.umeng_id ? this.huaweiConfig.umengId = configObj.huawei.umeng_id : Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018umeng_id\u2019\u5b57\u6bb5,\u4e0d\u542f\u7528\u53cb\u76df\u7edf\u8ba1\uff01");
        if (!configObj.huawei.version) {
          Utils_1.utils.showLog("error\u672c\u5730\u914d\u7f6e\u6570\u636e\u4e0d\u5305\u542b\u2018version\u2019\u5b57\u6bb5\uff01");
          return false;
        }
        this.huaweiConfig.version = configObj.huawei.version;
        return true;
      };
      __decorate([ property({
        type: OtherConfig,
        tooltip: "\u5176\u4ed6\u914d\u7f6e",
        displayName: "\u5176\u4ed6\u914d\u7f6e"
      }) ], CommonConfig.prototype, "otherconfig", void 0);
      CommonConfig = __decorate([ ccclass("CommonConfig") ], CommonConfig);
      return CommonConfig;
    }();
    exports.default = CommonConfig;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  CompatibleTool: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c616dE5RypCGJJPz/ZeBEZZ", "CompatibleTool");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var CompatibleTool = function(_super) {
      __extends(CompatibleTool, _super);
      function CompatibleTool() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      Object.defineProperty(CompatibleTool, "engineVersion", {
        get: function() {
          if (this._engineVersion > 0) return this._engineVersion;
          var version = cc.ENGINE_VERSION;
          return parseInt(version.substr(version.indexOf(".") - 1, version.length).split(".").join(""));
        },
        enumerable: false,
        configurable: true
      });
      CompatibleTool.position = function(x, y) {
        if (this.engineVersion >= 240) return cc.v3(x, y);
        return cc.v2(x, y);
      };
      CompatibleTool.LoadRes = function(remoteUrl, callBack) {
        if (this.engineVersion >= 240) {
          var str = remoteUrl.substr(remoteUrl.lastIndexOf("."));
          if (".jpg" != str && ".png" != str && ".jpeg" != str) {
            cc.assetManager.loadRemote(remoteUrl, {
              ext: ".jpeg"
            }, callBack);
            cc.assetManager.loadRemote(remoteUrl, {
              ext: ".jpg"
            }, callBack);
            cc.assetManager.loadRemote(remoteUrl, {
              ext: ".png"
            }, callBack);
          } else cc.assetManager.loadRemote(remoteUrl, callBack);
        } else {
          var str = remoteUrl.substr(remoteUrl.lastIndexOf("."));
          if (".jpg" != str && ".png" != str && ".jpeg" != str) {
            cc.loader.load({
              url: remoteUrl,
              type: "jpeg"
            }, callBack);
            cc.loader.load({
              url: remoteUrl,
              type: "jpg"
            }, callBack);
            cc.loader.load({
              url: remoteUrl,
              type: "png"
            }, callBack);
          } else cc.loader.load(remoteUrl, callBack);
        }
      };
      CompatibleTool._engineVersion = 0;
      CompatibleTool = __decorate([ ccclass ], CompatibleTool);
      return CompatibleTool;
    }(cc.Component);
    exports.default = CompatibleTool;
    cc._RF.pop();
  }, {} ],
  Constant: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "64cadnkviJL44jGEeMwtjtg", "Constant");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.SkillInfo = exports.GunInfo = exports.SkinInfo = exports.Levelitem = exports.PanelName = exports.PageName = exports.ZindexLayer = exports.Starstate = exports.GameState = void 0;
    var Constant = function() {
      function Constant() {}
      Constant.CT_TotalLevelCount = 20;
      Constant.CT_RewardCoinCount = 100;
      Constant.CT_FailRewardCoinCount = 50;
      Constant.commonCJTimes = 1;
      Constant.weaponLevelPriceArr = [ 100, 300, 600 ];
      Constant.skinLevelPriceArr = [ 100, 200, 300, 400, 500, 600 ];
      Constant.ST_GameData = "GameData_dxcyxtgd";
      Constant.ST_BuildDate = "ST_BuildDate";
      Constant.ST_TotoalCount = "ST_TotoalCount";
      Constant.ST_CurModel1MapId = "ST_CurModel1MapId";
      Constant.ST_CurModel2MapId = "ST_CurModel2MapId";
      Constant.ST_CurLevelId = "ST_CurLevelId";
      Constant.ST_AudioOn = "ST_AudioOn";
      Constant.ST_ShakeOn = "ST_ShakeOn";
      Constant.ST_CoinCount = "ST_CoinCount";
      Constant.ST_DiamondCount = "ST_DiamondCount";
      Constant.ST_OnlineToday = "ST_OnlineToday";
      Constant.ST_ReceiveToday = "ST_ReceiveToday";
      Constant.ST_LastLoadDate = "ST_LastLoadDate";
      Constant.ST_LastDailyBonusTime = "ST_LastDailyBonusTime";
      Constant.ST_LastDailyBonusIndex = "ST_LastDailyBonusIndex";
      Constant.ST_SkinInfo = "ST_SkinInfo";
      Constant.ST_CurSkinId = "ST_CurSkinId";
      Constant.ST_SkillInfo = "ST_SkillInfo";
      Constant.ST_CurSkillId = "ST_CurSkillId";
      Constant.ST_GunInfo = "ST_GunInfo";
      Constant.ST_CurMeleeId = "ST_CurMeleeId";
      Constant.ST_CurRangeId = "ST_CurRangeId";
      Constant.ST_LevelItem = "LevelItem";
      Constant.ST_ShareNum = "ST_ShareNum";
      Constant.E_GAME_LOGIC = "E_GAME_LOGIC";
      Constant.E_UPDATE_PROGRESS = "E_UPDATE_PROGRESS";
      Constant.E_Fly_Coin = "E_Fly_Coin";
      Constant.E_COIN_CHANGE = "E_COIN_CHANGE";
      Constant.E_Diamond_CHANGE = "E_Diamond_CHANGE";
      Constant.E_EXP_CHANGE = "E_EXP_CHANGE";
      Constant.E_CJ_SKIN = "E_CJ_SKIN";
      Constant.E_CJ_Weapon = "E_CJ_Weapon";
      Constant.E_ShareOrVideo = "E_ShareOrVideo";
      Constant.E_Player_Death = "E_Player_Death";
      Constant.E_Player_Hart = "E_Player_Hart";
      Constant.E_Bullet_Last = "E_Bullet_Last";
      Constant.E_Bullet_Reload = "E_Bullet_Reload";
      Constant.E_Zombie_Hart = "E_Zombie_Hart";
      Constant.E_Zombie_Death = "E_Zombie_Death";
      Constant.E_Jingyan_Finish = "E_Jingyan_Finish";
      Constant.E_Commonzombie_Destory = "E_Commonzombie_Destory";
      Constant.E_Allzombie_Destory = "E_Allzombie_Destory";
      Constant.E_Skill_Citie = "E_Skill_Citie";
      Constant.ST_Guide_Skill = "ST_Guide_Skill";
      return Constant;
    }();
    exports.default = Constant;
    var GameState;
    (function(GameState) {
      GameState[GameState["None"] = -1] = "None";
      GameState[GameState["Prepare"] = 0] = "Prepare";
      GameState[GameState["Start"] = 1] = "Start";
      GameState[GameState["Success"] = 2] = "Success";
      GameState[GameState["Failed"] = 3] = "Failed";
      GameState[GameState["Pause"] = 4] = "Pause";
      GameState[GameState["Relive"] = 5] = "Relive";
    })(GameState = exports.GameState || (exports.GameState = {}));
    var Starstate;
    (function(Starstate) {
      Starstate[Starstate["default"] = 0] = "default";
      Starstate[Starstate["bright"] = 1] = "bright";
      Starstate[Starstate["drown"] = 2] = "drown";
    })(Starstate = exports.Starstate || (exports.Starstate = {}));
    var ZindexLayer;
    (function(ZindexLayer) {
      ZindexLayer[ZindexLayer["zindex_min"] = cc.macro.MIN_ZINDEX] = "zindex_min";
      ZindexLayer[ZindexLayer["zinedx_floorTip"] = cc.macro.MIN_ZINDEX + 1] = "zinedx_floorTip";
      ZindexLayer[ZindexLayer["zinedx_floorLiewen"] = cc.macro.MIN_ZINDEX + 2] = "zinedx_floorLiewen";
      ZindexLayer[ZindexLayer["zinedx_floorSkill"] = cc.macro.MIN_ZINDEX + 3] = "zinedx_floorSkill";
      ZindexLayer[ZindexLayer["zinedx_footPrint"] = cc.macro.MIN_ZINDEX + 4] = "zinedx_footPrint";
      ZindexLayer[ZindexLayer["zinedx_gh"] = cc.macro.MIN_ZINDEX + 5] = "zinedx_gh";
      ZindexLayer[ZindexLayer["zinedx_footYc"] = cc.macro.MIN_ZINDEX + 6] = "zinedx_footYc";
      ZindexLayer[ZindexLayer["zinedx_jingyan"] = cc.macro.MIN_ZINDEX + 7] = "zinedx_jingyan";
      ZindexLayer[ZindexLayer["zindex_shellcase"] = cc.macro.MIN_ZINDEX + 8] = "zindex_shellcase";
      ZindexLayer[ZindexLayer["default"] = 0] = "default";
      ZindexLayer[ZindexLayer["zindex_mb"] = 1] = "zindex_mb";
      ZindexLayer[ZindexLayer["zinedx_item"] = 100] = "zinedx_item";
      ZindexLayer[ZindexLayer["zinedx_dropbox"] = 200] = "zinedx_dropbox";
      ZindexLayer[ZindexLayer["zindex_zombie"] = 300] = "zindex_zombie";
      ZindexLayer[ZindexLayer["zindex_monster"] = 400] = "zindex_monster";
      ZindexLayer[ZindexLayer["zindex_enemy"] = 500] = "zindex_enemy";
      ZindexLayer[ZindexLayer["zindex_soldier"] = 600] = "zindex_soldier";
      ZindexLayer[ZindexLayer["zindex_ai"] = 700] = "zindex_ai";
      ZindexLayer[ZindexLayer["zindex_player"] = 800] = "zindex_player";
      ZindexLayer[ZindexLayer["zindex_tower"] = 900] = "zindex_tower";
      ZindexLayer[ZindexLayer["zindex_bullet"] = 1e3] = "zindex_bullet";
      ZindexLayer[ZindexLayer["zindex_hp"] = 1100] = "zindex_hp";
      ZindexLayer[ZindexLayer["zindex_bomb"] = 1200] = "zindex_bomb";
      ZindexLayer[ZindexLayer["zindex_blood"] = 1300] = "zindex_blood";
      ZindexLayer[ZindexLayer["zindex_effect"] = 1400] = "zindex_effect";
      ZindexLayer[ZindexLayer["zindex_effect_fire"] = 1500] = "zindex_effect_fire";
      ZindexLayer[ZindexLayer["zindex_effect_spark"] = 1600] = "zindex_effect_spark";
      ZindexLayer[ZindexLayer["zindex_effect_hit"] = 1800] = "zindex_effect_hit";
      ZindexLayer[ZindexLayer["zindex_bullet_sky"] = 1900] = "zindex_bullet_sky";
      ZindexLayer[ZindexLayer["zindex_skill"] = cc.macro.MAX_ZINDEX - 6] = "zindex_skill";
      ZindexLayer[ZindexLayer["zindex_roleLabel"] = cc.macro.MAX_ZINDEX - 2] = "zindex_roleLabel";
      ZindexLayer[ZindexLayer["zindex_max"] = cc.macro.MAX_ZINDEX] = "zindex_max";
    })(ZindexLayer = exports.ZindexLayer || (exports.ZindexLayer = {}));
    var PageName = function() {
      function PageName() {}
      PageName.UILoadingPage = "UILoadingPage";
      PageName.UIHomePage = "UIHomePage";
      PageName.UIGamePage = "UIGamePage";
      PageName.UIOverPage = "UIOverPage";
      PageName.UIGameLoadingPage = "UIGameLoadingPage";
      return PageName;
    }();
    exports.PageName = PageName;
    var PanelName = function() {
      function PanelName() {}
      PanelName.UISignPanel = "UISignPanel";
      PanelName.UITurntablePanel = "UITurntablePanel";
      PanelName.UIRevivePanel = "UIRevivePanel";
      PanelName.UIUpgradePanel = "UIUpgradePanel";
      PanelName.UIPausePanel = "UIPausePanel";
      PanelName.UITrySkinPanel = "UITrySkinPanel";
      PanelName.UIWeaponLevelPanel = "UIWeaponLevelPanel";
      PanelName.UITimePanel = "UITimePanel";
      return PanelName;
    }();
    exports.PanelName = PanelName;
    var Levelitem = function() {
      function Levelitem(str) {
        var info = JSON.parse(str);
        if (info) {
          info.Id ? this.Id = parseInt(info.Id) : cc.log("Id \u5b57\u6bb5\u4e0d\u5b58\u5728!");
          info.State ? this.State = parseInt(info.State) : cc.log("State \u5b57\u6bb5\u4e0d\u5b58\u5728!");
          info.Grade ? this.Grade = parseInt(info.Grade) : cc.log("Grade \u5b57\u6bb5\u4e0d\u5b58\u5728!");
        } else cc.log("\u6784\u5efa Levelitem \u7684\u5b57\u7b26\u4e32\u4e0d\u5408\u6cd5!");
      }
      Levelitem.prototype.ToString = function() {
        return '{"Id":"' + this.Id + '","State":"' + this.State + '","Grade":"' + this.Grade + '"}';
      };
      return Levelitem;
    }();
    exports.Levelitem = Levelitem;
    var SkinInfo = function() {
      function SkinInfo(str) {
        var info = JSON.parse(str);
        if (info) {
          info.Id ? this.Id = parseInt(info.Id) : cc.log("Id \u5b57\u6bb5\u4e0d\u5b58\u5728!");
          info.State ? this.State = parseInt(info.State) : cc.log("State \u5b57\u6bb5\u4e0d\u5b58\u5728!");
          info.Price ? this.Price = parseInt(info.Price) : cc.log("Price \u5b57\u6bb5\u4e0d\u5b58\u5728!");
          info.Level ? this.Level = parseInt(info.Level) : cc.log("Level \u5b57\u6bb5\u4e0d\u5b58\u5728!");
          info.VideoCount ? this.VideoCount = parseInt(info.VideoCount) : cc.log("VideoCount \u5b57\u6bb5\u4e0d\u5b58\u5728!");
        } else cc.log("\u6784\u5efa SkinInfo \u7684\u5b57\u7b26\u4e32\u4e0d\u5408\u6cd5!");
      }
      SkinInfo.prototype.ToString = function() {
        return '{"Id":"' + this.Id + '","State":' + this.State + '","Price":"' + this.Price + '","VideoCount":"' + this.VideoCount + '"}';
      };
      return SkinInfo;
    }();
    exports.SkinInfo = SkinInfo;
    var GunInfo = function() {
      function GunInfo(str) {
        var info = JSON.parse(str);
        if (info) {
          info.Id ? this.Id = parseInt(info.Id) : cc.log("Id \u5b57\u6bb5\u4e0d\u5b58\u5728!");
          info.State ? this.State = parseInt(info.State) : cc.log("State \u5b57\u6bb5\u4e0d\u5b58\u5728!");
          info.Price ? this.Price = parseInt(info.Price) : cc.log("Price \u5b57\u6bb5\u4e0d\u5b58\u5728!");
          info.Level ? this.Level = parseInt(info.Level) : cc.log("Level \u5b57\u6bb5\u4e0d\u5b58\u5728!");
          info.VideoCount ? this.VideoCount = parseInt(info.VideoCount) : cc.log("VideoCount \u5b57\u6bb5\u4e0d\u5b58\u5728!");
        } else cc.log("\u6784\u5efa GunInfo \u7684\u5b57\u7b26\u4e32\u4e0d\u5408\u6cd5!");
      }
      GunInfo.prototype.ToString = function() {
        return '{"Id":"' + this.Id + '","State":"' + this.State + '","Price":"' + this.Price + '","Level":"' + this.Level + '","VideoCount":"' + this.VideoCount + '"}';
      };
      return GunInfo;
    }();
    exports.GunInfo = GunInfo;
    var SkillInfo = function() {
      function SkillInfo(str) {
        var info = JSON.parse(str);
        if (info) {
          info.Id ? this.Id = parseInt(info.Id) : cc.log("Id \u5b57\u6bb5\u4e0d\u5b58\u5728!");
          info.State ? this.State = parseInt(info.State) : cc.log("State \u5b57\u6bb5\u4e0d\u5b58\u5728!");
          info.Price ? this.Price = parseInt(info.Price) : cc.log("Price \u5b57\u6bb5\u4e0d\u5b58\u5728!");
        } else cc.log("\u6784\u5efa SkillInfo \u7684\u5b57\u7b26\u4e32\u4e0d\u5408\u6cd5!");
      }
      SkillInfo.prototype.ToString = function() {
        return '{"Id":"' + this.Id + '","State":"' + this.State + '","Price":"' + this.Price + '"}';
      };
      return SkillInfo;
    }();
    exports.SkillInfo = SkillInfo;
    cc._RF.pop();
  }, {} ],
  CryptoJS: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9c578rOejxNwYyA/OywYDiZ", "CryptoJS");
    "use strict";
    var CryptoJS = CryptoJS || function(u, p) {
      var d = {}, l = d.lib = {}, s = function s() {}, t = l.Base = {
        extend: function extend(a) {
          s.prototype = this;
          var c = new s();
          a && c.mixIn(a);
          c.hasOwnProperty("init") || (c.init = function() {
            c.$super.init.apply(this, arguments);
          });
          c.init.prototype = c;
          c.$super = this;
          return c;
        },
        create: function create() {
          var a = this.extend();
          a.init.apply(a, arguments);
          return a;
        },
        init: function init() {},
        mixIn: function mixIn(a) {
          for (var c in a) a.hasOwnProperty(c) && (this[c] = a[c]);
          a.hasOwnProperty("toString") && (this.toString = a.toString);
        },
        clone: function clone() {
          return this.init.prototype.extend(this);
        }
      }, r = l.WordArray = t.extend({
        init: function init(a, c) {
          a = this.words = a || [];
          this.sigBytes = c != p ? c : 4 * a.length;
        },
        toString: function toString(a) {
          return (a || v).stringify(this);
        },
        concat: function concat(a) {
          var c = this.words, e = a.words, j = this.sigBytes;
          a = a.sigBytes;
          this.clamp();
          if (j % 4) for (var k = 0; k < a; k++) c[j + k >>> 2] |= (e[k >>> 2] >>> 24 - k % 4 * 8 & 255) << 24 - (j + k) % 4 * 8; else if (65535 < e.length) for (k = 0; k < a; k += 4) c[j + k >>> 2] = e[k >>> 2]; else c.push.apply(c, e);
          this.sigBytes += a;
          return this;
        },
        clamp: function clamp() {
          var a = this.words, c = this.sigBytes;
          a[c >>> 2] &= 4294967295 << 32 - c % 4 * 8;
          a.length = u.ceil(c / 4);
        },
        clone: function clone() {
          var a = t.clone.call(this);
          a.words = this.words.slice(0);
          return a;
        },
        random: function random(a) {
          for (var c = [], e = 0; e < a; e += 4) c.push(4294967296 * u.random() | 0);
          return new r.init(c, a);
        }
      }), w = d.enc = {}, v = w.Hex = {
        stringify: function stringify(a) {
          var c = a.words;
          a = a.sigBytes;
          for (var e = [], j = 0; j < a; j++) {
            var k = c[j >>> 2] >>> 24 - j % 4 * 8 & 255;
            e.push((k >>> 4).toString(16));
            e.push((15 & k).toString(16));
          }
          return e.join("");
        },
        parse: function parse(a) {
          for (var c = a.length, e = [], j = 0; j < c; j += 2) e[j >>> 3] |= parseInt(a.substr(j, 2), 16) << 24 - j % 8 * 4;
          return new r.init(e, c / 2);
        }
      }, b = w.Latin1 = {
        stringify: function stringify(a) {
          var c = a.words;
          a = a.sigBytes;
          for (var e = [], j = 0; j < a; j++) e.push(String.fromCharCode(c[j >>> 2] >>> 24 - j % 4 * 8 & 255));
          return e.join("");
        },
        parse: function parse(a) {
          for (var c = a.length, e = [], j = 0; j < c; j++) e[j >>> 2] |= (255 & a.charCodeAt(j)) << 24 - j % 4 * 8;
          return new r.init(e, c);
        }
      }, x = w.Utf8 = {
        stringify: function stringify(a) {
          try {
            return decodeURIComponent(escape(b.stringify(a)));
          } catch (c) {
            throw Error("Malformed UTF-8 data");
          }
        },
        parse: function parse(a) {
          return b.parse(unescape(encodeURIComponent(a)));
        }
      }, q = l.BufferedBlockAlgorithm = t.extend({
        reset: function reset() {
          this._data = new r.init();
          this._nDataBytes = 0;
        },
        _append: function _append(a) {
          "string" == typeof a && (a = x.parse(a));
          this._data.concat(a);
          this._nDataBytes += a.sigBytes;
        },
        _process: function _process(a) {
          var c = this._data, e = c.words, j = c.sigBytes, k = this.blockSize, b = j / (4 * k), b = a ? u.ceil(b) : u.max((0 | b) - this._minBufferSize, 0);
          a = b * k;
          j = u.min(4 * a, j);
          if (a) {
            for (var q = 0; q < a; q += k) this._doProcessBlock(e, q);
            q = e.splice(0, a);
            c.sigBytes -= j;
          }
          return new r.init(q, j);
        },
        clone: function clone() {
          var a = t.clone.call(this);
          a._data = this._data.clone();
          return a;
        },
        _minBufferSize: 0
      });
      l.Hasher = q.extend({
        cfg: t.extend(),
        init: function init(a) {
          this.cfg = this.cfg.extend(a);
          this.reset();
        },
        reset: function reset() {
          q.reset.call(this);
          this._doReset();
        },
        update: function update(a) {
          this._append(a);
          this._process();
          return this;
        },
        finalize: function finalize(a) {
          a && this._append(a);
          return this._doFinalize();
        },
        blockSize: 16,
        _createHelper: function _createHelper(a) {
          return function(b, e) {
            return new a.init(e).finalize(b);
          };
        },
        _createHmacHelper: function _createHmacHelper(a) {
          return function(b, e) {
            return new n.HMAC.init(a, e).finalize(b);
          };
        }
      });
      var n = d.algo = {};
      return d;
    }(Math);
    (function() {
      var u = CryptoJS, p = u.lib.WordArray;
      u.enc.Base64 = {
        stringify: function stringify(d) {
          var l = d.words, p = d.sigBytes, t = this._map;
          d.clamp();
          d = [];
          for (var r = 0; r < p; r += 3) for (var w = (l[r >>> 2] >>> 24 - r % 4 * 8 & 255) << 16 | (l[r + 1 >>> 2] >>> 24 - (r + 1) % 4 * 8 & 255) << 8 | l[r + 2 >>> 2] >>> 24 - (r + 2) % 4 * 8 & 255, v = 0; 4 > v && r + .75 * v < p; v++) d.push(t.charAt(w >>> 6 * (3 - v) & 63));
          if (l = t.charAt(64)) for (;d.length % 4; ) d.push(l);
          return d.join("");
        },
        parse: function parse(d) {
          var l = d.length, s = this._map, t = s.charAt(64);
          t && (t = d.indexOf(t), -1 != t && (l = t));
          for (var t = [], r = 0, w = 0; w < l; w++) if (w % 4) {
            var v = s.indexOf(d.charAt(w - 1)) << w % 4 * 2, b = s.indexOf(d.charAt(w)) >>> 6 - w % 4 * 2;
            t[r >>> 2] |= (v | b) << 24 - r % 4 * 8;
            r++;
          }
          return p.create(t, r);
        },
        _map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
      };
    })();
    (function(u) {
      function p(b, n, a, c, e, j, k) {
        b = b + (n & a | ~n & c) + e + k;
        return (b << j | b >>> 32 - j) + n;
      }
      function d(b, n, a, c, e, j, k) {
        b = b + (n & c | a & ~c) + e + k;
        return (b << j | b >>> 32 - j) + n;
      }
      function l(b, n, a, c, e, j, k) {
        b = b + (n ^ a ^ c) + e + k;
        return (b << j | b >>> 32 - j) + n;
      }
      function s(b, n, a, c, e, j, k) {
        b = b + (a ^ (n | ~c)) + e + k;
        return (b << j | b >>> 32 - j) + n;
      }
      for (var t = CryptoJS, r = t.lib, w = r.WordArray, v = r.Hasher, r = t.algo, b = [], x = 0; 64 > x; x++) b[x] = 4294967296 * u.abs(u.sin(x + 1)) | 0;
      r = r.MD5 = v.extend({
        _doReset: function _doReset() {
          this._hash = new w.init([ 1732584193, 4023233417, 2562383102, 271733878 ]);
        },
        _doProcessBlock: function _doProcessBlock(q, n) {
          for (var a = 0; 16 > a; a++) {
            var c = n + a, e = q[c];
            q[c] = 16711935 & (e << 8 | e >>> 24) | 4278255360 & (e << 24 | e >>> 8);
          }
          var a = this._hash.words, c = q[n + 0], e = q[n + 1], j = q[n + 2], k = q[n + 3], z = q[n + 4], r = q[n + 5], t = q[n + 6], w = q[n + 7], v = q[n + 8], A = q[n + 9], B = q[n + 10], C = q[n + 11], u = q[n + 12], D = q[n + 13], E = q[n + 14], x = q[n + 15], f = a[0], m = a[1], g = a[2], h = a[3], f = p(f, m, g, h, c, 7, b[0]), h = p(h, f, m, g, e, 12, b[1]), g = p(g, h, f, m, j, 17, b[2]), m = p(m, g, h, f, k, 22, b[3]), f = p(f, m, g, h, z, 7, b[4]), h = p(h, f, m, g, r, 12, b[5]), g = p(g, h, f, m, t, 17, b[6]), m = p(m, g, h, f, w, 22, b[7]), f = p(f, m, g, h, v, 7, b[8]), h = p(h, f, m, g, A, 12, b[9]), g = p(g, h, f, m, B, 17, b[10]), m = p(m, g, h, f, C, 22, b[11]), f = p(f, m, g, h, u, 7, b[12]), h = p(h, f, m, g, D, 12, b[13]), g = p(g, h, f, m, E, 17, b[14]), m = p(m, g, h, f, x, 22, b[15]), f = d(f, m, g, h, e, 5, b[16]), h = d(h, f, m, g, t, 9, b[17]), g = d(g, h, f, m, C, 14, b[18]), m = d(m, g, h, f, c, 20, b[19]), f = d(f, m, g, h, r, 5, b[20]), h = d(h, f, m, g, B, 9, b[21]), g = d(g, h, f, m, x, 14, b[22]), m = d(m, g, h, f, z, 20, b[23]), f = d(f, m, g, h, A, 5, b[24]), h = d(h, f, m, g, E, 9, b[25]), g = d(g, h, f, m, k, 14, b[26]), m = d(m, g, h, f, v, 20, b[27]), f = d(f, m, g, h, D, 5, b[28]), h = d(h, f, m, g, j, 9, b[29]), g = d(g, h, f, m, w, 14, b[30]), m = d(m, g, h, f, u, 20, b[31]), f = l(f, m, g, h, r, 4, b[32]), h = l(h, f, m, g, v, 11, b[33]), g = l(g, h, f, m, C, 16, b[34]), m = l(m, g, h, f, E, 23, b[35]), f = l(f, m, g, h, e, 4, b[36]), h = l(h, f, m, g, z, 11, b[37]), g = l(g, h, f, m, w, 16, b[38]), m = l(m, g, h, f, B, 23, b[39]), f = l(f, m, g, h, D, 4, b[40]), h = l(h, f, m, g, c, 11, b[41]), g = l(g, h, f, m, k, 16, b[42]), m = l(m, g, h, f, t, 23, b[43]), f = l(f, m, g, h, A, 4, b[44]), h = l(h, f, m, g, u, 11, b[45]), g = l(g, h, f, m, x, 16, b[46]), m = l(m, g, h, f, j, 23, b[47]), f = s(f, m, g, h, c, 6, b[48]), h = s(h, f, m, g, w, 10, b[49]), g = s(g, h, f, m, E, 15, b[50]), m = s(m, g, h, f, r, 21, b[51]), f = s(f, m, g, h, u, 6, b[52]), h = s(h, f, m, g, k, 10, b[53]), g = s(g, h, f, m, B, 15, b[54]), m = s(m, g, h, f, e, 21, b[55]), f = s(f, m, g, h, v, 6, b[56]), h = s(h, f, m, g, x, 10, b[57]), g = s(g, h, f, m, t, 15, b[58]), m = s(m, g, h, f, D, 21, b[59]), f = s(f, m, g, h, z, 6, b[60]), h = s(h, f, m, g, C, 10, b[61]), g = s(g, h, f, m, j, 15, b[62]), m = s(m, g, h, f, A, 21, b[63]);
          a[0] = a[0] + f | 0;
          a[1] = a[1] + m | 0;
          a[2] = a[2] + g | 0;
          a[3] = a[3] + h | 0;
        },
        _doFinalize: function _doFinalize() {
          var b = this._data, n = b.words, a = 8 * this._nDataBytes, c = 8 * b.sigBytes;
          n[c >>> 5] |= 128 << 24 - c % 32;
          var e = u.floor(a / 4294967296);
          n[15 + (c + 64 >>> 9 << 4)] = 16711935 & (e << 8 | e >>> 24) | 4278255360 & (e << 24 | e >>> 8);
          n[14 + (c + 64 >>> 9 << 4)] = 16711935 & (a << 8 | a >>> 24) | 4278255360 & (a << 24 | a >>> 8);
          b.sigBytes = 4 * (n.length + 1);
          this._process();
          b = this._hash;
          n = b.words;
          for (a = 0; 4 > a; a++) c = n[a], n[a] = 16711935 & (c << 8 | c >>> 24) | 4278255360 & (c << 24 | c >>> 8);
          return b;
        },
        clone: function clone() {
          var b = v.clone.call(this);
          b._hash = this._hash.clone();
          return b;
        }
      });
      t.MD5 = v._createHelper(r);
      t.HmacMD5 = v._createHmacHelper(r);
    })(Math);
    (function() {
      var u = CryptoJS, p = u.lib, d = p.Base, l = p.WordArray, p = u.algo, s = p.EvpKDF = d.extend({
        cfg: d.extend({
          keySize: 4,
          hasher: p.MD5,
          iterations: 1
        }),
        init: function init(d) {
          this.cfg = this.cfg.extend(d);
        },
        compute: function compute(d, r) {
          for (var p = this.cfg, s = p.hasher.create(), b = l.create(), u = b.words, q = p.keySize, p = p.iterations; u.length < q; ) {
            n && s.update(n);
            var n = s.update(d).finalize(r);
            s.reset();
            for (var a = 1; a < p; a++) n = s.finalize(n), s.reset();
            b.concat(n);
          }
          b.sigBytes = 4 * q;
          return b;
        }
      });
      u.EvpKDF = function(d, l, p) {
        return s.create(p).compute(d, l);
      };
    })();
    CryptoJS.lib.Cipher || function(u) {
      var p = CryptoJS, d = p.lib, l = d.Base, s = d.WordArray, t = d.BufferedBlockAlgorithm, r = p.enc.Base64, w = p.algo.EvpKDF, v = d.Cipher = t.extend({
        cfg: l.extend(),
        createEncryptor: function createEncryptor(e, a) {
          return this.create(this._ENC_XFORM_MODE, e, a);
        },
        createDecryptor: function createDecryptor(e, a) {
          return this.create(this._DEC_XFORM_MODE, e, a);
        },
        init: function init(e, a, b) {
          this.cfg = this.cfg.extend(b);
          this._xformMode = e;
          this._key = a;
          this.reset();
        },
        reset: function reset() {
          t.reset.call(this);
          this._doReset();
        },
        process: function process(e) {
          this._append(e);
          return this._process();
        },
        finalize: function finalize(e) {
          e && this._append(e);
          return this._doFinalize();
        },
        keySize: 4,
        ivSize: 4,
        _ENC_XFORM_MODE: 1,
        _DEC_XFORM_MODE: 2,
        _createHelper: function _createHelper(e) {
          return {
            encrypt: function encrypt(b, k, d) {
              return ("string" == typeof k ? c : a).encrypt(e, b, k, d);
            },
            decrypt: function decrypt(b, k, d) {
              return ("string" == typeof k ? c : a).decrypt(e, b, k, d);
            }
          };
        }
      });
      d.StreamCipher = v.extend({
        _doFinalize: function _doFinalize() {
          return this._process(!0);
        },
        blockSize: 1
      });
      var b = p.mode = {}, x = function x(e, a, b) {
        var c = this._iv;
        c ? this._iv = u : c = this._prevBlock;
        for (var d = 0; d < b; d++) e[a + d] ^= c[d];
      }, q = (d.BlockCipherMode = l.extend({
        createEncryptor: function createEncryptor(e, a) {
          return this.Encryptor.create(e, a);
        },
        createDecryptor: function createDecryptor(e, a) {
          return this.Decryptor.create(e, a);
        },
        init: function init(e, a) {
          this._cipher = e;
          this._iv = a;
        }
      })).extend();
      q.Encryptor = q.extend({
        processBlock: function processBlock(e, a) {
          var b = this._cipher, c = b.blockSize;
          x.call(this, e, a, c);
          b.encryptBlock(e, a);
          this._prevBlock = e.slice(a, a + c);
        }
      });
      q.Decryptor = q.extend({
        processBlock: function processBlock(e, a) {
          var b = this._cipher, c = b.blockSize, d = e.slice(a, a + c);
          b.decryptBlock(e, a);
          x.call(this, e, a, c);
          this._prevBlock = d;
        }
      });
      b = b.CBC = q;
      q = (p.pad = {}).Pkcs7 = {
        pad: function pad(a, b) {
          for (var c = 4 * b, c = c - a.sigBytes % c, d = c << 24 | c << 16 | c << 8 | c, l = [], n = 0; n < c; n += 4) l.push(d);
          c = s.create(l, c);
          a.concat(c);
        },
        unpad: function unpad(a) {
          a.sigBytes -= 255 & a.words[a.sigBytes - 1 >>> 2];
        }
      };
      d.BlockCipher = v.extend({
        cfg: v.cfg.extend({
          mode: b,
          padding: q
        }),
        reset: function reset() {
          v.reset.call(this);
          var a = this.cfg, b = a.iv, a = a.mode;
          if (this._xformMode == this._ENC_XFORM_MODE) var c = a.createEncryptor; else c = a.createDecryptor, 
          this._minBufferSize = 1;
          this._mode = c.call(a, this, b && b.words);
        },
        _doProcessBlock: function _doProcessBlock(a, b) {
          this._mode.processBlock(a, b);
        },
        _doFinalize: function _doFinalize() {
          var a = this.cfg.padding;
          if (this._xformMode == this._ENC_XFORM_MODE) {
            a.pad(this._data, this.blockSize);
            var b = this._process(!0);
          } else b = this._process(!0), a.unpad(b);
          return b;
        },
        blockSize: 4
      });
      var n = d.CipherParams = l.extend({
        init: function init(a) {
          this.mixIn(a);
        },
        toString: function toString(a) {
          return (a || this.formatter).stringify(this);
        }
      }), b = (p.format = {}).OpenSSL = {
        stringify: function stringify(a) {
          var b = a.ciphertext;
          a = a.salt;
          return (a ? s.create([ 1398893684, 1701076831 ]).concat(a).concat(b) : b).toString(r);
        },
        parse: function parse(a) {
          a = r.parse(a);
          var b = a.words;
          if (1398893684 == b[0] && 1701076831 == b[1]) {
            var c = s.create(b.slice(2, 4));
            b.splice(0, 4);
            a.sigBytes -= 16;
          }
          return n.create({
            ciphertext: a,
            salt: c
          });
        }
      }, a = d.SerializableCipher = l.extend({
        cfg: l.extend({
          format: b
        }),
        encrypt: function encrypt(a, b, c, d) {
          d = this.cfg.extend(d);
          var l = a.createEncryptor(c, d);
          b = l.finalize(b);
          l = l.cfg;
          return n.create({
            ciphertext: b,
            key: c,
            iv: l.iv,
            algorithm: a,
            mode: l.mode,
            padding: l.padding,
            blockSize: a.blockSize,
            formatter: d.format
          });
        },
        decrypt: function decrypt(a, b, c, d) {
          d = this.cfg.extend(d);
          b = this._parse(b, d.format);
          return a.createDecryptor(c, d).finalize(b.ciphertext);
        },
        _parse: function _parse(a, b) {
          return "string" == typeof a ? b.parse(a, this) : a;
        }
      }), p = (p.kdf = {}).OpenSSL = {
        execute: function execute(a, b, c, d) {
          d || (d = s.random(8));
          a = w.create({
            keySize: b + c
          }).compute(a, d);
          c = s.create(a.words.slice(b), 4 * c);
          a.sigBytes = 4 * b;
          return n.create({
            key: a,
            iv: c,
            salt: d
          });
        }
      }, c = d.PasswordBasedCipher = a.extend({
        cfg: a.cfg.extend({
          kdf: p
        }),
        encrypt: function encrypt(b, c, d, l) {
          l = this.cfg.extend(l);
          d = l.kdf.execute(d, b.keySize, b.ivSize);
          l.iv = d.iv;
          b = a.encrypt.call(this, b, c, d.key, l);
          b.mixIn(d);
          return b;
        },
        decrypt: function decrypt(b, c, d, l) {
          l = this.cfg.extend(l);
          c = this._parse(c, l.format);
          d = l.kdf.execute(d, b.keySize, b.ivSize, c.salt);
          l.iv = d.iv;
          return a.decrypt.call(this, b, c, d.key, l);
        }
      });
    }();
    (function() {
      for (var u = CryptoJS, p = u.lib.BlockCipher, d = u.algo, l = [], s = [], t = [], r = [], w = [], v = [], b = [], x = [], q = [], n = [], a = [], c = 0; 256 > c; c++) a[c] = 128 > c ? c << 1 : c << 1 ^ 283;
      for (var e = 0, j = 0, c = 0; 256 > c; c++) {
        var k = j ^ j << 1 ^ j << 2 ^ j << 3 ^ j << 4, k = k >>> 8 ^ 255 & k ^ 99;
        l[e] = k;
        s[k] = e;
        var z = a[e], F = a[z], G = a[F], y = 257 * a[k] ^ 16843008 * k;
        t[e] = y << 24 | y >>> 8;
        r[e] = y << 16 | y >>> 16;
        w[e] = y << 8 | y >>> 24;
        v[e] = y;
        y = 16843009 * G ^ 65537 * F ^ 257 * z ^ 16843008 * e;
        b[k] = y << 24 | y >>> 8;
        x[k] = y << 16 | y >>> 16;
        q[k] = y << 8 | y >>> 24;
        n[k] = y;
        e ? (e = z ^ a[a[a[G ^ z]]], j ^= a[a[j]]) : e = j = 1;
      }
      var H = [ 0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54 ], d = d.AES = p.extend({
        _doReset: function _doReset() {
          for (var a = this._key, c = a.words, d = a.sigBytes / 4, a = 4 * ((this._nRounds = d + 6) + 1), e = this._keySchedule = [], j = 0; j < a; j++) if (j < d) e[j] = c[j]; else {
            var k = e[j - 1];
            j % d ? 6 < d && 4 == j % d && (k = l[k >>> 24] << 24 | l[k >>> 16 & 255] << 16 | l[k >>> 8 & 255] << 8 | l[255 & k]) : (k = k << 8 | k >>> 24, 
            k = l[k >>> 24] << 24 | l[k >>> 16 & 255] << 16 | l[k >>> 8 & 255] << 8 | l[255 & k], 
            k ^= H[j / d | 0] << 24);
            e[j] = e[j - d] ^ k;
          }
          c = this._invKeySchedule = [];
          for (d = 0; d < a; d++) j = a - d, k = d % 4 ? e[j] : e[j - 4], c[d] = 4 > d || 4 >= j ? k : b[l[k >>> 24]] ^ x[l[k >>> 16 & 255]] ^ q[l[k >>> 8 & 255]] ^ n[l[255 & k]];
        },
        encryptBlock: function encryptBlock(a, b) {
          this._doCryptBlock(a, b, this._keySchedule, t, r, w, v, l);
        },
        decryptBlock: function decryptBlock(a, c) {
          var d = a[c + 1];
          a[c + 1] = a[c + 3];
          a[c + 3] = d;
          this._doCryptBlock(a, c, this._invKeySchedule, b, x, q, n, s);
          d = a[c + 1];
          a[c + 1] = a[c + 3];
          a[c + 3] = d;
        },
        _doCryptBlock: function _doCryptBlock(a, b, c, d, e, j, l, f) {
          for (var m = this._nRounds, g = a[b] ^ c[0], h = a[b + 1] ^ c[1], k = a[b + 2] ^ c[2], n = a[b + 3] ^ c[3], p = 4, r = 1; r < m; r++) var q = d[g >>> 24] ^ e[h >>> 16 & 255] ^ j[k >>> 8 & 255] ^ l[255 & n] ^ c[p++], s = d[h >>> 24] ^ e[k >>> 16 & 255] ^ j[n >>> 8 & 255] ^ l[255 & g] ^ c[p++], t = d[k >>> 24] ^ e[n >>> 16 & 255] ^ j[g >>> 8 & 255] ^ l[255 & h] ^ c[p++], n = d[n >>> 24] ^ e[g >>> 16 & 255] ^ j[h >>> 8 & 255] ^ l[255 & k] ^ c[p++], g = q, h = s, k = t;
          q = (f[g >>> 24] << 24 | f[h >>> 16 & 255] << 16 | f[k >>> 8 & 255] << 8 | f[255 & n]) ^ c[p++];
          s = (f[h >>> 24] << 24 | f[k >>> 16 & 255] << 16 | f[n >>> 8 & 255] << 8 | f[255 & g]) ^ c[p++];
          t = (f[k >>> 24] << 24 | f[n >>> 16 & 255] << 16 | f[g >>> 8 & 255] << 8 | f[255 & h]) ^ c[p++];
          n = (f[n >>> 24] << 24 | f[g >>> 16 & 255] << 16 | f[h >>> 8 & 255] << 8 | f[255 & k]) ^ c[p++];
          a[b] = q;
          a[b + 1] = s;
          a[b + 2] = t;
          a[b + 3] = n;
        },
        keySize: 8
      });
      u.AES = p._createHelper(d);
    })();
    CryptoJS.pad.ZeroPadding = {
      pad: function pad(a, c) {
        var b = 4 * c;
        a.clamp();
        a.sigBytes += b - (a.sigBytes % b || b);
      },
      unpad: function unpad(a) {
        for (var c = a.words, b = a.sigBytes - 1; !(c[b >>> 2] >>> 24 - b % 4 * 8 & 255); ) b--;
        a.sigBytes = b + 1;
      }
    };
    CryptoJS.mode.ECB = function() {
      var ECB = CryptoJS.lib.BlockCipherMode.extend();
      ECB.Encryptor = ECB.extend({
        processBlock: function processBlock(words, offset) {
          this._cipher.encryptBlock(words, offset);
        }
      });
      ECB.Decryptor = ECB.extend({
        processBlock: function processBlock(words, offset) {
          this._cipher.decryptBlock(words, offset);
        }
      });
      return ECB;
    }();
    module.exports = CryptoJS;
    cc._RF.pop();
  }, {} ],
  DataMgr: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0b76fObtN5FOKzSrvF3Frcp", "DataMgr");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var weapon_1 = require("../Game/weapon");
    var Constant_1 = require("./Constant");
    var DataMgr = function() {
      function DataMgr() {
        this._dataPool = {};
      }
      Object.defineProperty(DataMgr, "inst", {
        get: function() {
          DataMgr._inst || (DataMgr._inst = new DataMgr());
          return DataMgr._inst;
        },
        enumerable: false,
        configurable: true
      });
      DataMgr.prototype.init = function() {
        if (cc.sys.localStorage.getItem(Constant_1.default.ST_GameData)) this._dataPool = JSON.parse(cc.sys.localStorage.getItem(Constant_1.default.ST_GameData)); else {
          this._dataPool[Constant_1.default.ST_CoinCount] = "1000";
          this._dataPool[Constant_1.default.ST_DiamondCount] = "0";
          this._dataPool[Constant_1.default.ST_CurSkinId] = "0";
          this._dataPool[Constant_1.default.ST_CurMeleeId] = "13";
          this._dataPool[Constant_1.default.ST_CurRangeId] = "0";
          this._dataPool[Constant_1.default.ST_LastDailyBonusIndex] = "-1";
          this._dataPool[Constant_1.default.ST_LastDailyBonusTime] = "0";
          this._initLevelData();
          this._initSkinData();
          this._initGunData();
          this._save();
        }
      };
      DataMgr.prototype._initLevelData = function() {
        "";
        var levelItemObj = {};
        var levelitem = new Constant_1.Levelitem('{"Id":"1001","State":"1","Grade":"0"}');
        levelItemObj["1001"] = levelitem;
        for (var i = 1002; i <= 1e3 + Constant_1.default.CT_TotalLevelCount; i++) {
          var levelitem_1 = new Constant_1.Levelitem('{"Id":"' + i + '","State":"0","Grade":"0"}');
          levelItemObj[i.toString()] = levelitem_1;
        }
        for (var i = 2001; i <= 2e3 + Constant_1.default.CT_TotalLevelCount; i++) {
          var levelitem_2 = new Constant_1.Levelitem('{"Id":"' + i + '","State":"0","Grade":"0"}');
          levelItemObj[i.toString()] = levelitem_2;
        }
        for (var i = 3001; i <= 3e3 + Constant_1.default.CT_TotalLevelCount; i++) {
          var levelitem_3 = new Constant_1.Levelitem('{"Id":"' + i + '","State":"0","Grade":"0"}');
          levelItemObj[i.toString()] = levelitem_3;
        }
        this._dataPool[Constant_1.default.ST_LevelItem] = JSON.stringify(levelItemObj);
      };
      DataMgr.prototype._initSkinData = function() {
        var price = [ 0, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3 ];
        var skinInfoArr = [];
        var skinInfo = new Constant_1.SkinInfo('{"Id":"0","State":"2","Price":"' + price[0] + '","Level":"0","VideoCount":"0"}');
        skinInfoArr.push(skinInfo);
        for (var i = 1; i < price.length; i++) {
          var skinInfo_1 = new Constant_1.SkinInfo('{"Id":"' + i + '","State":"0","Price":"' + price[i] + '","Level":"0","VideoCount":"0"}');
          skinInfoArr.push(skinInfo_1);
        }
        this._dataPool[Constant_1.default.ST_SkinInfo] = JSON.stringify(skinInfoArr);
      };
      DataMgr.prototype._initGunData = function() {
        var price = [ 0, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 0, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3, 1e3 ];
        var gunInfoArr = [];
        for (var i = 0; i < price.length; i++) {
          var gunInfo = null;
          gunInfo = 0 == i || 13 == i ? new Constant_1.GunInfo('{"Id":"' + i + '","State":"2","Price":"' + price[i] + '","Level":"0","VideoCount":"0"}') : new Constant_1.GunInfo('{"Id":"' + i + '","State":"0","Price":"' + price[i] + '","Level":"0","VideoCount":"0"}');
          gunInfoArr.push(gunInfo);
        }
        this._dataPool[Constant_1.default.ST_GunInfo] = JSON.stringify(gunInfoArr);
      };
      Object.defineProperty(DataMgr.prototype, "AudioOn", {
        get: function() {
          return "1" == this.getItem(Constant_1.default.ST_AudioOn, "1");
        },
        set: function(value) {
          this.setItem(Constant_1.default.ST_AudioOn, value ? "1" : "0");
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(DataMgr.prototype, "ShakeOn", {
        get: function() {
          return "1" == this.getItem(Constant_1.default.ST_ShakeOn, "1");
        },
        set: function(value) {
          this.setItem(Constant_1.default.ST_ShakeOn, value ? "1" : "0");
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(DataMgr.prototype, "CoinCount", {
        get: function() {
          return parseInt(this.getItem(Constant_1.default.ST_CoinCount, "0"));
        },
        set: function(value) {
          this.setItem(Constant_1.default.ST_CoinCount, value + "");
          cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
            type: Constant_1.default.E_COIN_CHANGE
          });
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(DataMgr.prototype, "DiamondCount", {
        get: function() {
          return parseInt(this.getItem(Constant_1.default.ST_DiamondCount, "0"));
        },
        set: function(value) {
          this.setItem(Constant_1.default.ST_DiamondCount, value + "");
          cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
            type: Constant_1.default.E_Diamond_CHANGE
          });
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(DataMgr.prototype, "TotoalCount_6", {
        get: function() {
          return parseInt(this.getItem(Constant_1.default.ST_TotoalCount + "6", "1"));
        },
        set: function(value) {
          this.setItem(Constant_1.default.ST_TotoalCount + "6", value + "");
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(DataMgr.prototype, "LastDailyBonusIndex", {
        get: function() {
          return parseInt(this.getItem(Constant_1.default.ST_LastDailyBonusIndex, "-1"));
        },
        set: function(value) {
          this.setItem(Constant_1.default.ST_LastDailyBonusIndex, value + "");
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(DataMgr.prototype, "LastDailyBonusTime", {
        get: function() {
          return this.getItem(Constant_1.default.ST_LastDailyBonusTime, "0");
        },
        set: function(value) {
          this.setItem(Constant_1.default.ST_LastDailyBonusTime, value + "");
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(DataMgr.prototype, "LastLoadDate", {
        get: function() {
          return this.getItem(Constant_1.default.ST_LastLoadDate, "");
        },
        set: function(v) {
          this.setItem(Constant_1.default.ST_LastLoadDate, v);
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(DataMgr.prototype, "OnlineToday", {
        get: function() {
          return parseInt(this.getItem(Constant_1.default.ST_OnlineToday, "0"));
        },
        set: function(v) {
          this.setItem(Constant_1.default.ST_OnlineToday, v + "");
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(DataMgr.prototype, "receiveToday", {
        get: function() {
          return JSON.parse(this.getItem(Constant_1.default.ST_ReceiveToday, "[0, 0, 0, 0, 0]"));
        },
        set: function(v) {
          this.setItem(Constant_1.default.ST_ReceiveToday, JSON.stringify(v));
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(DataMgr.prototype, "CurSkinId", {
        get: function() {
          return parseInt(this.getItem(Constant_1.default.ST_CurSkinId, "0"));
        },
        set: function(value) {
          if (value == this.CurSkinId) return;
          var preId = this.CurSkinId;
          var skinInfo = this.getSkinInfo(preId);
          if (skinInfo) {
            skinInfo.State = 1;
            this.setSkinInfo(preId, skinInfo);
          }
          var curSkinInfo = this.getSkinInfo(value);
          if (curSkinInfo) {
            curSkinInfo.State = 2;
            this.setSkinInfo(value, curSkinInfo);
          }
          this.setItem(Constant_1.default.ST_CurSkinId, value + "");
        },
        enumerable: false,
        configurable: true
      });
      DataMgr.prototype.getSkinInfo = function(id) {
        var skinInfos = this.getItem(Constant_1.default.ST_SkinInfo, "");
        if (skinInfos) {
          var skinInfoArr = JSON.parse(skinInfos);
          if (id >= 0 && id < skinInfoArr.length) return skinInfoArr[id];
        }
        return null;
      };
      DataMgr.prototype.setSkinInfo = function(id, info) {
        var skinInfos = this.getItem(Constant_1.default.ST_SkinInfo, "");
        if (skinInfos) {
          var skinInfoArr = JSON.parse(skinInfos);
          if (id >= 0 && id < skinInfoArr.length) {
            skinInfoArr[id] = info;
            this.setItem(Constant_1.default.ST_SkinInfo, JSON.stringify(skinInfoArr));
          }
        }
      };
      DataMgr.prototype.getRandomLockSkin = function() {
        var ids = [];
        var skinInfos = this.getItem(Constant_1.default.ST_SkinInfo, "");
        if (skinInfos) {
          var skinInfoArr = JSON.parse(skinInfos);
          for (var i = 0; i < skinInfoArr.length; i++) 0 == skinInfoArr[i].State && ids.push(skinInfoArr[i].Id);
        }
        return ids;
      };
      DataMgr.prototype.getGunInfo = function(id) {
        var gunInfos = this.getItem(Constant_1.default.ST_GunInfo, "");
        if (gunInfos) {
          var gunInfoArr = JSON.parse(gunInfos);
          if (id >= 0 && id < gunInfoArr.length) return gunInfoArr[id];
        }
        return null;
      };
      DataMgr.prototype.setGunInfo = function(id, info) {
        var gunInfos = this.getItem(Constant_1.default.ST_GunInfo, "");
        if (gunInfos) {
          var gunInfoArr = JSON.parse(gunInfos);
          if (id >= 0 && id < gunInfoArr.length) {
            gunInfoArr[id] = info;
            this.setItem(Constant_1.default.ST_GunInfo, JSON.stringify(gunInfoArr));
          }
        }
      };
      Object.defineProperty(DataMgr.prototype, "CurMelee", {
        get: function() {
          return parseInt(this.getItem(Constant_1.default.ST_CurMeleeId, "13"));
        },
        set: function(id) {
          if (id == this.CurMelee || !weapon_1.default.meleeWaapon.includes(id + 1)) return;
          var preId = this.CurMelee;
          var gunInfo = this.getGunInfo(preId);
          if (gunInfo) {
            gunInfo.State = 1;
            this.setGunInfo(preId, gunInfo);
          }
          var curGunInfo = this.getGunInfo(id);
          if (curGunInfo) {
            curGunInfo.State = 2;
            this.setGunInfo(id, curGunInfo);
          }
          this.setItem(Constant_1.default.ST_CurMeleeId, id + "");
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(DataMgr.prototype, "CurRange", {
        get: function() {
          return parseInt(this.getItem(Constant_1.default.ST_CurRangeId, "0"));
        },
        set: function(id) {
          if (id == this.CurRange || !weapon_1.default.rangeWeapon.includes(id + 1)) return;
          var preId = this.CurRange;
          var gunInfo = this.getGunInfo(preId);
          if (gunInfo) {
            gunInfo.State = 1;
            this.setGunInfo(preId, gunInfo);
          }
          var curGunInfo = this.getGunInfo(id);
          if (curGunInfo) {
            curGunInfo.State = 2;
            this.setGunInfo(id, curGunInfo);
          }
          this.setItem(Constant_1.default.ST_CurRangeId, id + "");
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(DataMgr.prototype, "curWeapon", {
        get: function() {
          return this.CurRange;
        },
        set: function(id) {
          weapon_1.default.meleeWaapon.includes(id + 1) ? this.CurMelee = id : weapon_1.default.rangeWeapon.includes(id + 1) && (this.CurRange = id);
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(DataMgr.prototype, "guide_skill", {
        get: function() {
          return this.getItem(Constant_1.default.ST_Guide_Skill, true);
        },
        set: function(value) {
          this.setItem(Constant_1.default.ST_Guide_Skill, value);
          cc.game.emit(Constant_1.default.E_ShareOrVideo);
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(DataMgr.prototype, "best_time", {
        get: function() {
          return parseInt(this.getItem("best_time", "0"));
        },
        set: function(v) {
          v > this.best_time && this.setItem("best_time", v + "");
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(DataMgr.prototype, "best_kill", {
        get: function() {
          return parseInt(this.getItem("best_kill", "0"));
        },
        set: function(v) {
          v > this.best_kill && this.setItem("best_kill", v + "");
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(DataMgr.prototype, "best_level", {
        get: function() {
          return parseInt(this.getItem("best_level", "0"));
        },
        set: function(v) {
          v > this.best_level && this.setItem("best_level", v + "");
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(DataMgr.prototype, "best_coin", {
        get: function() {
          return parseInt(this.getItem("best_coin", "0"));
        },
        set: function(v) {
          v > this.best_coin && this.setItem("best_coin", v + "");
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(DataMgr.prototype, "shareNum", {
        get: function() {
          return this.getItem(Constant_1.default.ST_ShareNum, 0);
        },
        set: function(v) {
          this.setItem(Constant_1.default.ST_ShareNum, v);
          cc.game.emit(Constant_1.default.E_ShareOrVideo);
          cc.log("\u4eca\u65e5\u5206\u4eab\u4e86", v, "\u6b21");
        },
        enumerable: false,
        configurable: true
      });
      DataMgr.prototype.getItem = function(key, defaultValue) {
        if (void 0 != this._dataPool[key] && null != this._dataPool[key]) return this._dataPool[key];
        return defaultValue;
      };
      DataMgr.prototype.setItem = function(key, value) {
        this._dataPool[key] = value;
        this._save();
      };
      DataMgr.prototype._save = function() {
        cc.sys.localStorage.setItem(Constant_1.default.ST_GameData, JSON.stringify(this._dataPool));
      };
      return DataMgr;
    }();
    exports.default = DataMgr;
    cc._RF.pop();
  }, {
    "../Game/weapon": "weapon",
    "./Constant": "Constant"
  } ],
  EventAdInfo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4488ausP1RLk6Ca9NdEBVaO", "EventAdInfo");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.AdEventParameter = exports.YwAdStatus = exports.YwAdType = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YwAdType;
    (function(YwAdType) {
      YwAdType[YwAdType["BANNER"] = 1] = "BANNER";
      YwAdType[YwAdType["INTERSITITIAL"] = 2] = "INTERSITITIAL";
      YwAdType[YwAdType["REWARD_VIDEO"] = 3] = "REWARD_VIDEO";
      YwAdType[YwAdType["SPLASH"] = 4] = "SPLASH";
      YwAdType[YwAdType["NATIVE_BANNER"] = 5] = "NATIVE_BANNER";
      YwAdType[YwAdType["NATIVE_INTERSITITIAL"] = 6] = "NATIVE_INTERSITITIAL";
      YwAdType[YwAdType["NATIVE_ICON"] = 7] = "NATIVE_ICON";
      YwAdType[YwAdType["INTERSITITIAL_VIDEO"] = 8] = "INTERSITITIAL_VIDEO";
      YwAdType[YwAdType["NATIVE"] = 9] = "NATIVE";
      YwAdType[YwAdType["NATIVE_TEMPLATE_BANNER"] = 10] = "NATIVE_TEMPLATE_BANNER";
      YwAdType[YwAdType["NATIVE_TEMPLATE_INTERSITIAL"] = 11] = "NATIVE_TEMPLATE_INTERSITIAL";
    })(YwAdType = exports.YwAdType || (exports.YwAdType = {}));
    var YwAdStatus;
    (function(YwAdStatus) {
      YwAdStatus[YwAdStatus["REQUEST"] = 0] = "REQUEST";
      YwAdStatus[YwAdStatus["REQUEST_SUCCESS"] = 1] = "REQUEST_SUCCESS";
      YwAdStatus[YwAdStatus["REQUEST_FAIL"] = 2] = "REQUEST_FAIL";
      YwAdStatus[YwAdStatus["SHOW_SUCCESS"] = 3] = "SHOW_SUCCESS";
      YwAdStatus[YwAdStatus["SHOW_FAIL"] = 4] = "SHOW_FAIL";
      YwAdStatus[YwAdStatus["CLICK"] = 5] = "CLICK";
      YwAdStatus[YwAdStatus["REWARD_SUCCESS"] = 6] = "REWARD_SUCCESS";
      YwAdStatus[YwAdStatus["REWARD_FAIL"] = 7] = "REWARD_FAIL";
      YwAdStatus[YwAdStatus["AD_ID_REQUEST"] = 10] = "AD_ID_REQUEST";
      YwAdStatus[YwAdStatus["AD_ID_REQUEST_SUCCESS"] = 11] = "AD_ID_REQUEST_SUCCESS";
      YwAdStatus[YwAdStatus["AD_ID_REQUEST_FAIL"] = 12] = "AD_ID_REQUEST_FAIL";
    })(YwAdStatus = exports.YwAdStatus || (exports.YwAdStatus = {}));
    var AdEventParameter = function() {
      function AdEventParameter(adId, code, msg, tag) {
        this.adId = adId;
        this.code = code;
        this.msg = msg;
        this.tag = tag;
      }
      AdEventParameter.prototype.toJsonData = function() {
        var data = {};
        data.adId = this.adId;
        this.code && (data.code = this.code);
        this.msg && (data.msg = this.msg);
        this.tag && (data.tag = this.tag);
        return data;
      };
      return AdEventParameter;
    }();
    exports.AdEventParameter = AdEventParameter;
    var EventAdInfo = function() {
      function EventAdInfo(adType, adStatus, adEventParameter) {
        this.time = new Date().getTime();
        this.adType = adType;
        this.adStatus = adStatus;
        this.adEventParameter = adEventParameter;
      }
      EventAdInfo.prototype.toJsonData = function() {
        try {
          var data = {};
          data.ad_type = this.adType;
          data.ad_status = this.adStatus;
          if (null != this.adEventParameter) {
            this.adEventParameter.adId && (data.ad_id = this.adEventParameter.adId);
            data.ad_info = this.adEventParameter.toJsonData();
          }
          data.time = this.time;
          return data;
        } catch (ex) {
          console.error("EventAdInfo toJsonData erro msg =" + ex);
        }
        return {};
      };
      EventAdInfo = __decorate([ ccclass ], EventAdInfo);
      return EventAdInfo;
    }();
    exports.default = EventAdInfo;
    cc._RF.pop();
  }, {} ],
  FBAdManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1da79n1bmJN5qrv/yL2wYbA", "FBAdManager");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../Utils");
    var FB_MAX_AD_INSTANCE = 3;
    var FB_INIT_AD_COUNT = 3;
    var FB_BANNER_REFRESH_INTERVAL = 40;
    var FB_INTERSTITIAL_REFRESH_INTERVAL = 40;
    var FB_REWARDED_VIDEO_REFRESH_INTERVAL = 0;
    var FB_MAX_BANNER_ERROR = 1;
    var FB_MAX_INTERSTITIAL_ERROR = 3;
    var FB_MAX_REWARDED_VIDEO_ERROR = 3;
    var FB_AUTO_LOAD_ON_PLAY = true;
    var FB_AUTO_RELOAD_DELAY = 1;
    var FB_AD_DELAY_FOR_FIRST_BANNER = 0;
    var FB_AD_DELAY_FOR_FIRST_INTERSTITIAL = 30;
    var FB_AD_DELAY_FOR_FIRST_REWARDED_VIDEO = 0;
    var FB_AD_TYPE;
    (function(FB_AD_TYPE) {
      FB_AD_TYPE[FB_AD_TYPE["INTERSTITIAL"] = 0] = "INTERSTITIAL";
      FB_AD_TYPE[FB_AD_TYPE["REWARDED_VIDEO"] = 1] = "REWARDED_VIDEO";
      FB_AD_TYPE[FB_AD_TYPE["BANNER"] = 2] = "BANNER";
    })(FB_AD_TYPE || (FB_AD_TYPE = {}));
    var FB_AD_STATE;
    (function(FB_AD_STATE) {
      FB_AD_STATE[FB_AD_STATE["NONE"] = 0] = "NONE";
      FB_AD_STATE[FB_AD_STATE["NEW"] = 1] = "NEW";
      FB_AD_STATE[FB_AD_STATE["LOADING"] = 2] = "LOADING";
      FB_AD_STATE[FB_AD_STATE["LOADED"] = 3] = "LOADED";
      FB_AD_STATE[FB_AD_STATE["PLAYING"] = 4] = "PLAYING";
    })(FB_AD_STATE || (FB_AD_STATE = {}));
    function getStateName(state) {
      var str = "NONE";
      switch (state) {
       case FB_AD_STATE.NEW:
        str = "NEW";
        break;

       case FB_AD_STATE.LOADING:
        str = "LOADING";
        break;

       case FB_AD_STATE.LOADED:
        str = "LOADED";
        break;

       case FB_AD_STATE.PLAYING:
        str = "PLAYING";
      }
      return str;
    }
    function waitTimeSecond(timeoutSecond, callback) {
      return __awaiter(this, void 0, void 0, function() {
        return __generator(this, function(_a) {
          return [ 2, new Promise(function(resolve, reject) {
            setTimeout(function() {
              callback && callback();
              resolve();
            }, 1e3 * timeoutSecond);
          }) ];
        });
      });
    }
    var ErrorTooManyAdInstance = {
      code: "EXCEED_MAX_AD_INSTANCE",
      message: "\u5e7f\u544a\u5bf9\u8c61\u4e0d\u5141\u8bb8\u8d85\u8fc7 " + FB_MAX_AD_INSTANCE
    };
    var ErrorNoReadyAdInstance = {
      code: "NO_READY_AD_INSTANCE",
      message: "\u6ca1\u6709\u52a0\u8f7d\u5b8c\u6bd5\u7684\u5e7f\u544a\uff0c\u6216\u8005\u5e7f\u544a\u64ad\u653e\u592a\u9891\u7e41"
    };
    var ErrorNotReadyForLoad = {
      code: "NOT_READY_FOR_LOAD",
      message: "\u5f53\u524d\u72b6\u6001\u4e0d\u5141\u8bb8\u518d\u6b21\u52a0\u8f7d"
    };
    var ErrorAdIsLoading = {
      code: "AD_IS_LOADING",
      message: "\u5e7f\u544a\u6b63\u5728\u52a0\u8f7d"
    };
    var ErrorNotReadyForPlay = {
      code: "NOT_READY_FOR_PLAYING",
      message: "\u6ca1\u6709\u53ef\u4ee5\u64ad\u653e\u7684\u5e7f\u544a"
    };
    var ErrorAdIsPlaying = {
      code: "AD_IS_PLAYING",
      message: "\u5e7f\u544a\u6b63\u5728\u64ad\u653e"
    };
    var ErrorNoBannerAdInstance = {
      code: "NO_BANNER_AD",
      message: "\u6ca1\u6709\u6dfb\u52a0Banner\u5e7f\u544a"
    };
    var ErrorApiNotSupport = {
      code: "API_NOT_SUPPORT",
      message: "\u5e7f\u544a\u63a5\u53e3\u4e0d\u652f\u6301"
    };
    var ErrorTooFastShow = {
      code: "TOO_FAST_SHOW",
      message: "\u5e7f\u544a\u64ad\u653e\u592a\u9891\u7e41"
    };
    var ErrorNotPlaying = {
      code: "NOT_PLAYING",
      message: "\u5e7f\u544a\u6ca1\u6709\u64ad\u653e"
    };
    var ErrorTooManyErrors = {
      code: "TOO_MANY_ERRORS",
      message: "\u592a\u591a\u9519\u8bef, \u505c\u6b62\u64cd\u4f5c"
    };
    var FB_API_BANNER = "loadBannerAdAsync";
    var FB_ERROR_CODE_RATE_LIMITED = "RATE_LIMITED";
    var FB_ERROR_CLIENT_UNSUPPORTED_OPERATION = "CLIENT_UNSUPPORTED_OPERATION";
    var FB_ERROR_ADS_NO_FILL = "ADS_NO_FILL";
    function getOption(opt, key, defaultValue) {
      if (opt && "undefined" != typeof opt[key]) return opt[key];
      return defaultValue;
    }
    var AdTimer = function() {
      function AdTimer(interval, delay) {
        this._lastShowTime = 0;
        this._refreshInterval = 0;
        this._refreshInterval = interval > 0 ? interval : 0;
        this._lastShowTime = 0;
        delay > 0 && (this._lastShowTime = Date.now() + 1e3 * delay - 1e3 * this._refreshInterval);
      }
      AdTimer.prototype.isReadyToRefresh = function() {
        return this.getNextRefreshInterval() <= 0;
      };
      AdTimer.prototype.getNextRefreshInterval = function() {
        var refreshInterval = 0;
        if (this._refreshInterval > 0 && this._lastShowTime > 0) {
          var currentTime = Date.now();
          refreshInterval = this._refreshInterval - (currentTime - this._lastShowTime) / 1e3;
        }
        return refreshInterval;
      };
      AdTimer.prototype.updateLastShowTime = function() {
        this._lastShowTime = Date.now();
      };
      return AdTimer;
    }();
    var FBAdUnitBase = function() {
      function FBAdUnitBase(id, type, sharedTimer, opt) {
        this._maxLoadError = 0;
        this._errorCounter = 0;
        this._fatalError = false;
        this._sharedTimer = null;
        this._adId = id;
        this._state = FB_AD_STATE.NONE;
        this._type = type;
        this._sharedTimer = sharedTimer;
        this._fatalError = false;
        Utils_1.utils.showLog(!!sharedTimer, "sharedTimer is invalid", sharedTimer);
        this._maxLoadError = getOption(opt, "maxLoadError", 0);
      }
      FBAdUnitBase.prototype.getStateName = function() {
        return getStateName(this._state);
      };
      FBAdUnitBase.prototype.getAdTypeName = function() {
        if (this._type == FB_AD_TYPE.INTERSTITIAL) return "\u63d2\u5c4f\u5e7f\u544a";
        if (this._type == FB_AD_TYPE.REWARDED_VIDEO) return "\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a";
        if (this._type == FB_AD_TYPE.BANNER) return "Banner";
        return "UNKNOWN";
      };
      FBAdUnitBase.prototype.getInfo = function() {
        return "[" + this.getAdTypeName() + ":" + this._adId + ":" + this.getStateName() + "]";
      };
      FBAdUnitBase.prototype.isReadyToRefresh = function() {
        return this._sharedTimer.isReadyToRefresh();
      };
      FBAdUnitBase.prototype.getNextRefreshInterval = function() {
        return this._sharedTimer.getNextRefreshInterval();
      };
      FBAdUnitBase.prototype.updateLastShowTime = function() {
        this._sharedTimer.updateLastShowTime();
      };
      FBAdUnitBase.prototype.increaseErrorCounter = function() {
        this._errorCounter++;
      };
      FBAdUnitBase.prototype.resetErrorCounter = function() {
        this._errorCounter = 0;
      };
      FBAdUnitBase.prototype.setFatalError = function() {
        this._fatalError = true;
      };
      FBAdUnitBase.prototype.isErrorTooMany = function() {
        return this._fatalError || this._maxLoadError > 0 && this._errorCounter >= this._maxLoadError;
      };
      return FBAdUnitBase;
    }();
    var FBStatefulAdUnit = function(_super) {
      __extends(FBStatefulAdUnit, _super);
      function FBStatefulAdUnit(id, type, sharedTimer, opt) {
        var _this = _super.call(this, id, type, sharedTimer, opt) || this;
        _this._adInstance = null;
        _this._autoLoadOnPlay = getOption(opt, "autoLoadOnPlay", false);
        return _this;
      }
      FBStatefulAdUnit.prototype.loadAsync = function() {
        return __awaiter(this, void 0, void 0, function() {
          var _a, e_1, delayTime;
          return __generator(this, function(_b) {
            switch (_b.label) {
             case 0:
              if (!(null == this._adInstance)) return [ 3, 4 ];
              if (!(this._state == FB_AD_STATE.NONE)) return [ 3, 2 ];
              this._state = FB_AD_STATE.NEW;
              Utils_1.utils.showLog("\u83b7\u53d6\u5e7f\u544a\u5bf9\u8c61: " + this.getInfo());
              _a = this;
              return [ 4, this.createAdInstanceAsync(this._adId) ];

             case 1:
              _a._adInstance = _b.sent();
              return [ 3, 3 ];

             case 2:
              Utils_1.utils.showLog("\u5f53\u524d\u72b6\u6001\u672a\u6ee1\u8db3\u52a0\u8f7d\u6761\u4ef6, \u6b63\u5728\u83b7\u53d6\u5e7f\u544a\u5bf9\u8c61: " + this.getInfo());
              return [ 2 ];

             case 3:
              return [ 3, 4 ];

             case 4:
              if (this._state != FB_AD_STATE.NEW) {
                Utils_1.utils.showLog("\u5f53\u524d\u72b6\u6001\u672a\u6ee1\u8db3\u52a0\u8f7d\u6761\u4ef6: " + this.getInfo());
                if (this._state == FB_AD_STATE.LOADING) {
                  Utils_1.utils.showLog("\u5e7f\u544a\u6b63\u5728\u52a0\u8f7d\u4e2d\uff0c\u4e0d\u8981\u91cd\u590d\u52a0\u8f7d" + this.getInfo());
                  throw ErrorAdIsLoading;
                }
                throw ErrorNotReadyForLoad;
              }
              if (this.isErrorTooMany()) {
                Utils_1.utils.showLog("\u592a\u591a\u9519\u8bef\uff0c\u505c\u6b62\u52a0\u8f7d: " + this.getInfo());
                throw ErrorTooManyErrors;
              }
              _b.label = 5;

             case 5:
              _b.trys.push([ 5, 7, , 8 ]);
              this._state = FB_AD_STATE.LOADING;
              Utils_1.utils.showLog("\u5f00\u59cb\u52a0\u8f7d\u5e7f\u544a: " + this.getInfo());
              return [ 4, this._adInstance.loadAsync() ];

             case 6:
              _b.sent();
              this._state = FB_AD_STATE.LOADED;
              this.resetErrorCounter();
              Utils_1.utils.showLog("\u5e7f\u544a\u52a0\u8f7d\u6210\u529f: " + this.getInfo());
              return [ 2, true ];

             case 7:
              e_1 = _b.sent();
              Utils_1.utils.showLog("\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25: " + this.getInfo(), e_1);
              if (e_1.code == FB_ERROR_ADS_NO_FILL) {
                Utils_1.utils.showLog("\u5e7f\u544a\u65e0\u6cd5\u586b\u5145\uff0c\u4e0d\u518d\u7ee7\u7eed\u8bf7\u6c42: " + this.getInfo());
                this.setFatalError();
              } else {
                this.increaseErrorCounter();
                this._state = FB_AD_STATE.NEW;
                delayTime = 10 * this._errorCounter + FB_AUTO_RELOAD_DELAY;
                Utils_1.utils.showLog("\u5ef6\u8fdf" + delayTime + "\u79d2\u540e, \u81ea\u52a8\u91cd\u65b0\u52a0\u8f7d: " + this.getInfo());
                waitTimeSecond(delayTime, this.loadAsync.bind(this));
              }
              throw e_1;

             case 8:
              return [ 2 ];
            }
          });
        });
      };
      FBStatefulAdUnit.prototype.isReady = function() {
        return null != this._adInstance && this._state == FB_AD_STATE.LOADED;
      };
      FBStatefulAdUnit.prototype.showAsync = function() {
        return __awaiter(this, void 0, void 0, function() {
          var e_2;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              if (!this.isReady()) {
                Utils_1.utils.showLog("\u5f53\u524d\u72b6\u6001\u672a\u6ee1\u8db3\u64ad\u653e\u6761\u4ef6: " + this.getInfo());
                throw this._state == FB_AD_STATE.PLAYING ? ErrorAdIsPlaying : ErrorNotReadyForPlay;
              }
              if (!this.isReadyToRefresh()) {
                Utils_1.utils.showLog("\u64ad\u653e\u592a\u9891\u7e41\uff0c\u8fd8\u9700\u95f4\u9694" + this.getNextRefreshInterval() + " \u79d2: " + this.getInfo());
                throw ErrorTooFastShow;
              }
              _a.label = 1;

             case 1:
              _a.trys.push([ 1, 3, , 4 ]);
              this._state = FB_AD_STATE.PLAYING;
              Utils_1.utils.showLog("\u5f00\u59cb\u64ad\u653e\u5e7f\u544a: " + this.getInfo());
              return [ 4, this._adInstance.showAsync() ];

             case 2:
              _a.sent();
              Utils_1.utils.showLog("\u64ad\u653e\u5e7f\u544a\u5b8c\u6bd5: " + this.getInfo());
              this._adInstance = null;
              this._state = FB_AD_STATE.NONE;
              this.updateLastShowTime();
              if (this._autoLoadOnPlay) {
                Utils_1.utils.showLog("\u5ef6\u8fdf" + FB_AUTO_RELOAD_DELAY + "\u79d2\u540e, \u81ea\u52a8\u91cd\u65b0\u52a0\u8f7d: " + this.getInfo());
                waitTimeSecond(FB_AUTO_RELOAD_DELAY, this.loadAsync.bind(this));
              }
              return [ 2, true ];

             case 3:
              e_2 = _a.sent();
              Utils_1.utils.showLog("\u64ad\u653e\u5e7f\u544a\u5931\u8d25: " + this.getInfo(), e_2);
              if (e_2.code == FB_ERROR_CODE_RATE_LIMITED) this._state = FB_AD_STATE.LOADED; else {
                this._adInstance = null;
                this._state = FB_AD_STATE.NONE;
                if (this._autoLoadOnPlay) {
                  Utils_1.utils.showLog("\u5ef6\u8fdf" + FB_AUTO_RELOAD_DELAY + "\u79d2\u540e, \u81ea\u52a8\u91cd\u65b0\u52a0\u8f7d: " + this.getInfo());
                  waitTimeSecond(FB_AUTO_RELOAD_DELAY, this.loadAsync.bind(this));
                }
              }
              throw e_2;

             case 4:
              return [ 2 ];
            }
          });
        });
      };
      return FBStatefulAdUnit;
    }(FBAdUnitBase);
    var FBInterstitialUnit = function(_super) {
      __extends(FBInterstitialUnit, _super);
      function FBInterstitialUnit(id, sharedTimer, opt) {
        return _super.call(this, id, FB_AD_TYPE.INTERSTITIAL, sharedTimer, opt) || this;
      }
      FBInterstitialUnit.prototype.createAdInstanceAsync = function(adId) {
        return __awaiter(this, void 0, void 0, function() {
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              return [ 4, FBInstant.getInterstitialAdAsync(this._adId) ];

             case 1:
              return [ 2, _a.sent() ];
            }
          });
        });
      };
      return FBInterstitialUnit;
    }(FBStatefulAdUnit);
    var FBRewardedVideoUnit = function(_super) {
      __extends(FBRewardedVideoUnit, _super);
      function FBRewardedVideoUnit(id, sharedTimer, opt) {
        return _super.call(this, id, FB_AD_TYPE.REWARDED_VIDEO, sharedTimer, opt) || this;
      }
      FBRewardedVideoUnit.prototype.createAdInstanceAsync = function(adId) {
        return __awaiter(this, void 0, void 0, function() {
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              return [ 4, FBInstant.getRewardedVideoAsync(this._adId) ];

             case 1:
              return [ 2, _a.sent() ];
            }
          });
        });
      };
      return FBRewardedVideoUnit;
    }(FBStatefulAdUnit);
    var FBBannerUnit = function(_super) {
      __extends(FBBannerUnit, _super);
      function FBBannerUnit(id, sharedTimer, opt) {
        return _super.call(this, id, FB_AD_TYPE.BANNER, sharedTimer, opt) || this;
      }
      FBBannerUnit.prototype.showAsync = function() {
        return __awaiter(this, void 0, void 0, function() {
          var e_3;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              if (!this.isReadyToRefresh()) {
                Utils_1.utils.showLog("\u64ad\u653e\u592a\u9891\u7e41\uff0c\u8fd8\u9700\u95f4\u9694" + this.getNextRefreshInterval() + " \u79d2: " + this.getInfo());
                throw ErrorTooFastShow;
              }
              if (this.isErrorTooMany()) {
                Utils_1.utils.showLog("\u592a\u591a\u9519\u8bef\uff0c\u505c\u6b62\u52a0\u8f7d: " + this.getInfo());
                throw ErrorTooManyErrors;
              }
              _a.label = 1;

             case 1:
              _a.trys.push([ 1, 3, , 4 ]);
              this._state = FB_AD_STATE.PLAYING;
              Utils_1.utils.showLog("\u5f00\u59cb\u663e\u793a\u5e7f\u544a: " + this.getInfo());
              return [ 4, FBInstant.loadBannerAdAsync(this._adId) ];

             case 2:
              _a.sent();
              Utils_1.utils.showLog("\u663e\u793a\u5e7f\u544a\u6210\u529f: " + this.getInfo());
              this.updateLastShowTime();
              this.resetErrorCounter();
              return [ 3, 4 ];

             case 3:
              e_3 = _a.sent();
              Utils_1.utils.showLog("\u663e\u793a\u5e7f\u544a\u5931\u8d25: " + this.getInfo(), e_3);
              if (e_3.code == FB_ERROR_CODE_RATE_LIMITED) ; else if (e_3.code == FB_ERROR_ADS_NO_FILL) {
                Utils_1.utils.showLog("\u5e7f\u544a\u65e0\u6cd5\u586b\u5145\uff0c\u4e0d\u518d\u7ee7\u7eed\u8bf7\u6c42: " + this.getInfo());
                this.setFatalError();
              } else this.increaseErrorCounter();
              throw e_3;

             case 4:
              return [ 2 ];
            }
          });
        });
      };
      FBBannerUnit.prototype.hideAsync = function() {
        return __awaiter(this, void 0, void 0, function() {
          var e_4;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              if (this._state != FB_AD_STATE.PLAYING) {
                Utils_1.utils.showLog("\u5e7f\u544a\u6ca1\u6709\u5728\u64ad\u653e\u4e2d: " + this.getInfo());
                throw ErrorNotPlaying;
              }
              _a.label = 1;

             case 1:
              _a.trys.push([ 1, 3, , 4 ]);
              Utils_1.utils.showLog("\u9690\u85cf\u5e7f\u544a: " + this.getInfo());
              return [ 4, FBInstant.hideBannerAdAsync() ];

             case 2:
              _a.sent();
              this._state = FB_AD_STATE.NONE;
              return [ 3, 4 ];

             case 3:
              e_4 = _a.sent();
              Utils_1.utils.showLog("\u9690\u85cf\u5e7f\u544a\u5931\u8d25: " + this.getInfo(), e_4);
              throw e_4;

             case 4:
              return [ 2 ];
            }
          });
        });
      };
      return FBBannerUnit;
    }(FBAdUnitBase);
    var FBAdManager = function() {
      function FBAdManager() {}
      FBAdManager.getVersion = function() {
        return "1.0.2";
      };
      FBAdManager.addInterstitial = function(id, count) {
        void 0 === count && (count = FB_INIT_AD_COUNT);
        null == this._interstitialTimer && (this._interstitialTimer = new AdTimer(this.defaultInterstitialTimerOption.refreshInterval, this.defaultInterstitialTimerOption.delayForFirstAd));
        for (var i = 0; i < count; i++) {
          if (this._interstitialAds.length >= FB_MAX_AD_INSTANCE) {
            Utils_1.utils.showLog("\u6dfb\u52a0\u63d2\u5c4f\u5e7f\u544a\u5931\u8d25, \u8d85\u51fa\u9650\u5236: " + this._interstitialAds.length, id);
            throw ErrorTooManyAdInstance;
          }
          var adUnit = new FBInterstitialUnit(id, this._interstitialTimer, this.defaultInterstitialOption);
          this._interstitialAds.push(adUnit);
          Utils_1.utils.showLog("\u6dfb\u52a0\u63d2\u5c4f\u5e7f\u544a: " + id, "count: " + this._interstitialAds.length);
        }
        return this._interstitialAds.length;
      };
      FBAdManager.addRewardedVideo = function(id, count) {
        void 0 === count && (count = FB_INIT_AD_COUNT);
        null == this._rewardedVideoTimer && (this._rewardedVideoTimer = new AdTimer(this.defaultRewardedVideoTimerOption.refreshInterval, this.defaultRewardedVideoTimerOption.delayForFirstAd));
        for (var i = 0; i < count; i++) {
          if (this._rewardedVideos.length >= FB_MAX_AD_INSTANCE) {
            Utils_1.utils.showLog("\u6dfb\u52a0\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5931\u8d25, \u8d85\u51fa\u9650\u5236: " + this._rewardedVideos.length, id);
            throw ErrorTooManyAdInstance;
          }
          var adUnit = new FBRewardedVideoUnit(id, this._rewardedVideoTimer, this.defaultRewardedVideoOption);
          this._rewardedVideos.push(adUnit);
          Utils_1.utils.showLog("\u6dfb\u52a0\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a: " + id, "count: " + this._rewardedVideos.length);
        }
        return this._rewardedVideos.length;
      };
      FBAdManager.addBanner = function(id) {
        null == this._bannerTimer && (this._bannerTimer = new AdTimer(this.defaultBannerTimerOption.refreshInterval, this.defaultBannerTimerOption.delayForFirstAd));
        var adUnit = new FBBannerUnit(id, this._bannerTimer, this.defaultBannerOption);
        this._banners.push(adUnit);
        Utils_1.utils.showLog("\u6dfb\u52a0Banner\u5e7f\u544a: " + id, "count: " + this._banners.length);
        return adUnit;
      };
      FBAdManager.loadAll = function() {
        return __awaiter(this, void 0, void 0, function() {
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              Utils_1.utils.showLog("\u521d\u59cb\u5316\u5e7f\u544a\u961f\u5217");
              return [ 4, this.loadAllAsync() ];

             case 1:
              return [ 2, _a.sent() ];
            }
          });
        });
      };
      FBAdManager.loadAllAsync = function() {
        return __awaiter(this, void 0, void 0, function() {
          var i, adUnit, e_5, i, adUnit, e_6;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              Utils_1.utils.showLog("FBAdManager Version: " + this.getVersion());
              Utils_1.utils.showLog("\u521d\u59cb\u5316\u5e7f\u544a\u961f\u5217");
              i = 0;
              _a.label = 1;

             case 1:
              if (!(i < this._rewardedVideos.length)) return [ 3, 7 ];
              adUnit = this._rewardedVideos[i];
              if (!(i > 0)) return [ 3, 3 ];
              return [ 4, waitTimeSecond(.1) ];

             case 2:
              _a.sent();
              _a.label = 3;

             case 3:
              _a.trys.push([ 3, 5, , 6 ]);
              return [ 4, adUnit.loadAsync() ];

             case 4:
              _a.sent();
              return [ 3, 6 ];

             case 5:
              e_5 = _a.sent();
              return [ 3, 6 ];

             case 6:
              i++;
              return [ 3, 1 ];

             case 7:
              i = 0;
              _a.label = 8;

             case 8:
              if (!(i < this._interstitialAds.length)) return [ 3, 14 ];
              adUnit = this._interstitialAds[i];
              if (!(i > 0)) return [ 3, 10 ];
              return [ 4, waitTimeSecond(.1) ];

             case 9:
              _a.sent();
              _a.label = 10;

             case 10:
              _a.trys.push([ 10, 12, , 13 ]);
              return [ 4, adUnit.loadAsync() ];

             case 11:
              _a.sent();
              return [ 3, 13 ];

             case 12:
              e_6 = _a.sent();
              return [ 3, 13 ];

             case 13:
              i++;
              return [ 3, 8 ];

             case 14:
              return [ 2 ];
            }
          });
        });
      };
      FBAdManager._isAdReady = function(type) {
        var adUnits = type == FB_AD_TYPE.INTERSTITIAL ? this._interstitialAds : this._rewardedVideos;
        var isReady = false;
        for (var i = 0; i < adUnits.length; i++) {
          var adUnit = adUnits[i];
          if (adUnit.isReady() && adUnit.isReadyToRefresh()) {
            isReady = true;
            break;
          }
        }
        return isReady;
      };
      FBAdManager._showAsync = function(type) {
        var adUnits = type == FB_AD_TYPE.INTERSTITIAL ? this._interstitialAds : this._rewardedVideos;
        var readyUnit = null;
        for (var i = 0; i < adUnits.length; i++) {
          var adUnit = adUnits[i];
          if (adUnit.isReady() && adUnit.isReadyToRefresh()) {
            readyUnit = adUnit;
            break;
          }
        }
        if (null != readyUnit) return readyUnit.showAsync();
        throw ErrorNoReadyAdInstance;
      };
      FBAdManager._getAdTimer = function(type) {
        if (type == FB_AD_TYPE.INTERSTITIAL) return this._interstitialTimer;
        if (type == FB_AD_TYPE.REWARDED_VIDEO) return this._rewardedVideoTimer;
        return this._bannerTimer;
      };
      FBAdManager.isInterstitialAdReady = function() {
        return this._isAdReady(FB_AD_TYPE.INTERSTITIAL);
      };
      FBAdManager.showInterstitialAd = function() {
        return __awaiter(this, void 0, void 0, function() {
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              return [ 4, this._showAsync(FB_AD_TYPE.INTERSTITIAL) ];

             case 1:
              return [ 2, _a.sent() ];
            }
          });
        });
      };
      FBAdManager.isRewardedVideoReady = function() {
        return this._isAdReady(FB_AD_TYPE.REWARDED_VIDEO);
      };
      FBAdManager.showRewardedVideo = function() {
        return __awaiter(this, void 0, void 0, function() {
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              return [ 4, this._showAsync(FB_AD_TYPE.REWARDED_VIDEO) ];

             case 1:
              return [ 2, _a.sent() ];
            }
          });
        });
      };
      FBAdManager.checkApiSupport = function(api) {
        return FBInstant.getSupportedAPIs().indexOf(api) >= 0;
      };
      FBAdManager.isBannerSupport = function() {
        "undefined" == typeof this._bannerSupport && (this._bannerSupport = this.checkApiSupport(FB_API_BANNER));
        return this._bannerSupport;
      };
      FBAdManager.isBannerReady = function() {
        if (this._banners.length <= 0) throw ErrorNoBannerAdInstance;
        var adUnit = this._banners[0];
        return adUnit.isReadyToRefresh();
      };
      FBAdManager.showBannerAsync = function() {
        return __awaiter(this, void 0, void 0, function() {
          var adUnit;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              if (!this.isBannerSupport()) throw ErrorApiNotSupport;
              if (this._banners.length <= 0) throw ErrorNoBannerAdInstance;
              adUnit = this._banners[0];
              return [ 4, adUnit.showAsync() ];

             case 1:
              return [ 2, _a.sent() ];
            }
          });
        });
      };
      FBAdManager.hideBannerAsync = function() {
        return __awaiter(this, void 0, void 0, function() {
          var adUnit;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              if (!this.isBannerSupport()) throw ErrorApiNotSupport;
              if (this._banners.length <= 0) throw ErrorNoBannerAdInstance;
              adUnit = this._banners[0];
              return [ 4, adUnit.hideAsync() ];

             case 1:
              return [ 2, _a.sent() ];
            }
          });
        });
      };
      FBAdManager._interstitialAds = [];
      FBAdManager._rewardedVideos = [];
      FBAdManager._banners = [];
      FBAdManager._interstitialTimer = null;
      FBAdManager._rewardedVideoTimer = null;
      FBAdManager._bannerTimer = null;
      FBAdManager._bannerSupport = void 0;
      FBAdManager.defaultInterstitialOption = {
        autoLoadOnPlay: FB_AUTO_LOAD_ON_PLAY,
        maxLoadError: FB_MAX_INTERSTITIAL_ERROR
      };
      FBAdManager.defaultRewardedVideoOption = {
        autoLoadOnPlay: FB_AUTO_LOAD_ON_PLAY,
        maxLoadError: FB_MAX_REWARDED_VIDEO_ERROR
      };
      FBAdManager.defaultBannerOption = {
        autoLoadOnPlay: FB_AUTO_LOAD_ON_PLAY,
        maxLoadError: FB_MAX_BANNER_ERROR
      };
      FBAdManager.defaultInterstitialTimerOption = {
        refreshInterval: FB_INTERSTITIAL_REFRESH_INTERVAL,
        delayForFirstAd: FB_AD_DELAY_FOR_FIRST_INTERSTITIAL
      };
      FBAdManager.defaultRewardedVideoTimerOption = {
        refreshInterval: FB_REWARDED_VIDEO_REFRESH_INTERVAL,
        delayForFirstAd: FB_AD_DELAY_FOR_FIRST_REWARDED_VIDEO
      };
      FBAdManager.defaultBannerTimerOption = {
        refreshInterval: FB_BANNER_REFRESH_INTERVAL,
        delayForFirstAd: FB_AD_DELAY_FOR_FIRST_BANNER
      };
      return FBAdManager;
    }();
    exports.default = FBAdManager;
    cc._RF.pop();
  }, {
    "../Utils": "Utils"
  } ],
  FBSdk: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9b54fpkUvRHgIx4K6bSw7eI", "FBSdk");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var FBAdManager_1 = require("./FBAdManager");
    window["FBAdManager"] = FBAdManager_1.default;
    cc._RF.pop();
  }, {
    "./FBAdManager": "FBAdManager"
  } ],
  FlyCoin: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ed685HUdhhBDJfsYmbDGwcF", "FlyCoin");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CocosZ_1 = require("./CocosZ");
    var FlyCoin = function() {
      function FlyCoin() {}
      FlyCoin.Show = function(iconName, pos, group, callFun) {
        var pre = CocosZ_1.cocosz.resMgr.getRes("FlyIcon", cc.Prefab);
        if (pre) {
          var finshCount_1 = 0;
          var _loop_1 = function(i) {
            var node = cc.instantiate(pre);
            if (node) {
              node.children.forEach(function(c) {
                c.name == iconName ? c.opacity = 255 : c.opacity = 0;
              });
              group && (node.group = group);
              node.position = cc.v3(.5 * cc.winSize.width, .5 * cc.winSize.height);
              node.scale = 2;
              cc.director.getScene().addChild(node, 1e4);
              var t = cc.tween(node);
              t.by(.2, {
                x: 400 * Math.random() - 200,
                y: 400 * Math.random() - 200
              });
              t.delay(.5 * Math.random() + .2);
              t.parallel(cc.tween().to(.3, {
                position: pos
              }), cc.tween().to(.3, {
                scale: 0
              }));
              t.call(function() {
                finshCount_1++;
                14 == finshCount_1 && callFun && callFun();
                CocosZ_1.cocosz.audioMgr.playEffect(iconName);
                node.destroy();
              });
              t.start();
            }
          };
          for (var i = 0; i < 15; i++) _loop_1(i);
        } else cc.log("Prefab FlyCoin is not found!");
      };
      return FlyCoin;
    }();
    exports.default = FlyCoin;
    cc._RF.pop();
  }, {
    "./CocosZ": "CocosZ"
  } ],
  GameBoxListGameItem: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8d1273vqzBO/YV6wO8v72RF", "GameBoxListGameItem");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var PlatUtils_1 = require("./PlatUtils");
    var CompatibleTool_1 = require("./CompatibleTool");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var GameBoxListGameItem = function(_super) {
      __extends(GameBoxListGameItem, _super);
      function GameBoxListGameItem() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.data = null;
        _this.icon = null;
        _this.labelName = null;
        _this.labelShadow = null;
        _this._dataDirty = false;
        _this.lastPostTime = 0;
        return _this;
      }
      GameBoxListGameItem.prototype.onLoad = function() {
        var mask = this.node.getChildByName("Mask");
        this.icon = mask.getChildByName("Icon").getComponent(cc.Sprite);
        this.labelName = this.node.getChildByName("Label").getComponent(cc.Label);
        this.labelShadow = this.node.getChildByName("LabelShadow").getComponent(cc.Label);
      };
      GameBoxListGameItem.prototype.init = function(data) {
        this.data = data;
        this._dataDirty = true;
      };
      GameBoxListGameItem.prototype.update = function(dt) {
        if (this._dataDirty) {
          this._dataDirty = false;
          this.updateItem();
        }
      };
      GameBoxListGameItem.prototype.onEnable = function() {
        var _this = this;
        this.node.on(cc.Node.EventType.TOUCH_END, function(event) {
          _this._postData(_this.data.app_id);
          if (_this.data.app_id && Utils_1.utils.wechatTool.checkAppId(_this.data.app_id)) {
            Utils_1.utils.showLog("\u76f4\u63a5\u8df3\u8f6c!", _this.data.app_id);
            wx.navigateToMiniProgram({
              appId: _this.data.app_id,
              path: _this.data.app_path ? _this.data.app_path : "",
              success: function(res) {},
              fail: function(res) {
                Utils_1.utils.showLog("\u8df3\u8f6c\u5931\u8d25! ; res=" + JSON.stringify(res));
              }
            });
          } else if (_this.data.qr_code) if (PlatUtils_1.default.IsWechat) {
            Utils_1.utils.showLog("\u4e8c\u7ef4\u7801\u8df3\u8f6c!", _this.data.qr_code);
            Utils_1.utils.wechatTool.previewImage(_this.data.qr_code);
          } else Utils_1.utils.showLog("\u4e0d\u652f\u6301\u4e8c\u7ef4\u7801\u8df3\u8f6c!");
        }, this);
      };
      GameBoxListGameItem.prototype.onDisable = function() {
        this.node.targetOff(this);
      };
      GameBoxListGameItem.prototype.updateItem = function() {
        var _this = this;
        if (this.data) {
          if (this.data.name) {
            var gameName = this.data.name;
            if (this.data.name.length > 4) {
              gameName = gameName.slice(0, 4);
              gameName += "...";
            }
            this.labelName.string = gameName;
            this.labelShadow.string = gameName;
          }
          this.data.icon && CompatibleTool_1.default.LoadRes(this.data.icon, function(err, texture) {
            !err && cc.isValid(_this) && _this.icon && _this.icon.spriteFrame && (_this.icon.spriteFrame = new cc.SpriteFrame(texture));
          });
        }
      };
      GameBoxListGameItem.prototype._postData = function(appid) {
        var url = "https://apps.youlesp.com/gbs?m=rclickV2&app_id=" + appid + "&game_id=" + Utils_1.utils.config.wechatconfig.appID;
        Utils_1.utils.showLog("\u4e0a\u62a5\u6570\u636e, url=", url);
        Utils_1.utils.commomHttpRequest(url, function(ret, data) {
          ret ? Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
        });
      };
      GameBoxListGameItem = __decorate([ ccclass ], GameBoxListGameItem);
      return GameBoxListGameItem;
    }(cc.Component);
    exports.default = GameBoxListGameItem;
    cc._RF.pop();
  }, {
    "./CompatibleTool": "CompatibleTool",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils"
  } ],
  GameBoxListItem: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "43cccVEk7VCIph7mge+mLVv", "GameBoxListItem");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var GameBoxListItem = function(_super) {
      __extends(GameBoxListItem, _super);
      function GameBoxListItem() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.data = null;
        _this.titleLabel = null;
        _this._dataDirty = false;
        _this._gameList = null;
        _this._gameItems = [];
        return _this;
      }
      GameBoxListItem.prototype.onLoad = function() {
        this.titleLabel = this.node.getChildByName("titleLabel").getComponent(cc.RichText);
        this._gameList = this.node.getChildByName("listLay");
        for (var i = 0; i < this._gameList.childrenCount; i++) {
          this._gameItems.push(this._gameList.children[i].getComponent("GameBoxListGameItem"));
          this._gameList.children[i].active = false;
        }
      };
      GameBoxListItem.prototype.init = function(data) {
        this.data = data;
        this._dataDirty = true;
      };
      GameBoxListItem.prototype.update = function(dt) {
        if (this._dataDirty) {
          this._dataDirty = false;
          this.updateItem();
        }
      };
      GameBoxListItem.prototype.updateItem = function() {
        if (this.data) {
          Utils_1.utils.showLog("boxList: ", this.data);
          this.data.title && (this.titleLabel.string = "<b>" + this.data.title + "</b>");
          if (this.data.infos && this.data.infos.length > 0) for (var i = 0; i < this.data.infos.length; i++) if (this._gameItems[i]) {
            this._gameItems[i].init(this.data.infos[i]);
            this._gameItems[i].node.active = true;
          }
        }
      };
      GameBoxListItem = __decorate([ ccclass ], GameBoxListItem);
      return GameBoxListItem;
    }(cc.Component);
    exports.default = GameBoxListItem;
    cc._RF.pop();
  }, {
    "./Utils": "Utils"
  } ],
  GameBoxSlideItem: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1e163lFRMhCM4Xj0GBex74Z", "GameBoxSlideItem");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var PlatUtils_1 = require("./PlatUtils");
    var CompatibleTool_1 = require("./CompatibleTool");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var GameBoxSlideItem = function(_super) {
      __extends(GameBoxSlideItem, _super);
      function GameBoxSlideItem() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.data = null;
        _this.itemSprite = null;
        _this._dataDirty = false;
        _this.lastPostTime = 0;
        return _this;
      }
      GameBoxSlideItem.prototype.onLoad = function() {
        this.itemSprite = this.node.getComponent(cc.Sprite);
      };
      GameBoxSlideItem.prototype.initUi = function() {};
      GameBoxSlideItem.prototype.initListener = function() {};
      GameBoxSlideItem.prototype.initData = function(data) {
        Utils_1.utils.showLog("#slideData=", data);
        this.data = data;
        this._dataDirty = true;
      };
      GameBoxSlideItem.prototype.update = function(dt) {
        if (this._dataDirty) {
          this._dataDirty = false;
          this.updateItem();
        }
      };
      GameBoxSlideItem.prototype.onEnable = function() {
        var _this = this;
        this.node.on(cc.Node.EventType.TOUCH_END, function(event) {
          _this._postData(_this.data.app_id);
          if (_this.data.app_id && Utils_1.utils.wechatTool.checkAppId(_this.data.app_id)) {
            Utils_1.utils.showLog("\u76f4\u63a5\u8df3\u8f6c!", _this.data.app_id);
            wx.navigateToMiniProgram({
              appId: _this.data.app_id,
              path: _this.data.app_path ? _this.data.app_path : "",
              success: function(res) {},
              fail: function(res) {
                Utils_1.utils.showLog("\u8df3\u8f6c\u5931\u8d25!  res=" + JSON.stringify(res));
              }
            });
          } else if (_this.data.qr_code) if (PlatUtils_1.default.IsWechat) {
            Utils_1.utils.showLog("\u4e8c\u7ef4\u7801\u8df3\u8f6c!", _this.data.qr_code);
            Utils_1.utils.wechatTool.previewImage(_this.data.qr_code);
          } else Utils_1.utils.showLog("\u4e0d\u652f\u6301\u4e8c\u7ef4\u7801\u8df3\u8f6c!");
        }, this);
      };
      GameBoxSlideItem.prototype.onDisable = function() {
        this.node.targetOff(this);
      };
      GameBoxSlideItem.prototype.updateItem = function() {
        var _this = this;
        this.data && this.data.banner && CompatibleTool_1.default.LoadRes(this.data.banner, function(err, texture) {
          Utils_1.utils.showLog(err, "err");
          if (!err && cc.isValid(_this) && _this.itemSprite) {
            Utils_1.utils.showLog(_this.node.active, "node <<<");
            _this.itemSprite.spriteFrame = new cc.SpriteFrame(texture);
          }
        });
      };
      GameBoxSlideItem.prototype._postData = function(appid) {
        var url = "https://apps.youlesp.com/gbs?m=rclickV2&app_id=" + appid + "&game_id=" + Utils_1.utils.config.wechatconfig.appID;
        Utils_1.utils.showLog("\u4e0a\u62a5\u6570\u636e, url=", url);
        Utils_1.utils.commomHttpRequest(url, function(ret, data) {
          ret ? Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
        });
      };
      GameBoxSlideItem = __decorate([ ccclass ], GameBoxSlideItem);
      return GameBoxSlideItem;
    }(cc.Component);
    exports.default = GameBoxSlideItem;
    cc._RF.pop();
  }, {
    "./CompatibleTool": "CompatibleTool",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils"
  } ],
  GameBox: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6ece2t091pFCZ+KR1Ury6C3", "GameBox");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var GameBox = function(_super) {
      __extends(GameBox, _super);
      function GameBox() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.slidePageView = null;
        _this.listContent = null;
        _this.topSlideNode = null;
        _this.recommentNode = null;
        _this.recommentBanner = null;
        _this._boxInfo = null;
        _this._dataDirty = false;
        _this._slideList = null;
        _this._appIdList = [];
        _this.newPage = null;
        return _this;
      }
      GameBox.prototype.onLoad = function() {
        this.initListener();
      };
      GameBox.prototype.onEnable = function() {
        var _this = this;
        this.postData();
        Utils_1.utils.registerServerInitEvent(function() {
          _this._setNodeVisible();
        }, this);
      };
      GameBox.prototype.onDisable = function() {
        Utils_1.utils.unregisterServerInitEvent(this);
      };
      GameBox.prototype._setNodeVisible = function() {
        this.initData();
        this._boxInfo ? this.initUi() : this.node.destroy();
      };
      GameBox.prototype.initUi = function() {
        this.slidePageView.removeAllPages();
        this.listContent.removeAllChildren();
        Utils_1.utils.showLog("gamebox initUi");
        if (!this._boxInfo) return;
        var slideData = this._boxInfo.banners;
        var listData = this._boxInfo.infos;
        for (var i = 0; i < slideData.length; i++) {
          var slideNode = cc.instantiate(this.topSlideNode);
          var slideItem = slideNode.getComponent("GameBoxSlideItem");
          slideNode.active = true;
          slideItem.initData(slideData[i]);
          this.slidePageView.addPage(slideNode);
        }
        for (var i = 0; i < listData.length; i++) {
          var listNode = cc.instantiate(this.recommentNode);
          var listItem = listNode.getComponent("GameBoxListItem");
          var data = listData[i];
          listItem.init(data);
          this.listContent.addChild(listNode);
          if (data.banner) {
            var banner = cc.instantiate(this.recommentBanner);
            var slideItem = banner.getComponent("GameBoxSlideItem");
            banner.active = true;
            slideItem.initData(data.banner);
            this.listContent.addChild(banner);
          }
        }
        this.startAutoChange();
      };
      GameBox.prototype.startAutoChange = function() {
        var _this = this;
        this.schedule(function() {
          var count = _this.slidePageView.getPages().length;
          var index = _this.slidePageView.getCurrentPageIndex();
          index = index < count && index + 1 !== count ? index + 1 : 0;
          _this.slidePageView.scrollToPage(index, 2);
        }, 3);
      };
      GameBox.prototype.initListener = function() {};
      GameBox.prototype.initData = function() {
        Utils_1.utils.showLog("gamebox initData");
        this._boxInfo = Utils_1.utils._wechatTool.gameBoxServerConfig;
        this._boxInfo ? Utils_1.utils.showLog("Gamebox \u6e38\u620f\u76d2\u5b50\u6570\u636e:", JSON.stringify(this._boxInfo)) : Utils_1.utils.showLog("Gamebox \u6e38\u620f\u76d2\u5b50\u6570\u636e\u83b7\u53d6\u5931\u8d25!", this._boxInfo);
      };
      GameBox.prototype.postData = function() {
        var url = "https://apps.youlesp.com/gbs?m=rclickV2&app_id=100000000001&game_id=" + Utils_1.utils.config.wechatconfig.appID;
        Utils_1.utils.showLog("\u4e0a\u62a5\u6570\u636e, url=", url);
        Utils_1.utils.commomHttpRequest(url, function(ret, data) {
          ret ? Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
        });
      };
      GameBox.prototype.update = function(dt) {
        if (this._dataDirty) {
          this._dataDirty = false;
          this.node.active = true;
        }
      };
      __decorate([ property({
        type: cc.PageView,
        tooltip: "\u9876\u90e8\u6eda\u52a8\u89c6\u56fe"
      }) ], GameBox.prototype, "slidePageView", void 0);
      __decorate([ property({
        type: cc.Node,
        tooltip: "\u63a8\u8350\u5217\u8868"
      }) ], GameBox.prototype, "listContent", void 0);
      __decorate([ property({
        type: cc.Node,
        tooltip: "\u9876\u90e8\u7684\u5e7b\u706f\u7247\u8282\u70b9"
      }) ], GameBox.prototype, "topSlideNode", void 0);
      __decorate([ property({
        type: cc.Node,
        tooltip: "\u63a8\u8350\u5217\u8868\u8282\u70b9"
      }) ], GameBox.prototype, "recommentNode", void 0);
      __decorate([ property({
        type: cc.Node,
        tooltip: "\u63a8\u8350\u5217\u8868Banner\u8282\u70b9"
      }) ], GameBox.prototype, "recommentBanner", void 0);
      GameBox = __decorate([ ccclass ], GameBox);
      return GameBox;
    }(cc.Component);
    exports.default = GameBox;
    cc._RF.pop();
  }, {
    "./Utils": "Utils"
  } ],
  GameCtr: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "127578MG9RJ17mctwhLeqSx", "GameCtr");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Constant_1 = require("./Constant");
    var CocosZ_1 = require("./CocosZ");
    var gameMgr_1 = require("../Game/gameMgr");
    var GameCtr = function() {
      function GameCtr() {
        this.curUseSkinId = -1;
        this.loadProgress = 0;
        this._loadMapPro = 0;
        this._totalCount = 0;
        this._compCount = 0;
        this._pathBack = "";
        this._prefabBack = null;
      }
      GameCtr.prototype.init = function() {
        this.loadProgress = 0;
        this._loadMapPro = 0;
        this._totalCount = 0;
        this._compCount = 0;
        this.loadRes();
      };
      GameCtr.prototype.updateLoadRes = function() {
        this.loadProgress = (this._loadMapPro + this._compCount / this._totalCount) / 2;
        if (this._compCount >= this._totalCount && 0 == this._loadMapPro) {
          this._loadMapPro = .01;
          this.loadMap();
        }
        cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
          type: Constant_1.default.E_UPDATE_PROGRESS,
          data: this.loadProgress
        });
      };
      GameCtr.prototype.loadRes = function() {
        var _this = this;
        var mess1 = [];
        var mess2 = [];
        var mess3 = [];
        CocosZ_1.cocosz.getDirWithPath("audio_game", cc.AudioClip, mess1);
        CocosZ_1.cocosz.resMgr.loadAndCacheResArray(mess1, cc.AudioClip, null, function() {
          _this._compCount++;
          _this.updateLoadRes();
        });
        if (6 == CocosZ_1.cocosz.gameMode) {
          CocosZ_1.cocosz.getDirWithPath("audio_zombie", cc.AudioClip, mess2);
          CocosZ_1.cocosz.resMgr.loadAndCacheResArray(mess2, cc.AudioClip, null, function() {
            _this._compCount++;
            _this.updateLoadRes();
          });
          CocosZ_1.cocosz.getDirWithPath("prefab_zombie_skill", cc.Prefab, mess3);
          CocosZ_1.cocosz.resMgr.loadAndCacheResArray(mess3, cc.Prefab, null, function() {
            _this._compCount++;
            _this.updateLoadRes();
          });
        }
        this._totalCount = mess1.length + mess2.length + mess3.length;
      };
      GameCtr.prototype.loadMap = function() {
        var _this = this;
        var path = "maps/mapzombie";
        this._pathBack != path && this._prefabBack && this._prefabBack.isValid && cc.assetManager.releaseAsset(this._prefabBack);
        CocosZ_1.cocosz.resMgr.loadRes(path, cc.Prefab, function(cur, total) {
          cur / total > _this._loadMapPro && (_this._loadMapPro = cur / total);
          _this._loadMapPro > .99 && (_this._loadMapPro = .99);
          _this.updateLoadRes();
        }, function(err, res) {
          if (err) {
            console.log(err);
            CocosZ_1.cocosz.sceneMgr.loadScene("Home", function() {
              CocosZ_1.cocosz.uiMgr.openPage(Constant_1.PageName.UIHomePage);
            });
          } else {
            _this._pathBack = path;
            _this._prefabBack = res;
            gameMgr_1.gameMgr.map = cc.instantiate(res);
            gameMgr_1.gameMgr.initPos();
            gameMgr_1.gameMgr.mapSize = gameMgr_1.gameMgr.map.getContentSize();
            gameMgr_1.gameMgr.node.addChild(gameMgr_1.gameMgr.map, -5);
            _this._loadMapPro = 1;
            _this.updateLoadRes();
          }
        });
      };
      return GameCtr;
    }();
    exports.default = GameCtr;
    cc._RF.pop();
  }, {
    "../Game/gameMgr": "gameMgr",
    "./CocosZ": "CocosZ",
    "./Constant": "Constant"
  } ],
  GameItem: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e2d27IwlQ5B5pmeL0p/D+5H", "GameItem");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var PlatUtils_1 = require("./PlatUtils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var CompatibleTool_1 = require("./CompatibleTool");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var GameItem = function(_super) {
      __extends(GameItem, _super);
      function GameItem() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.data = null;
        _this.icon = null;
        _this.labelName = null;
        _this.labelShadow = null;
        _this._dataDirty = false;
        _this._redPoint = null;
        _this._location = null;
        _this.mask = null;
        _this._subNameLength = 4;
        return _this;
      }
      GameItem.prototype.onLoad = function() {
        this.mask = this.node.getChildByName("Mask");
        this.icon = this.mask.getChildByName("Icon").getComponent(cc.Sprite);
        this.labelName = this.node.getChildByName("Label").getComponent(cc.Label);
        this.labelShadow = this.node.getChildByName("LabelShadow").getComponent(cc.Label);
        if (this._location && (this._location == YZ_Constant_1.SubLocation.isYzBanner || this._location == YZ_Constant_1.SubLocation.isScrollbar || this._location == YZ_Constant_1.SubLocation.isMoreGame || this._location == YZ_Constant_1.SubLocation.isBoxInsertAd || this._location == YZ_Constant_1.SubLocation.isBeforGameOverAd)) {
          this._redPoint = this.mask.getChildByName("redpoint");
          this.data && this.data.red && "0" != this.data.red ? "1" == this.data.red && (this._redPoint.getComponent("YZ_ActionScale").isRunAction = false) : this._redPoint && this._redPoint.destroy();
        }
      };
      GameItem.prototype.init = function(data, location) {
        this.data = data;
        this._dataDirty = true;
        this._location = location;
        var checkSubString = [ YZ_Constant_1.SubLocation.isBoxInsertAd, YZ_Constant_1.SubLocation.isBeforGameOverAd, YZ_Constant_1.SubLocation.isVerticalPanel ];
        checkSubString.indexOf(this._location) > -1 ? this._subNameLength = 6 : this._location == YZ_Constant_1.SubLocation.isMoreGame && (this._subNameLength = 8);
      };
      GameItem.prototype.update = function(dt) {
        if (this._dataDirty) {
          this._dataDirty = false;
          this.updateItem();
        }
      };
      GameItem.prototype.onEnable = function() {
        var _this = this;
        if (!this.data) return;
        this.node.on(cc.Node.EventType.TOUCH_END, function(event) {
          if (PlatUtils_1.default.IsDouyin) {
            Utils_1.utils.Tool_Douyin.showMoreGamesModal();
            return;
          }
          _this._postClickData(_this.data.appid);
          if (_this.data.is_jump && "true" == _this.data.is_jump && _this.data.appid) {
            Utils_1.utils.showLog("\u76f4\u63a5\u8df3\u8f6c!", _this.data.appid);
            Utils_1.utils.navigateToMiniGame(_this.data, function(ret) {
              ret && _this.data && _this.data.appid && _this._postData(_this.data.appid);
            });
          } else if (_this.data.is_jump && "false" == _this.data.is_jump && _this.data.qr_code) if (PlatUtils_1.default.IsWechat) {
            Utils_1.utils.showLog("\u4e8c\u7ef4\u7801\u8df3\u8f6c!", _this.data.qr_code);
            Utils_1.utils.wechatTool.previewImage(_this.data.qr_code);
            _this.data && _this.data.appid && _this._postData(_this.data.appid);
          } else Utils_1.utils.showLog("\u4e0d\u652f\u6301\u4e8c\u7ef4\u7801\u8df3\u8f6c!"); else {
            Utils_1.utils.showLog("\u6ca1\u6709is_jump\u76f4\u63a5\u8df3\u8f6c!", _this.data.appid);
            _this.data.appid && Utils_1.utils.navigateToMiniGame(_this.data, function(ret) {
              ret && _this.data.appid && _this._postData(_this.data.appid);
            });
          }
        }, this);
      };
      GameItem.prototype.onDisable = function() {
        this.node.targetOff(this);
      };
      GameItem.prototype.updateItem = function() {
        var _this = this;
        if (this.data) {
          if (this.data.name) {
            var gameName = this.data.name;
            if (this.data.name.length > this._subNameLength) {
              gameName = gameName.slice(0, this._subNameLength);
              gameName += "...";
            }
            this.labelName.string = gameName;
            this.labelShadow.string = gameName;
          }
          this.data.icon && CompatibleTool_1.default.LoadRes(this.data.icon, function(err, texture) {
            !err && cc.isValid(_this) && _this.icon && _this.icon.spriteFrame && (_this.icon.spriteFrame = new cc.SpriteFrame(texture));
          });
        } else this.mask.active = false;
      };
      GameItem.prototype._postData = function(appid) {
        Utils_1.utils.postDataByLocation(appid, this._location, 1);
      };
      GameItem.prototype._postClickData = function(appid) {
        Utils_1.utils.postDataByLocation(appid, this._location, 0);
      };
      GameItem = __decorate([ ccclass ], GameItem);
      return GameItem;
    }(cc.Component);
    exports.default = GameItem;
    cc._RF.pop();
  }, {
    "./CompatibleTool": "CompatibleTool",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  GameMgr: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2a6femhqDpCk53HbKVrUmes", "GameMgr");
    "use strict";
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var GameCtr_1 = require("./GameCtr");
    var CocosZ_1 = require("./CocosZ");
    var Constant_1 = require("./Constant");
    var Msg_1 = require("./Msg");
    var Utils_1 = require("../../common-plugin/Scripts/Utils");
    var YZ_Constant_1 = require("../../common-plugin/Scripts/YZ_Constant");
    var YZ_LocalStorage_1 = require("../../common-plugin/Scripts/YZ_LocalStorage");
    var i18n = require("LanguageData");
    var GameMgr = function() {
      function GameMgr() {
        this._state = Constant_1.GameState.None;
        this._gameCtr = new GameCtr_1.default();
        this.gameStartTime = 0;
        this.canTry = true;
        this.canGame = true;
      }
      Object.defineProperty(GameMgr, "inst", {
        get: function() {
          GameMgr._inst || (GameMgr._inst = new GameMgr());
          return GameMgr._inst;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(GameMgr.prototype, "State", {
        get: function() {
          return this._state;
        },
        set: function(value) {
          this._state = value;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(GameMgr.prototype, "gameCtr", {
        get: function() {
          return this._gameCtr;
        },
        enumerable: false,
        configurable: true
      });
      GameMgr.prototype.gameStart = function(levelId) {
        return __awaiter(this, void 0, void 0, function() {
          var rangeLevel;
          return __generator(this, function(_a) {
            YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_RED_BAG_PROGRESS, "0");
            CocosZ_1.cocosz.curLevel = levelId;
            if (this.canTry) {
              this.canTry = false;
              this.gameCtr.curUseSkinId = -1;
              if (CocosZ_1.cocosz.isShowAd && CocosZ_1.cocosz.isADON && (CocosZ_1.cocosz.isDeBug || Utils_1.utils.isShowTrySkin(levelId))) {
                rangeLevel = CocosZ_1.cocosz.dataMgr.getGunInfo(CocosZ_1.cocosz.dataMgr.CurRange).Level;
                Math.random() < .5 && rangeLevel < 3 && CocosZ_1.cocosz.uiMgr.openPanel(Constant_1.PanelName.UIWeaponLevelPanel);
              } else if (this.canGame) {
                this.canGame = false;
                this._loadGameScene();
              }
            } else if (this.canGame) {
              this.canGame = false;
              this._loadGameScene();
            }
            return [ 2 ];
          });
        });
      };
      GameMgr.prototype._loadGameScene = function() {
        var _this = this;
        this.gameCtr.curUseSkinId < 0 && (this.gameCtr.curUseSkinId = CocosZ_1.cocosz.dataMgr.CurSkinId);
        Utils_1.utils.StartGame(CocosZ_1.cocosz.getLevelId().toString());
        CocosZ_1.cocosz.sceneMgr.loadScene("Game", function() {
          _this.gameStartTime = new Date().getTime();
          _this.canTry = true;
          _this.canGame = true;
          _this._gamePrepare();
          CocosZ_1.cocosz.uiMgr.openPage(Constant_1.PageName.UIGameLoadingPage);
        });
      };
      GameMgr.prototype._gamePrepare = function() {
        try {
          this.State = Constant_1.GameState.Prepare;
          this.gameCtr.init();
        } catch (error) {
          cc.error("erro >>", error);
          CocosZ_1.cocosz.sceneMgr.loadScene("Home", function() {
            CocosZ_1.cocosz.uiMgr.openPage(Constant_1.PageName.UIHomePage);
            Msg_1.default.Show(i18n.t("msg.net_error"));
          });
        }
      };
      GameMgr.prototype.gameSuccess = function() {
        cc.log("\u6e38\u620f\u80dc\u5229!");
        this.State = Constant_1.GameState.Success;
        CocosZ_1.cocosz.audioMgr.playEffectWinner();
        var gameTime = Math.round((new Date().getTime() - this.gameStartTime) / 1e3 / 60);
        Utils_1.utils.SendEvent("\u6e38\u620f\u65f6\u95f4:" + gameTime + "\u5206\u949f");
        var rewardCallFunc = function(res) {
          cc.log("\u83b7\u53d6\u6fc0\u52b1\u7ec4\u4ef6\u5956\u52b1+" + res.rewardValue);
          if (res) {
            CocosZ_1.cocosz.dataMgr.CoinCount += res.rewardValue;
            cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
              type: Constant_1.default.E_COIN_CHANGE
            });
          }
        };
        var closeCallFunc = function() {
          cc.log("\u6fc0\u52b1\u7ec4\u4ef6\u5173\u95ed\uff01\uff01\uff01\uff01\uff01\uff01");
          CocosZ_1.cocosz.uiMgr.openPage(Constant_1.PageName.UIOverPage);
        };
      };
      GameMgr.prototype.gameFailed = function() {
        cc.log("\u6e38\u620f\u5931\u8d25!");
        this.State = Constant_1.GameState.Failed;
        CocosZ_1.cocosz.audioMgr.playEffectFailed();
        var gameTime = Math.round((new Date().getTime() - this.gameStartTime) / 1e3 / 60);
        Utils_1.utils.SendEvent("\u6e38\u620f\u65f6\u95f4:" + gameTime + "\u5206\u949f");
        var rewardCallFunc = function(res) {
          cc.log("\u83b7\u53d6\u6fc0\u52b1\u7ec4\u4ef6\u5956\u52b1+" + res.rewardValue);
          if (res) {
            CocosZ_1.cocosz.dataMgr.CoinCount += res.rewardValue;
            cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
              type: Constant_1.default.E_COIN_CHANGE
            });
          }
        };
        var closeCallFunc = function() {
          cc.log("\u6fc0\u52b1\u7ec4\u4ef6\u5173\u95ed\uff01\uff01\uff01\uff01\uff01\uff01");
          CocosZ_1.cocosz.uiMgr.openPage(Constant_1.PageName.UIOverPage);
        };
        Utils_1.utils.adManager.showBeforGameOverAd(CocosZ_1.cocosz.getLevelId(), YZ_Constant_1.LevelStatus.GameFail, 50, closeCallFunc, rewardCallFunc);
      };
      return GameMgr;
    }();
    exports.default = GameMgr;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/Utils": "Utils",
    "../../common-plugin/Scripts/YZ_Constant": "YZ_Constant",
    "../../common-plugin/Scripts/YZ_LocalStorage": "YZ_LocalStorage",
    "./CocosZ": "CocosZ",
    "./Constant": "Constant",
    "./GameCtr": "GameCtr",
    "./Msg": "Msg",
    LanguageData: "LanguageData"
  } ],
  GamePage: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "63a41cIPQJDv6DXfWU7Rp52", "GamePage");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var YZ_Constant_1 = require("./YZ_Constant");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var GamePage = function(_super) {
      __extends(GamePage, _super);
      function GamePage() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._gameList = null;
        _this._gameItemNodes = [];
        _this._isContentFilled = false;
        _this._dataDirty = false;
        return _this;
      }
      GamePage.prototype.init = function(data) {
        this._gameList = data;
        this._dataDirty = true;
      };
      GamePage.prototype.onLoad = function() {
        this._gameItemNodes = this.node.children;
        for (var i = 0; i < this._gameItemNodes.length; i++) this._gameItemNodes[i].active = false;
      };
      GamePage.prototype.update = function(dt) {
        if (this._dataDirty) {
          this._dataDirty = false;
          this._updateContent();
        }
      };
      GamePage.prototype._updateContent = function() {
        if (this._gameList && this._gameList.length > 0 && this._gameList.length <= 5) {
          this._isContentFilled = true;
          var itemData = null;
          for (var i = 0; i < this._gameList.length; i++) {
            itemData = this._gameList[i];
            var newGameItemNode = this._gameItemNodes[i];
            var gameItem = newGameItemNode.getComponent("GameItem");
            gameItem.init(itemData, YZ_Constant_1.SubLocation.isScrollbar);
            newGameItemNode.active = true;
          }
        }
      };
      GamePage = __decorate([ ccclass ], GamePage);
      return GamePage;
    }(cc.Component);
    exports.default = GamePage;
    cc._RF.pop();
  }, {
    "./YZ_Constant": "YZ_Constant"
  } ],
  GameSDK: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2d7b2Hq1SdGo4Ah6K+9Y1sO", "GameSDK");
    "use strict";
    (function() {
      var GameSDK = window.GameSDK = {
        callBacks: {},
        callNative: function callNative(cmd, param) {
          param = null == param ? "" : JSON.stringify(param);
          var rt = loadRuntime();
          rt.callCustomCommand({
            success: function success(msg) {
              console.log("success:", msg);
            },
            fail: function fail(msg) {
              console.log("fail:", msg);
            }
          }, cmd, param);
        },
        nativeCallback: function nativeCallback(cmd, param) {
          var func = this.callBacks[cmd];
          func && func(JSON.parse(param));
        },
        registerCallback: function registerCallback(cmd, func) {
          this.callBacks[cmd] = func;
        },
        setOnInitCB: function setOnInitCB(func) {
          this.registerCallback("onInit", func);
        },
        setOnRoomInfoCB: function setOnRoomInfoCB(func) {
          this.registerCallback("onRoomInfo", func);
        },
        setOnReadyCB: function setOnReadyCB(func) {
          this.registerCallback("onReady", func);
        },
        setOnStartCB: function setOnStartCB(func) {
          this.registerCallback("onStart", func);
        },
        setOnMessageCB: function setOnMessageCB(func) {
          this.registerCallback("onMessage", func);
        },
        setOnFinishCB: function setOnFinishCB(func) {
          this.registerCallback("onFinish", func);
        },
        setOnAudioCB: function setOnAudioCB(func) {
          this.registerCallback("onAudio", func);
        },
        setOnResumeCB: function setOnResumeCB(func) {
          this.registerCallback("onResume", func);
        },
        setOnPauseCB: function setOnPauseCB(func) {
          this.registerCallback("onPause", func);
        },
        setOnPayCB: function setOnPayCB(func) {
          this.registerCallback("onPay", func);
        },
        init: function init(gameId) {
          var param = {
            gameId: gameId
          };
          this.callNative("init", param);
        },
        quit: function quit(reason) {
          var param = {
            reason: reason
          };
          this.callNative("quit", param);
        },
        getRoomInfo: function getRoomInfo() {
          this.callNative("getRoomInfo");
        },
        finish: function finish(result) {
          var param = {
            result: result
          };
          this.callNative("finish", param);
        },
        setOrientation: function setOrientation(orientation) {
          var param = {
            orientation: orientation
          };
          this.callNative("setOrientation", param);
        },
        setAudio: function setAudio(enable, volume) {
          var param = {
            enable: enable,
            volume: volume
          };
          this.callNative("setAudio", param);
        },
        setMic: function setMic(enable, volume) {
          var param = {
            enable: enable,
            volume: volume
          };
          this.callNative("setMic", param);
        },
        setLoadProgress: function setLoadProgress(progress) {
          var param = {
            progress: progress
          };
          this.callNative("setLoadProgress", param);
        },
        hideLoadProgress: function hideLoadProgress() {
          var param = {};
          this.callNative("hideLoadProgress", param);
        },
        ready: function ready(userData) {
          var param = {
            userData: userData
          };
          this.callNative("ready", param);
        },
        broadcast: function broadcast(message, includeMe) {
          null == includeMe && (includeMe = 0);
          var param = {
            message: message,
            includeMe: includeMe
          };
          this.callNative("broadcast", param);
        },
        gameOver: function gameOver(result) {
          var param = {
            result: result
          };
          this.callNative("gameOver", param);
        },
        pay: function pay(orderId, goodsName, goodsDesc, orderAmount, extension, notifyURL) {
          var param = {
            orderId: orderId,
            goodsName: goodsName,
            goodsDesc: goodsDesc,
            orderAmount: orderAmount,
            extension: extension,
            notifyURL: notifyURL
          };
          this.callNative("pay", param);
        }
      };
    })();
    cc._RF.pop();
  }, {} ],
  GuideLayer: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "acaa0jcS+FD1plO6fY1CE9z", "GuideLayer");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.guideLayer = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    exports.guideLayer = null;
    var GuideLayer = function(_super) {
      __extends(GuideLayer, _super);
      function GuideLayer() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.bgLoadNode = null;
        _this.points = null;
        _this.fjLoadNode = null;
        _this.fjAni = null;
        _this.curIndex = 0;
        return _this;
      }
      GuideLayer.prototype.onLoad = function() {
        exports.guideLayer = this;
        cc.game.addPersistRootNode(this.node);
        this.node.setPosition(cc.winSize.width / 2, cc.winSize.height / 2);
        this.node.setContentSize(cc.winSize);
      };
      GuideLayer.prototype.start = function() {
        this.showPoint();
        this.schedule(this.showPoint, .5);
      };
      GuideLayer.prototype.showPoint = function() {
        for (var i = 0; i < this.points.childrenCount; i++) i <= this.curIndex ? this.points.children[i].opacity = 255 : this.points.children[i].opacity = 0;
        ++this.curIndex > this.points.childrenCount && (this.curIndex = 0);
      };
      GuideLayer.prototype.showBgAni = function() {
        this.bgLoadNode.active = true;
        this.curIndex = 0;
      };
      GuideLayer.prototype.hideBgAni = function() {
        this.bgLoadNode.active = false;
      };
      GuideLayer.prototype.showFjAni = function() {
        this.fjLoadNode.active = true;
        this.fjAni.setAnimation(0, "jiazai", false);
        this.fjAni.addAnimation(0, "jiazai2", true);
      };
      GuideLayer.prototype.hideFjAni = function() {
        this.fjLoadNode.active = false;
      };
      __decorate([ property(cc.Node) ], GuideLayer.prototype, "bgLoadNode", void 0);
      __decorate([ property(cc.Node) ], GuideLayer.prototype, "points", void 0);
      __decorate([ property(cc.Node) ], GuideLayer.prototype, "fjLoadNode", void 0);
      __decorate([ property(sp.Skeleton) ], GuideLayer.prototype, "fjAni", void 0);
      GuideLayer = __decorate([ ccclass ], GuideLayer);
      return GuideLayer;
    }(cc.Component);
    exports.default = GuideLayer;
    cc._RF.pop();
  }, {} ],
  HandAction: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "790e4sDjF5IWJNaXfl/M8R4", "HandAction");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var HandAction = function(_super) {
      __extends(HandAction, _super);
      function HandAction() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.runTime = .3;
        return _this;
      }
      HandAction.prototype.onLoad = function() {
        cc.winSize.height < cc.winSize.width ? this.node.scale = cc.view.getDesignResolutionSize().width / 1920 * .5 : this.node.scale = cc.view.getDesignResolutionSize().width / 1080 * .5;
      };
      HandAction.prototype.onEnable = function() {
        this.node.runAction(cc.sequence(cc.moveBy(this.runTime, cc.v2(-50, 50)), cc.moveBy(this.runTime, cc.v2(50, -50))).repeatForever());
      };
      HandAction.prototype.onDisable = function() {
        this.node.stopAllActions();
      };
      __decorate([ property({
        type: cc.Float
      }) ], HandAction.prototype, "runTime", void 0);
      HandAction = __decorate([ ccclass ], HandAction);
      return HandAction;
    }(cc.Component);
    exports.default = HandAction;
    cc._RF.pop();
  }, {} ],
  LanguageData: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "61de062n4dJ7ZM9/Xdumozn", "LanguageData");
    "use strict";
    var Polyglot = require("polyglot.min");
    var polyInst = null;
    window.i18n || (window.i18n = {
      languages: {},
      curLang: ""
    });
    false;
    function loadLanguageData(language) {
      return window.i18n.languages[language];
    }
    function initPolyglot(data) {
      data && (polyInst ? polyInst.replace(data) : polyInst = new Polyglot({
        phrases: data,
        allowMissing: true
      }));
    }
    module.exports = {
      init: function init(language) {
        if (language === window.i18n.curLang) return;
        var data = loadLanguageData(language) || {};
        window.i18n.curLang = language;
        initPolyglot(data);
        this.inst = polyInst;
      },
      t: function t(key, opt) {
        if (polyInst) return polyInst.t(key, opt);
      },
      inst: polyInst,
      updateSceneRenderers: function updateSceneRenderers() {
        var rootNodes = cc.director.getScene().children;
        var allLocalizedLabels = [];
        for (var i = 0; i < rootNodes.length; ++i) {
          var labels = rootNodes[i].getComponentsInChildren("LocalizedLabel");
          Array.prototype.push.apply(allLocalizedLabels, labels);
        }
        for (var _i = 0; _i < allLocalizedLabels.length; ++_i) {
          var label = allLocalizedLabels[_i];
          if (!label.node.active) continue;
          label.updateLabel();
        }
        var allLocalizedSprites = [];
        for (var _i2 = 0; _i2 < rootNodes.length; ++_i2) {
          var sprites = rootNodes[_i2].getComponentsInChildren("LocalizedSprite");
          Array.prototype.push.apply(allLocalizedSprites, sprites);
        }
        for (var _i3 = 0; _i3 < allLocalizedSprites.length; ++_i3) {
          var sprite = allLocalizedSprites[_i3];
          if (!sprite.node.active) continue;
          sprite.updateSprite(window.i18n.curLang);
        }
      }
    };
    cc._RF.pop();
  }, {
    "polyglot.min": "polyglot.min"
  } ],
  ListItem: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "09c0c9GGz9I/KV6p6vh4QOI", "ListItem");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, disallowMultiple = _a.disallowMultiple, menu = _a.menu, executionOrder = _a.executionOrder;
    var SelectedType;
    (function(SelectedType) {
      SelectedType[SelectedType["NONE"] = 0] = "NONE";
      SelectedType[SelectedType["TOGGLE"] = 1] = "TOGGLE";
      SelectedType[SelectedType["SWITCH"] = 2] = "SWITCH";
    })(SelectedType || (SelectedType = {}));
    var ListItem = function(_super) {
      __extends(ListItem, _super);
      function ListItem() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.icon = null;
        _this.title = null;
        _this.selectedMode = SelectedType.NONE;
        _this.selectedFlag = null;
        _this.selectedSpriteFrame = null;
        _this._unselectedSpriteFrame = null;
        _this.adaptiveSize = false;
        _this._selected = false;
        _this._eventReg = false;
        return _this;
      }
      Object.defineProperty(ListItem.prototype, "selected", {
        get: function() {
          return this._selected;
        },
        set: function(val) {
          this._selected = val;
          if (!this.selectedFlag) return;
          switch (this.selectedMode) {
           case SelectedType.TOGGLE:
            this.selectedFlag.active = val;
            break;

           case SelectedType.SWITCH:
            var sp = this.selectedFlag.getComponent(cc.Sprite);
            sp && (sp.spriteFrame = val ? this.selectedSpriteFrame : this._unselectedSpriteFrame);
          }
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(ListItem.prototype, "btnCom", {
        get: function() {
          this._btnCom || (this._btnCom = this.node.getComponent(cc.Button));
          return this._btnCom;
        },
        enumerable: false,
        configurable: true
      });
      ListItem.prototype.onLoad = function() {
        if (this.selectedMode == SelectedType.SWITCH) {
          var com = this.selectedFlag.getComponent(cc.Sprite);
          this._unselectedSpriteFrame = com.spriteFrame;
        }
      };
      ListItem.prototype.onDestroy = function() {
        this.node.off(cc.Node.EventType.SIZE_CHANGED, this._onSizeChange, this);
      };
      ListItem.prototype._registerEvent = function() {
        if (!this._eventReg) {
          this.btnCom && this.list.selectedMode > 0 && this.btnCom.clickEvents.unshift(this.createEvt(this, "onClickThis"));
          this.adaptiveSize && this.node.on(cc.Node.EventType.SIZE_CHANGED, this._onSizeChange, this);
          this._eventReg = true;
        }
      };
      ListItem.prototype._onSizeChange = function() {
        this.list._onItemAdaptive(this.node);
      };
      ListItem.prototype.createEvt = function(component, handlerName, node) {
        void 0 === node && (node = null);
        if (!component.isValid) return;
        component["comName"] = component["comName"] || component.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g, "");
        var evt = new cc.Component.EventHandler();
        evt.target = node || component.node;
        evt.component = component["comName"];
        evt.handler = handlerName;
        return evt;
      };
      ListItem.prototype.showAni = function(aniType, callFunc, del) {
        var _this = this;
        var acts;
        switch (aniType) {
         case 0:
          acts = [ cc.scaleTo(.2, .7), cc.moveBy(.3, 0, 2 * this.node.height) ];
          break;

         case 1:
          acts = [ cc.scaleTo(.2, .7), cc.moveBy(.3, 2 * this.node.width, 0) ];
          break;

         case 2:
          acts = [ cc.scaleTo(.2, .7), cc.moveBy(.3, 0, -2 * this.node.height) ];
          break;

         case 3:
          acts = [ cc.scaleTo(.2, .7), cc.moveBy(.3, -2 * this.node.width, 0) ];
          break;

         default:
          acts = [ cc.scaleTo(.3, .1) ];
        }
        (callFunc || del) && acts.push(cc.callFunc(function() {
          if (del) {
            _this.list._delSingleItem(_this.node);
            for (var n = _this.list.displayData.length - 1; n >= 0; n--) if (_this.list.displayData[n].id == _this.listId) {
              _this.list.displayData.splice(n, 1);
              break;
            }
          }
          callFunc();
        }));
        this.node.runAction(cc.sequence(acts));
      };
      ListItem.prototype.onClickThis = function() {
        this.list.selectedId = this.listId;
      };
      __decorate([ property({
        type: cc.Sprite,
        tooltip: false
      }) ], ListItem.prototype, "icon", void 0);
      __decorate([ property({
        type: cc.Node,
        tooltip: false
      }) ], ListItem.prototype, "title", void 0);
      __decorate([ property({
        type: cc.Enum(SelectedType),
        tooltip: false
      }) ], ListItem.prototype, "selectedMode", void 0);
      __decorate([ property({
        type: cc.Node,
        tooltip: false,
        visible: function() {
          return this.selectedMode > SelectedType.NONE;
        }
      }) ], ListItem.prototype, "selectedFlag", void 0);
      __decorate([ property({
        type: cc.SpriteFrame,
        tooltip: false,
        visible: function() {
          return this.selectedMode == SelectedType.SWITCH;
        }
      }) ], ListItem.prototype, "selectedSpriteFrame", void 0);
      __decorate([ property({
        tooltip: false
      }) ], ListItem.prototype, "adaptiveSize", void 0);
      ListItem = __decorate([ ccclass, disallowMultiple(), menu("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List Item"), executionOrder(-5001) ], ListItem);
      return ListItem;
    }(cc.Component);
    exports.default = ListItem;
    cc._RF.pop();
  }, {} ],
  List: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "987bdrXWC5Lz6Y5yNsCVEwF", "List");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, disallowMultiple = _a.disallowMultiple, menu = _a.menu, executionOrder = _a.executionOrder, requireComponent = _a.requireComponent;
    var ListItem_1 = require("./ListItem");
    var CompatibleTool_1 = require("./CompatibleTool");
    var TemplateType;
    (function(TemplateType) {
      TemplateType[TemplateType["NODE"] = 1] = "NODE";
      TemplateType[TemplateType["PREFAB"] = 2] = "PREFAB";
    })(TemplateType || (TemplateType = {}));
    var SlideType;
    (function(SlideType) {
      SlideType[SlideType["NORMAL"] = 1] = "NORMAL";
      SlideType[SlideType["ADHERING"] = 2] = "ADHERING";
      SlideType[SlideType["PAGE"] = 3] = "PAGE";
    })(SlideType || (SlideType = {}));
    var SelectedType;
    (function(SelectedType) {
      SelectedType[SelectedType["NONE"] = 0] = "NONE";
      SelectedType[SelectedType["SINGLE"] = 1] = "SINGLE";
      SelectedType[SelectedType["MULT"] = 2] = "MULT";
    })(SelectedType || (SelectedType = {}));
    var List = function(_super) {
      __extends(List, _super);
      function List() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.templateType = TemplateType.NODE;
        _this.tmpNode = null;
        _this.tmpPrefab = null;
        _this._slideMode = SlideType.NORMAL;
        _this.pageDistance = .3;
        _this.pageChangeEvent = new cc.Component.EventHandler();
        _this._virtual = true;
        _this.cyclic = false;
        _this.lackCenter = false;
        _this.lackSlide = false;
        _this._updateRate = 0;
        _this.frameByFrameRenderNum = 0;
        _this.renderEvent = new cc.Component.EventHandler();
        _this.selectedMode = SelectedType.NONE;
        _this.repeatEventSingle = false;
        _this.selectedEvent = null;
        _this._selectedId = -1;
        _this._forceUpdate = false;
        _this._updateDone = true;
        _this._numItems = 0;
        _this._inited = false;
        _this._needUpdateWidget = false;
        _this._aniDelRuning = false;
        _this._doneAfterUpdate = false;
        _this.adhering = false;
        _this._adheringBarrier = false;
        _this.curPageNum = 0;
        return _this;
      }
      Object.defineProperty(List.prototype, "slideMode", {
        get: function() {
          return this._slideMode;
        },
        set: function(val) {
          this._slideMode = val;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(List.prototype, "virtual", {
        get: function() {
          return this._virtual;
        },
        set: function(val) {
          null != val && (this._virtual = val);
          (true, 0 != this._numItems) && this._onScrolling();
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(List.prototype, "updateRate", {
        get: function() {
          return this._updateRate;
        },
        set: function(val) {
          val >= 0 && val <= 6 && (this._updateRate = val);
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(List.prototype, "selectedId", {
        get: function() {
          return this._selectedId;
        },
        set: function(val) {
          var t = this;
          var item;
          switch (t.selectedMode) {
           case SelectedType.SINGLE:
            if (!t.repeatEventSingle && val == t._selectedId) return;
            item = t.getItemByListId(val);
            var listItem = void 0;
            t._selectedId >= 0 ? t._lastSelectedId = t._selectedId : t._lastSelectedId = null;
            t._selectedId = val;
            if (item) {
              listItem = item.getComponent(ListItem_1.default);
              listItem.selected = true;
            }
            if (t._lastSelectedId >= 0 && t._lastSelectedId != t._selectedId) {
              var lastItem = t.getItemByListId(t._lastSelectedId);
              lastItem && (lastItem.getComponent(ListItem_1.default).selected = false);
            }
            t.selectedEvent && cc.Component.EventHandler.emitEvents([ t.selectedEvent ], item, val % this._actualNumItems, null == t._lastSelectedId ? null : t._lastSelectedId % this._actualNumItems);
            break;

           case SelectedType.MULT:
            item = t.getItemByListId(val);
            if (!item) return;
            var listItem = item.getComponent(ListItem_1.default);
            t._selectedId >= 0 && (t._lastSelectedId = t._selectedId);
            t._selectedId = val;
            var bool = !listItem.selected;
            listItem.selected = bool;
            var sub = t.multSelected.indexOf(val);
            bool && sub < 0 ? t.multSelected.push(val) : !bool && sub >= 0 && t.multSelected.splice(sub, 1);
            t.selectedEvent && cc.Component.EventHandler.emitEvents([ t.selectedEvent ], item, val % this._actualNumItems, null == t._lastSelectedId ? null : t._lastSelectedId % this._actualNumItems, bool);
          }
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(List.prototype, "numItems", {
        get: function() {
          return this._actualNumItems;
        },
        set: function(val) {
          var t = this;
          if (!t.checkInited(false)) return;
          if (null == val || val < 0) {
            cc.error("numItems set the wrong::", val);
            return;
          }
          t._actualNumItems = t._numItems = val;
          t._forceUpdate = true;
          if (t._virtual) {
            t._resizeContent();
            t.cyclic && (t._numItems = t._cyclicNum * t._numItems);
            t._onScrolling();
            t.frameByFrameRenderNum || t.slideMode != SlideType.PAGE || (t.curPageNum = t.nearestListId);
          } else {
            t._resizeContent();
            t.cyclic && (t._numItems = t._cyclicNum * t._numItems);
            var layout = t.content.getComponent(cc.Layout);
            layout && (layout.enabled = true);
            t._delRedundantItem();
            t.firstListId = 0;
            if (t.frameByFrameRenderNum > 0) {
              var len = t.frameByFrameRenderNum > t._numItems ? t._numItems : t.frameByFrameRenderNum;
              for (var n = 0; n < len; n++) t._createOrUpdateItem2(n);
              if (t.frameByFrameRenderNum < t._numItems) {
                t._updateCounter = t.frameByFrameRenderNum;
                t._updateDone = false;
              }
            } else {
              for (var n = 0; n < t._numItems; n++) t._createOrUpdateItem2(n);
              t.displayItemNum = t._numItems;
            }
          }
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(List.prototype, "scrollView", {
        get: function() {
          return this._scrollView;
        },
        enumerable: false,
        configurable: true
      });
      List.prototype.onLoad = function() {
        this._init();
      };
      List.prototype.onDestroy = function() {
        var t = this;
        t._itemTmp && t._itemTmp.isValid && t._itemTmp.destroy();
        t.tmpNode && t.tmpNode.isValid && t.tmpNode.destroy();
        while (t._pool.size()) {
          var node = t._pool.get();
          node.destroy();
        }
      };
      List.prototype.onEnable = function() {
        console.log(" >>>list enable");
        this._registerEvent();
        this._init();
      };
      List.prototype.onDisable = function() {
        console.log(" >>>list onDisable");
        this._unregisterEvent();
      };
      List.prototype._registerEvent = function() {
        var t = this;
        t.node.on(cc.Node.EventType.TOUCH_START, t._onTouchStart, t, true);
        t.node.on("touch-up", t._onTouchUp, t);
        t.node.on(cc.Node.EventType.TOUCH_CANCEL, t._onTouchCancelled, t, true);
        t.node.on("scroll-began", t._onScrollBegan, t, true);
        t.node.on("scroll-ended", t._onScrollEnded, t, true);
        t.node.on("scrolling", t._onScrolling, t, true);
        t.node.on(cc.Node.EventType.SIZE_CHANGED, t._onSizeChanged, t);
      };
      List.prototype._unregisterEvent = function() {
        var t = this;
        t.node.off(cc.Node.EventType.TOUCH_START, t._onTouchStart, t, true);
        t.node.off("touch-up", t._onTouchUp, t);
        t.node.off(cc.Node.EventType.TOUCH_CANCEL, t._onTouchCancelled, t, true);
        t.node.off("scroll-began", t._onScrollBegan, t, true);
        t.node.off("scroll-ended", t._onScrollEnded, t, true);
        t.node.off("scrolling", t._onScrolling, t, true);
        t.node.off(cc.Node.EventType.SIZE_CHANGED, t._onSizeChanged, t);
      };
      List.prototype._init = function() {
        var t = this;
        if (t._inited) return;
        t._scrollView = t.node.getComponent(cc.ScrollView);
        t.content = t._scrollView.content;
        if (!t.content) {
          cc.error(t.node.name + "'s cc.ScrollView unset content!");
          return;
        }
        t._layout = t.content.getComponent(cc.Layout);
        t._align = t._layout.type;
        t._resizeMode = t._layout.resizeMode;
        t._startAxis = t._layout.startAxis;
        t._topGap = t._layout.paddingTop;
        t._rightGap = t._layout.paddingRight;
        t._bottomGap = t._layout.paddingBottom;
        t._leftGap = t._layout.paddingLeft;
        t._columnGap = t._layout.spacingX;
        t._lineGap = t._layout.spacingY;
        t._colLineNum;
        t._verticalDir = t._layout.verticalDirection;
        t._horizontalDir = t._layout.horizontalDirection;
        t.setTemplateItem(cc.instantiate(t.templateType == TemplateType.PREFAB ? t.tmpPrefab : t.tmpNode));
        if (t._slideMode == SlideType.ADHERING || t._slideMode == SlideType.PAGE) {
          t._scrollView.inertia = false;
          t._scrollView._onMouseWheel = function() {
            return;
          };
        }
        t.virtual || (t.lackCenter = false);
        t._lastDisplayData = [];
        t.displayData = [];
        t._pool = new cc.NodePool();
        t._forceUpdate = false;
        t._updateCounter = 0;
        t._updateDone = true;
        t.curPageNum = 0;
        if (t.cyclic || 0) {
          t._scrollView._processAutoScrolling = this._processAutoScrolling.bind(t);
          t._scrollView._startBounceBackIfNeeded = function() {
            return false;
          };
        }
        switch (t._align) {
         case cc.Layout.Type.HORIZONTAL:
          switch (t._horizontalDir) {
           case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
            t._alignCalcType = 1;
            break;

           case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
            t._alignCalcType = 2;
          }
          break;

         case cc.Layout.Type.VERTICAL:
          switch (t._verticalDir) {
           case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
            t._alignCalcType = 3;
            break;

           case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
            t._alignCalcType = 4;
          }
          break;

         case cc.Layout.Type.GRID:
          switch (t._startAxis) {
           case cc.Layout.AxisDirection.HORIZONTAL:
            switch (t._verticalDir) {
             case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
              t._alignCalcType = 3;
              break;

             case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
              t._alignCalcType = 4;
            }
            break;

           case cc.Layout.AxisDirection.VERTICAL:
            switch (t._horizontalDir) {
             case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
              t._alignCalcType = 1;
              break;

             case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
              t._alignCalcType = 2;
            }
          }
        }
        t.content.removeAllChildren();
        t._inited = true;
      };
      List.prototype._processAutoScrolling = function(dt) {
        var brakingFactor = 1;
        this._scrollView["_autoScrollAccumulatedTime"] += dt * (1 / brakingFactor);
        var percentage = Math.min(1, this._scrollView["_autoScrollAccumulatedTime"] / this._scrollView["_autoScrollTotalTime"]);
        if (this._scrollView["_autoScrollAttenuate"]) {
          var time = percentage - 1;
          percentage = time * time * time * time * time + 1;
        }
        var newPosition = this._scrollView["_autoScrollStartPosition"].add(this._scrollView["_autoScrollTargetDelta"].mul(percentage));
        var EPSILON = this._scrollView["getScrollEndedEventTiming"]();
        var reachedEnd = Math.abs(percentage - 1) <= EPSILON;
        var fireEvent = Math.abs(percentage - 1) <= this._scrollView["getScrollEndedEventTiming"]();
        if (fireEvent && !this._scrollView["_isScrollEndedWithThresholdEventFired"]) {
          this._scrollView["_dispatchEvent"]("scroll-ended-with-threshold");
          this._scrollView["_isScrollEndedWithThresholdEventFired"] = true;
        }
        reachedEnd && (this._scrollView["_autoScrolling"] = false);
        var deltaMove = newPosition.sub(this._scrollView.getContentPosition());
        this._scrollView["_moveContent"](this._scrollView["_clampDelta"](deltaMove), reachedEnd);
        this._scrollView["_dispatchEvent"]("scrolling");
        if (!this._scrollView["_autoScrolling"]) {
          this._scrollView["_isBouncing"] = false;
          this._scrollView["_scrolling"] = false;
          this._scrollView["_dispatchEvent"]("scroll-ended");
        }
      };
      List.prototype.setTemplateItem = function(item) {
        if (!item) return;
        var t = this;
        t._itemTmp = item;
        t._resizeMode == cc.Layout.ResizeMode.CHILDREN ? t._itemSize = t._layout.cellSize : t._itemSize = cc.size(item.width, item.height);
        var com = item.getComponent(ListItem_1.default);
        var remove = false;
        com || (remove = true);
        remove && (t.selectedMode = SelectedType.NONE);
        com = item.getComponent(cc.Widget);
        com && com.enabled && (t._needUpdateWidget = true);
        t.selectedMode == SelectedType.MULT && (t.multSelected = []);
        switch (t._align) {
         case cc.Layout.Type.HORIZONTAL:
          t._colLineNum = 1;
          t._sizeType = false;
          break;

         case cc.Layout.Type.VERTICAL:
          t._colLineNum = 1;
          t._sizeType = true;
          break;

         case cc.Layout.Type.GRID:
          switch (t._startAxis) {
           case cc.Layout.AxisDirection.HORIZONTAL:
            var trimW = t.content.width - t._leftGap - t._rightGap;
            t._colLineNum = Math.floor((trimW + t._columnGap) / (t._itemSize.width + t._columnGap));
            t._sizeType = true;
            break;

           case cc.Layout.AxisDirection.VERTICAL:
            var trimH = t.content.height - t._topGap - t._bottomGap;
            t._colLineNum = Math.floor((trimH + t._lineGap) / (t._itemSize.height + t._lineGap));
            t._sizeType = false;
          }
        }
      };
      List.prototype.checkInited = function(printLog) {
        void 0 === printLog && (printLog = true);
        if (!this._inited) {
          printLog && cc.error("List initialization not completed!");
          return false;
        }
        return true;
      };
      List.prototype._resizeContent = function() {
        var t = this;
        var result;
        switch (t._align) {
         case cc.Layout.Type.HORIZONTAL:
          if (t._customSize) {
            var fixed = t._getFixedSize(null);
            result = t._leftGap + fixed.val + t._itemSize.width * (t._numItems - fixed.count) + t._columnGap * (t._numItems - 1) + t._rightGap;
          } else result = t._leftGap + t._itemSize.width * t._numItems + t._columnGap * (t._numItems - 1) + t._rightGap;
          break;

         case cc.Layout.Type.VERTICAL:
          if (t._customSize) {
            var fixed = t._getFixedSize(null);
            result = t._topGap + fixed.val + t._itemSize.height * (t._numItems - fixed.count) + t._lineGap * (t._numItems - 1) + t._bottomGap;
          } else result = t._topGap + t._itemSize.height * t._numItems + t._lineGap * (t._numItems - 1) + t._bottomGap;
          break;

         case cc.Layout.Type.GRID:
          t.lackCenter && (t.lackCenter = false);
          switch (t._startAxis) {
           case cc.Layout.AxisDirection.HORIZONTAL:
            var lineNum = Math.ceil(t._numItems / t._colLineNum);
            result = t._topGap + t._itemSize.height * lineNum + t._lineGap * (lineNum - 1) + t._bottomGap;
            break;

           case cc.Layout.AxisDirection.VERTICAL:
            var colNum = Math.ceil(t._numItems / t._colLineNum);
            result = t._leftGap + t._itemSize.width * colNum + t._columnGap * (colNum - 1) + t._rightGap;
          }
        }
        var layout = t.content.getComponent(cc.Layout);
        layout && (layout.enabled = false);
        t._allItemSize = result;
        t._allItemSizeNoEdge = t._allItemSize - (t._sizeType ? t._topGap + t._bottomGap : t._leftGap + t._rightGap);
        if (t.cyclic) {
          var totalSize = t._sizeType ? t.node.height : t.node.width;
          t._cyclicPos1 = 0;
          totalSize -= t._cyclicPos1;
          t._cyclicNum = Math.ceil(totalSize / t._allItemSizeNoEdge) + 1;
          var spacing = t._sizeType ? t._lineGap : t._columnGap;
          t._cyclicPos2 = t._cyclicPos1 + t._allItemSizeNoEdge + spacing;
          t._cyclicAllItemSize = t._allItemSize + t._allItemSizeNoEdge * (t._cyclicNum - 1) + spacing * (t._cyclicNum - 1);
          t._cycilcAllItemSizeNoEdge = t._allItemSizeNoEdge * t._cyclicNum;
          t._cycilcAllItemSizeNoEdge += spacing * (t._cyclicNum - 1);
        }
        t._lack = !t.cyclic && t._allItemSize < (t._sizeType ? t.node.height : t.node.width);
        var slideOffset = t._lack && t.lackCenter || !t.lackSlide ? .1 : 0;
        var targetWH = t._lack ? (t._sizeType ? t.node.height : t.node.width) - slideOffset : t.cyclic ? t._cyclicAllItemSize : t._allItemSize;
        targetWH < 0 && (targetWH = 0);
        t._sizeType ? t.content.height = targetWH : t.content.width = targetWH;
      };
      List.prototype._onScrolling = function(ev) {
        void 0 === ev && (ev = null);
        null == this.frameCount && (this.frameCount = this._updateRate);
        if (!this._forceUpdate && ev && "scroll-ended" != ev.type && this.frameCount > 0) {
          this.frameCount--;
          return;
        }
        this.frameCount = this._updateRate;
        if (this._aniDelRuning) return;
        if (this.cyclic) {
          var scrollPos = this.content.getPosition();
          scrollPos = this._sizeType ? scrollPos.y : scrollPos.x;
          var addVal = this._allItemSizeNoEdge + (this._sizeType ? this._lineGap : this._columnGap);
          var add = this._sizeType ? CompatibleTool_1.default.position(0, addVal) : CompatibleTool_1.default.position(addVal, 0);
          switch (this._alignCalcType) {
           case 1:
            if (scrollPos > -this._cyclicPos1) {
              this.content.x = -this._cyclicPos2;
              this._scrollView.isAutoScrolling() && (this._scrollView["_autoScrollStartPosition"] = this._scrollView["_autoScrollStartPosition"].sub(add));
            } else if (scrollPos < -this._cyclicPos2) {
              this.content.x = -this._cyclicPos1;
              this._scrollView.isAutoScrolling() && (this._scrollView["_autoScrollStartPosition"] = this._scrollView["_autoScrollStartPosition"].add(add));
            }
            break;

           case 2:
            if (scrollPos < this._cyclicPos1) {
              this.content.x = this._cyclicPos2;
              this._scrollView.isAutoScrolling() && (this._scrollView["_autoScrollStartPosition"] = this._scrollView["_autoScrollStartPosition"].add(add));
            } else if (scrollPos > this._cyclicPos2) {
              this.content.x = this._cyclicPos1;
              this._scrollView.isAutoScrolling() && (this._scrollView["_autoScrollStartPosition"] = this._scrollView["_autoScrollStartPosition"].sub(add));
            }
            break;

           case 3:
            if (scrollPos < this._cyclicPos1 + 700) {
              this.content.y = this._cyclicPos2 + 700;
              cc.log("xxxxxxx");
              this._scrollView.isAutoScrolling() && (this._scrollView["_autoScrollStartPosition"] = this._scrollView["_autoScrollStartPosition"].add(add));
            } else if (scrollPos > this._cyclicPos2 + 700) {
              cc.log("ddddddddddd");
              this.content.y = this._cyclicPos1 + 700;
            }
            break;

           case 4:
            if (scrollPos > -this._cyclicPos1) {
              this.content.y = -this._cyclicPos2;
              this._scrollView.isAutoScrolling() && (this._scrollView["_autoScrollStartPosition"] = this._scrollView["_autoScrollStartPosition"].sub(add));
            } else if (scrollPos < -this._cyclicPos2) {
              this.content.y = -this._cyclicPos1;
              this._scrollView.isAutoScrolling() && (this._scrollView["_autoScrollStartPosition"] = this._scrollView["_autoScrollStartPosition"].add(add));
            }
          }
        }
        this._calcViewPos();
        var vTop, vRight, vBottom, vLeft;
        if (this._sizeType) {
          vTop = this.viewTop;
          vBottom = this.viewBottom;
        } else {
          vRight = this.viewRight;
          vLeft = this.viewLeft;
        }
        if (this._virtual) {
          this.displayData = [];
          var itemPos = void 0;
          var curId = 0;
          var endId = this._numItems - 1;
          if (this._customSize) {
            var breakFor = false;
            for (;curId <= endId && !breakFor; curId++) {
              itemPos = this._calcItemPos(curId);
              switch (this._align) {
               case cc.Layout.Type.HORIZONTAL:
                itemPos.right >= vLeft && itemPos.left <= vRight ? this.displayData.push(itemPos) : 0 != curId && this.displayData.length > 0 && (breakFor = true);
                break;

               case cc.Layout.Type.VERTICAL:
                itemPos.bottom <= vTop && itemPos.top >= vBottom ? this.displayData.push(itemPos) : 0 != curId && this.displayData.length > 0 && (breakFor = true);
                break;

               case cc.Layout.Type.GRID:
                switch (this._startAxis) {
                 case cc.Layout.AxisDirection.HORIZONTAL:
                  itemPos.bottom <= vTop && itemPos.top >= vBottom ? this.displayData.push(itemPos) : 0 != curId && this.displayData.length > 0 && (breakFor = true);
                  break;

                 case cc.Layout.AxisDirection.VERTICAL:
                  itemPos.right >= vLeft && itemPos.left <= vRight ? this.displayData.push(itemPos) : 0 != curId && this.displayData.length > 0 && (breakFor = true);
                }
              }
            }
          } else {
            var ww = this._itemSize.width + this._columnGap;
            var hh = this._itemSize.height + this._lineGap;
            switch (this._alignCalcType) {
             case 1:
              curId = (vLeft + this._leftGap) / ww;
              endId = (vRight + this._rightGap) / ww;
              break;

             case 2:
              curId = (-vRight - this._rightGap) / ww;
              endId = (-vLeft - this._leftGap) / ww;
              break;

             case 3:
              curId = (-vTop - this._topGap) / hh;
              endId = (-vBottom - this._bottomGap) / hh;
              break;

             case 4:
              curId = (vBottom + this._bottomGap) / hh;
              endId = (vTop + this._topGap) / hh;
            }
            curId = Math.floor(curId) * this._colLineNum;
            endId = Math.ceil(endId) * this._colLineNum;
            endId--;
            curId < 0 && (curId = 0);
            endId >= this._numItems && (endId = this._numItems - 1);
            for (;curId <= endId; curId++) this.displayData.push(this._calcItemPos(curId));
          }
          this._delRedundantItem();
          if (this.displayData.length <= 0 || !this._numItems) {
            this._lastDisplayData = [];
            return;
          }
          this.firstListId = this.displayData[0].id;
          this.displayItemNum = this.displayData.length;
          var len = this._lastDisplayData.length;
          var haveDataChange = this.displayItemNum != len;
          if (haveDataChange) {
            this.frameByFrameRenderNum > 0 && this._lastDisplayData.sort(function(a, b) {
              return a - b;
            });
            haveDataChange = this.firstListId != this._lastDisplayData[0] || this.displayData[this.displayItemNum - 1].id != this._lastDisplayData[len - 1];
          }
          if (this._forceUpdate || haveDataChange) if (this.frameByFrameRenderNum > 0) if (this._numItems > 0) {
            this._updateDone ? this._updateCounter = 0 : this._doneAfterUpdate = true;
            this._updateDone = false;
          } else {
            this._updateCounter = 0;
            this._updateDone = true;
          } else {
            this._lastDisplayData = [];
            for (var c = 0; c < this.displayItemNum; c++) this._createOrUpdateItem(this.displayData[c]);
            this._forceUpdate = false;
          }
          this._calcNearestItem();
        }
      };
      List.prototype._calcViewPos = function() {
        var scrollPos = this.content.getPosition();
        switch (this._alignCalcType) {
         case 1:
          this.elasticLeft = scrollPos.x > 0 ? scrollPos.x : 0;
          this.viewLeft = (scrollPos.x < 0 ? -scrollPos.x : 0) - this.elasticLeft;
          this.viewRight = this.viewLeft + this.node.width;
          this.elasticRight = this.viewRight > this.content.width ? Math.abs(this.viewRight - this.content.width) : 0;
          this.viewRight += this.elasticRight;
          break;

         case 2:
          this.elasticRight = scrollPos.x < 0 ? -scrollPos.x : 0;
          this.viewRight = (scrollPos.x > 0 ? -scrollPos.x : 0) + this.elasticRight;
          this.viewLeft = this.viewRight - this.node.width;
          this.elasticLeft = this.viewLeft < -this.content.width ? Math.abs(this.viewLeft + this.content.width) : 0;
          this.viewLeft -= this.elasticLeft;
          break;

         case 3:
          this.elasticTop = scrollPos.y < 0 ? Math.abs(scrollPos.y) : 0;
          this.viewTop = (scrollPos.y > 0 ? -scrollPos.y : 0) + this.elasticTop;
          this.viewBottom = this.viewTop - this.node.height;
          this.elasticBottom = this.viewBottom < -this.content.height ? Math.abs(this.viewBottom + this.content.height) : 0;
          this.viewBottom += this.elasticBottom;
          break;

         case 4:
          this.elasticBottom = scrollPos.y > 0 ? Math.abs(scrollPos.y) : 0;
          this.viewBottom = (scrollPos.y < 0 ? -scrollPos.y : 0) - this.elasticBottom;
          this.viewTop = this.viewBottom + this.node.height;
          this.elasticTop = this.viewTop > this.content.height ? Math.abs(this.viewTop - this.content.height) : 0;
          this.viewTop -= this.elasticTop;
        }
      };
      List.prototype._calcItemPos = function(id) {
        var width, height, top, bottom, left, right, itemX, itemY;
        switch (this._align) {
         case cc.Layout.Type.HORIZONTAL:
          switch (this._horizontalDir) {
           case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
            if (this._customSize) {
              var fixed = this._getFixedSize(id);
              left = this._leftGap + (this._itemSize.width + this._columnGap) * (id - fixed.count) + (fixed.val + this._columnGap * fixed.count);
              var cs = this._customSize[id];
              width = cs > 0 ? cs : this._itemSize.width;
            } else {
              left = this._leftGap + (this._itemSize.width + this._columnGap) * id;
              width = this._itemSize.width;
            }
            right = left + width;
            if (this.lackCenter) {
              var offset = this.content.width / 2 - this._allItemSizeNoEdge / 2;
              left += offset;
              right += offset;
            }
            return {
              id: id,
              left: left,
              right: right,
              x: left + this._itemTmp.anchorX * width,
              y: this._itemTmp.y
            };

           case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
            if (this._customSize) {
              var fixed = this._getFixedSize(id);
              right = -this._rightGap - (this._itemSize.width + this._columnGap) * (id - fixed.count) - (fixed.val + this._columnGap * fixed.count);
              var cs = this._customSize[id];
              width = cs > 0 ? cs : this._itemSize.width;
            } else {
              right = -this._rightGap - (this._itemSize.width + this._columnGap) * id;
              width = this._itemSize.width;
            }
            left = right - width;
            if (this.lackCenter) {
              var offset = this.content.width / 2 - this._allItemSizeNoEdge / 2;
              left -= offset;
              right -= offset;
            }
            return {
              id: id,
              right: right,
              left: left,
              x: left + this._itemTmp.anchorX * width,
              y: this._itemTmp.y
            };
          }
          break;

         case cc.Layout.Type.VERTICAL:
          switch (this._verticalDir) {
           case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
            if (this._customSize) {
              var fixed = this._getFixedSize(id);
              top = -this._topGap - (this._itemSize.height + this._lineGap) * (id - fixed.count) - (fixed.val + this._lineGap * fixed.count);
              var cs = this._customSize[id];
              height = cs > 0 ? cs : this._itemSize.height;
            } else {
              top = -this._topGap - (this._itemSize.height + this._lineGap) * id;
              height = this._itemSize.height;
            }
            bottom = top - height;
            if (this.lackCenter) {
              var offset = this.content.height / 2 - this._allItemSizeNoEdge / 2;
              top -= offset;
              bottom -= offset;
            }
            return {
              id: id,
              top: top,
              bottom: bottom,
              x: this._itemTmp.x,
              y: bottom + this._itemTmp.anchorY * height
            };

           case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
            if (this._customSize) {
              var fixed = this._getFixedSize(id);
              bottom = this._bottomGap + (this._itemSize.height + this._lineGap) * (id - fixed.count) + (fixed.val + this._lineGap * fixed.count);
              var cs = this._customSize[id];
              height = cs > 0 ? cs : this._itemSize.height;
            } else {
              bottom = this._bottomGap + (this._itemSize.height + this._lineGap) * id;
              height = this._itemSize.height;
            }
            top = bottom + height;
            if (this.lackCenter) {
              var offset = this.content.height / 2 - this._allItemSizeNoEdge / 2;
              top += offset;
              bottom += offset;
            }
            return {
              id: id,
              top: top,
              bottom: bottom,
              x: this._itemTmp.x,
              y: bottom + this._itemTmp.anchorY * height
            };
          }

         case cc.Layout.Type.GRID:
          var colLine = Math.floor(id / this._colLineNum);
          switch (this._startAxis) {
           case cc.Layout.AxisDirection.HORIZONTAL:
            switch (this._verticalDir) {
             case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
              top = -this._topGap - (this._itemSize.height + this._lineGap) * colLine;
              bottom = top - this._itemSize.height;
              itemY = bottom + this._itemTmp.anchorY * this._itemSize.height;
              break;

             case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
              bottom = this._bottomGap + (this._itemSize.height + this._lineGap) * colLine;
              top = bottom + this._itemSize.height;
              itemY = bottom + this._itemTmp.anchorY * this._itemSize.height;
            }
            itemX = this._leftGap + id % this._colLineNum * (this._itemSize.width + this._columnGap);
            switch (this._horizontalDir) {
             case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
              itemX += this._itemTmp.anchorX * this._itemSize.width;
              itemX -= this.content.anchorX * this.content.width;
              break;

             case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
              itemX += (1 - this._itemTmp.anchorX) * this._itemSize.width;
              itemX -= (1 - this.content.anchorX) * this.content.width;
              itemX *= -1;
            }
            return {
              id: id,
              top: top,
              bottom: bottom,
              x: itemX,
              y: itemY
            };

           case cc.Layout.AxisDirection.VERTICAL:
            switch (this._horizontalDir) {
             case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
              left = this._leftGap + (this._itemSize.width + this._columnGap) * colLine;
              right = left + this._itemSize.width;
              itemX = left + this._itemTmp.anchorX * this._itemSize.width;
              itemX -= this.content.anchorX * this.content.width;
              break;

             case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
              right = -this._rightGap - (this._itemSize.width + this._columnGap) * colLine;
              left = right - this._itemSize.width;
              itemX = left + this._itemTmp.anchorX * this._itemSize.width;
              itemX += (1 - this.content.anchorX) * this.content.width;
            }
            itemY = -this._topGap - id % this._colLineNum * (this._itemSize.height + this._lineGap);
            switch (this._verticalDir) {
             case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
              itemY -= (1 - this._itemTmp.anchorY) * this._itemSize.height;
              itemY += (1 - this.content.anchorY) * this.content.height;
              break;

             case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
              itemY -= this._itemTmp.anchorY * this._itemSize.height;
              itemY += this.content.anchorY * this.content.height;
              itemY *= -1;
            }
            return {
              id: id,
              left: left,
              right: right,
              x: itemX,
              y: itemY
            };
          }
        }
      };
      List.prototype._calcExistItemPos = function(id) {
        var item = this.getItemByListId(id);
        if (!item) return null;
        var data = {
          id: id,
          x: item.x,
          y: item.y
        };
        if (this._sizeType) {
          data.top = item.y + item.height * (1 - item.anchorY);
          data.bottom = item.y - item.height * item.anchorY;
        } else {
          data.left = item.x - item.width * item.anchorX;
          data.right = item.x + item.width * (1 - item.anchorX);
        }
        return data;
      };
      List.prototype.getItemPos = function(id) {
        return this._virtual ? this._calcItemPos(id) : this.frameByFrameRenderNum ? this._calcItemPos(id) : this._calcExistItemPos(id);
      };
      List.prototype._getFixedSize = function(listId) {
        if (!this._customSize) return null;
        null == listId && (listId = this._numItems);
        var fixed = 0;
        var count = 0;
        for (var id in this._customSize) if (parseInt(id) < listId) {
          fixed += this._customSize[id];
          count++;
        }
        return {
          val: fixed,
          count: count
        };
      };
      List.prototype._onScrollBegan = function() {
        this._beganPos = this._sizeType ? this.viewTop : this.viewLeft;
      };
      List.prototype._onScrollEnded = function() {
        var t = this;
        if (null != t.scrollToListId) {
          var item = t.getItemByListId(t.scrollToListId);
          t.scrollToListId = null;
          item && item.runAction(cc.sequence(cc.scaleTo(.1, 1.06), cc.scaleTo(.1, 1)));
        }
        t._onScrolling();
        t._slideMode != SlideType.ADHERING || t.adhering ? t._slideMode == SlideType.PAGE && (null != t._beganPos ? this._pageAdhere() : t.adhere()) : t.adhere();
      };
      List.prototype._onTouchStart = function(ev, captureListeners) {
        if (this._scrollView["_hasNestedViewGroup"](ev, captureListeners)) return;
        var isMe = ev.eventPhase === cc.Event.AT_TARGET && ev.target === this.node;
        if (!isMe) {
          var itemNode = ev.target;
          while (null == itemNode._listId && itemNode.parent) itemNode = itemNode.parent;
          this._scrollItem = null != itemNode._listId ? itemNode : ev.target;
        }
      };
      List.prototype._onTouchUp = function() {
        var t = this;
        t._scrollPos = null;
        if (t._slideMode == SlideType.ADHERING) {
          this.adhering && (this._adheringBarrier = true);
          t.adhere();
        } else t._slideMode == SlideType.PAGE && (null != t._beganPos ? this._pageAdhere() : t.adhere());
        this._scrollItem = null;
      };
      List.prototype._onTouchCancelled = function(ev, captureListeners) {
        var t = this;
        if (t._scrollView["_hasNestedViewGroup"](ev, captureListeners) || ev.simulate) return;
        t._scrollPos = null;
        if (t._slideMode == SlideType.ADHERING) {
          t.adhering && (t._adheringBarrier = true);
          t.adhere();
        } else t._slideMode == SlideType.PAGE && (null != t._beganPos ? t._pageAdhere() : t.adhere());
        this._scrollItem = null;
      };
      List.prototype._onSizeChanged = function() {
        this.checkInited(false) && this._onScrolling();
      };
      List.prototype._onItemAdaptive = function(item) {
        if (!this._sizeType && item.width != this._itemSize.width || this._sizeType && item.height != this._itemSize.height) {
          this._customSize || (this._customSize = {});
          var val = this._sizeType ? item.height : item.width;
          if (this._customSize[item._listId] != val) {
            this._customSize[item._listId] = val;
            this._resizeContent();
            this.updateAll();
            if (null != this._scrollToListId) {
              this._scrollPos = null;
              this.unschedule(this._scrollToSo);
              this.scrollTo(this._scrollToListId, Math.max(0, this._scrollToEndTime - new Date().getTime() / 1e3));
            }
          }
        }
      };
      List.prototype._pageAdhere = function() {
        var t = this;
        if (!t.cyclic && (t.elasticTop > 0 || t.elasticRight > 0 || t.elasticBottom > 0 || t.elasticLeft > 0)) return;
        var curPos = t._sizeType ? t.viewTop : t.viewLeft;
        var dis = (t._sizeType ? t.node.height : t.node.width) * t.pageDistance;
        var canSkip = Math.abs(t._beganPos - curPos) > dis;
        if (canSkip) {
          var timeInSecond = .5;
          switch (t._alignCalcType) {
           case 1:
           case 4:
            t._beganPos > curPos ? t.prePage(timeInSecond) : t.nextPage(timeInSecond);
            break;

           case 2:
           case 3:
            t._beganPos < curPos ? t.prePage(timeInSecond) : t.nextPage(timeInSecond);
          }
        } else t.elasticTop <= 0 && t.elasticRight <= 0 && t.elasticBottom <= 0 && t.elasticLeft <= 0 && t.adhere();
        t._beganPos = null;
      };
      List.prototype.adhere = function() {
        var t = this;
        if (!t.checkInited()) return;
        if (t.elasticTop > 0 || t.elasticRight > 0 || t.elasticBottom > 0 || t.elasticLeft > 0) return;
        t.adhering = true;
        t._calcNearestItem();
        var offset = (t._sizeType ? t._topGap : t._leftGap) / (t._sizeType ? t.node.height : t.node.width);
        var timeInSecond = .7;
        t.scrollTo(t.nearestListId, timeInSecond, offset);
      };
      List.prototype.update = function() {
        if (this.frameByFrameRenderNum <= 0 || this._updateDone) return;
        if (this._virtual) {
          var len = this._updateCounter + this.frameByFrameRenderNum > this.displayItemNum ? this.displayItemNum : this._updateCounter + this.frameByFrameRenderNum;
          for (var n = this._updateCounter; n < len; n++) {
            var data = this.displayData[n];
            data && this._createOrUpdateItem(data);
          }
          if (this._updateCounter >= this.displayItemNum - 1) if (this._doneAfterUpdate) {
            this._updateCounter = 0;
            this._updateDone = false;
            this._doneAfterUpdate = false;
          } else {
            this._updateDone = true;
            this._delRedundantItem();
            this._forceUpdate = false;
            this._calcNearestItem();
            this.slideMode == SlideType.PAGE && (this.curPageNum = this.nearestListId);
          } else this._updateCounter += this.frameByFrameRenderNum;
        } else if (this._updateCounter < this._numItems) {
          var len = this._updateCounter + this.frameByFrameRenderNum > this._numItems ? this._numItems : this._updateCounter + this.frameByFrameRenderNum;
          for (var n = this._updateCounter; n < len; n++) this._createOrUpdateItem2(n);
          this._updateCounter += this.frameByFrameRenderNum;
        } else {
          this._updateDone = true;
          this._calcNearestItem();
          this.slideMode == SlideType.PAGE && (this.curPageNum = this.nearestListId);
        }
      };
      List.prototype._createOrUpdateItem = function(data) {
        var item = this.getItemByListId(data.id);
        if (item) {
          if (this._forceUpdate && this.renderEvent) {
            item.setPosition(CompatibleTool_1.default.position(data.x, data.y));
            this._resetItemSize(item);
            this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], item, data.id % this._actualNumItems);
          }
        } else {
          var canGet = this._pool.size() > 0;
          item = canGet ? this._pool.get() : cc.instantiate(this._itemTmp);
          if (item._listId != data.id) {
            item._listId = data.id;
            item.setContentSize(this._itemSize);
          }
          item.setPosition(CompatibleTool_1.default.position(data.x, data.y));
          this._resetItemSize(item);
          this.content.addChild(item);
          if (canGet && this._needUpdateWidget) {
            var widget = item.getComponent(cc.Widget);
            widget && widget.updateAlignment();
          }
          item.setSiblingIndex(this.content.childrenCount - 1);
          var listItem = item.getComponent(ListItem_1.default);
          item["listItem"] = listItem;
          if (listItem) {
            listItem.listId = data.id;
            listItem.list = this;
            listItem._registerEvent();
          }
          this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], item, data.id % this._actualNumItems);
        }
        this._resetItemSize(item);
        this._updateListItem(item["listItem"]);
        this._lastDisplayData.indexOf(data.id) < 0 && this._lastDisplayData.push(data.id);
      };
      List.prototype._createOrUpdateItem2 = function(listId) {
        var item = this.content.children[listId];
        var listItem;
        if (item) {
          if (this._forceUpdate && this.renderEvent) {
            item._listId = listId;
            listItem && (listItem.listId = listId);
            this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], item, listId % this._actualNumItems);
          }
        } else {
          item = cc.instantiate(this._itemTmp);
          item._listId = listId;
          this.content.addChild(item);
          listItem = item.getComponent(ListItem_1.default);
          item["listItem"] = listItem;
          if (listItem) {
            listItem.listId = listId;
            listItem.list = this;
            listItem._registerEvent();
          }
          this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], item, listId % this._actualNumItems);
        }
        this._updateListItem(listItem);
        this._lastDisplayData.indexOf(listId) < 0 && this._lastDisplayData.push(listId);
      };
      List.prototype._updateListItem = function(listItem) {
        if (!listItem) return;
        if (this.selectedMode > SelectedType.NONE) {
          var item = listItem.node;
          switch (this.selectedMode) {
           case SelectedType.SINGLE:
            listItem.selected = this.selectedId == item._listId;
            break;

           case SelectedType.MULT:
            listItem.selected = this.multSelected.indexOf(item._listId) >= 0;
          }
        }
      };
      List.prototype._resetItemSize = function(item) {
        return;
        var size;
      };
      List.prototype._updateItemPos = function(listIdOrItem) {
        var item = isNaN(listIdOrItem) ? listIdOrItem : this.getItemByListId(listIdOrItem);
        var pos = this.getItemPos(item._listId);
        item.setPosition(pos.x, pos.y);
      };
      List.prototype.setMultSelected = function(args, bool) {
        var t = this;
        if (!t.checkInited()) return;
        Array.isArray(args) || (args = [ args ]);
        if (null == bool) t.multSelected = args; else {
          var listId = void 0, sub = void 0;
          if (bool) for (var n = args.length - 1; n >= 0; n--) {
            listId = args[n];
            sub = t.multSelected.indexOf(listId);
            sub < 0 && t.multSelected.push(listId);
          } else for (var n = args.length - 1; n >= 0; n--) {
            listId = args[n];
            sub = t.multSelected.indexOf(listId);
            sub >= 0 && t.multSelected.splice(sub, 1);
          }
        }
        t._forceUpdate = true;
        t._onScrolling();
      };
      List.prototype.updateItem = function(args) {
        if (!this.checkInited()) return;
        Array.isArray(args) || (args = [ args ]);
        for (var n = 0, len = args.length; n < len; n++) {
          var listId = args[n];
          var item = this.getItemByListId(listId);
          item && cc.Component.EventHandler.emitEvents([ this.renderEvent ], item, listId % this._actualNumItems);
        }
      };
      List.prototype.updateAll = function() {
        if (!this.checkInited()) return;
        this.numItems = this.numItems;
      };
      List.prototype.getItemByListId = function(listId) {
        if (this.content) for (var n = this.content.childrenCount - 1; n >= 0; n--) {
          var item = this.content.children[n];
          if (item._listId == listId) return item;
        }
      };
      List.prototype._getOutsideItem = function() {
        var item;
        var result = [];
        for (var n = this.content.childrenCount - 1; n >= 0; n--) {
          item = this.content.children[n];
          this.displayData.find(function(d) {
            return d.id == item._listId;
          }) || result.push(item);
        }
        return result;
      };
      List.prototype._delRedundantItem = function() {
        if (this._virtual) {
          var arr = this._getOutsideItem();
          for (var n = arr.length - 1; n >= 0; n--) {
            var item = arr[n];
            if (this._scrollItem && item._listId == this._scrollItem._listId) continue;
            this._pool.put(item);
            for (var m = this._lastDisplayData.length - 1; m >= 0; m--) if (this._lastDisplayData[m] == item._listId) {
              this._lastDisplayData.splice(m, 1);
              break;
            }
          }
        } else while (this.content.childrenCount > this._numItems) this._delSingleItem(this.content.children[this.content.childrenCount - 1]);
      };
      List.prototype._delSingleItem = function(item) {
        cc.log("DEL::", item["_listId"], item);
        item.removeFromParent();
        item.destroy && item.destroy();
        item = null;
      };
      List.prototype.aniDelItem = function(listId, callFunc, aniType) {
        var t = this;
        if (!t.checkInited() || t.cyclic || !t._virtual) return cc.error("This function is not allowed to be called!");
        if (t._aniDelRuning) return cc.warn("Please wait for the current deletion to finish!");
        var item = t.getItemByListId(listId);
        var listItem;
        if (!item) {
          callFunc(listId);
          return;
        }
        listItem = item.getComponent(ListItem_1.default);
        t._aniDelRuning = true;
        var curLastId = t.displayData[t.displayData.length - 1].id;
        var resetSelectedId = listItem.selected;
        listItem.showAni(aniType, function() {
          var newId;
          curLastId < t._numItems - 2 && (newId = curLastId + 1);
          if (null != newId) {
            var newData = t._calcItemPos(newId);
            t.displayData.push(newData);
            t._virtual ? t._createOrUpdateItem(newData) : t._createOrUpdateItem2(newId);
          } else t._numItems--;
          if (t.selectedMode == SelectedType.SINGLE) resetSelectedId ? t._selectedId = -1 : t._selectedId - 1 >= 0 && t._selectedId--; else if (t.selectedMode == SelectedType.MULT && t.multSelected.length) {
            var sub = t.multSelected.indexOf(listId);
            sub >= 0 && t.multSelected.splice(sub, 1);
            for (var n = t.multSelected.length - 1; n >= 0; n--) {
              var id = t.multSelected[n];
              id >= listId && t.multSelected[n]--;
            }
          }
          if (t._customSize) {
            t._customSize[listId] && delete t._customSize[listId];
            var newCustomSize = {};
            var size = void 0;
            for (var id in t._customSize) {
              size = t._customSize[id];
              var idNumber = parseInt(id);
              newCustomSize[idNumber - (idNumber >= listId ? 1 : 0)] = size;
            }
            t._customSize = newCustomSize;
          }
          var sec = .2333;
          var acts, haveCB;
          for (var n = null != newId ? newId : curLastId; n >= listId + 1; n--) {
            item = t.getItemByListId(n);
            if (item) {
              var posData = t._calcItemPos(n - 1);
              acts = [ cc.moveTo(sec, CompatibleTool_1.default.position(posData.x, posData.y)) ];
              if (n <= listId + 1) {
                haveCB = true;
                acts.push(cc.callFunc(function() {
                  t._aniDelRuning = false;
                  callFunc(listId);
                }));
              }
              acts.length > 1 ? item.runAction(cc.sequence(acts)) : item.runAction(acts[0]);
            }
          }
          if (!haveCB) {
            t._aniDelRuning = false;
            callFunc(listId);
          }
        }, true);
      };
      List.prototype.scrollTo = function(listId, timeInSecond, offset, overStress) {
        void 0 === timeInSecond && (timeInSecond = .5);
        void 0 === offset && (offset = null);
        void 0 === overStress && (overStress = false);
        var t = this;
        if (!t.checkInited(false)) return;
        null == timeInSecond ? timeInSecond = .5 : timeInSecond < 0 && (timeInSecond = 0);
        listId < 0 ? listId = 0 : listId >= t._numItems && (listId = t._numItems - 1);
        !t._virtual && t._layout && t._layout.enabled && t._layout.updateLayout();
        var pos = t.getItemPos(listId);
        var targetX, targetY;
        switch (t._alignCalcType) {
         case 1:
          targetX = pos.left;
          targetX -= null != offset ? t.node.width * offset : t._leftGap;
          pos = CompatibleTool_1.default.position(targetX, 0);
          break;

         case 2:
          targetX = pos.right - t.node.width;
          targetX += null != offset ? t.node.width * offset : t._rightGap;
          pos = CompatibleTool_1.default.position(targetX + t.content.width, 0);
          break;

         case 3:
          targetY = pos.top;
          targetY += null != offset ? t.node.height * offset : t._topGap;
          pos = CompatibleTool_1.default.position(0, -targetY);
          break;

         case 4:
          targetY = pos.bottom + t.node.height;
          targetY -= null != offset ? t.node.height * offset : t._bottomGap;
          pos = CompatibleTool_1.default.position(0, -targetY + t.content.height);
        }
        var viewPos = t.content.getPosition();
        viewPos = Math.abs(t._sizeType ? viewPos.y : viewPos.x);
        var comparePos = t._sizeType ? pos.y : pos.x;
        var runScroll = Math.abs((null != t._scrollPos ? t._scrollPos : viewPos) - comparePos) > .5;
        if (runScroll) {
          t._scrollView.scrollToOffset(pos, timeInSecond);
          t._scrollToListId = listId;
          t._scrollToEndTime = new Date().getTime() / 1e3 + timeInSecond;
          t._scrollToSo = t.scheduleOnce(function() {
            t._adheringBarrier || (t.adhering = t._adheringBarrier = false);
            t._scrollPos = t._scrollToListId = t._scrollToEndTime = t._scrollToSo = null;
            if (overStress) {
              var item = t.getItemByListId(listId);
              item && item.runAction(cc.sequence(cc.scaleTo(.1, 1.05), cc.scaleTo(.1, 1)));
            }
          }, timeInSecond + .1);
          timeInSecond <= 0 && t._onScrolling();
        }
      };
      List.prototype._calcNearestItem = function() {
        cc.log("_calcNearestItem");
        var t = this;
        t.nearestListId = null;
        var data, center;
        t._virtual && t._calcViewPos();
        var vTop, vRight, vBottom, vLeft;
        vTop = t.viewTop;
        vRight = t.viewRight;
        vBottom = t.viewBottom;
        vLeft = t.viewLeft;
        var breakFor = false;
        for (var n = 0; n < t.content.childrenCount && !breakFor; n += t._colLineNum) {
          data = t._virtual ? t.displayData[n] : t._calcExistItemPos(n);
          if (data) {
            center = t._sizeType ? (data.top + data.bottom) / 2 : center = (data.left + data.right) / 2;
            switch (t._alignCalcType) {
             case 1:
              if (data.right >= vLeft) {
                t.nearestListId = data.id;
                vLeft > center && (t.nearestListId += t._colLineNum);
                breakFor = true;
              }
              break;

             case 2:
              if (data.left <= vRight) {
                t.nearestListId = data.id;
                vRight < center && (t.nearestListId += t._colLineNum);
                breakFor = true;
              }
              break;

             case 3:
              if (data.bottom <= vTop) {
                t.nearestListId = data.id;
                vTop < center && (t.nearestListId += t._colLineNum);
                breakFor = true;
              }
              break;

             case 4:
              if (data.top >= vBottom) {
                t.nearestListId = data.id;
                vBottom > center && (t.nearestListId += t._colLineNum);
                breakFor = true;
              }
            }
          }
        }
        data = t._virtual ? t.displayData[t.displayItemNum - 1] : t._calcExistItemPos(t._numItems - 1);
        if (data && data.id == t._numItems - 1) {
          center = t._sizeType ? (data.top + data.bottom) / 2 : center = (data.left + data.right) / 2;
          switch (t._alignCalcType) {
           case 1:
            vRight > center && (t.nearestListId = data.id);
            break;

           case 2:
            vLeft < center && (t.nearestListId = data.id);
            break;

           case 3:
            vBottom < center && (t.nearestListId = data.id);
            break;

           case 4:
            vTop > center && (t.nearestListId = data.id);
          }
        }
      };
      List.prototype.prePage = function(timeInSecond) {
        void 0 === timeInSecond && (timeInSecond = .5);
        if (!this.checkInited()) return;
        this.skipPage(this.curPageNum - 1, timeInSecond);
      };
      List.prototype.nextPage = function(timeInSecond) {
        void 0 === timeInSecond && (timeInSecond = .5);
        if (!this.checkInited()) return;
        this.skipPage(this.curPageNum + 1, timeInSecond);
      };
      List.prototype.skipPage = function(pageNum, timeInSecond) {
        var t = this;
        if (!t.checkInited()) return;
        if (t._slideMode != SlideType.PAGE) return cc.error("This function is not allowed to be called, Must SlideMode = PAGE!");
        if (pageNum < 0 || pageNum >= t._numItems) return;
        if (t.curPageNum == pageNum) return;
        t.curPageNum = pageNum;
        t.pageChangeEvent && cc.Component.EventHandler.emitEvents([ t.pageChangeEvent ], pageNum);
        t.scrollTo(pageNum, timeInSecond);
      };
      List.prototype.calcCustomSize = function(numItems) {
        var t = this;
        if (!t.checkInited()) return;
        if (!t._itemTmp) return cc.error("Unset template item!");
        if (!t.renderEvent) return cc.error("Unset Render-Event!");
        t._customSize = {};
        var temp = cc.instantiate(t._itemTmp);
        t.content.addChild(temp);
        for (var n = 0; n < numItems; n++) {
          cc.Component.EventHandler.emitEvents([ t.renderEvent ], temp, n);
          temp.height == t._itemSize.height && temp.width == t._itemSize.width || (t._customSize[n] = t._sizeType ? temp.height : temp.width);
        }
        Object.keys(t._customSize).length || (t._customSize = null);
        temp.removeFromParent();
        temp.destroy && temp.destroy();
        return t._customSize;
      };
      __decorate([ property({
        type: cc.Enum(TemplateType),
        tooltip: false
      }) ], List.prototype, "templateType", void 0);
      __decorate([ property({
        type: cc.Node,
        tooltip: false,
        visible: function() {
          return this.templateType == TemplateType.NODE;
        }
      }) ], List.prototype, "tmpNode", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: false,
        visible: function() {
          return this.templateType == TemplateType.PREFAB;
        }
      }) ], List.prototype, "tmpPrefab", void 0);
      __decorate([ property() ], List.prototype, "_slideMode", void 0);
      __decorate([ property({
        type: cc.Enum(SlideType),
        tooltip: false
      }) ], List.prototype, "slideMode", null);
      __decorate([ property({
        type: cc.Float,
        range: [ 0, 1, .1 ],
        tooltip: false,
        slide: true,
        visible: function() {
          return this._slideMode == SlideType.PAGE;
        }
      }) ], List.prototype, "pageDistance", void 0);
      __decorate([ property({
        type: cc.Component.EventHandler,
        tooltip: false,
        visible: function() {
          return this._slideMode == SlideType.PAGE;
        }
      }) ], List.prototype, "pageChangeEvent", void 0);
      __decorate([ property() ], List.prototype, "_virtual", void 0);
      __decorate([ property({
        type: cc.Boolean,
        tooltip: false
      }) ], List.prototype, "virtual", null);
      __decorate([ property({
        tooltip: false,
        visible: function() {
          var val = this.slideMode == SlideType.NORMAL;
          val || (this.cyclic = false);
          return val;
        }
      }) ], List.prototype, "cyclic", void 0);
      __decorate([ property({
        tooltip: false,
        visible: function() {
          return this.virtual;
        }
      }) ], List.prototype, "lackCenter", void 0);
      __decorate([ property({
        tooltip: false,
        visible: function() {
          var val = this.virtual && !this.lackCenter;
          val || (this.lackSlide = false);
          return val;
        }
      }) ], List.prototype, "lackSlide", void 0);
      __decorate([ property({
        type: cc.Integer
      }) ], List.prototype, "_updateRate", void 0);
      __decorate([ property({
        type: cc.Integer,
        range: [ 0, 6, 1 ],
        tooltip: false,
        slide: true
      }) ], List.prototype, "updateRate", null);
      __decorate([ property({
        type: cc.Integer,
        range: [ 0, 12, 1 ],
        tooltip: false,
        slide: true
      }) ], List.prototype, "frameByFrameRenderNum", void 0);
      __decorate([ property({
        type: cc.Component.EventHandler,
        tooltip: false
      }) ], List.prototype, "renderEvent", void 0);
      __decorate([ property({
        type: cc.Enum(SelectedType),
        tooltip: false
      }) ], List.prototype, "selectedMode", void 0);
      __decorate([ property({
        tooltip: false,
        visible: function() {
          return this.selectedMode == SelectedType.SINGLE;
        }
      }) ], List.prototype, "repeatEventSingle", void 0);
      __decorate([ property({
        type: cc.Component.EventHandler,
        tooltip: false,
        visible: function() {
          return this.selectedMode > SelectedType.NONE;
        }
      }) ], List.prototype, "selectedEvent", void 0);
      __decorate([ property({
        serializable: false
      }) ], List.prototype, "_numItems", void 0);
      List = __decorate([ ccclass, disallowMultiple(), menu("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List"), requireComponent(cc.ScrollView), executionOrder(-5e3) ], List);
      return List;
    }(cc.Component);
    exports.default = List;
    cc._RF.pop();
  }, {
    "./CompatibleTool": "CompatibleTool",
    "./ListItem": "ListItem"
  } ],
  LocalizedLabel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "744dcs4DCdNprNhG0xwq6FK", "LocalizedLabel");
    "use strict";
    var i18n = require("LanguageData");
    function debounce(func, wait, immediate) {
      var timeout;
      return function() {
        var context = this, args = arguments;
        var later = function later() {
          timeout = null;
          immediate || func.apply(context, args);
        };
        var callNow = immediate && !timeout;
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
        callNow && func.apply(context, args);
      };
    }
    cc.Class({
      extends: cc.Component,
      editor: {
        executeInEditMode: true,
        menu: "i18n/LocalizedLabel"
      },
      properties: {
        dataID: {
          get: function get() {
            return this._dataID;
          },
          set: function set(val) {
            if (this._dataID !== val) {
              this._dataID = val;
              false;
              this.updateLabel();
            }
          }
        },
        _dataID: ""
      },
      onLoad: function onLoad() {
        false;
        i18n.inst || i18n.init();
        this.fetchRender();
      },
      fetchRender: function fetchRender() {
        var label = this.getComponent(cc.Label);
        if (label) {
          this.label = label;
          this.updateLabel();
          return;
        }
      },
      updateLabel: function updateLabel() {
        if (!this.label) {
          cc.error("Failed to update localized label, label component is invalid!");
          return;
        }
        var localizedString = i18n.t(this.dataID);
        localizedString && (this.label.string = i18n.t(this.dataID));
      }
    });
    cc._RF.pop();
  }, {
    LanguageData: "LanguageData"
  } ],
  LocalizedSprite: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f34ac2GGiVOBbG6XlfvgYP4", "LocalizedSprite");
    "use strict";
    var SpriteFrameSet = require("SpriteFrameSet");
    cc.Class({
      extends: cc.Component,
      editor: {
        executeInEditMode: true,
        inspector: "packages://i18n/inspector/localized-sprite.js",
        menu: "i18n/LocalizedSprite"
      },
      properties: {
        spriteFrameSet: {
          default: [],
          type: SpriteFrameSet
        }
      },
      onLoad: function onLoad() {
        this.fetchRender();
      },
      fetchRender: function fetchRender() {
        var sprite = this.getComponent(cc.Sprite);
        if (sprite) {
          this.sprite = sprite;
          this.updateSprite(window.i18n.curLang);
          return;
        }
      },
      getSpriteFrameByLang: function getSpriteFrameByLang(lang) {
        for (var i = 0; i < this.spriteFrameSet.length; ++i) if (this.spriteFrameSet[i].language === lang) return this.spriteFrameSet[i].spriteFrame;
      },
      updateSprite: function updateSprite(language) {
        if (!this.sprite) {
          cc.error("Failed to update localized sprite, sprite component is invalid!");
          return;
        }
        var spriteFrame = this.getSpriteFrameByLang(language);
        !spriteFrame && this.spriteFrameSet[0] && (spriteFrame = this.spriteFrameSet[0].spriteFrame);
        this.sprite.spriteFrame = spriteFrame;
      }
    });
    cc._RF.pop();
  }, {
    SpriteFrameSet: "SpriteFrameSet"
  } ],
  LogOutView: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "97b23Mof7ZKYoQSZIRxxMNL", "LogOutView");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var LogOutView = function(_super) {
      __extends(LogOutView, _super);
      function LogOutView() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.scrollView = null;
        _this.content = null;
        _this.logLabel = null;
        _this.logArray = [];
        _this.clearBtn = null;
        _this.showLogViewBtn = null;
        _this.hideLogViewBtn = null;
        return _this;
      }
      LogOutView.prototype.onLoad = function() {
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        var ratio = 1;
        ratio = cc.winSize.height < cc.winSize.width ? cc.winSize.width / 1920 * .7 : cc.winSize.width / 1080;
        this.node.scale = ratio;
      };
      LogOutView.prototype.start = function() {
        var _this = this;
        this.initUi();
        this.initListener();
        this.initData();
        this.schedule(function() {
          _this.showLog();
        }, 0);
      };
      LogOutView.prototype.initUi = function() {
        this.scrollView = this.node.getChildByName("ScrollView").getComponent(cc.ScrollView);
        this.showLogViewBtn = this.node.getChildByName("BtnShowLogView");
        this.hideLogViewBtn = this.node.getChildByName("BtnHideLogView");
        this.clearBtn = this.node.getChildByName("BtnClearLog");
        this.content = this.scrollView.content;
        this.logLabel = this.content.children[0];
        this.content.removeAllChildren();
      };
      LogOutView.prototype.addLog = function(logContent) {
        var optionalParams = [];
        for (var _i = 1; _i < arguments.length; _i++) optionalParams[_i - 1] = arguments[_i];
        var str = "";
        str += logContent;
        optionalParams.forEach(function(element) {
          str += "," + element;
        });
        this.logArray.push(str);
      };
      LogOutView.prototype.showLog = function() {
        var _this = this;
        if (this.logArray.length > 0) {
          var tempAry = this.logArray;
          this.logArray = [];
          tempAry.forEach(function(log) {
            var tempLogLabel = cc.instantiate(_this.logLabel);
            tempLogLabel.getComponent(cc.Label).string = "\u65e5\u5fd7\u8f93\u51fa\uff1a" + log;
            _this.content.addChild(tempLogLabel);
          });
        }
      };
      LogOutView.prototype.initListener = function() {};
      LogOutView.prototype.initData = function() {};
      LogOutView.prototype.onShowLogView = function() {
        this.scrollView.node.active = true;
        this.clearBtn.active = true;
        this.showLogViewBtn.active = false;
        this.hideLogViewBtn.active = true;
      };
      LogOutView.prototype.onHideLogView = function() {
        this.scrollView.node.active = false;
        this.clearBtn.active = false;
        this.showLogViewBtn.active = true;
        this.hideLogViewBtn.active = false;
      };
      LogOutView.prototype.clearLogView = function() {
        this.content.removeAllChildren();
      };
      LogOutView = __decorate([ ccclass ], LogOutView);
      return LogOutView;
    }(cc.Component);
    exports.default = LogOutView;
    cc._RF.pop();
  }, {
    "./Utils": "Utils"
  } ],
  LuckBoxPannel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3251aCuG7ZC+oEceDfuKFcK", "LuckBoxPannel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var AldUtils_1 = require("./AldUtils");
    var PlatUtils_1 = require("./PlatUtils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var LuckBoxPanel = function(_super) {
      __extends(LuckBoxPanel, _super);
      function LuckBoxPanel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.showVideoBtn = null;
        _this.clickBtn = null;
        _this.btnLabel = null;
        _this.panel = null;
        _this.videoIcon = null;
        _this.progressBar = null;
        _this.boxNode = null;
        _this.rewardCallFunc = null;
        _this.rewardValue = 0;
        _this._luck_box_ad_type = "1";
        _this._delay_show_btn_time = 0;
        _this._luck_box_progressbar_back_time = 1e3;
        _this._showAdProgress = .8;
        _this._openSlowDown = false;
        _this._timetaskId = 0;
        _this._cancelSlowDown = false;
        _this._slowDownSpeed = .2;
        _this._progresss = 0;
        _this._totalProgress = 5;
        _this._isShowAd = false;
        _this._videoIsPlay = false;
        return _this;
      }
      LuckBoxPanel.prototype.onLoad = function() {
        var _this = this;
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        this.rewardCallFunc = Utils_1.utils.rewardCallFunc;
        this.rewardValue = Utils_1.utils.rewardValue;
        this.panel.scale = 0;
        Utils_1.utils.SendEvent("\u5e78\u8fd0\u5b9d\u7bb1-\u663e\u793a\u6210\u529f\uff01");
        this.clickBtn.on(cc.Node.EventType.TOUCH_CANCEL, this.clickBtnTouchCancel.bind(this));
        this.clickBtn.on(cc.Node.EventType.TOUCH_END, this.clickBtnTouchCancel.bind(this));
        this.progressBar.progress = 0;
        this.btnLabel.node.opacity = 0;
        this.btnLabel.node.active = false;
        Utils_1.utils.luckBoxShowCount++;
        var adTypes = Utils_1.utils.ServerConfig.luck_box_ad_type ? Utils_1.utils.ServerConfig.luck_box_ad_type.split(",") : this._luck_box_ad_type;
        var closeBtnShowDelays = Utils_1.utils.ServerConfig.luck_box_close_btn_show_delay ? Utils_1.utils.ServerConfig.luck_box_close_btn_show_delay.split(",") : this._delay_show_btn_time;
        var progressbarBackTimes = Utils_1.utils.ServerConfig.luck_box_progressbar_back_time ? Utils_1.utils.ServerConfig.luck_box_progressbar_back_time.split(",") : this._luck_box_progressbar_back_time;
        Utils_1.utils.luckBoxShowCount > adTypes.length - 1 && (Utils_1.utils.luckBoxShowCount = 0);
        Utils_1.utils.showLog("\u5e78\u8fd0\u5b9d\u7bb1\u663e\u793a\u6b21\u6570\uff1a" + Utils_1.utils.luckBoxShowCount);
        this._luck_box_ad_type = adTypes[Utils_1.utils.luckBoxShowCount];
        this._delay_show_btn_time = closeBtnShowDelays[Utils_1.utils.luckBoxShowCount];
        this._luck_box_progressbar_back_time = progressbarBackTimes[Utils_1.utils.luckBoxShowCount];
        if (Utils_1.utils.ServerConfig.luck_box_show_ad_progress_percent) {
          var showAdProPercents = Utils_1.utils.ServerConfig.luck_box_show_ad_progress_percent.split(",");
          this._showAdProgress = showAdProPercents[Utils_1.utils.luckBoxShowCount];
        } else switch (this._luck_box_ad_type) {
         case "1":
         case "5":
          this._showAdProgress = .45;
          break;

         case "2":
          this._showAdProgress = .3;
          break;

         case "3":
         case "4":
          this._showAdProgress = .85;
          break;

         default:
          this._showAdProgress = .45;
        }
        Utils_1.utils.showLog("\u5e78\u8fd0\u5b9d\u7bb1\u663e\u793a\u7c7b\u578b\uff1a" + this._luck_box_ad_type + " #showBtnTime=" + this._delay_show_btn_time + " #progressbarBackTime=" + this._luck_box_progressbar_back_time);
        "4" != this._luck_box_ad_type && this.scheduleOnce(function() {
          if (_this.btnLabel.node && cc.isValid(_this.btnLabel.node)) {
            _this.btnLabel.node.active = true;
            _this.btnLabel.node.runAction(cc.fadeIn(.3));
          }
        }, this._delay_show_btn_time);
        Utils_1.utils.ServerConfig.luck_box_video_icon_is_show && "true" == Utils_1.utils.ServerConfig.luck_box_video_icon_is_show ? this.videoIcon.active = true : this.videoIcon.active = false;
        if ("1" == this._luck_box_ad_type) {
          Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Game);
          PlatUtils_1.default.IsIOS && PlatUtils_1.default.IsQQ && this.scheduleOnce(function() {
            _this.clickBtn && cc.isValid(_this.clickBtn) && _this.clickBtn.setPosition(_this.clickBtn.x, _this.progressBar.node.position.y - 200);
          }, 10);
        } else {
          this.clickBtn.getComponent(cc.Widget).isAlignBottom = false;
          this.clickBtn.getComponent(cc.Widget).updateAlignment();
          this.clickBtn.setPosition(this.clickBtn.x, this.progressBar.node.position.y - 200);
        }
      };
      LuckBoxPanel.prototype.clickBtnTouchCancel = function() {
        var _this = this;
        clearTimeout(this._timetaskId);
        this._timetaskId = setTimeout(function() {
          _this._openSlowDown = true;
        }, 1e3 * this._luck_box_progressbar_back_time);
      };
      LuckBoxPanel.prototype.update = function(dt) {
        if (this.progressBar.progress > 0 && this.progressBar.progress < 1 && this._openSlowDown && !this._cancelSlowDown) {
          this.progressBar.progress -= dt * this._slowDownSpeed;
          this.progressBar.progress <= 0 && (this.progressBar.progress = 0);
        }
      };
      LuckBoxPanel.prototype.onEnable = function() {
        var ratio = 1;
        ratio = cc.winSize.height < cc.winSize.width ? cc.winSize.width / 1920 * .6 : cc.winSize.width / 1080;
        this.panel.scale = ratio;
      };
      LuckBoxPanel.prototype.onDestroy = function() {
        Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Game);
        Utils_1.utils.hideRecommendGamesBanner();
        if (Utils_1.utils.rewardLuckBoxPanelCloseFunc) {
          Utils_1.utils.rewardLuckBoxPanelCloseFunc();
          Utils_1.utils.rewardBoxPanelCloseFunc = null;
        } else {
          Utils_1.utils.rewardCloseFunc && Utils_1.utils.rewardCloseFunc();
          Utils_1.utils.rewardCloseFunc = null;
        }
      };
      LuckBoxPanel.prototype.onClose = function() {
        var _this = this;
        this.panel.runAction(cc.sequence(cc.scaleTo(.3, 0).easing(cc.easeBackIn()), cc.callFunc(function() {
          _this.node.destroy();
        })));
      };
      LuckBoxPanel.prototype.onBtnClick = function() {
        var _this = this;
        this._openSlowDown = false;
        if (this.progressBar.progress < 1) {
          this.progressBar.progress += .1;
          if (this.progressBar.progress >= 1) {
            this.progressBar.progress = 1;
            this.openLuckBox();
          }
        }
        if (this.videoIcon.active && !this._videoIsPlay) {
          this._videoIsPlay = true;
          Utils_1.utils.adManager.ShowVideo(function(res, msg) {
            if (PlatUtils_1.default.IsDouyin) if (res) {
              Utils_1.utils.showMsg("\u83b7\u5f97\u5956\u52b1! +" + _this.rewardValue);
              var result = new YZ_Constant_1.YZ_Reward();
              result.rewardValue = _this.rewardValue;
              _this.rewardCallFunc && _this.rewardCallFunc(result);
              _this.onClose();
            } else {
              _this._videoIsPlay = false;
              Utils_1.utils.showMsg(msg || "\u89c6\u9891\u52a0\u8f7d\u5931\u8d25\uff01");
            } else {
              Utils_1.utils.showMsg("\u83b7\u5f97\u5956\u52b1! +" + _this.rewardValue);
              var result = new YZ_Constant_1.YZ_Reward();
              result.rewardValue = _this.rewardValue;
              _this.rewardCallFunc && _this.rewardCallFunc(result);
              _this.onClose();
            }
          });
        }
        if (this.progressBar.progress >= this._showAdProgress && !this._isShowAd) {
          this._isShowAd = true;
          switch (this._luck_box_ad_type) {
           case "1":
            Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5e78\u8fd0\u5b9d\u7bb1\u5c55\u793a-banner\u5e7f\u544a\uff01");
            Utils_1.utils.adManager.ShowBanner(YZ_Constant_1.BannerLocation.Game);
            setTimeout(function() {
              _this.clickBtn && cc.isValid(_this.clickBtn) && _this.clickBtn.setPosition(_this.clickBtn.x, _this.progressBar.node.position.y - 200);
            }, 900);
            break;

           case "2":
            Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5e78\u8fd0\u5b9d\u7bb1\u5c55\u793a-\u63d2\u5c4f\u5e7f\u544a\uff01");
            Utils_1.utils.adManager.ShowInterstitial();
            break;

           case "3":
            Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5e78\u8fd0\u5b9d\u7bb1\u5c55\u793a-\u76d2\u5b50\u5e7f\u544a\uff01");
            Utils_1.utils.adManager.ShowAppBox();
            break;

           case "4":
            Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5e78\u8fd0\u5b9d\u7bb1\u5c55\u793a-\u89c6\u9891\u5e7f\u544a\uff01");
            this.videoIcon.active = true;
            this._cancelSlowDown = true;
            this.scheduleOnce(function() {
              if (_this.btnLabel.node && cc.isValid(_this.btnLabel.node)) {
                _this.btnLabel.node.active = true;
                _this.btnLabel.node.runAction(cc.fadeIn(.3));
              }
            }, this._delay_show_btn_time);
            break;

           case "5":
            Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5e78\u8fd0\u5b9d\u7bb1\u5c55\u793a-\u4e92\u63a8banner\u5e7f\u544a\uff01");
            Utils_1.utils.showRecommendGamesBanner();
            break;

           default:
            Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5e78\u8fd0\u5b9d\u7bb1\u5c55\u793abanner\u5e7f\u544a\uff01");
            Utils_1.utils.adManager.ShowBanner(YZ_Constant_1.BannerLocation.Game);
            setTimeout(function() {
              _this.clickBtn && cc.isValid(_this.clickBtn) && _this.clickBtn.setPosition(_this.clickBtn.x, _this.progressBar.node.position.y - 200);
            }, 500);
          }
        }
      };
      LuckBoxPanel.prototype.openLuckBox = function() {
        if ("true" == Utils_1.utils.ServerConfig.luck_box_play_video) {
          this.onPlayVideo();
          this.onClose();
        } else {
          Utils_1.utils.showMsg("\u83b7\u5f97\u5956\u52b1! +" + this.rewardValue);
          var result = new YZ_Constant_1.YZ_Reward();
          result.rewardValue = this.rewardValue;
          this.rewardCallFunc && this.rewardCallFunc(result);
          this.onClose();
        }
      };
      LuckBoxPanel.prototype.onHideBtn = function() {
        this.onClose();
      };
      LuckBoxPanel.prototype.onPlayVideo = function() {
        var _this = this;
        Utils_1.utils.adManager.ShowVideo(function(ret, msg) {
          if (ret) {
            Utils_1.utils.showMsg("\u83b7\u5f97\u5956\u52b1! +" + _this.rewardValue);
            _this.rewardValue = _this.rewardValue;
            AldUtils_1.default.SendEvent("\u5e78\u8fd0\u5b9d\u7bb1-\u83b7\u53d6\u5956\u52b1\u6210\u529f\uff01");
          } else {
            Utils_1.utils.showMsg("\u83b7\u5f97\u5956\u52b1! +" + _this.rewardValue);
            AldUtils_1.default.SendEvent("\u5e78\u8fd0\u5b9d\u7bb1-\u89c6\u9891\u64ad\u653e\u5931\u8d25\uff01");
          }
          var result = new YZ_Constant_1.YZ_Reward();
          result.rewardValue = _this.rewardValue;
          _this.rewardCallFunc && _this.rewardCallFunc(result);
          _this.onClose();
        });
      };
      __decorate([ property(cc.Node) ], LuckBoxPanel.prototype, "showVideoBtn", void 0);
      __decorate([ property(cc.Node) ], LuckBoxPanel.prototype, "clickBtn", void 0);
      __decorate([ property(cc.Label) ], LuckBoxPanel.prototype, "btnLabel", void 0);
      __decorate([ property(cc.Node) ], LuckBoxPanel.prototype, "panel", void 0);
      __decorate([ property(cc.Node) ], LuckBoxPanel.prototype, "videoIcon", void 0);
      __decorate([ property(cc.ProgressBar) ], LuckBoxPanel.prototype, "progressBar", void 0);
      __decorate([ property(cc.Node) ], LuckBoxPanel.prototype, "boxNode", void 0);
      LuckBoxPanel = __decorate([ ccclass ], LuckBoxPanel);
      return LuckBoxPanel;
    }(cc.Component);
    exports.default = LuckBoxPanel;
    cc._RF.pop();
  }, {
    "./AldUtils": "AldUtils",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  MoreGamesPanel1: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "92ac1akrqlDIJvoROkqJAWr", "MoreGamesPanel1");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var GameItem_1 = require("./GameItem");
    var YZ_Constant_1 = require("./YZ_Constant");
    var Utils_1 = require("./Utils");
    var List_1 = require("./List");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var _panelSize = [ cc.size(225, 1e3), cc.size(506, 1e3) ];
    var _titleSize = [ cc.size(111, 54), cc.size(275, 54) ];
    var _titleBgSize = [ cc.size(376, 104), cc.size(545, 104) ];
    var _starSize = [ cc.size(251, 89), cc.size(425, 89) ];
    var MoreGamesPanel = function(_super) {
      __extends(MoreGamesPanel, _super);
      function MoreGamesPanel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._panel = null;
        _this._gameList = null;
        _this._originScale = 1;
        _this._gameItems = [];
        _this._jumpList = null;
        _this._dataDirty = false;
        _this._closeBtnRight = null;
        _this._closeBtnLine = null;
        _this._title = null;
        _this._titleBg = null;
        _this._star = null;
        _this.gameItemNode = null;
        _this.listView = null;
        _this.autoScorll = false;
        return _this;
      }
      MoreGamesPanel.prototype.onLoad = function() {
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        this._panel = this.node.getChildByName("Panel");
        this.listView = this._panel.getChildByName("GameList").getComponent(List_1.default);
        this._closeBtnRight = this._panel.getChildByName("Btn_Close");
        this._closeBtnRight.active = true;
        this._closeBtnLine = this._panel.getChildByName("Btn_CloseSide");
        this._closeBtnLine.active = false;
        this._titleBg = cc.find("Title/TitleBg", this._panel);
        this._title = cc.find("Title/Txt", this._panel);
        this._star = cc.find("Title/Star", this._panel);
        this.node.active = false;
        var ratio = 1;
        ratio = cc.winSize.height < cc.winSize.width ? cc.winSize.width / 1920 * .5 : cc.winSize.width / 1080;
        this._panel.scale = ratio;
        this._originScale = this._panel.scale;
      };
      MoreGamesPanel.prototype.update = function(dt) {
        if (this.autoScorll && !this.listView.scrollView.isScrolling()) {
          this.listView.content.y += 100 * dt;
          this.listView._onScrolling();
        }
      };
      MoreGamesPanel.prototype.onListRender = function(item, idx) {
        var qcrossWidgetItem = item.getComponent(GameItem_1.default);
        qcrossWidgetItem.init(this._jumpList[idx], YZ_Constant_1.SubLocation.isMoreGame);
      };
      MoreGamesPanel.prototype._initWidget = function() {
        var _this = this;
        this._jumpList.length > 5 && (Utils_1.utils.ServerConfig.more_game_pannel_auto_scroll && "false" == Utils_1.utils.ServerConfig.more_game_pannel_auto_scroll ? Utils_1.utils.showLog("\u670d\u52a1\u5668\u4e0d\u5f00\u542f\u81ea\u52a8\u6eda\u52a8\uff01") : this.scheduleOnce(function() {
          _this.autoScorll = true;
        }, 1));
        Utils_1.utils.postRecommentShowData(YZ_Constant_1.SubLocation.isMoreGame);
      };
      MoreGamesPanel.prototype.init = function(jumpList) {
        this._jumpList = jumpList;
        this._dataDirty = true;
        if (this._jumpList && this._jumpList.length > 0) {
          this._initWidget();
          this.listView.numItems = this._jumpList.length;
        } else {
          cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u4e3anull, 6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a!");
          this.node.destroy();
        }
      };
      MoreGamesPanel.prototype.show = function() {
        this.node.active = true;
        this._panel.y = 0;
        this._panel.runAction(cc.moveBy(.3, cc.v2(this._panel.getContentSize().width, 0)).easing(cc.easeQuadraticActionOut()));
      };
      MoreGamesPanel.prototype.hide = function() {
        var self = this;
        this._panel.runAction(cc.sequence(cc.moveBy(.3, cc.v2(-this._panel.getContentSize().width, 0)).easing(cc.easeQuadraticActionOut()), cc.callFunc(function() {
          self.node.active = false;
        })));
      };
      MoreGamesPanel.prototype.onCloseBtnHandler = function(event, data) {
        this.hide();
      };
      MoreGamesPanel = __decorate([ ccclass ], MoreGamesPanel);
      return MoreGamesPanel;
    }(cc.Component);
    exports.default = MoreGamesPanel;
    cc._RF.pop();
  }, {
    "./GameItem": "GameItem",
    "./List": "List",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  MoreGamesPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "369d4RM2rtPj4bmcA3rMp3j", "MoreGamesPanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var _panelSize = [ cc.size(225, 1e3), cc.size(506, 1e3) ];
    var _titleSize = [ cc.size(111, 54), cc.size(275, 54) ];
    var _titleBgSize = [ cc.size(376, 104), cc.size(545, 104) ];
    var _starSize = [ cc.size(251, 89), cc.size(425, 89) ];
    var MoreGamesPanel = function(_super) {
      __extends(MoreGamesPanel, _super);
      function MoreGamesPanel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._panel = null;
        _this._gameList = null;
        _this._originScale = 1;
        _this._gameItems = [];
        _this._jumpList = null;
        _this._dataDirty = false;
        _this._closeBtnRight = null;
        _this._closeBtnLine = null;
        _this._star = null;
        _this._items = [];
        _this.gameItemNode = null;
        _this._location = YZ_Constant_1.SubLocation.isMoreGame;
        return _this;
      }
      MoreGamesPanel.prototype.onLoad = function() {
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        PlatUtils_1.default.IsNativeAndroid || Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Home);
        this._panel = this.node.getChildByName("Panel");
        this._gameList = this._panel.getChildByName("GameScrollView").getComponent(cc.ScrollView).content;
        this.gameItemNode = this._gameList.children[0];
        this._gameList.removeAllChildren();
        this.node.active = false;
        var ratio = 1;
        ratio = cc.winSize.height < cc.winSize.width ? cc.winSize.width / 1920 * .5 : cc.winSize.width / 1080;
        this._panel.scale = ratio;
        this._originScale = this._panel.scale;
      };
      MoreGamesPanel.prototype._initWidget = function() {
        this._gameList.removeAllChildren();
        var totalRow = Math.floor(this._jumpList.length / 3);
        var totalClo = 3 * totalRow;
        for (var i = 0; i < totalClo; i++) {
          var data = this._jumpList[i];
          if (data && data.logo) {
            var tempNode = cc.instantiate(this.gameItemNode);
            var qcrossWidgetItem = tempNode.getComponent("QCrossWidgetItem");
            qcrossWidgetItem._location = this._location;
            qcrossWidgetItem.init(data);
            this._gameList.addChild(tempNode);
          }
        }
      };
      MoreGamesPanel.prototype.update = function() {
        if (this._dataDirty) {
          this._dataDirty = false;
          this._updatePanel();
        }
      };
      MoreGamesPanel.prototype._updatePanel = function() {
        Utils_1.utils.postRecommentShowData(this._location);
        this._initWidget();
        return;
      };
      MoreGamesPanel.prototype.init = function(jumpList) {
        this._jumpList = jumpList;
        this._dataDirty = true;
      };
      MoreGamesPanel.prototype.show = function() {
        this.node.active = true;
      };
      MoreGamesPanel.prototype.hide = function() {
        var self = this;
        self.node.active = false;
      };
      MoreGamesPanel.prototype.onCloseBtnHandler = function(event, data) {
        this.hide();
      };
      MoreGamesPanel = __decorate([ ccclass ], MoreGamesPanel);
      return MoreGamesPanel;
    }(cc.Component);
    exports.default = MoreGamesPanel;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  MoreGamesWidget: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "455abMBsJVHMI9HxToE4F67", "MoreGamesWidget");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var PlatUtils_1 = require("./PlatUtils");
    var AldUtils_1 = require("./AldUtils");
    var CompatibleTool_1 = require("./CompatibleTool");
    var YZ_Constant_1 = require("./YZ_Constant");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var MoreGamesWidget = function(_super) {
      __extends(MoreGamesWidget, _super);
      function MoreGamesWidget() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.prefab = null;
        _this.prefab1 = null;
        _this.btnMoreGames = null;
        _this.moreGamesPanel = null;
        return _this;
      }
      MoreGamesWidget.prototype.onLoad = function() {
        var _this = this;
        this.btnMoreGames = this.node.getChildByName("Btn_MoreGames");
        this.btnMoreGames.active = false;
        var self = this;
        var back = this.btnMoreGames.getChildByName("Background").getComponent(cc.Sprite);
        var backUrl;
        Utils_1.utils.ServerConfig ? backUrl = Utils_1.utils.ServerConfig.more_game_icon : cc.warn("\u6ca1\u6709\u670d\u52a1\u5668\u914d\u7f6e");
        backUrl && !this.bgTexture && CompatibleTool_1.default.LoadRes(backUrl, function(err, texture) {
          if (!err && cc.isValid(_this) && back.node) {
            var size = back.node.getContentSize();
            self.bgTexture = new cc.SpriteFrame(texture);
            back.spriteFrame = self.bgTexture;
            back.node.setContentSize(size);
          }
        });
      };
      MoreGamesWidget.prototype.onEnable = function() {
        var _this = this;
        Utils_1.utils.registerServerInitEvent(function() {
          _this._setBtnVisible();
        }, this);
      };
      MoreGamesWidget.prototype.onDisable = function() {
        Utils_1.utils.unregisterServerInitEvent(this);
      };
      MoreGamesWidget.prototype._setBtnVisible = function() {
        var valid = true;
        if (Utils_1.utils.isShowMoreGamesWidget()) if (PlatUtils_1.default.IsQQ) this.btnMoreGames.active = true; else if (PlatUtils_1.default.Is4399) this.btnMoreGames.active = true; else if (PlatUtils_1.default.IsNativeAndroid && Utils_1.utils.Tool_Native && "oppo" == Utils_1.utils.config.nativeAndroidConfig.channel) this.btnMoreGames.active = true; else if (Utils_1.utils.ServerConfig.show_oppo_rec && "true" == Utils_1.utils.ServerConfig.show_oppo_rec) this.btnMoreGames.active = true; else {
          var gameList = Utils_1.utils.getRecommondGameList();
          if (gameList) if (gameList.length > 0 || true) this.btnMoreGames.active = true; else {
            cc.warn("\b\b\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u5217\u8868\u957f\u5ea6\u4e3a0, \u66f4\u591a\u6e38\u620f\u6309\u94ae\u4e0d\u663e\u793a!");
            valid = false;
          } else {
            cc.warn("\b\b\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u5217\u8868\u6570\u636e\u4e3anull, \u66f4\u591a\u6e38\u620f\u6309\u94ae\u4e0d\u663e\u793a!");
            valid = false;
          }
        } else valid = false;
        valid || this.node.destroy();
      };
      MoreGamesWidget.prototype.onBtnClickedHandler = function(event, data) {
        if (PlatUtils_1.default.IsQQ) {
          Utils_1.utils.adManager.ShowAppBox(true);
          return;
        }
        if (PlatUtils_1.default.Is4399) {
          Utils_1.utils.Tool_4399.showRecommend();
          return;
        }
        if (PlatUtils_1.default.IsNativeAndroid && Utils_1.utils.Tool_Native && 1 == Utils_1.utils.Tool_Native.moreGameShowType) {
          Utils_1.utils.Tool_Native.showMoreGames();
          Utils_1.utils.postDataByLocation("123", YZ_Constant_1.SubLocation.isMoreGame, 0);
        } else if (PlatUtils_1.default.IsDouyin) Utils_1.utils.Tool_Douyin.showMoreGamesModal(); else {
          if (Utils_1.utils.ServerConfig.show_oppo_rec && "true" == Utils_1.utils.ServerConfig.show_oppo_rec) {
            Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u663e\u793a\u5b98\u65b9\u4e92\u63a8\uff01");
            Utils_1.utils.oppoTool.showOppoGamePortal();
            return;
          }
          var jumpList = Utils_1.utils.getRecommondGameList();
          if (jumpList && jumpList.length > 0) {
            Utils_1.utils.showLog("MoreGamePanel \u4ea4\u53c9\u63a8\u5e7f\u6570\u636e:", JSON.stringify(jumpList));
            var panel = void 0;
            if (2 == Utils_1.utils.ServerConfig.more_game_skin || true) {
              panel = cc.instantiate(this.prefab1);
              panel.zIndex = 999999;
              this.moreGamesPanel = panel.getComponent("MoreGamesPanel1");
            } else {
              panel = cc.instantiate(this.prefab);
              panel.zIndex = 999999;
              this.moreGamesPanel = panel.getComponent("MoreGamesPanel");
            }
            cc.director.getScene().addChild(panel);
            this.moreGamesPanel._location = YZ_Constant_1.SubLocation.isMoreGame;
            this.moreGamesPanel.init(jumpList);
            this.moreGamesPanel.show();
            AldUtils_1.default.SendEvent("\u70b9\u51fb\u66f4\u591a\u6e38\u620f\u6309\u94ae");
          } else Utils_1.utils.showLog("\u83b7\u53d6\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u5931\u8d25!");
        }
      };
      __decorate([ property(cc.Prefab) ], MoreGamesWidget.prototype, "prefab", void 0);
      __decorate([ property(cc.Prefab) ], MoreGamesWidget.prototype, "prefab1", void 0);
      MoreGamesWidget = __decorate([ ccclass ], MoreGamesWidget);
      return MoreGamesWidget;
    }(cc.Component);
    exports.default = MoreGamesWidget;
    cc._RF.pop();
  }, {
    "./AldUtils": "AldUtils",
    "./CompatibleTool": "CompatibleTool",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  Msg: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b942cZiiK1H/oXLv3KFwjp+", "Msg");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CocosZ_1 = require("./CocosZ");
    var Msg = function() {
      function Msg() {}
      Msg.Show = function(msg, group) {
        var pre = CocosZ_1.cocosz.resMgr.getRes("TipsPanel", cc.Prefab);
        if (pre) {
          var node_1 = cc.instantiate(pre);
          node_1.group = "ui";
          if (node_1) {
            node_1.position = cc.v3(cc.winSize.width / 2, cc.winSize.height / 2 + 300);
            cc.director.getScene().addChild(node_1, 1e4);
            var label = cc.find("label", node_1).getComponent(cc.Label);
            label.string = msg;
            node_1.scale = 0;
            var tween = cc.tween(node_1);
            tween.to(.25, {
              scale: 1
            }, {
              easing: "backOut"
            });
            tween.delay(2);
            tween.to(.25, {
              scale: 0
            }, {
              easing: "backIn"
            });
            tween.call(function() {
              node_1.destroy();
            });
            tween.start();
            for (var i = Msg.tipList.length - 1; i >= 0; i--) Msg.tipList[i].isValid ? Msg.tipList[i].y += 120 : Msg.tipList.splice(i, 1);
            Msg.tipList.push(node_1);
          }
        } else cc.log("\u63d0\u793a\u9762\u677f\u663e\u793a\u5931\u8d25!");
      };
      Msg.isShow = false;
      Msg.isTouch = false;
      Msg.tipList = [];
      return Msg;
    }();
    exports.default = Msg;
    cc._RF.pop();
  }, {
    "./CocosZ": "CocosZ"
  } ],
  NativeTryGameNode: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c237blrR8tFb7rQ6ElVARTM", "NativeTryGameNode");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var PlatUtils_1 = require("./PlatUtils");
    var NativeTryGamesWidget_1 = require("./NativeTryGamesWidget");
    var CompatibleTool_1 = require("./CompatibleTool");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var NativeTryGameNode = function(_super) {
      __extends(NativeTryGameNode, _super);
      function NativeTryGameNode() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._data = null;
        _this._icon = null;
        _this._nameLabel = null;
        _this._gameJumpInterval = -1;
        _this._jumpInfo = null;
        _this._index = -1;
        _this._jumping = false;
        _this._isFirst = false;
        _this._mask = null;
        return _this;
      }
      NativeTryGameNode.prototype.onLoad = function() {
        this._icon = cc.find("Mask/Icon", this.node).getComponent(cc.Sprite);
        this._mask = cc.find("Mask", this.node);
      };
      NativeTryGameNode.prototype.init = function(data) {
        this._data = data;
        Utils_1.utils.showLog("\u539f\u751f\u6296\u52a8Node");
        if (this._data) {
          this._jumpInfo = this._data.jump_list;
          this._gameJumpInterval = this._data.jump_refresh_time;
          this._isFirst = true;
          this.node.active = true;
          PlatUtils_1.default.IsHuaWei && (this.node.getChildByName("source").getComponent(cc.Label).string = this._jumpInfo[this._index].date[0].source ? this._jumpInfo[this._index].date[0].source : "");
        } else this.node.active = false;
      };
      NativeTryGameNode.prototype.showNextItem = function() {
        this.unscheduleAllCallbacks();
        this.jump();
        this.schedule(this.jump, this._gameJumpInterval);
      };
      NativeTryGameNode.prototype.onEnable = function() {
        var _this = this;
        this.jump();
        this.schedule(this.jump, this._gameJumpInterval);
        this.node.on(cc.Node.EventType.TOUCH_START, function(event) {
          if (0 == _this.node.opacity) return;
          var tryGameAd = _this._jumpInfo[_this._index].tryGameAd;
          var adid = _this._jumpInfo[_this._index].date[0].adId;
          if (tryGameAd) {
            tryGameAd.reportAdClick({
              adId: adid
            });
            Utils_1.utils.showLog("\u6296\u52a8\u8bd5\u73a9\u4e0a\u62a5tryGameAd:" + JSON.stringify(tryGameAd) + "adid:" + adid);
          }
          Utils_1.utils.nativeNeedChange = true;
          Utils_1.utils.tryGameDate.splice(_this._index, 1);
          Utils_1.utils._nativeTryGameNode && Utils_1.utils._nativeTryGameNode.getComponent(NativeTryGamesWidget_1.default).init();
        }, this);
      };
      NativeTryGameNode.prototype.onDisable = function() {
        this.unscheduleAllCallbacks();
        this.node.targetOff(this);
      };
      NativeTryGameNode.prototype.jump = function() {
        var _this = this;
        if (this._jumping) return;
        this._jumping = true;
        this._index = this._index + 1;
        this._index >= this._jumpInfo.length && (this._index = 0);
        var contentSize = this._icon.node.getContentSize();
        if (this._jumpInfo[this._index]) {
          var remoteUrl = PlatUtils_1.default.IsOPPO ? this._jumpInfo[this._index].date[0].iconUrlList[0] : this._jumpInfo[this._index].date[0].icon;
          remoteUrl && !PlatUtils_1.default.IsHuaWei || (remoteUrl = this._jumpInfo[this._index].date[0].imgUrlList[0]);
          CompatibleTool_1.default.LoadRes(remoteUrl, function(err, texture) {
            if (!err && cc.isValid(_this) && _this._icon) {
              _this._icon.spriteFrame = new cc.SpriteFrame(texture);
              _this._icon.node.setContentSize(contentSize);
              if (_this._isFirst) {
                Utils_1.utils.showLog("\u5f53\u524d\u8bd5\u73a9\u7b2c\u4e00\u6b21\u52a0\u8f7d\uff01\uff01\uff01\uff01\uff01");
                _this._mask.active = true;
                _this._isFirst = false;
              }
            }
            _this._jumping = false;
          });
          var tryGameAd = this._jumpInfo[this._index].tryGameAd;
          var adid = this._jumpInfo[this._index].date[0].adId;
          if (tryGameAd && !tryGameAd.isReportShow) {
            tryGameAd.reportAdShow({
              adId: adid
            });
            tryGameAd.isReportShow = true;
          }
        } else this._jumping = false;
        0 == this.node.opacity && (this.node.opacity = 255);
      };
      NativeTryGameNode = __decorate([ ccclass ], NativeTryGameNode);
      return NativeTryGameNode;
    }(cc.Component);
    exports.default = NativeTryGameNode;
    cc._RF.pop();
  }, {
    "./CompatibleTool": "CompatibleTool",
    "./NativeTryGamesWidget": "NativeTryGamesWidget",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils"
  } ],
  NativeTryGamesWidget: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "932f9ROnk9AN7mC5qMygyf7", "NativeTryGamesWidget");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var PlatUtils_1 = require("./PlatUtils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var NativeTryGamesWidget = function(_super) {
      __extends(NativeTryGamesWidget, _super);
      function NativeTryGamesWidget() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._tryGameNode = null;
        _this._btnClose = null;
        return _this;
      }
      NativeTryGamesWidget.prototype.onLoad = function() {
        this._tryGameNode = this.getComponentInChildren("NativeTryGameNode");
        this._tryGameNode.node.active = false;
        this._btnClose = this._tryGameNode.node.getChildByName("BtnClose");
      };
      NativeTryGamesWidget.prototype.init = function() {
        if (!this._tryGameNode) {
          this._tryGameNode = this.getComponentInChildren("NativeTryGameNode");
          this._btnClose = this._tryGameNode.node.getChildByName("BtnClose");
        }
        if (Utils_1.utils.isShowNativeTryGamesWidget()) {
          var dataValid = true;
          if (Utils_1.utils.tryGameDate) {
            if (Utils_1.utils.tryGameDate.length <= 0) {
              cc.warn("res\u7684\u957f\u5ea6\u4e0d\u5408\u6cd5\uff01");
              dataValid = false;
            }
          } else {
            cc.warn("res\u4e0d\u5b58\u5728\uff01");
            dataValid = false;
          }
          Utils_1.utils.showLog("\u539f\u751f\u6296\u52a8dataValid\uff1a" + dataValid);
          if (dataValid) {
            Utils_1.utils.showLog("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e:", JSON.stringify(Utils_1.utils.tryGameDate));
            this._tryGameNode.init({
              jump_refresh_time: Utils_1.utils.ServerConfig.icon_jump_native,
              jump_list: Utils_1.utils.tryGameDate
            });
            this._tryGameNode.node.active = true;
            if (PlatUtils_1.default.IsHuaWei) {
              Utils_1.utils.showLog("\u534e\u4e3a\u5e73\u53f0\uff0c\u663e\u793a\u5173\u95ed\u6309\u94ae>>>>>");
              this._btnClose.active = true;
            }
          } else this._tryGameNode.node.active = false;
        } else this._tryGameNode.node.active = false;
      };
      NativeTryGamesWidget.prototype.close = function() {
        this._tryGameNode.node.opacity = 0;
      };
      NativeTryGamesWidget = __decorate([ ccclass ], NativeTryGamesWidget);
      return NativeTryGamesWidget;
    }(cc.Component);
    exports.default = NativeTryGamesWidget;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils"
  } ],
  OpenRedBagPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "adbe7B8cB1B7Y2iqH4nM4BD", "OpenRedBagPanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var OpenRedBagPanel = function(_super) {
      __extends(OpenRedBagPanel, _super);
      function OpenRedBagPanel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._panel = null;
        _this._moneyLbl = null;
        _this._totalMoneyLbl = null;
        _this._openPanel = null;
        _this._rewardPanel = null;
        _this._btnOpen = null;
        _this._redBagInfo = null;
        _this._btnClose = null;
        _this._btnVideoOpen = null;
        _this._title = null;
        _this._btnDouble = null;
        _this._proInfo = null;
        _this._money = 0;
        _this._canShowVideoOpen = false;
        _this._show_type = 1;
        return _this;
      }
      OpenRedBagPanel.prototype.onLoad = function() {
        var _this = this;
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        PlatUtils_1.default.IsNativeAndroid || Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Home);
        this._panel = this.node.getChildByName("Panel");
        this._openPanel = this._panel.getChildByName("onOpenPanel");
        this._openPanel.setScale(.5);
        this._openPanel.runAction(cc.scaleTo(.3, 1));
        this._rewardPanel = this._panel.getChildByName("rewardPanel");
        this._btnOpen = this._openPanel.getChildByName("btnOpen");
        this._btnClose = this._panel.getChildByName("btnClose");
        this._btnVideoOpen = this._btnOpen.getChildByName("btn_openVideo");
        this._title = this._openPanel.getChildByName("title");
        this._totalMoneyLbl = this._rewardPanel.getChildByName("totalMoneyLabel").getComponent(cc.Label);
        this._moneyLbl = this._rewardPanel.getChildByName("moneyLbl").getComponent(cc.Label);
        this._btnDouble = this._rewardPanel.getChildByName("btnDouble");
        setTimeout(function() {
          _this._btnOpen.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5, 1.2), cc.scaleTo(.5, 1))));
        }, 500);
        this._redBagInfo = Utils_1.utils.yzRedBagInfo;
        this._proInfo = Utils_1.utils.yzRedBagInfo.curProgressInfo;
        var ratio = 1;
        ratio = cc.winSize.height < cc.winSize.width ? cc.winSize.width / 1920 * .5 : cc.winSize.width / 1080;
        this._panel.scale = ratio;
        this.init();
      };
      OpenRedBagPanel.prototype.openRedBag = function() {
        var _this = this;
        if (this._redBagInfo.progress < this._redBagInfo.totalProgress && !this._redBagInfo.isFreeRedBag && this._redBagInfo.freeRedBagCount <= 0) return;
        this._btnClose.opacity = 0;
        this._btnClose.active = true;
        var timeout = Utils_1.utils.ServerConfig.red_bag_close_btn_show_delay ? Utils_1.utils.ServerConfig.red_bag_close_btn_show_delay : 0;
        setTimeout(function() {
          Utils_1.utils.showLog("\u62c6\u7ea2\u5305\u5173\u95ed\u6309\u94ae\u5ef6\u8fdf\u663e\u793a " + timeout + "\u79d2\u663e\u793a\uff01");
          _this._btnClose.runAction(cc.fadeIn(.3));
        }, 1e3 * timeout);
        setTimeout(function() {
          _this._btnDouble.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5, 1.2), cc.scaleTo(.5, 1))));
        }, 500);
        this._canShowVideoOpen ? Utils_1.utils.adManager.ShowVideo(function(res, msg) {
          if (res) {
            Utils_1.utils.SendEvent("\u62c6\u7ea2\u5305\u5f39\u7a97-\u89c6\u9891\u62c6\u7ea2\u5305\u6210\u529f\uff01");
            _this.scheduleOnce(function() {
              _this.showRedBag();
            });
          } else {
            _this._btnClose.runAction(cc.fadeIn(.3));
            Utils_1.utils.SendEvent("\u62c6\u7ea2\u5305\u5f39\u7a97-\u89c6\u9891\u62c6\u7ea2\u5305\u5931\u8d25\uff01");
            Utils_1.utils.showMsg(msg || "\u89c6\u9891\u52a0\u8f7d\u5931\u8d25\uff01");
          }
        }) : this.showRedBag();
      };
      OpenRedBagPanel.prototype.showRedBag = function() {
        var _this = this;
        var money = 0;
        var proInfo = this._proInfo;
        cc.log("proInfo ", JSON.stringify(proInfo));
        money = parseFloat((Math.random() * (proInfo.max_money - proInfo.min_money) + proInfo.min_money).toFixed(3));
        cc.log("\u7ea2\u5305\u91d1\u989d\uff1a" + money);
        this._money = money;
        this._redBagInfo.balance = parseFloat((this._redBagInfo.balance + money).toFixed(3));
        this._redBagInfo.isFreeRedBag && 1 == this._show_type && (this._redBagInfo.lastOpenFreeRedBagTime = new Date().toDateString());
        2 == this._show_type && (this._redBagInfo.progress -= this._redBagInfo.totalProgress);
        this._redBagInfo.totalMoney = parseFloat((this._redBagInfo.totalMoney + money).toFixed(3));
        this._moneyLbl.string = "\xa5" + money + "\u5143";
        this._totalMoneyLbl.string = "\u7d2f\u8ba1\u83b7\u5f97\u73b0\u91d1" + this._redBagInfo.totalMoney + "\u5143";
        this._rewardPanel.scaleX = 0;
        this._rewardPanel.active = true;
        this._openPanel.runAction(cc.sequence(cc.scaleTo(.3, 0, 1), cc.callFunc(function() {
          _this._openPanel.active = false;
          _this._rewardPanel.runAction(cc.sequence(cc.scaleTo(.3, 1), cc.callFunc(function() {})));
        })));
        Utils_1.utils.currentLevel > parseInt(this._redBagInfo.lastOpenLevel) && 2 == this._show_type && (this._redBagInfo.lastOpenLevel = Utils_1.utils.currentLevel.toString());
      };
      OpenRedBagPanel.prototype.onBtnDoubleMoney = function(event, data) {
        var _this = this;
        Utils_1.utils.SendEvent("\u62c6\u7ea2\u5305\u5f39\u7a97-\u70b9\u51fb\u89c6\u9891\u53cc\u500d\u9886\u53d6");
        Utils_1.utils.adManager.ShowVideo(function(ret, msg) {
          if (ret) {
            _this._redBagInfo.balance = parseFloat((_this._redBagInfo.balance + _this._money).toFixed(3));
            _this._redBagInfo.totalMoney = parseFloat((_this._redBagInfo.totalMoney + _this._money).toFixed(3));
            _this._totalMoneyLbl.string = "\u7d2f\u8ba1\u83b7\u5f97\u73b0\u91d1" + _this._redBagInfo.totalMoney + "\u5143";
            Utils_1.utils.showMsg("\u9886\u53d6\u53cc\u500d\u7ea2\u5305\u6210\u529f\uff01");
            Utils_1.utils.SendEvent("\u62c6\u7ea2\u5305\u5f39\u7a97-\u89c6\u9891\u53cc\u500d\u9886\u53d6\u6210\u529f");
            event.target.active = false;
          } else {
            Utils_1.utils.showMsg(msg);
            Utils_1.utils.SendEvent("\u62c6\u7ea2\u5305\u5f39\u7a97-\u89c6\u9891\u53cc\u500d\u9886\u53d6\u5931\u8d25");
          }
        });
      };
      OpenRedBagPanel.prototype.showWithDrawalPanel = function() {
        Utils_1.utils.SendEvent("\u62c6\u7ea2\u5305\u5f39\u7a97-\u70b9\u51fb\u63d0\u73b0\u4e0a\u62a5");
        Utils_1.utils.showWithdrawalPanel();
      };
      OpenRedBagPanel.prototype.init = function() {
        var _this = this;
        Utils_1.utils.SendEvent("\u62c6\u7ea2\u5305\u5f39\u7a97-\u5c55\u793a\u6210\u529f\uff01" + this._show_type + " :" + this._redBagInfo.isFreeRedBag);
        this._title.children[0].active = 1 == this._show_type && this._redBagInfo.isFreeRedBag;
        this._title.children[1].active = 2 == this._show_type;
        this._title.children[2].active = 3 == this._show_type;
        if (2 == this._proInfo.type && 2 == this._show_type) {
          this._canShowVideoOpen = true;
          this._btnVideoOpen.active = true;
        } else {
          this._canShowVideoOpen = false;
          this._btnVideoOpen.active = false;
        }
        if (Utils_1.utils.ServerConfig.red_bag_open_view_close_btn_show_delay && Utils_1.utils.ServerConfig.red_bag_open_view_close_btn_show_delay > 0) {
          this._btnClose.opacity = 0;
          var timeout_1 = Utils_1.utils.ServerConfig.red_bag_open_view_close_btn_show_delay ? Utils_1.utils.ServerConfig.red_bag_open_view_close_btn_show_delay : 0;
          setTimeout(function() {
            Utils_1.utils.showLog("\u62c6\u7ea2\u5305\u5173\u95ed\u6309\u94ae\u5ef6\u8fdf\u663e\u793a " + timeout_1 + "\u79d2\u663e\u793a\uff01");
            _this._btnClose.runAction(cc.fadeIn(.3));
          }, 1e3 * timeout_1);
        } else if (this._redBagInfo.progress < this._redBagInfo.totalProgress && !this._redBagInfo.isFreeRedBag && this._redBagInfo.freeRedBagCount <= 0) {
          this._btnOpen.children[0].active = true;
          this._btnOpen.children[1].getComponent(cc.Button).enableAutoGrayEffect = true;
          this._btnClose.opacity = 0;
          var timeout_2 = Utils_1.utils.ServerConfig.red_bag_close_btn_show_delay ? Utils_1.utils.ServerConfig.red_bag_close_btn_show_delay : 0;
          setTimeout(function() {
            Utils_1.utils.showLog("\u62c6\u7ea2\u5305\u5173\u95ed\u6309\u94ae\u5ef6\u8fdf\u663e\u793a " + timeout_2 + "\u79d2\u663e\u793a\uff01");
            _this._btnClose.runAction(cc.fadeIn(.3));
          }, 1e3 * timeout_2);
        } else this._btnClose.active = false;
        this._totalMoneyLbl.string = "\u7d2f\u8ba1\u83b7\u5f97\u73b0\u91d1" + this._redBagInfo.totalMoney + "\u5143";
      };
      OpenRedBagPanel.prototype.initData = function(showType) {
        this._show_type = showType;
      };
      OpenRedBagPanel.prototype.show = function() {
        this.node.active = true;
      };
      OpenRedBagPanel.prototype.hide = function() {
        this.node.active = false;
        Utils_1.utils.rewardCloseFunc && Utils_1.utils.rewardCloseFunc();
        Utils_1.utils.rewardCloseFunc && (Utils_1.utils.rewardCloseFunc = null);
      };
      OpenRedBagPanel.prototype.onCloseBtnHandler = function(event, data) {
        this.hide();
      };
      OpenRedBagPanel = __decorate([ ccclass ], OpenRedBagPanel);
      return OpenRedBagPanel;
    }(cc.Component);
    exports.default = OpenRedBagPanel;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  PlatUtils: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8e57eTF7JlEk4fSovTnBAgF", "PlatUtils");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var PlatUtils = function() {
      function PlatUtils() {}
      PlatUtils_1 = PlatUtils;
      Object.defineProperty(PlatUtils, "IsNativeAndroid", {
        get: function() {
          return cc.sys.os == cc.sys.OS_ANDROID && false;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsNativeIOS", {
        get: function() {
          return cc.sys.os == cc.sys.OS_IOS && false;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "ISUC", {
        get: function() {
          return window.uc;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "ISCocos", {
        get: function() {
          return window.loadRuntime && !this.IsOPPO && !this.IsVIVO && !window.kwaigame && !this.IsWiFi && !this.IsHuaWei;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsAndroid", {
        get: function() {
          return cc.sys.os == cc.sys.OS_ANDROID;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsIOS", {
        get: function() {
          return cc.sys.os == cc.sys.OS_IOS;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsWechat", {
        get: function() {
          return cc.sys.platform == cc.sys.WECHAT_GAME && !this.IsDouyin && !this.IsQQ && !this.IsKwai;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsOPPO", {
        get: function() {
          return cc.sys.platform == cc.sys.OPPO_GAME;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsBaidu", {
        get: function() {
          cc.sys.FB_PLAYABLE_ADS;
          return cc.sys.platform == cc.sys.BAIDU_GAME;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsVIVO", {
        get: function() {
          return cc.sys.platform == cc.sys.VIVO_GAME;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsDouyin", {
        get: function() {
          return window.tt;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsQQ", {
        get: function() {
          return window.qq;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsQTT", {
        get: function() {
          return window.qttGame;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsXiaoMi", {
        get: function() {
          return !(PlatUtils_1.IsOPPO || PlatUtils_1.IsVIVO || PlatUtils_1.IsHuaWei || !window.qg);
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "Is4399", {
        get: function() {
          return window.h5api;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsBili", {
        get: function() {
          return window.bl;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsKwai", {
        get: function() {
          return "undefined" != typeof KSGameGlobal;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsWiFi", {
        get: function() {
          return window.wuji;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsHago", {
        get: function() {
          return window.hg;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsHuaWei", {
        get: function() {
          return window.hbs;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsTest", {
        get: function() {
          return false;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsFaceBook", {
        get: function() {
          return void 0 !== window.FB || void 0 !== window.minigame_sdk;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "androidChannel", {
        get: function() {
          if (Utils_1.utils.config && Utils_1.utils.config.nativeAndroidConfig) return Utils_1.utils.config.nativeAndroidConfig.channel;
          return "";
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsAndroidChuanYin", {
        get: function() {
          if ("chuanyin" == this.androidChannel) return true;
          return false;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsAndroidOppo", {
        get: function() {
          if ("oppo" == this.androidChannel) return true;
          return false;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsAndroidVivo", {
        get: function() {
          if ("vivo" == this.androidChannel) return true;
          return false;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsAndroidDouYin", {
        get: function() {
          if ("douyin" == this.androidChannel) return true;
          return false;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsAndroidHuaWei", {
        get: function() {
          if (this.androidChannel.indexOf("huawei") > -1) return true;
          return false;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(PlatUtils, "IsGoogleWeb", {
        get: function() {
          if (window.googleApi) return true;
          return false;
        },
        enumerable: false,
        configurable: true
      });
      var PlatUtils_1;
      PlatUtils = PlatUtils_1 = __decorate([ ccclass ], PlatUtils);
      return PlatUtils;
    }();
    exports.default = PlatUtils;
    cc._RF.pop();
  }, {
    "./Utils": "Utils"
  } ],
  QCrossWidget6: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "20525Sx+oND2KEXTsMeJ4bb", "QCrossWidget6");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var AldUtils_1 = require("./AldUtils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var QCrossWidget6 = function(_super) {
      __extends(QCrossWidget6, _super);
      function QCrossWidget6() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._pageView = null;
        _this._pageItem = null;
        _this._pageRecItem = null;
        _this._jumpList = null;
        _this._items = [];
        return _this;
      }
      QCrossWidget6.prototype.onLoad = function() {
        this._pageView = this.node.getChildByName("PageView").getComponent(cc.PageView);
        this._pageItem = this._pageView.content.getChildByName("Panel");
        this._pageRecItem = this._pageItem.children[0];
        this._pageView.content.removeAllChildren();
        AldUtils_1.default.SendEvent("\u663e\u793a6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6");
      };
      QCrossWidget6.prototype.start = function() {
        this._jumpList = Utils_1.utils.getRecommondGameList();
        if (this._jumpList && this._jumpList.length > 0) this._initWidget(); else {
          cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u4e3anull, 6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a!");
          this.node.destroy();
        }
      };
      QCrossWidget6.prototype._initWidget = function() {
        var totalPage = Math.ceil(this._jumpList.length / 6);
        Utils_1.utils.showLog("qcrosswidget >>> totalPage = " + totalPage);
        var indx = 0;
        for (var i = 0; i < totalPage; i++) {
          var page = cc.instantiate(this._pageItem);
          page.removeAllChildren();
          this._pageView.addPage(page);
          for (var j = 0; j < 6; j++) {
            if (!this._jumpList[indx]) break;
            var tempNode = cc.instantiate(this._pageRecItem);
            page.addChild(tempNode);
            var qcrossWidgetItem = tempNode.getComponent("QCrossWidgetItem");
            qcrossWidgetItem._location = YZ_Constant_1.SubLocation.isQCross;
            var data = this._jumpList[indx];
            tempNode.getComponent("QCrossWidgetItem").init(data);
            indx++;
          }
        }
        this.autoRefrshPageView();
      };
      QCrossWidget6.prototype.autoRefrshPageView = function() {
        var _this = this;
        this.unscheduleAllCallbacks();
        var interval = 3;
        Utils_1.utils.ServerConfig && Utils_1.utils.ServerConfig.statement_auto_refresh && (interval = Utils_1.utils.ServerConfig.statement_auto_refresh);
        Utils_1.utils.showLog("\u7ed3\u7b97\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6" + interval + "\u79d2\u81ea\u52a8\u5237\u65b0");
        this.schedule(function() {
          var count = _this._pageView.getPages().length;
          var index = _this._pageView.getCurrentPageIndex();
          index = index < count && index + 1 !== count ? index + 1 : 0;
          0 == index ? _this._pageView.scrollToPage(index, 0) : _this._pageView.scrollToPage(index, 2);
        }, interval);
      };
      QCrossWidget6 = __decorate([ ccclass ], QCrossWidget6);
      return QCrossWidget6;
    }(cc.Component);
    exports.default = QCrossWidget6;
    cc._RF.pop();
  }, {
    "./AldUtils": "AldUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  QCrossWidgetItem: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3f5ab/DxFJAZ6TgbVUiQqrS", "QCrossWidgetItem");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var PlatUtils_1 = require("./PlatUtils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var CompatibleTool_1 = require("./CompatibleTool");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var QCrossWidgetItem = function(_super) {
      __extends(QCrossWidgetItem, _super);
      function QCrossWidgetItem() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.data = null;
        _this._sprite = null;
        _this._dataDirty = false;
        _this._isReward = false;
        _this._location = null;
        return _this;
      }
      QCrossWidgetItem.prototype.onLoad = function() {
        this._sprite = this.node.getComponent(cc.Sprite);
      };
      QCrossWidgetItem.prototype.init = function(data) {
        this.data = data;
        this._dataDirty = true;
      };
      QCrossWidgetItem.prototype.update = function(dt) {
        if (this._dataDirty) {
          this._dataDirty = false;
          this.updateItem();
        }
      };
      QCrossWidgetItem.prototype.onEnable = function() {
        this.node.on(cc.Node.EventType.TOUCH_END, this._onItemClickHandler, this);
      };
      QCrossWidgetItem.prototype.onDisable = function() {
        this.node.targetOff(this);
      };
      QCrossWidgetItem.prototype._onItemClickHandler = function() {
        var _this = this;
        console.log("_onItemClickHandler");
        if (PlatUtils_1.default.IsDouyin) {
          Utils_1.utils.Tool_Douyin.showMoreGamesModal();
          return;
        }
        this.data && this.data.appid && this._postClickData(this.data.appid);
        if (this._location == YZ_Constant_1.SubLocation.isReward) {
          Utils_1.utils.navigateToMiniGame(this.data, function(ret) {
            if (ret) {
              _this.data && _this.data.appid && _this._postData(_this.data.appid);
              Utils_1.utils.showLog("\u6fc0\u52b1\u63d2\u5c4f\u8df3\u8f6c\u6210\u529f\uff01\u4e0b\u53d1\u5956\u52b1\uff01");
              Utils_1.utils.adManager.videoCallBack && Utils_1.utils.adManager.videoCallBack(ret);
              Utils_1.utils.adManager.videoCallBack = null;
            } else {
              Utils_1.utils.showLog("\u6fc0\u52b1\u63d2\u5c4f\u8df3\u8f6c\u5931\u8d25\uff01");
              Utils_1.utils.adManager.videoCallBack && Utils_1.utils.adManager.videoCallBack(false, "\u83b7\u53d6\u8bd5\u73a9\u5956\u52b1\u5931\u8d25\uff01");
            }
            Utils_1.utils.adManager.videoCallBack = null;
            Utils_1.utils.adManager.hideRewardInsert();
          });
          return;
        }
        if (this.data.is_jump && "true" == this.data.is_jump && this.data.appid) {
          Utils_1.utils.showLog("\u76f4\u63a5\u8df3\u8f6c!", this.data.appid);
          Utils_1.utils.navigateToMiniGame(this.data, function(ret) {
            ret && _this.data && _this.data.appid && _this._postData(_this.data.appid);
          });
        } else if (this.data.is_jump && "false" == this.data.is_jump && this.data.qr_code) if (PlatUtils_1.default.IsWechat) {
          Utils_1.utils.showLog("\u4e8c\u7ef4\u7801\u8df3\u8f6c!", this.data.qr_code);
          Utils_1.utils.wechatTool.previewImage(this.data.qr_code);
        } else Utils_1.utils.showLog("\u4e0d\u652f\u6301\u4e8c\u7ef4\u7801\u8df3\u8f6c!"); else {
          Utils_1.utils.showLog("\u6ca1\u6709is_jump\u76f4\u63a5\u8df3\u8f6c!", this.data.appid);
          this.data.appid && Utils_1.utils.navigateToMiniGame(this.data, function(ret) {
            ret && _this.data.appid && _this._postData(_this.data.appid);
          });
        }
      };
      QCrossWidgetItem.prototype.updateItem = function() {
        var _this = this;
        if (this.data && this.data.logo) {
          var temp = cc.loader.getRes(this.data.logo);
          if (temp) {
            if (cc.isValid(this) && this._sprite) {
              var size = this.node.getContentSize();
              this._sprite.spriteFrame = new cc.SpriteFrame(temp);
              this.node.setContentSize(size);
            }
          } else CompatibleTool_1.default.LoadRes(this.data.logo, function(err, texture) {
            if (!err && cc.isValid(_this) && _this._sprite) {
              var size = _this.node.getContentSize();
              _this._sprite.spriteFrame = new cc.SpriteFrame(texture);
              _this.node.setContentSize(size);
            }
          });
        }
      };
      QCrossWidgetItem.prototype._postData = function(appid) {
        Utils_1.utils.postDataByLocation(appid, this._location, 1);
      };
      QCrossWidgetItem.prototype._postClickData = function(appid) {
        Utils_1.utils.postDataByLocation(appid, this._location, 0);
      };
      QCrossWidgetItem = __decorate([ ccclass ], QCrossWidgetItem);
      return QCrossWidgetItem;
    }(cc.Component);
    exports.default = QCrossWidgetItem;
    cc._RF.pop();
  }, {
    "./CompatibleTool": "CompatibleTool",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  QEasing: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "96829TvMTFNgKlOd5JpyJkO", "QEasing");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.EaseType = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var EaseType;
    (function(EaseType) {
      EaseType[EaseType["none"] = 0] = "none";
      EaseType[EaseType["easeIn"] = 1] = "easeIn";
      EaseType[EaseType["easeOut"] = 2] = "easeOut";
      EaseType[EaseType["easeInOut"] = 3] = "easeInOut";
      EaseType[EaseType["easeExponentialIn"] = 4] = "easeExponentialIn";
      EaseType[EaseType["easeExponentialOut"] = 5] = "easeExponentialOut";
      EaseType[EaseType["easeExponentialInOut"] = 6] = "easeExponentialInOut";
      EaseType[EaseType["easeSineIn"] = 7] = "easeSineIn";
      EaseType[EaseType["easeSineOut"] = 8] = "easeSineOut";
      EaseType[EaseType["easeSineInOut"] = 9] = "easeSineInOut";
      EaseType[EaseType["easeElasticIn"] = 10] = "easeElasticIn";
      EaseType[EaseType["easeElasticOut"] = 11] = "easeElasticOut";
      EaseType[EaseType["easeElasticInOut"] = 12] = "easeElasticInOut";
      EaseType[EaseType["easeBounceIn"] = 13] = "easeBounceIn";
      EaseType[EaseType["easeBounceOut"] = 14] = "easeBounceOut";
      EaseType[EaseType["easeBounceInOut"] = 15] = "easeBounceInOut";
      EaseType[EaseType["easeBackIn"] = 16] = "easeBackIn";
      EaseType[EaseType["easeBackOut"] = 17] = "easeBackOut";
      EaseType[EaseType["easeBackInOut"] = 18] = "easeBackInOut";
      EaseType[EaseType["easeBezierAction"] = 19] = "easeBezierAction";
      EaseType[EaseType["easeQuadraticActionIn"] = 20] = "easeQuadraticActionIn";
      EaseType[EaseType["easeQuadraticActionOut"] = 21] = "easeQuadraticActionOut";
      EaseType[EaseType["easeQuadraticActionInOut"] = 22] = "easeQuadraticActionInOut";
      EaseType[EaseType["easeQuarticActionIn"] = 23] = "easeQuarticActionIn";
      EaseType[EaseType["easeQuarticActionOut"] = 24] = "easeQuarticActionOut";
      EaseType[EaseType["easeQuarticActionInOut"] = 25] = "easeQuarticActionInOut";
      EaseType[EaseType["easeQuinticActionIn"] = 26] = "easeQuinticActionIn";
      EaseType[EaseType["easeQuinticActionOut"] = 27] = "easeQuinticActionOut";
      EaseType[EaseType["easeQuinticActionInOut"] = 28] = "easeQuinticActionInOut";
      EaseType[EaseType["easeCircleActionIn"] = 29] = "easeCircleActionIn";
      EaseType[EaseType["easeCircleActionOut"] = 30] = "easeCircleActionOut";
      EaseType[EaseType["easeCircleActionInOut"] = 31] = "easeCircleActionInOut";
      EaseType[EaseType["easeCubicActionIn"] = 32] = "easeCubicActionIn";
      EaseType[EaseType["easeCubicActionOut"] = 33] = "easeCubicActionOut";
      EaseType[EaseType["easeCubicActionInOut"] = 34] = "easeCubicActionInOut";
    })(EaseType = exports.EaseType || (exports.EaseType = {}));
    var QEasing = function(_super) {
      __extends(QEasing, _super);
      function QEasing() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.easeType = EaseType.none;
        return _this;
      }
      QEasing.prototype._getEase = function() {
        switch (this.easeType) {
         case EaseType.none:
          return "linear";

         case EaseType.easeOut:
          return "easeOut";

         case EaseType.easeInOut:
          return "easeInOut";

         case EaseType.easeExponentialIn:
          return "easeExponentialIn";

         case EaseType.easeExponentialOut:
          return "easeExponentialOut";

         case EaseType.easeExponentialInOut:
          return "easeExponentialInOut";

         case EaseType.easeSineIn:
          return "sineIn";

         case EaseType.easeSineOut:
          return "sineOut";

         case EaseType.easeSineInOut:
          return "sineInOut";

         case EaseType.easeElasticIn:
          return "elasticIn";

         case EaseType.easeElasticOut:
          return "elasticOut";

         case EaseType.easeElasticInOut:
          return "elasticInOut";

         case EaseType.easeBounceIn:
          return "bounceIn";

         case EaseType.easeBounceOut:
          return "bounceOut";

         case EaseType.easeBackIn:
          return "backIn";

         case EaseType.easeBackOut:
          return "backOut";

         case EaseType.easeBackInOut:
          return "backInOut";

         case EaseType.easeQuadraticActionIn:
          return "quadraticActionIn";

         case EaseType.easeQuadraticActionOut:
          return "quadraticActionOut";

         case EaseType.easeQuadraticActionInOut:
          return "quadraticActionInOut";

         case EaseType.easeQuarticActionIn:
          return "quarticActionIn";

         case EaseType.easeQuarticActionOut:
          return "quarticActionOut";

         case EaseType.easeQuarticActionInOut:
          return "quarticActionInOut";

         case EaseType.easeQuinticActionIn:
          return "quinticActionIn";

         case EaseType.easeQuinticActionOut:
          return "quinticActionOut";

         case EaseType.easeQuinticActionInOut:
          return "quinticActionInOut";

         case EaseType.easeCircleActionIn:
          return "easeCircleActionIn";

         case EaseType.easeCircleActionOut:
          return "circleActionOut";

         case EaseType.easeCircleActionInOut:
          return "circleActionInOut";

         case EaseType.easeCubicActionIn:
          return "cubicActionIn";

         case EaseType.easeCubicActionOut:
          return "cubicActionOut";

         case EaseType.easeCubicActionInOut:
          return "cubicActionInOut";
        }
      };
      __decorate([ property({
        type: cc.Enum(EaseType)
      }) ], QEasing.prototype, "easeType", void 0);
      QEasing = __decorate([ ccclass ], QEasing);
      return QEasing;
    }(cc.Component);
    exports.default = QEasing;
    cc._RF.pop();
  }, {} ],
  QMoveAction: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6fc8aO5YvdLWLunFhyStsI8", "QMoveAction");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var QEasing_1 = require("./QEasing");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var QMoveAction = function(_super) {
      __extends(QMoveAction, _super);
      function QMoveAction() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.delay = 0;
        _this.delPos = cc.Vec2.ZERO;
        _this.duration = 0;
        _this.interval = 0;
        _this.loop = false;
        _this.revert = false;
        _this._tween = null;
        _this._originPos = cc.Vec3.ZERO;
        return _this;
      }
      QMoveAction.prototype.onLoad = function() {
        var _this = this;
        this._originPos = cc.v3(this.node.x, this.node.y);
        this.node.position = cc.v3(this._originPos.x - this.delPos.x, this._originPos.y - this.delPos.y);
        var widget = this.getComponent(cc.Widget);
        widget && (widget.enabled = false);
        var delayTween = cc.tween().delay(this.delay);
        var actionTween = cc.tween();
        actionTween.call(function() {
          _this.node.position = cc.v3(_this._originPos.x - _this.delPos.x, _this._originPos.y - _this.delPos.y);
        });
        if (this.revert) {
          actionTween.by(.5 * this.duration, {
            position: cc.v3(this.delPos.x, this.delPos.y)
          }, {
            easing: this._getEase()
          });
          actionTween.by(.5 * this.duration, {
            position: cc.v3(-this.delPos.x, -this.delPos.y)
          }, {
            easing: this._getEase()
          });
        } else actionTween.by(this.duration, {
          position: cc.v3(this.delPos.x, this.delPos.y)
        }, {
          easing: this._getEase()
        });
        actionTween.delay(this.interval);
        this._tween = cc.tween(this.node);
        this._tween.then(delayTween);
        this._tween.then(actionTween);
        this.loop && this._tween.repeatForever();
      };
      QMoveAction.prototype.onEnable = function() {
        this.node.position = cc.v3(this._originPos.x - this.delPos.x, this._originPos.y - this.delPos.y);
        this._tween.start();
      };
      __decorate([ property() ], QMoveAction.prototype, "delay", void 0);
      __decorate([ property(cc.Vec2) ], QMoveAction.prototype, "delPos", void 0);
      __decorate([ property() ], QMoveAction.prototype, "duration", void 0);
      __decorate([ property() ], QMoveAction.prototype, "interval", void 0);
      __decorate([ property() ], QMoveAction.prototype, "loop", void 0);
      __decorate([ property() ], QMoveAction.prototype, "revert", void 0);
      QMoveAction = __decorate([ ccclass ], QMoveAction);
      return QMoveAction;
    }(QEasing_1.default);
    exports.default = QMoveAction;
    cc._RF.pop();
  }, {
    "./QEasing": "QEasing"
  } ],
  QRotation: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "71041IFI81OEb+n+xBiAdfv", "QRotation");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var QEasing_1 = require("./QEasing");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var QRotateAction = function(_super) {
      __extends(QRotateAction, _super);
      function QRotateAction() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.delay = 0;
        _this.angle = 0;
        _this.duration = 0;
        _this.loop = false;
        _this.revert = false;
        _this._originAngle = 0;
        _this._tween = null;
        return _this;
      }
      QRotateAction.prototype.onLoad = function() {
        this._originAngle = this.node.angle;
        var delayTween = cc.tween().delay(this.delay);
        var actionTween = cc.tween();
        this.revert ? actionTween.by(this.duration / 2, {
          angle: this.angle
        }).by(this.duration / 2, {
          angle: -this.angle
        }, {
          easing: this._getEase()
        }) : actionTween.by(this.duration, {
          angle: this.angle
        }, {
          easing: this._getEase()
        });
        this._tween = cc.tween(this.node);
        this._tween.then(delayTween);
        this._tween.then(actionTween);
        this.loop && this._tween.repeatForever();
      };
      QRotateAction.prototype.onEnable = function() {
        this.node.angle = this._originAngle;
        this._tween.start();
      };
      __decorate([ property() ], QRotateAction.prototype, "delay", void 0);
      __decorate([ property({
        tooltip: "\u521d\u59cb\u89d2\u5ea6\uff0c\u987a\u65f6\u9488\u4e3a\u8d1f\u6570"
      }) ], QRotateAction.prototype, "angle", void 0);
      __decorate([ property() ], QRotateAction.prototype, "duration", void 0);
      __decorate([ property() ], QRotateAction.prototype, "loop", void 0);
      __decorate([ property() ], QRotateAction.prototype, "revert", void 0);
      QRotateAction = __decorate([ ccclass ], QRotateAction);
      return QRotateAction;
    }(QEasing_1.default);
    exports.default = QRotateAction;
    cc._RF.pop();
  }, {
    "./QEasing": "QEasing"
  } ],
  QScaleAction: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ede9al62i9NEYE1+EQcGsFh", "QScaleAction");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var QEasing_1 = require("./QEasing");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var QScaleAction = function(_super) {
      __extends(QScaleAction, _super);
      function QScaleAction() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.delay = 0;
        _this.fromScale = cc.Vec2.ZERO;
        _this.targetScale = cc.Vec2.ZERO;
        _this.duration = 0;
        _this.loop = false;
        _this.revert = false;
        _this._tween = null;
        return _this;
      }
      QScaleAction.prototype.onLoad = function() {
        this.node.scaleX = this.fromScale.x;
        this.node.scaleY = this.fromScale.y;
        var delayTween = cc.tween();
        delayTween.delay(this.delay);
        var actionTween = cc.tween();
        if (this.revert) {
          actionTween.to(.5 * this.duration, {
            scaleX: this.targetScale.x,
            scaleY: this.targetScale.y
          }, {
            easing: this._getEase()
          });
          actionTween.to(.5 * this.duration, {
            scaleX: this.fromScale.x,
            scaleY: this.fromScale.y
          }, {
            easing: this._getEase()
          });
        } else actionTween.to(this.duration, {
          scaleX: this.targetScale.x,
          scaleY: this.targetScale.y
        }, {
          easing: this._getEase()
        });
        this._tween = cc.tween(this.node);
        this._tween.then(delayTween);
        this._tween.then(actionTween);
        this.loop && this._tween.repeatForever();
      };
      QScaleAction.prototype.onEnable = function() {
        this.node.scaleX = this.fromScale.x;
        this.node.scaleY = this.fromScale.y;
        this._tween.start();
      };
      __decorate([ property() ], QScaleAction.prototype, "delay", void 0);
      __decorate([ property() ], QScaleAction.prototype, "fromScale", void 0);
      __decorate([ property(cc.Vec2) ], QScaleAction.prototype, "targetScale", void 0);
      __decorate([ property() ], QScaleAction.prototype, "duration", void 0);
      __decorate([ property() ], QScaleAction.prototype, "loop", void 0);
      __decorate([ property() ], QScaleAction.prototype, "revert", void 0);
      QScaleAction = __decorate([ ccclass ], QScaleAction);
      return QScaleAction;
    }(QEasing_1.default);
    exports.default = QScaleAction;
    cc._RF.pop();
  }, {
    "./QEasing": "QEasing"
  } ],
  QTween: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "05a06upE5xFF5F3p1c1BzPh", "QTween");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.TweenMess = exports.TweenTyep = void 0;
    var TweenTyep;
    (function(TweenTyep) {
      TweenTyep[TweenTyep["move"] = 0] = "move";
      TweenTyep[TweenTyep["circle"] = 1] = "circle";
      TweenTyep[TweenTyep["bezier"] = 2] = "bezier";
      TweenTyep[TweenTyep["rotate"] = 3] = "rotate";
      TweenTyep[TweenTyep["scale"] = 4] = "scale";
    })(TweenTyep = exports.TweenTyep || (exports.TweenTyep = {}));
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var TweenMess = function() {
      function TweenMess() {
        this.tweenType = TweenTyep.move;
        this.posList = [ cc.v2(0, 0) ];
        this.angleV = 0;
        this.actTime = 1;
        this.delayTime = 0;
      }
      __decorate([ property({
        type: cc.Enum(TweenTyep)
      }) ], TweenMess.prototype, "tweenType", void 0);
      __decorate([ property({
        type: [ cc.Vec2 ]
      }) ], TweenMess.prototype, "posList", void 0);
      __decorate([ property({
        visible: function() {
          return this.tweenType == TweenTyep.circle || this.tweenType == TweenTyep.rotate;
        }
      }) ], TweenMess.prototype, "angleV", void 0);
      __decorate([ property() ], TweenMess.prototype, "actTime", void 0);
      __decorate([ property() ], TweenMess.prototype, "delayTime", void 0);
      TweenMess = __decorate([ ccclass("TweenMess") ], TweenMess);
      return TweenMess;
    }();
    exports.TweenMess = TweenMess;
    var NewClass = function(_super) {
      __extends(NewClass, _super);
      function NewClass() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.tweenList = [];
        _this.startNum = 0;
        _this.mainTween = null;
        _this.angleConut = 0;
        _this.centerPos = cc.v2(0, 0);
        _this.isRotate = false;
        return _this;
      }
      NewClass.prototype.start = function() {
        this.creatTween();
        this.node.opacity = 255;
      };
      NewClass.prototype.creatTween = function() {
        var _this = this;
        this.mainTween = cc.tween(this.node);
        if (this.tweenList.length <= 0) return;
        var _loop_1 = function(i) {
          var tw = this_1.tweenList[i];
          if (tw.tweenType == TweenTyep.move) this_1.mainTween.to(tw.actTime, {
            position: tw.posList[0]
          }).delay(tw.delayTime); else if (tw.tweenType == TweenTyep.bezier) {
            this_1.runRotate();
            this_1.mainTween.bezierTo(tw.actTime, tw.posList[0], tw.posList[1], tw.posList[2]).delay(tw.delayTime);
          } else tw.tweenType == TweenTyep.circle ? this_1.mainTween.call(function() {
            _this.CurAngle = 0;
            _this.centerPos = tw.posList[0];
            var tween = cc.tween(_this).to(tw.actTime, {
              CurAngle: tw.angleV * tw.actTime
            }).start();
          }).delay(tw.actTime + tw.delayTime) : tw.tweenType == TweenTyep.rotate ? this_1.mainTween.by(tw.actTime, {
            angle: tw.angleV
          }) : tw.tweenType == TweenTyep.scale && this_1.mainTween.to(tw.actTime, {
            scaleX: tw.posList[0].x,
            scaleY: tw.posList[0].y
          }).delay(tw.delayTime);
        };
        var this_1 = this;
        for (var i = 0; i < this.tweenList.length; i++) _loop_1(i);
        this.mainTween.union().repeatForever().start();
      };
      Object.defineProperty(NewClass.prototype, "CurAngle", {
        get: function() {
          return this.angleConut;
        },
        set: function(num) {
          if (Math.abs(this.angleConut - num) < 10) {
            var pos = cc.v2(this.node.getPosition());
            pos = pos.sub(this.centerPos).rotate((num - this.angleConut) / 180 * Math.PI).add(this.centerPos);
            this.node.setPosition(pos);
          }
          this.angleConut = num;
        },
        enumerable: false,
        configurable: true
      });
      NewClass.prototype.runRotate = function() {
        var _this = this;
        if (this.isRotate) return;
        this.isRotate = true;
        this.node.x < 0 ? this.schedule(function() {
          _this.node.angle += 3;
        }, .01) : this.schedule(function() {
          _this.node.angle -= 3;
        }, .01);
      };
      __decorate([ property({
        type: [ TweenMess ]
      }) ], NewClass.prototype, "tweenList", void 0);
      NewClass = __decorate([ ccclass ], NewClass);
      return NewClass;
    }(cc.Component);
    exports.default = NewClass;
    cc._RF.pop();
  }, {} ],
  RecommendGamesNode: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b12f97J/i9PlqiR38XzTuyP", "RecommendGamesNode");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var RecommendGamesNode = function(_super) {
      __extends(RecommendGamesNode, _super);
      function RecommendGamesNode() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.prefab = null;
        _this.prefab1 = null;
        _this.moreGamesPanel = null;
        _this._pageView = null;
        _this._content = null;
        _this._gamePageNode = null;
        _this._dataDirty = false;
        _this._isContentFilled = false;
        _this._scrollInterval = 3;
        _this._timeTmp = 0;
        _this._gameList = null;
        _this.moreGame = null;
        return _this;
      }
      RecommendGamesNode.prototype.onLoad = function() {
        var pageViewNode = this.node.getChildByName("PageView");
        this.moreGame = cc.find("bg/BtnMore", this.node);
        this._pageView = pageViewNode.getComponent(cc.PageView);
        this._content = this._pageView.content;
        this._gamePageNode = this._content.getChildByName("GamePage");
        this._content.removeAllChildren();
      };
      RecommendGamesNode.prototype.init = function(data) {
        this._gameList = data;
        this._gameList && this._gameList.length > 0 ? this._dataDirty = true : this.node.active = false;
      };
      RecommendGamesNode.prototype.onEnable = function() {
        var self = this;
        this.moreGame.on(cc.Node.EventType.TOUCH_START, function(event) {
          if (PlatUtils_1.default.IsDouyin) Utils_1.utils.Tool_Douyin.showMoreGamesModal(); else if (!PlatUtils_1.default.IsOPPO || Utils_1.utils.ServerConfig.recommend_bar_show_pannel && "true" == Utils_1.utils.ServerConfig.recommend_bar_show_pannel) {
            var panel = void 0;
            if (2 == Utils_1.utils.ServerConfig.more_game_skin) {
              panel = cc.instantiate(self.prefab1);
              panel.zIndex = 999;
              self.moreGamesPanel = panel.getComponent("MoreGamesPanel1");
            } else {
              panel = cc.instantiate(self.prefab);
              panel.zIndex = 999;
              self.moreGamesPanel = panel.getComponent("MoreGamesPanel");
            }
            cc.director.getScene().addChild(panel);
            self.moreGamesPanel._location = YZ_Constant_1.SubLocation.isScrollbar;
            self.moreGamesPanel.init(self._gameList);
            self.moreGamesPanel.show();
          } else Utils_1.utils.showLog("\u670d\u52a1\u5668\u672a\u914d\u7f6e\u663e\u793a\u66f4\u591a\u6e38\u620f\u9762\u677f\uff01");
        });
      };
      RecommendGamesNode.prototype.onDisable = function() {
        this.moreGame.targetOff(this);
      };
      RecommendGamesNode.prototype.update = function(dt) {
        if (this._dataDirty) {
          this._dataDirty = false;
          this._updateContent();
        }
      };
      RecommendGamesNode.prototype._updateContent = function() {
        if (this._gameList) {
          Utils_1.utils.postRecommentShowData(YZ_Constant_1.SubLocation.isScrollbar);
          var length = Math.floor(this._gameList.length / 4);
          var index = 0;
          for (var i = 0; i < length; i++) {
            var gamePageList = [];
            for (var j = 0; j < 4; j++) {
              gamePageList.push(this._gameList[index]);
              index++;
            }
            var gamePageNode = cc.instantiate(this._gamePageNode);
            var gamePage = gamePageNode.getComponent("GamePage");
            gamePage.init(gamePageList);
            this._pageView.addPage(gamePageNode);
          }
          this._gamePageNode.destroy();
          this._isContentFilled = true;
          this.autoRefrshPageView();
        }
      };
      RecommendGamesNode.prototype.autoRefrshPageView = function() {
        var _this = this;
        this.unscheduleAllCallbacks();
        var interval = 3.5;
        this.schedule(function() {
          var count = _this._pageView.getPages().length;
          var index = _this._pageView.getCurrentPageIndex();
          index = index < count && index + 1 !== count ? index + 1 : 0;
          0 == index ? _this._pageView.scrollToPage(index, 0) : _this._pageView.scrollToPage(index, 2.5);
        }, interval);
      };
      __decorate([ property(cc.Prefab) ], RecommendGamesNode.prototype, "prefab", void 0);
      __decorate([ property(cc.Prefab) ], RecommendGamesNode.prototype, "prefab1", void 0);
      RecommendGamesNode = __decorate([ ccclass ], RecommendGamesNode);
      return RecommendGamesNode;
    }(cc.Component);
    exports.default = RecommendGamesNode;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  RecommendGamesWidget: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e31b1c0YlND25VRQ4r4cdDL", "RecommendGamesWidget");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var PlatUtils_1 = require("./PlatUtils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var RecommendGamesWidget = function(_super) {
      __extends(RecommendGamesWidget, _super);
      function RecommendGamesWidget() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._recommendNode = null;
        _this._isInit = false;
        return _this;
      }
      RecommendGamesWidget.prototype.onLoad = function() {
        this._recommendNode = this.getComponentInChildren("RecommendGamesNode");
        this._recommendNode.node.active = false;
      };
      RecommendGamesWidget.prototype.onEnable = function() {
        var _this = this;
        Utils_1.utils.registerServerInitEvent(function() {
          _this._initWidget();
        }, this);
      };
      RecommendGamesWidget.prototype.onDisable = function() {
        Utils_1.utils.unregisterServerInitEvent(this);
      };
      RecommendGamesWidget.prototype._initWidget = function() {
        if (this._isInit) return;
        var valid = true;
        if (Utils_1.utils.isShowRecommondGamesList()) {
          PlatUtils_1.default.IsDouyin && (Utils_1.utils.Tool_Douyin.isShowMoreGamesModal() || this.node.destroy());
          var data = Utils_1.utils.getRecommondGameList();
          if (data) if (data.length > 0) {
            this._isInit = true;
            this._recommendNode.init(data);
            this._recommendNode.node.active = true;
          } else {
            cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u957f\u5ea6\u4e3a0");
            valid = false;
          } else {
            cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u4e3anull!");
            valid = false;
          }
        }
        valid || this.node.destroy();
      };
      RecommendGamesWidget = __decorate([ ccclass ], RecommendGamesWidget);
      return RecommendGamesWidget;
    }(cc.Component);
    exports.default = RecommendGamesWidget;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils"
  } ],
  RedBagProgressNode: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e9a673D3vhJ67LdUZDWkzQe", "RedBagProgressNode");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var RedBagProgressNode = function(_super) {
      __extends(RedBagProgressNode, _super);
      function RedBagProgressNode() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.progressLbl = null;
        _this.progressBar = null;
        _this.tripNode = null;
        _this.tripProgressLbl = null;
        _this._location = "default";
        return _this;
      }
      RedBagProgressNode.prototype.onLoad = function() {
        this.progressLbl = this.node.getComponentInChildren(cc.Label);
        this.progressBar = this.node.getComponentInChildren(cc.ProgressBar);
        this.tripNode = cc.find("Mask/tripNode", this.node);
        this.tripNode.opacity = 0;
        this.tripProgressLbl = this.tripNode.getComponentInChildren(cc.Label);
      };
      RedBagProgressNode.prototype.init = function(data) {
        var _this = this;
        data && data.location && (this._location = data.location);
        cc.log("wid s==========" + Utils_1.utils.yzRedBagInfo.totalProgress + " pro =" + Utils_1.utils.yzRedBagInfo.progress);
        this.progressBar.progress = Utils_1.utils.yzRedBagInfo.progress / Utils_1.utils.yzRedBagInfo.totalProgress;
        this.progressLbl.string = Utils_1.utils.yzRedBagInfo.progress + "/" + Utils_1.utils.yzRedBagInfo.totalProgress;
        this.tripProgressLbl.string = "\u901a\u8fc7" + Utils_1.utils.yzRedBagInfo.totalProgress + "\u5173\u5373\u53ef\u9886\u53d6\u7ea2\u5305";
        if (Utils_1.utils.yzRedBagInfo.progress >= Utils_1.utils.yzRedBagInfo.totalProgress) {
          cc.find("Mask/Icon/pro_cghb", this.node).active = false;
          cc.find("Mask/Icon/pro_full", this.node).active = true;
          cc.find("Mask/Icon/pro_full", this.node).stopAllActions();
          cc.find("Mask/Icon/pro_full", this.node).runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5, 1.2), cc.scaleTo(.5, 1))));
        } else {
          cc.find("Mask/Icon/pro_cghb", this.node).active = true;
          cc.find("Mask/Icon/pro_full", this.node).active = false;
          cc.find("Mask/Icon/pro_full", this.node).stopAllActions();
        }
        setTimeout(function() {
          _this.tripNode && cc.isValid(_this.tripNode) && _this.tripNode.runAction(cc.sequence(cc.fadeIn(.3), cc.callFunc(function() {
            _this.tripNode && cc.isValid(_this.tripNode) && _this.tripNode.runAction(cc.sequence(cc.delayTime(5), cc.fadeOut(.3)));
          })));
        }, 3e3);
      };
      RedBagProgressNode.prototype.onEnable = function() {
        var _this = this;
        this.init();
        Utils_1.utils.SendEvent("\u7ea2\u5305\u8fdb\u5ea6\u6302\u4ef6-" + this._location + "-\u5c55\u793a\u6210\u529f");
        cc.game.on("YZ_RED_BAG_PROGRESS_CHANGE", function() {
          _this.init();
        }, this);
      };
      RedBagProgressNode.prototype.showOpenRedBagPanel = function() {
        Utils_1.utils.SendEvent("\u7ea2\u5305\u8fdb\u5ea6\u6302\u4ef6-" + this._location + "-\u70b9\u51fb\u4e0a\u62a5");
        Utils_1.utils.yzRedBagInfo.progress >= Utils_1.utils.yzRedBagInfo.totalProgress ? Utils_1.utils.showOpenRedBagPanel({
          showType: 2
        }) : Utils_1.utils.showMsg("\u518d\u6311\u6218" + (Utils_1.utils.yzRedBagInfo.totalProgress - Utils_1.utils.yzRedBagInfo.progress) + "\u5173\u5373\u53ef\u9886\u53d6\u73b0\u91d1\u7ea2\u5305");
      };
      RedBagProgressNode.prototype.onDisable = function() {
        this.unscheduleAllCallbacks();
        this.node.targetOff(this);
        cc.game.targetOff(this);
      };
      RedBagProgressNode = __decorate([ ccclass ], RedBagProgressNode);
      return RedBagProgressNode;
    }(cc.Component);
    exports.default = RedBagProgressNode;
    cc._RF.pop();
  }, {
    "./Utils": "Utils"
  } ],
  RedBagProgressWidget: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "08619NRFCNJ1ZrMhE5AcumI", "RedBagProgressWidget");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var RedBagProgressWidget = function(_super) {
      __extends(RedBagProgressWidget, _super);
      function RedBagProgressWidget() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._redBagProgressNode = null;
        _this._isInit = false;
        _this._data = null;
        return _this;
      }
      RedBagProgressWidget.prototype.onLoad = function() {
        this._redBagProgressNode = this.getComponentInChildren("RedBagProgressNode");
        this._redBagProgressNode.node.active = false;
      };
      RedBagProgressWidget.prototype.onEnable = function() {
        var _this = this;
        Utils_1.utils.registerServerInitEvent(function() {
          _this._initWidget();
        }, this);
      };
      RedBagProgressWidget.prototype.init = function(data) {
        this._data = data;
      };
      RedBagProgressWidget.prototype.onDisable = function() {
        Utils_1.utils.unregisterServerInitEvent(this);
      };
      RedBagProgressWidget.prototype._initWidget = function() {
        this._redBagProgressNode._location = this._data ? this._data.location : "default";
        this._redBagProgressNode.node.active = true;
      };
      RedBagProgressWidget = __decorate([ ccclass ], RedBagProgressWidget);
      return RedBagProgressWidget;
    }(cc.Component);
    exports.default = RedBagProgressWidget;
    cc._RF.pop();
  }, {
    "./Utils": "Utils"
  } ],
  ResMgr: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "16b2fTucYZJHKNGhllUA2TP", "ResMgr");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CocosZ_1 = require("./CocosZ");
    var ResMgr = function() {
      function ResMgr() {
        this._prefabDic = {};
        this._imgDic = {};
        this._atlasDic = {};
        this._audioDic = {};
        this._jsonDic = {};
      }
      Object.defineProperty(ResMgr, "inst", {
        get: function() {
          if (!ResMgr._inst) {
            ResMgr._inst = new ResMgr();
            ResMgr._inst._init();
          }
          return ResMgr._inst;
        },
        enumerable: false,
        configurable: true
      });
      ResMgr.prototype._init = function() {};
      ResMgr.prototype.cacheCocoszAudio = function() {
        for (var i = 0; i < CocosZ_1.cocosz.audioList.length; i++) {
          var res = CocosZ_1.cocosz.audioList[i];
          this._cacheRes(res, cc.AudioClip);
        }
        CocosZ_1.cocosz.audioList = null;
      };
      ResMgr.prototype.loadRes = function(path, type, progress, complete) {
        var bundle = CocosZ_1.cocosz.getBundleWithPath(path);
        bundle && bundle.load(path, type, function(completedCount, totalCount, item) {
          progress && progress(completedCount, totalCount, item);
        }, function(error, resource) {
          error && cc.log("\u52a0\u8f7d\u8d44\u6e90", path, "\u5931\u8d25");
          complete && complete(error, resource);
        });
      };
      ResMgr.prototype.loadAndCacheResArray = function(urls, type, progress, complete) {
        for (var i = 0; i < urls.length; i++) this.loadAndCacheRes(urls[i], type, progress, complete);
      };
      ResMgr.prototype.loadAndCacheRes = function(url, type, progress, complete) {
        var _this = this;
        var path = url.path ? url.path : url;
        var bundle = CocosZ_1.cocosz.getBundleWithPath(path);
        bundle && bundle.load(path, type, function(completedCount, totalCount, item) {
          progress && progress(completedCount, totalCount, item);
        }, function(error, resource) {
          error ? cc.log("\u52a0\u8f7d\u7f13\u5b58\u8d44\u6e90", path, "\u5931\u8d25") : _this._cacheRes(resource, type);
          complete && complete(error, resource);
        });
      };
      ResMgr.prototype._cacheRes = function(res, type) {
        type == cc.Prefab ? this._cachPrefab(res) : type == cc.SpriteFrame ? this._cachTexture(res) : type == cc.SpriteAtlas ? this._cachSpriteAtlas(res) : type == cc.AudioClip ? this._cachAudioClip(res) : type == cc.JsonAsset && this._cachJsonAsset(res);
      };
      ResMgr.prototype._cachPrefab = function(res) {
        if (res) {
          res.addRef();
          this._prefabDic[res.name] = res;
        }
      };
      ResMgr.prototype._cachTexture = function(res) {
        if (res) {
          res.addRef();
          this._imgDic[res.name] = res;
        }
      };
      ResMgr.prototype._cachSpriteAtlas = function(res) {
        if (res) {
          res.addRef();
          this._atlasDic[res.name] = res;
          var spframes = res.getSpriteFrames();
          for (var i = 0; i < spframes.length; i++) this._cachTexture(spframes[i]);
        }
      };
      ResMgr.prototype._cachAudioClip = function(res) {
        if (res) {
          res.addRef();
          this._audioDic[res.name] = res;
        }
      };
      ResMgr.prototype._cachJsonAsset = function(res) {
        if (res) {
          res.addRef();
          this._jsonDic[res.name] = res;
        }
      };
      ResMgr.prototype.getRes = function(name, type) {
        switch (type) {
         case cc.Prefab:
          return this._check(name, this._prefabDic[name]);

         case cc.SpriteFrame:
          return this._check(name, this._imgDic[name]);

         case cc.AudioClip:
          return this._check(name, this._audioDic[name]);

         case cc.JsonAsset:
          return this._check(name, this._jsonDic[name]);

         default:
          cc.log("\u8d44\u6e90\u7c7b\u578b\u4e0d\u5b58\u5728\uff1a" + type);
          return null;
        }
      };
      ResMgr.prototype._check = function(name, res) {
        if (res && res.isValid) return res;
        cc.log("\u8d44\u6e90\u4e0d\u5b58\u5728\uff1a" + name);
        return null;
      };
      ResMgr.prototype.releaseResArray = function(urlList, type) {
        var _this = this;
        urlList.forEach(function(url) {
          var name = url.path.split("/").pop();
          name && _this.releaseSingleRes(name, type);
        });
      };
      ResMgr.prototype.releaseSingleRes = function(name, type) {
        switch (type) {
         case cc.Prefab:
          if (this._prefabDic[name] && cc.isValid(this._prefabDic[name])) {
            this._prefabDic[name].decRef();
            cc.assetManager.releaseAsset(this._prefabDic[name]);
            this._prefabDic[name] = null;
          }
          break;

         case cc.SpriteFrame:
          if (this._imgDic[name] && cc.isValid(this._imgDic[name])) {
            this._imgDic[name].decRef();
            cc.assetManager.releaseAsset(this._imgDic[name]);
            this._imgDic[name] = null;
          }
          break;

         case cc.SpriteAtlas:
          if (this._atlasDic[name] && cc.isValid(this._atlasDic[name])) {
            this._atlasDic[name].decRef();
            cc.assetManager.releaseAsset(this._atlasDic[name]);
            this._atlasDic[name] = null;
          }
          break;

         case cc.AudioClip:
          if (this._audioDic[name] && cc.isValid(this._audioDic[name])) {
            this._audioDic[name].decRef();
            cc.assetManager.releaseAsset(this._audioDic[name]);
            this._audioDic[name] = null;
          }
          break;

         case cc.JsonAsset:
          if (this._jsonDic[name] && cc.isValid(this._jsonDic[name])) {
            this._jsonDic[name].decRef();
            cc.assetManager.releaseAsset(this._jsonDic[name]);
            this._jsonDic[name] = null;
          }
          break;

         default:
          cc.log("\u91ca\u653e\u8d44\u6e90\u7684\u7c7b\u578b\u51fa\u9519");
        }
      };
      return ResMgr;
    }();
    exports.default = ResMgr;
    cc._RF.pop();
  }, {
    "./CocosZ": "CocosZ"
  } ],
  RewardBoxPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6f2019z6ZxHbL/eZ03jZOQ0", "RewardBoxPanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var AldUtils_1 = require("./AldUtils");
    var PlatUtils_1 = require("./PlatUtils");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var RewardBoxPanel = function(_super) {
      __extends(RewardBoxPanel, _super);
      function RewardBoxPanel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.checked = null;
        _this.doubleBtn = null;
        _this.tripleVideoBtn = null;
        _this.tripleBtn = null;
        _this.goldLabel = null;
        _this.tirpNode = null;
        _this.light = null;
        _this.panel = null;
        _this.closeBtn = null;
        _this.rewardCallFunc = null;
        _this.rewardValue = 0;
        _this._boxGetRewardCount = 0;
        _this._multiple = 1;
        return _this;
      }
      Object.defineProperty(RewardBoxPanel.prototype, "boxGetRewardCount", {
        get: function() {
          return this._boxGetRewardCount;
        },
        set: function(value) {
          this._boxGetRewardCount = value;
          YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_GET_BOX_REWARD_COUNT, value + "");
        },
        enumerable: false,
        configurable: true
      });
      RewardBoxPanel.prototype.onLoad = function() {
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        this.rewardCallFunc = Utils_1.utils.rewardCallFunc;
        this.rewardValue = Utils_1.utils.rewardValue;
        cc.winSize.height < cc.winSize.width ? Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Game) : Utils_1.utils.adManager.ShowBanner(YZ_Constant_1.BannerLocation.Game);
        this.panel.scale = 0;
        this._boxGetRewardCount = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_GET_BOX_REWARD_COUNT) || 0;
        AldUtils_1.default.SendEvent("\u5956\u52b1\u5b9d\u7bb1\u663e\u793a\u6210\u529f\uff01");
        this.goldLabel.string = "/" + this.rewardValue.toString();
      };
      RewardBoxPanel.prototype.onEnable = function() {
        var _this = this;
        Utils_1.utils.showSkipBtn(this.closeBtn, true);
        var ratio = 1;
        ratio = cc.winSize.height < cc.winSize.width ? cc.winSize.width / 1920 * .6 : cc.winSize.width / 1080;
        PlatUtils_1.default.IsTest && (Utils_1.utils.ServerConfig.reward_box_change_count = 5);
        this.panel.runAction(cc.sequence(cc.scaleTo(.3, ratio).easing(cc.easeBackOut()), cc.callFunc(function() {
          var changeCount = Utils_1.utils.ServerConfig.reward_box_change_count ? parseInt(Utils_1.utils.ServerConfig.reward_box_change_count) : 0;
          if (void 0 != Utils_1.utils.ServerConfig.reward_box_change_count && _this.boxGetRewardCount >= changeCount) {
            _this.tripleVideoBtn.active = true;
            _this.tripleBtn.active = false;
            Utils_1.utils.showScaleAction(_this.tripleVideoBtn, _this.doubleBtn, true, true);
          } else {
            _this.tripleVideoBtn.active = false;
            Utils_1.utils.showScaleAction(_this.tripleBtn, null, false, true);
          }
          _this.light.runAction(cc.rotateBy(3, 360).repeatForever());
        })));
      };
      RewardBoxPanel.prototype.onDestroy = function() {
        Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Game);
        if (Utils_1.utils.rewardBoxPanelCloseFunc) {
          Utils_1.utils.rewardBoxPanelCloseFunc();
          Utils_1.utils.rewardBoxPanelCloseFunc = null;
        } else {
          Utils_1.utils.rewardCloseFunc && Utils_1.utils.rewardCloseFunc();
          Utils_1.utils.rewardCloseFunc = null;
        }
      };
      RewardBoxPanel.prototype.onClose = function() {
        var _this = this;
        this.panel.runAction(cc.sequence(cc.scaleTo(.3, 0).easing(cc.easeBackIn()), cc.callFunc(function() {
          _this.node.destroy();
        })));
      };
      RewardBoxPanel.prototype.onPlayVideo = function() {
        var _this = this;
        Utils_1.utils.adManager.ShowVideo(function(ret, msg) {
          if (ret) {
            Utils_1.utils.showMsg("\u83b7\u5f97" + _this._multiple + "\u500d\u5956\u52b1! +" + _this.rewardValue * _this._multiple);
            _this.rewardValue = _this.rewardValue * _this._multiple;
            _this.boxGetRewardCount++;
            var result = new YZ_Constant_1.YZ_Reward();
            result.rewardValue = _this.rewardValue;
            _this.rewardCallFunc && _this.rewardCallFunc(result);
            _this.onClose();
            AldUtils_1.default.SendEvent("\u5b9d\u7bb1\u83b7\u53d6\u5956\u52b1\u6210\u529f\uff01");
          } else {
            Utils_1.utils.showMsg(msg || "\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5931\u8d25\uff01");
            AldUtils_1.default.SendEvent("\u5b9d\u7bb1\u89c6\u9891\u64ad\u653e\u5931\u8d25\uff01");
          }
        });
      };
      RewardBoxPanel.prototype.onGetGold = function(event, data) {
        this._multiple = parseInt(data);
        switch (event.target.name) {
         case "BtnTripleVideo":
          AldUtils_1.default.SendEvent("\u70b9\u51fb\u5b9d\u7bb1\u89c6\u9891\u83b7\u53d6\u6309\u94ae\uff01");
          this.onPlayVideo();
          break;

         case "BtnDouble":
         case "BtnTriple":
          AldUtils_1.default.SendEvent("\u70b9\u51fb\u5b9d\u7bb1\u666e\u901a\u83b7\u53d6\u6309\u94ae\uff01");
          Utils_1.utils.showMsg("\u83b7\u5f97" + this._multiple + "\u500d\u5956\u52b1! +" + this.rewardValue * this._multiple);
          this.boxGetRewardCount++;
          if (this.rewardCallFunc) {
            var result = new YZ_Constant_1.YZ_Reward();
            result.rewardValue = this.rewardValue * this._multiple;
            this.rewardCallFunc(result);
          }
          this.onClose();
        }
      };
      __decorate([ property(cc.Node) ], RewardBoxPanel.prototype, "checked", void 0);
      __decorate([ property(cc.Node) ], RewardBoxPanel.prototype, "doubleBtn", void 0);
      __decorate([ property(cc.Node) ], RewardBoxPanel.prototype, "tripleVideoBtn", void 0);
      __decorate([ property(cc.Node) ], RewardBoxPanel.prototype, "tripleBtn", void 0);
      __decorate([ property(cc.Label) ], RewardBoxPanel.prototype, "goldLabel", void 0);
      __decorate([ property(cc.Node) ], RewardBoxPanel.prototype, "tirpNode", void 0);
      __decorate([ property(cc.Node) ], RewardBoxPanel.prototype, "light", void 0);
      __decorate([ property(cc.Node) ], RewardBoxPanel.prototype, "panel", void 0);
      __decorate([ property(cc.Node) ], RewardBoxPanel.prototype, "closeBtn", void 0);
      RewardBoxPanel = __decorate([ ccclass ], RewardBoxPanel);
      return RewardBoxPanel;
    }(cc.Component);
    exports.default = RewardBoxPanel;
    cc._RF.pop();
  }, {
    "./AldUtils": "AldUtils",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  RewardInsert: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7087bM2rPJIqI5a6FekvQ2X", "RewardInsert");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var AldUtils_1 = require("./AldUtils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var RewardInsert = function(_super) {
      __extends(RewardInsert, _super);
      function RewardInsert() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._jumpList = null;
        _this._items = [];
        _this.isShow = false;
        _this._panel = null;
        _this._mask = null;
        return _this;
      }
      RewardInsert.prototype.onLoad = function() {
        cc.game.addPersistRootNode(this.node);
        this._mask = this.node.getChildByName("Mask");
        this._panel = this.node.getChildByName("Panel");
        for (var i = 0; i < 6; i++) {
          var item = this._panel.getChildByName("Item" + i);
          var qcrossWidgetItem = item.getComponent("QCrossWidgetItem");
          qcrossWidgetItem._location = YZ_Constant_1.SubLocation.isReward;
          this._items.push(qcrossWidgetItem);
        }
        var ratio = 1;
        ratio = cc.winSize.height < cc.winSize.width ? cc.winSize.width / 1920 * .7 : cc.winSize.width / 1080;
        this._panel.scale = ratio;
      };
      RewardInsert.prototype.start = function() {
        this._jumpList = Utils_1.utils.getRecommondGameList();
        if (this._jumpList && this._jumpList.length > 0) this._initWidget(); else {
          cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u4e3anull,\u6fc0\u52b1\u63d2\u5c4f\u7ec4\u4ef6\u4e0d\u663e\u793a!");
          Utils_1.utils.adManager.videoCallBack && Utils_1.utils.adManager.videoCallBack(false, "\u6fc0\u52b1\u7ec4\u4ef6\u52a0\u8f7d\u5931\u8d25\uff01");
          Utils_1.utils.adManager.videoCallBack = null;
          this.node.destroy();
        }
      };
      RewardInsert.prototype._initWidget = function() {
        var idx = 0;
        for (var i = 0; i < this._jumpList.length; i++) {
          var data = this._jumpList[i];
          if (data && data.logo) {
            var itemIdx = idx;
            if (itemIdx >= this._items.length) return;
            idx++;
            this._items[itemIdx].init(data);
          }
        }
      };
      RewardInsert.prototype.hide = function() {
        this._panel.active = false;
        this._mask.active = false;
      };
      RewardInsert.prototype.onCloseBtnHandler = function(event, data) {
        this.hide();
        Utils_1.utils.adManager.videoCallBack && Utils_1.utils.adManager.videoCallBack(false, "\u672a\u70b9\u51fb\u8bd5\u73a9\u5956\u52b1\uff01");
        Utils_1.utils.adManager.videoCallBack = null;
      };
      RewardInsert.prototype.update = function(dt) {
        if (!this.isShow) {
          Utils_1.utils.showLog("show insertReward>>>>>");
          AldUtils_1.default.SendEvent("\u663e\u793a\u6fc0\u52b1\u63d2\u5c4f");
          this.isShow = true;
          this._panel.active = true;
          this._mask.active = true;
        }
      };
      RewardInsert = __decorate([ ccclass ], RewardInsert);
      return RewardInsert;
    }(cc.Component);
    exports.default = RewardInsert;
    cc._RF.pop();
  }, {
    "./AldUtils": "AldUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  RewardRedBagPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "946b7F+eyBGEbvsWerWCHnf", "RewardRedBagPanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var RewardRedBagPanel = function(_super) {
      __extends(RewardRedBagPanel, _super);
      function RewardRedBagPanel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._panel = null;
        return _this;
      }
      RewardRedBagPanel.prototype.onLoad = function() {
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        this._panel = this.node.getChildByName("Panel");
        var ratio = 1;
        ratio = cc.winSize.height < cc.winSize.width ? cc.winSize.width / 1920 * .5 : cc.winSize.width / 1080;
        this._panel.scale = ratio;
        this.init();
      };
      RewardRedBagPanel.prototype.openRedBag = function() {
        Utils_1.utils.SendEvent("\u606d\u559c\u83b7\u5f97\u7ea2\u5305\u5f39\u7a97-\u70b9\u51fb\u9886\u53d6\u7ea2\u5305\uff01");
        Utils_1.utils.showOpenRedBagPanel({
          showType: 2
        });
        this.hide();
      };
      RewardRedBagPanel.prototype.init = function() {
        Utils_1.utils.SendEvent("\u606d\u559c\u83b7\u5f97\u7ea2\u5305\u5f39\u7a97-\u5c55\u793a\u6210\u529f\uff01");
      };
      RewardRedBagPanel.prototype.hide = function() {
        this.node.active = false;
      };
      RewardRedBagPanel.prototype.onCloseBtnHandler = function(event, data) {
        this.hide();
      };
      RewardRedBagPanel = __decorate([ ccclass ], RewardRedBagPanel);
      return RewardRedBagPanel;
    }(cc.Component);
    exports.default = RewardRedBagPanel;
    cc._RF.pop();
  }, {
    "./Utils": "Utils"
  } ],
  RewardShortCutPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "54f94n1JbRKZpvYKlOs4T8g", "RewardShortCutPanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var RewardShortCutPanel = function(_super) {
      __extends(RewardShortCutPanel, _super);
      function RewardShortCutPanel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.bg = null;
        _this.btnOk = null;
        _this.btnCancel = null;
        _this.glodNode = null;
        _this.glodLabel = null;
        _this.rewardCallFunc = null;
        _this.rewardValue = 0;
        _this._showBanner = false;
        return _this;
      }
      RewardShortCutPanel.prototype.onLoad = function() {
        Utils_1.utils.SendEvent("\u7ed3\u7b97\u524d\u5e7f\u544a-\u521b\u5efa\u5feb\u6377\u684c\u9762-\u5c55\u793a\u6210\u529f\uff01");
        var shortcutCreated = false;
        PlatUtils_1.default.IsOPPO ? shortcutCreated = Utils_1.utils.oppoTool._shortcutCreated : PlatUtils_1.default.IsVIVO && (shortcutCreated = Utils_1.utils.Tool_Vivo._shortcutCreated);
        if (shortcutCreated) {
          Utils_1.utils.showLog("\u5df2\u7ecf\u5b58\u5728\u684c\u9762\u5feb\u6377\u65b9\u5f0f\uff0c\u5f53\u524d\u7a97\u53e3\u76f4\u63a5\u9500\u6bc1\uff01");
          Utils_1.utils.SendEvent("\u7ed3\u7b97\u524d\u5e7f\u544a-\u521b\u5efa\u5feb\u6377\u684c\u9762-\u5df2\u7ecf\u5b58\u5728\u684c\u9762\u5feb\u6377\u65b9\u5f0f\uff01");
          this.node.destroy();
          return;
        }
        if (void 0 != Utils_1.utils.ServerConfig.auto_desktop && 0 === Utils_1.utils.ServerConfig.auto_desktop) {
          Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u76f4\u63a5\u521b\u5efa\u684c\u9762\uff0c\u4e0d\u663e\u793a\u5f39\u7a97\uff0c\u5f53\u524d\u7a97\u53e3\u76f4\u63a5\u9500\u6bc1\uff01");
          Utils_1.utils.SendEvent("\u7ed3\u7b97\u524d\u5e7f\u544a-\u521b\u5efa\u5feb\u6377\u684c\u9762-\u670d\u52a1\u5668\u914d\u7f6e\u76f4\u63a5\u521b\u5efa\u684c\u9762\uff0c\u4e0d\u663e\u793a\u5f39\u7a97\uff01");
          Utils_1.utils.cur_tool && Utils_1.utils.cur_tool.createShortcut && Utils_1.utils.cur_tool.createShortcut(function(res) {
            Utils_1.utils.SendEvent("\u7ed3\u7b97\u524d\u5e7f\u544a-\u76f4\u63a5\u521b\u5efa\u5feb\u6377\u684c\u9762-\u521b\u5efa\u6210\u529f\uff01");
          });
          this.node.destroy();
          return;
        }
        this.rewardValue = Utils_1.utils.rewardValue;
        this.rewardCallFunc = Utils_1.utils.rewardCallFunc;
        this.initUi();
        this.initListener();
        if (cc.winSize.height < cc.winSize.width) Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Game); else {
          this._showBanner = true;
          Utils_1.utils.adManager.ShowBanner(YZ_Constant_1.BannerLocation.Game);
        }
      };
      RewardShortCutPanel.prototype.initUi = function() {
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        this.bg = this.node.getChildByName("Panel").children[0];
        this.btnCancel = this.bg.getChildByName("btnClose");
        this.btnOk = this.bg.getChildByName("btnOk");
        this.glodNode = this.bg.getChildByName("rewardLabel");
        this.glodLabel = this.glodNode.getComponent(cc.Label);
        this.glodLabel.string = "\u5956\u52b1+" + this.rewardValue;
        0 == this.rewardValue && (this.glodNode.active = false);
        Utils_1.utils.showSkipBtn(this.btnCancel);
      };
      RewardShortCutPanel.prototype.onDestroy = function() {
        this._showBanner && Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Game);
        if (Utils_1.utils.rewardShortCutPanelCloseFunc) {
          Utils_1.utils.rewardShortCutPanelCloseFunc();
          Utils_1.utils.rewardShortCutPanelCloseFunc = null;
        } else {
          Utils_1.utils.rewardCloseFunc && Utils_1.utils.rewardCloseFunc();
          Utils_1.utils.rewardCloseFunc = null;
        }
        Utils_1.utils.cur_tool && Utils_1.utils.cur_tool.checkHasShortCut && Utils_1.utils.cur_tool.checkHasShortCut();
      };
      RewardShortCutPanel.prototype.onClose = function() {
        var _this = this;
        this.bg.runAction(cc.sequence(cc.scaleTo(.3, 0).easing(cc.easeBackIn()), cc.callFunc(function() {
          _this.node.destroy();
        })));
      };
      RewardShortCutPanel.prototype.onEnable = function() {
        var _this = this;
        this.bg.scale = 0;
        var ratio = 1;
        ratio = cc.winSize.height < cc.winSize.width ? cc.winSize.width / 1920 * .6 : cc.winSize.width / 1080;
        this.bg.runAction(cc.sequence(cc.scaleTo(.3, ratio).easing(cc.easeBackOut()), cc.callFunc(function() {
          _this.btnOk.runAction(cc.sequence(cc.scaleTo(.5, 1.15), cc.scaleTo(.5, 1)).repeatForever());
        })));
      };
      RewardShortCutPanel.prototype.onCreateShortCut = function() {
        var _this = this;
        PlatUtils_1.default.IsOPPO ? Utils_1.utils.oppoTool.createShortcut(function(res) {
          Utils_1.utils.SendEvent("\u7ed3\u7b97\u524d\u5e7f\u544a-\u521b\u5efa\u5feb\u6377\u684c\u9762-\u521b\u5efa\u6210\u529f\uff01");
          _this.rewardFunc(res);
        }) : PlatUtils_1.default.IsVIVO && Utils_1.utils.Tool_Vivo.createShortcut(function(res) {
          Utils_1.utils.SendEvent("\u7ed3\u7b97\u524d\u5e7f\u544a-\u521b\u5efa\u5feb\u6377\u684c\u9762-\u521b\u5efa\u6210\u529f\uff01");
          _this.rewardFunc(res);
        });
      };
      RewardShortCutPanel.prototype.initListener = function() {};
      RewardShortCutPanel.prototype.rewardFunc = function(ret) {
        if (ret) {
          var result = new YZ_Constant_1.YZ_Reward();
          result.rewardValue = this.rewardValue;
          Utils_1.utils.showMsg("\u6dfb\u52a0\u6210\u529f\uff01\u5956\u52b1\uff1a+" + this.rewardValue);
          this.rewardCallFunc && this.rewardCallFunc(result);
          this.onClose();
        } else {
          Utils_1.utils.showMsg("\u6dfb\u52a0\u5931\u8d25\uff01");
          this.onClose();
        }
      };
      RewardShortCutPanel.prototype.initData = function() {};
      RewardShortCutPanel = __decorate([ ccclass ], RewardShortCutPanel);
      return RewardShortCutPanel;
    }(cc.Component);
    exports.default = RewardShortCutPanel;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  SceneMgr: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a162cN35T1OAIoKBFHGNLm8", "SceneMgr");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var gameMgr_1 = require("../Game/gameMgr");
    var setMap_1 = require("../Game/setMap");
    var GuideLayer_1 = require("../UI/GuideLayer");
    var CocosZ_1 = require("./CocosZ");
    var SceneMgr = function() {
      function SceneMgr() {
        this._activeScene = "";
        this._timeInterval = 0;
      }
      Object.defineProperty(SceneMgr, "inst", {
        get: function() {
          SceneMgr._inst || (SceneMgr._inst = new SceneMgr());
          return SceneMgr._inst;
        },
        enumerable: false,
        configurable: true
      });
      SceneMgr.prototype.loadScene = function(name, onLunch) {
        var _this = this;
        if (this._activeScene == name) {
          var curTime = new Date().getTime();
          if (curTime - this._timeInterval < 1e3) return;
        }
        this._timeInterval = new Date().getTime();
        this.loadBefore(name, function() {
          cc.director.loadScene(name, function() {
            _this._activeScene = name;
            onLunch();
            _this.loadFinish(name);
          });
        });
      };
      SceneMgr.prototype.loadBefore = function(name, call) {
        if (GuideLayer_1.guideLayer && GuideLayer_1.guideLayer.isValid) if ("Home" == name) {
          GuideLayer_1.guideLayer.node.zIndex = cc.macro.MAX_ZINDEX;
          GuideLayer_1.guideLayer.hideFjAni();
          GuideLayer_1.guideLayer.showBgAni();
        } else if ("Game" == name) {
          GuideLayer_1.guideLayer.node.zIndex = cc.macro.MAX_ZINDEX;
          if ([ 5, 7 ].includes(CocosZ_1.cocosz.gameMode)) {
            GuideLayer_1.guideLayer.hideFjAni();
            GuideLayer_1.guideLayer.showBgAni();
          } else {
            GuideLayer_1.guideLayer.hideBgAni();
            GuideLayer_1.guideLayer.showFjAni();
          }
        }
        if ("Home" == name && gameMgr_1.gameMgr && gameMgr_1.gameMgr.map && gameMgr_1.gameMgr.map.isValid) {
          var mapTs_1 = gameMgr_1.gameMgr.map.getComponent(setMap_1.default);
          if (mapTs_1) {
            setTimeout(function() {
              mapTs_1.release(call);
            }, 100);
            return;
          }
        }
        call && call();
      };
      SceneMgr.prototype.loadFinish = function(name) {
        "Home" == name ? GuideLayer_1.guideLayer && GuideLayer_1.guideLayer.isValid && (GuideLayer_1.guideLayer.node.zIndex = cc.macro.MIN_ZINDEX) : "Game" == name && (GuideLayer_1.guideLayer.node.zIndex = cc.macro.MIN_ZINDEX);
        CocosZ_1.cocosz.audioMgr.playBgm();
      };
      SceneMgr.prototype.releaseRes = function() {
        var audio_game = [];
        CocosZ_1.cocosz.getDirWithPath("audio_game", cc.AudioClip, audio_game);
        CocosZ_1.cocosz.resMgr.releaseResArray(audio_game, cc.AudioClip);
        if (6 == CocosZ_1.cocosz.gameMode) {
          var audio_zombie = [];
          CocosZ_1.cocosz.getDirWithPath("audio_zombie", cc.AudioClip, audio_zombie);
          CocosZ_1.cocosz.resMgr.releaseResArray(audio_zombie, cc.AudioClip);
          var prefab_zombie = [];
          CocosZ_1.cocosz.getDirWithPath("prefab_zombie", cc.Prefab, prefab_zombie);
          CocosZ_1.cocosz.resMgr.releaseResArray(prefab_zombie, cc.Prefab);
          var prefab_zombie_skill = [];
          CocosZ_1.cocosz.getDirWithPath("prefab_zombie_skill", cc.Prefab, prefab_zombie_skill);
          CocosZ_1.cocosz.resMgr.releaseResArray(prefab_zombie_skill, cc.Prefab);
          var tex_zombie = [];
          CocosZ_1.cocosz.getDirWithPath("tex_zombie", cc.SpriteFrame, tex_zombie);
          CocosZ_1.cocosz.resMgr.releaseResArray(tex_zombie, cc.SpriteFrame);
        }
      };
      return SceneMgr;
    }();
    exports.default = SceneMgr;
    cc._RF.pop();
  }, {
    "../Game/gameMgr": "gameMgr",
    "../Game/setMap": "setMap",
    "../UI/GuideLayer": "GuideLayer",
    "./CocosZ": "CocosZ"
  } ],
  ShareOrVideo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "af730WeuddAYrpP8Nt749SI", "ShareOrVideo");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CocosZ_1 = require("../Framework/CocosZ");
    var Constant_1 = require("../Framework/Constant");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ShareOrVideo = function(_super) {
      __extends(ShareOrVideo, _super);
      function ShareOrVideo() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._btn = false;
        _this.isGuideSKill = false;
        _this.shareNode = null;
        _this.videoNode = null;
        return _this;
      }
      Object.defineProperty(ShareOrVideo.prototype, "btn", {
        get: function() {
          return this._btn;
        },
        set: function(v) {
          this._btn = false;
          this.node.getChildByName("share") && (this.shareNode = this.node.getChildByName("share"));
          this.node.getChildByName("video") && (this.videoNode = this.node.getChildByName("video"));
        },
        enumerable: false,
        configurable: true
      });
      ShareOrVideo.prototype.onLoad = function() {
        this.node.on(cc.Node.EventType.TOUCH_END, function() {});
        cc.game.on(Constant_1.default.E_ShareOrVideo, this.show, this);
      };
      ShareOrVideo.prototype.onDestroy = function() {
        cc.game.targetOff(this);
      };
      ShareOrVideo.prototype.start = function() {
        this.show();
      };
      ShareOrVideo.prototype.show = function() {
        if (this.isGuideSKill && CocosZ_1.cocosz.dataMgr.guide_skill) {
          this.shareNode && this.shareNode.isValid && (this.shareNode.active = false);
          this.videoNode && this.videoNode.isValid && (this.videoNode.active = false);
        } else {
          this.shareNode && this.shareNode.isValid && (this.shareNode.active = CocosZ_1.cocosz.canShare);
          this.videoNode && this.videoNode.isValid && (this.videoNode.active = !CocosZ_1.cocosz.canShare);
        }
      };
      __decorate([ property() ], ShareOrVideo.prototype, "btn", null);
      __decorate([ property({
        type: cc.Boolean,
        tooltip: "\u662f\u5426\u65b0\u624b\u6307\u5f15\u514d\u8d39\u4f7f\u7528"
      }) ], ShareOrVideo.prototype, "isGuideSKill", void 0);
      __decorate([ property({
        type: cc.Node,
        tooltip: "\u5206\u4eab\u56fe\u6807"
      }) ], ShareOrVideo.prototype, "shareNode", void 0);
      __decorate([ property({
        type: cc.Node,
        tooltip: "\u89c6\u9891\u56fe\u6807"
      }) ], ShareOrVideo.prototype, "videoNode", void 0);
      ShareOrVideo = __decorate([ ccclass ], ShareOrVideo);
      return ShareOrVideo;
    }(cc.Component);
    exports.default = ShareOrVideo;
    cc._RF.pop();
  }, {
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant"
  } ],
  ShareRecordPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "77194e5qe5JZbqo4fZbTk+i", "ShareRecordPanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var CompatibleTool_1 = require("./CompatibleTool");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ShareRecordPanel = function(_super) {
      __extends(ShareRecordPanel, _super);
      function ShareRecordPanel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.bg = null;
        _this.btnOk = null;
        _this.btnCancel = null;
        _this.glodNode = null;
        _this.glodLabel = null;
        _this.sharePanel = null;
        _this.RecPanel = null;
        _this._panel = null;
        _this._gameList = null;
        _this._originScale = 1;
        _this._gameItems = [];
        _this._jumpList = null;
        _this._dataDirty = false;
        _this._star = null;
        _this.gameItemNode = null;
        _this.rewardCallFunc = null;
        _this.rewardValue = 0;
        return _this;
      }
      ShareRecordPanel.prototype.onLoad = function() {
        Utils_1.utils.SendEvent("\u7ed3\u7b97\u524d\u5e7f\u544a-\u5206\u4eab\u5f39\u7a97-\u5c55\u793a\u6210\u529f\uff01");
        this.rewardValue = Utils_1.utils.rewardValue;
        this.rewardCallFunc = Utils_1.utils.rewardCallFunc;
        this.initUi();
        cc.winSize.height < cc.winSize.width ? Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Game) : Utils_1.utils.adManager.ShowBanner(YZ_Constant_1.BannerLocation.Game);
        if (PlatUtils_1.default.IsOPPO && Utils_1.utils.ServerConfig.st_recomment_is_hide_banner && "true" == Utils_1.utils.ServerConfig.st_recomment_is_hide_banner) {
          Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u663e\u793a\u4e92\u63a8\u540e\u9690\u85cfbanner >>>");
          Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Game);
          Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Over);
        }
      };
      ShareRecordPanel.prototype.initUi = function() {
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        this.bg = this.node.getChildByName("Bg");
        this.sharePanel = this.bg.getChildByName("SharePanel");
        this.RecPanel = this.bg.getChildByName("RecPanel");
        if (PlatUtils_1.default.IsOPPO) {
          this.sharePanel.active = false;
          this.RecPanel.active = true;
          this.btnCancel = this.RecPanel.getChildByName("btnCancel");
          this._gameList = this.RecPanel.getChildByName("PageView").getComponent(cc.PageView).content.getChildByName("Panel");
          this.gameItemNode = this._gameList.children[0];
          this._initRecPanel();
          Utils_1.utils.showSkipBtn(this.btnCancel);
        } else {
          this.sharePanel.active = true;
          this.RecPanel.active = false;
          this.btnCancel = this.sharePanel.getChildByName("btnCancel");
          this.btnOk = this.sharePanel.getChildByName("btnOk");
          this.glodNode = this.sharePanel.getChildByName("rewardNode");
          this.glodLabel = this.glodNode.getChildByName("goldLbl").getComponent(cc.Label);
          Utils_1.utils.showSkipBtn(this.btnCancel);
          this.glodLabel.string = "/" + this.rewardValue;
          0 == this.rewardValue && (this.glodNode.active = false);
        }
      };
      ShareRecordPanel.prototype._initRecPanel = function() {
        this._gameList.removeAllChildren();
        this._jumpList = Utils_1.utils.getRecommondGameList();
        for (var i = 0; i < this._jumpList.length; i++) {
          var data = this._jumpList[i];
          if (data && data.logo) {
            var tempNode = cc.instantiate(this.gameItemNode);
            var qcrossWidgetItem = tempNode.getComponent("QCrossWidgetItem");
            qcrossWidgetItem._location = YZ_Constant_1.SubLocation.isMoreGame;
            qcrossWidgetItem.init(data);
            this._gameList.addChild(tempNode);
          }
        }
      };
      ShareRecordPanel.prototype.onDestroy = function() {
        Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Game);
        if (Utils_1.utils.shareRecordPanelCloseFunc) {
          Utils_1.utils.shareRecordPanelCloseFunc();
          Utils_1.utils.shareRecordPanelCloseFunc = null;
        } else {
          Utils_1.utils.rewardCloseFunc && Utils_1.utils.rewardCloseFunc();
          Utils_1.utils.rewardCloseFunc = null;
        }
      };
      ShareRecordPanel.prototype.onClose = function() {
        var _this = this;
        this.bg.runAction(cc.sequence(cc.scaleTo(.3, 0).easing(cc.easeBackIn()), cc.callFunc(function() {
          _this.node.destroy();
        })));
      };
      ShareRecordPanel.prototype.onEnable = function() {
        var _this = this;
        this.bg.scale = 0;
        var ratio = 1;
        ratio = cc.winSize.height < cc.winSize.width ? cc.winSize.width / 1920 * .6 : cc.winSize.width / 1080;
        this.bg.runAction(cc.sequence(cc.scaleTo(.3, ratio).easing(cc.easeBackOut()), cc.callFunc(function() {
          _this.glodNode && true == _this.glodNode.active && _this.glodNode.runAction(cc.sequence(cc.moveBy(.3, CompatibleTool_1.default.position(0, 50)), cc.moveBy(.3, CompatibleTool_1.default.position(0, -50))).repeatForever());
        })));
      };
      ShareRecordPanel.prototype.onCancelClickListener = function() {
        if (PlatUtils_1.default.IsDouyin && Utils_1.utils.ServerConfig && Utils_1.utils.ServerConfig.cancel_btn_is_share && "true" == Utils_1.utils.ServerConfig.cancel_btn_is_share) {
          Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u53d6\u6d88\u6309\u94ae\u4e5f\u4f1a\u89e6\u53d1\u5206\u4eab\uff01");
          Utils_1.utils.share(this.rewardFunc.bind(this));
        } else this.onClose();
      };
      ShareRecordPanel.prototype.onOkBtnClickListener = function() {
        Utils_1.utils.share(this.rewardFunc.bind(this));
      };
      ShareRecordPanel.prototype.rewardFunc = function(ret, msg) {
        if (ret) {
          Utils_1.utils.SendEvent("\u7ed3\u7b97\u524d\u5e7f\u544a-\u5206\u4eab\u5f39\u7a97-\u5206\u4eab\u6210\u529f\uff01");
          var result = new YZ_Constant_1.YZ_Reward();
          result.rewardValue = this.rewardValue;
          Utils_1.utils.showMsg("\u5206\u4eab\u6210\u529f\uff01\u5956\u52b1\uff1a+" + this.rewardValue);
          this.rewardCallFunc && this.rewardCallFunc(result);
          this.onClose();
        } else {
          Utils_1.utils.SendEvent("\u7ed3\u7b97\u524d\u5e7f\u544a-\u5206\u4eab\u5f39\u7a97-\u5206\u4eab\u5931\u8d25\uff01");
          Utils_1.utils.showMsg(msg || "\u5206\u4eab\u5931\u8d25\uff01");
          this.onClose();
        }
      };
      ShareRecordPanel.prototype.initData = function() {};
      ShareRecordPanel = __decorate([ ccclass ], ShareRecordPanel);
      return ShareRecordPanel;
    }(cc.Component);
    exports.default = ShareRecordPanel;
    cc._RF.pop();
  }, {
    "./CompatibleTool": "CompatibleTool",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  ShowDate: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "fb2bf+T41RP1pOMLr4eZBx6", "ShowDate");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, executeInEditMode = _a.executeInEditMode;
    var ShowDate = function(_super) {
      __extends(ShowDate, _super);
      function ShowDate() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      ShowDate.prototype.start = function() {
        var label;
        var d;
        false;
        this.node.zIndex = cc.macro.MAX_ZINDEX;
      };
      ShowDate = __decorate([ ccclass, executeInEditMode ], ShowDate);
      return ShowDate;
    }(cc.Component);
    exports.default = ShowDate;
    cc._RF.pop();
  }, {} ],
  SpriteFrameSet: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "97019Q80jpE2Yfz4zbuCZBq", "SpriteFrameSet");
    "use strict";
    var SpriteFrameSet = cc.Class({
      name: "SpriteFrameSet",
      properties: {
        language: "",
        spriteFrame: cc.SpriteFrame
      }
    });
    module.exports = SpriteFrameSet;
    cc._RF.pop();
  }, {} ],
  StartScene: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "43b0f4vgalEfbPwFDwK4L1k", "StartScene");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var StartScene = function(_super) {
      __extends(StartScene, _super);
      function StartScene() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      StartScene.prototype.start = function() {
        cc.director.loadScene("Load");
      };
      StartScene = __decorate([ ccclass ], StartScene);
      return StartScene;
    }(cc.Component);
    exports.default = StartScene;
    cc._RF.pop();
  }, {} ],
  TryGameNode: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "038c46RnHFFRL5OfKlehQWS", "TryGameNode");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var CompatibleTool_1 = require("./CompatibleTool");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var TryGameNode = function(_super) {
      __extends(TryGameNode, _super);
      function TryGameNode() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._data = null;
        _this._icon = null;
        _this._nameLabel = null;
        _this._gameJumpInterval = -1;
        _this._jumpInfo = null;
        _this._index = -1;
        _this._jumping = false;
        _this._isFirst = false;
        _this._mask = null;
        return _this;
      }
      TryGameNode.prototype.onLoad = function() {
        this._icon = cc.find("Mask/Icon", this.node).getComponent(cc.Sprite);
        this._mask = cc.find("Mask", this.node);
      };
      TryGameNode.prototype.init = function(data) {
        this._data = data;
        if (this._data) {
          this._jumpInfo = this._data.jump_list;
          this._gameJumpInterval = this._data.jump_refresh_time;
          this._isFirst = true;
          this.node.active = false;
        } else this.node.active = false;
      };
      TryGameNode.prototype.showNextItem = function() {
        this.unscheduleAllCallbacks();
        this.jump();
        this.schedule(this.jump, this._gameJumpInterval);
      };
      TryGameNode.prototype.onEnable = function() {
        var _this = this;
        this.jump();
        this.schedule(this.jump, this._gameJumpInterval);
        this.node.on(cc.Node.EventType.TOUCH_START, function(event) {
          if (_this._jumpInfo[_this._index] && _this._jumpInfo[_this._index].appid) {
            Utils_1.utils.showLog("\u5c0f\u6e38\u620f\u8df3\u8f6c! info=" + _this._jumpInfo[_this._index]);
            if (PlatUtils_1.default.IsDouyin) Utils_1.utils.Tool_Douyin.showMoreGamesModal(); else if (PlatUtils_1.default.IsQQ) Utils_1.utils.adManager.ShowAppBox(true); else {
              var index_1 = _this._index;
              _this._postClickData(_this._jumpInfo[index_1].appid);
              Utils_1.utils.navigateToMiniGame(_this._jumpInfo[index_1], function(ret) {
                ret && _this._jumpInfo && _this._jumpInfo[index_1] && _this._jumpInfo[index_1].appid && _this._postData(_this._jumpInfo[index_1].appid);
              });
            }
            _this.showNextItem();
          }
        }, this);
      };
      TryGameNode.prototype.onDisable = function() {
        this.unscheduleAllCallbacks();
        this.node.targetOff(this);
      };
      TryGameNode.prototype.jump = function() {
        var _this = this;
        if (this._jumping) return;
        this._jumping = true;
        this._index = this._index + 1;
        this._index >= this._jumpInfo.length && (this._index = 0);
        var contentSize = this._icon.node.getContentSize();
        if (this._jumpInfo[this._index] && this._jumpInfo[this._index].icon) {
          var remoteUrl = this._jumpInfo[this._index].icon;
          CompatibleTool_1.default.LoadRes(remoteUrl, function(err, texture) {
            if (!err && cc.isValid(_this) && _this._icon) {
              _this._icon.spriteFrame = new cc.SpriteFrame(texture);
              _this._icon.node.setContentSize(contentSize);
              if (_this._isFirst) {
                Utils_1.utils.showLog("\u5f53\u524d\u8bd5\u73a9\u7b2c\u4e00\u6b21\u52a0\u8f7d\uff01\uff01\uff01\uff01\uff01");
                _this._mask.active = true;
                _this._isFirst = false;
              }
            }
            _this._jumping = false;
          });
        } else this._jumping = false;
      };
      TryGameNode.prototype._setName = function(name) {
        if (name) if (name.length > 5) {
          this._nameLabel.string = name.slice(0, 5) + "...";
          this._nameLabel.node.scale = .7;
        } else this._nameLabel.string = name; else this._nameLabel.string = "";
      };
      TryGameNode.prototype._postData = function(appid) {
        Utils_1.utils.postDataByLocation(appid, YZ_Constant_1.SubLocation.isTryGame, 1);
      };
      TryGameNode.prototype._postClickData = function(appid) {
        Utils_1.utils.postDataByLocation(appid, YZ_Constant_1.SubLocation.isTryGame, 0);
      };
      TryGameNode = __decorate([ ccclass ], TryGameNode);
      return TryGameNode;
    }(cc.Component);
    exports.default = TryGameNode;
    cc._RF.pop();
  }, {
    "./CompatibleTool": "CompatibleTool",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  TryGamesWidget: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "44f5bUS0vVOsr9VFcezUfsI", "TryGamesWidget");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var TryGamesWidget = function(_super) {
      __extends(TryGamesWidget, _super);
      function TryGamesWidget() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._tryGameNode = null;
        _this._isInit = false;
        return _this;
      }
      TryGamesWidget.prototype.onLoad = function() {
        this._tryGameNode = this.getComponentInChildren("TryGameNode");
        this._tryGameNode.node.active = false;
      };
      TryGamesWidget.prototype.onEnable = function() {
        var _this = this;
        Utils_1.utils.registerServerInitEvent(function() {
          _this._initWidget();
        }, this);
      };
      TryGamesWidget.prototype.onDisable = function() {
        Utils_1.utils.unregisterServerInitEvent(this);
      };
      TryGamesWidget.prototype._initWidget = function() {
        if (this._isInit) return;
        var dataValid = true;
        var data = Utils_1.utils.getInnerRecommendData();
        if (data) if (data.jump_list) {
          if (data.jump_list.length <= 0) {
            cc.warn("\u5b57\u6bb5jump_list\u7684\u957f\u5ea6\u4e0d\u5408\u6cd5\uff01");
            dataValid = false;
          }
        } else {
          cc.warn("\u5b57\u6bb5jump_list\u4e0d\u5b58\u5728\uff01");
          dataValid = false;
        } else {
          cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u4e3anull");
          dataValid = false;
        }
        if (dataValid) {
          this._isInit = true;
          Utils_1.utils.showLog("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e:", JSON.stringify(data));
          this._tryGameNode.init({
            jump_refresh_time: data.jump_refresh_time,
            jump_list: data.jump_list
          });
          this._tryGameNode.node.active = true;
        } else this.node.destroy();
      };
      TryGamesWidget = __decorate([ ccclass ], TryGamesWidget);
      return TryGamesWidget;
    }(cc.Component);
    exports.default = TryGamesWidget;
    cc._RF.pop();
  }, {
    "./Utils": "Utils"
  } ],
  TweenEffect: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "54110rONwJBArNNreXEArQY", "TweenEffect");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.EaseType = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu, executeInEditMode = _a.executeInEditMode;
    var EaseType;
    (function(EaseType) {
      EaseType[EaseType["none"] = 0] = "none";
      EaseType[EaseType["fade"] = 1] = "fade";
      EaseType[EaseType["easeIn"] = 2] = "easeIn";
      EaseType[EaseType["easeOut"] = 3] = "easeOut";
      EaseType[EaseType["easeInOut"] = 4] = "easeInOut";
      EaseType[EaseType["easeExponentialIn"] = 5] = "easeExponentialIn";
      EaseType[EaseType["easeExponentialOut"] = 6] = "easeExponentialOut";
      EaseType[EaseType["easeExponentialInOut"] = 7] = "easeExponentialInOut";
      EaseType[EaseType["easeSineIn"] = 8] = "easeSineIn";
      EaseType[EaseType["easeSineOut"] = 9] = "easeSineOut";
      EaseType[EaseType["easeSineInOut"] = 10] = "easeSineInOut";
      EaseType[EaseType["easeElasticIn"] = 11] = "easeElasticIn";
      EaseType[EaseType["easeElasticOut"] = 12] = "easeElasticOut";
      EaseType[EaseType["easeElasticInOut"] = 13] = "easeElasticInOut";
      EaseType[EaseType["easeBounceIn"] = 14] = "easeBounceIn";
      EaseType[EaseType["easeBounceOut"] = 15] = "easeBounceOut";
      EaseType[EaseType["easeBounceInOut"] = 16] = "easeBounceInOut";
      EaseType[EaseType["easeBackIn"] = 17] = "easeBackIn";
      EaseType[EaseType["easeBackOut"] = 18] = "easeBackOut";
      EaseType[EaseType["easeBackInOut"] = 19] = "easeBackInOut";
      EaseType[EaseType["easeBezierAction"] = 20] = "easeBezierAction";
      EaseType[EaseType["easeQuadraticActionIn"] = 21] = "easeQuadraticActionIn";
      EaseType[EaseType["easeQuadraticActionOut"] = 22] = "easeQuadraticActionOut";
      EaseType[EaseType["easeQuadraticActionInOut"] = 23] = "easeQuadraticActionInOut";
      EaseType[EaseType["easeQuarticActionIn"] = 24] = "easeQuarticActionIn";
      EaseType[EaseType["easeQuarticActionOut"] = 25] = "easeQuarticActionOut";
      EaseType[EaseType["easeQuarticActionInOut"] = 26] = "easeQuarticActionInOut";
      EaseType[EaseType["easeQuinticActionIn"] = 27] = "easeQuinticActionIn";
      EaseType[EaseType["easeQuinticActionOut"] = 28] = "easeQuinticActionOut";
      EaseType[EaseType["easeQuinticActionInOut"] = 29] = "easeQuinticActionInOut";
      EaseType[EaseType["easeCircleActionIn"] = 30] = "easeCircleActionIn";
      EaseType[EaseType["easeCircleActionOut"] = 31] = "easeCircleActionOut";
      EaseType[EaseType["easeCircleActionInOut"] = 32] = "easeCircleActionInOut";
      EaseType[EaseType["easeCubicActionIn"] = 33] = "easeCubicActionIn";
      EaseType[EaseType["easeCubicActionOut"] = 34] = "easeCubicActionOut";
      EaseType[EaseType["easeCubicActionInOut"] = 35] = "easeCubicActionInOut";
    })(EaseType = exports.EaseType || (exports.EaseType = {}));
    var TweenType;
    (function(TweenType) {
      TweenType[TweenType["none"] = 0] = "none";
      TweenType[TweenType["line"] = 1] = "line";
      TweenType[TweenType["angle"] = 2] = "angle";
      TweenType[TweenType["opacity"] = 3] = "opacity";
      TweenType[TweenType["scale"] = 4] = "scale";
      TweenType[TweenType["skewY"] = 5] = "skewY";
      TweenType[TweenType["shake"] = 6] = "shake";
      TweenType[TweenType["flip"] = 7] = "flip";
    })(TweenType || (TweenType = {}));
    var RunTime;
    (function(RunTime) {
      RunTime[RunTime["onLoad"] = 0] = "onLoad";
      RunTime[RunTime["start"] = 1] = "start";
      RunTime[RunTime["onEnable"] = 2] = "onEnable";
    })(RunTime || (RunTime = {}));
    var TweenEffect = function(_super) {
      __extends(TweenEffect, _super);
      function TweenEffect() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.type = TweenType.none;
        _this.easeType = EaseType.none;
        _this.run = RunTime.start;
        _this.delay = 0;
        _this.time = 1;
        _this.repeat = -1;
        _this.isReverse = false;
        _this.num = 0;
        _this.toPos = cc.Vec3.ZERO;
        _this._tw = null;
        return _this;
      }
      TweenEffect_1 = TweenEffect;
      TweenEffect.prototype.onLoad = function() {
        this._tw = cc.tween(this.node);
        this._tw.delay(this.delay);
        switch (this.type) {
         case TweenType.line:
          this._line();
          break;

         case TweenType.angle:
          this._angle();
          break;

         case TweenType.opacity:
          this._opacity();
          break;

         case TweenType.scale:
          this._scale();
          break;

         case TweenType.skewY:
          this._skewY();
          break;

         case TweenType.shake:
          this._shake();
          break;

         case TweenType.flip:
          this._flip();
        }
        this.repeat > 0 ? this._tw.union().repeat(this.repeat) : -1 == this.repeat && this._tw.union().repeatForever();
        this.run == RunTime.onLoad && this._tw.start();
      };
      TweenEffect.prototype.start = function() {
        this.run == RunTime.start && this._tw.start();
      };
      TweenEffect.prototype.onEnable = function() {
        if (this.run == RunTime.onEnable) {
          this.node.stopAllActions();
          this._tw.start();
        }
      };
      TweenEffect.prototype._line = function() {
        this._tw.by(this.time, {
          position: this.toPos
        }, {
          easing: TweenEffect_1.getEase(this.easeType)
        });
        this.isReverse && this._tw.by(this.time, {
          position: this.toPos.neg()
        }, {
          easing: TweenEffect_1.getEase(this.easeType)
        });
      };
      TweenEffect.prototype._angle = function() {
        this._tw.by(this.time, {
          angle: this.num
        }, {
          easing: TweenEffect_1.getEase(this.easeType)
        });
        this.isReverse && this._tw.by(this.time, {
          angle: -this.num
        }, {
          easing: TweenEffect_1.getEase(this.easeType)
        });
      };
      TweenEffect.prototype._opacity = function() {
        this._tw.by(this.time, {
          opacity: this.num
        }, {
          easing: TweenEffect_1.getEase(this.easeType)
        });
        this.isReverse && this._tw.by(this.time, {
          opacity: -this.num
        }, {
          easing: TweenEffect_1.getEase(this.easeType)
        });
      };
      TweenEffect.prototype._scale = function() {
        this._tw.by(this.time, {
          scale: this.num
        }, {
          easing: TweenEffect_1.getEase(this.easeType)
        });
        this.isReverse && this._tw.by(this.time, {
          scale: -this.num
        }, {
          easing: TweenEffect_1.getEase(this.easeType)
        });
      };
      TweenEffect.prototype._skewY = function() {
        this._tw.by(this.time, {
          skewY: this.num
        }, {
          easing: TweenEffect_1.getEase(this.easeType)
        });
        this.isReverse && this._tw.by(this.time, {
          skewY: -this.num
        }, {
          easing: TweenEffect_1.getEase(this.easeType)
        });
      };
      TweenEffect.prototype._shake = function() {
        this._tw.by(this.time, {
          angle: this.num
        }, {
          easing: TweenEffect_1.getEase(this.easeType)
        }).by(2 * this.time, {
          angle: -2 * this.num
        }, {
          easing: TweenEffect_1.getEase(this.easeType)
        }).by(this.time, {
          angle: this.num
        }, {
          easing: TweenEffect_1.getEase(this.easeType)
        });
      };
      TweenEffect.prototype._flip = function() {
        this._tw.to(this.time, {
          scaleX: -this.node.scaleX
        }, {
          easing: TweenEffect_1.getEase(this.easeType)
        }).to(this.time, {
          scaleX: this.node.scaleX
        }, {
          easing: TweenEffect_1.getEase(this.easeType)
        });
      };
      TweenEffect.panel_mask_opacity = function(node, callback) {
        var opacityBack = node.opacity;
        node.opacity = 0;
        cc.tween(node).to(.2, {
          opacity: opacityBack
        }).call(function() {
          callback && callback();
        }).start();
      };
      TweenEffect.panel_open_moveY = function(node, callback) {
        node.y += 1e3;
        cc.tween(node).to(.5, {
          y: node.y - 1e3
        }, {
          easing: "sineOut"
        }).call(function() {
          callback && callback();
        }).start();
      };
      TweenEffect.panel_close_moveY = function(node, callback) {
        cc.tween(node).to(.5, {
          y: node.y + 1e3
        }, {
          easing: "sineIn"
        }).call(function() {
          callback && callback();
        }).start();
      };
      TweenEffect.panel_open_scaleY = function(node, callback) {
        node.scaleY = 0;
        cc.tween(node).to(.5, {
          scaleY: 1
        }, {
          easing: "sineOut"
        }).call(function() {
          callback && callback();
        }).start();
      };
      TweenEffect.panel_close_scaleY = function(node, callback) {
        cc.tween(node).to(.5, {
          scaleY: 0
        }, {
          easing: "sineIn"
        }).call(function() {
          callback && callback();
        }).start();
      };
      TweenEffect.panel_open_scale = function(node, callback) {
        node.scale = 0;
        cc.tween(node).to(.5, {
          scale: 1
        }, {
          easing: "sineOut"
        }).call(function() {
          callback && callback();
        }).start();
      };
      TweenEffect.panel_close_scale = function(node, callback) {
        cc.tween(node).to(.5, {
          scale: 0
        }, {
          easing: "sineIn"
        }).call(function() {
          callback && callback();
        }).start();
      };
      TweenEffect.panel_open_opacity_scale = function(node, callback) {
        node.opacity = 0;
        node.scale = 1.5;
        cc.tween(node).to(.5, {
          opacity: 255,
          scale: 1
        }, {
          easing: "fade"
        }).call(function() {
          callback && callback();
        }).start();
      };
      TweenEffect.panel_close_opacity_scale = function(node, callback) {
        cc.tween(node).to(.5, {
          opacity: 0,
          scale: 2
        }, {
          easing: "fade"
        }).call(function() {
          callback && callback();
        }).start();
      };
      TweenEffect.getEase = function(type) {
        switch (type) {
         case EaseType.none:
          return "linear";

         case EaseType.fade:
          return "fade";

         case EaseType.easeOut:
          return "easeOut";

         case EaseType.easeInOut:
          return "easeInOut";

         case EaseType.easeExponentialIn:
          return "easeExponentialIn";

         case EaseType.easeExponentialOut:
          return "easeExponentialOut";

         case EaseType.easeExponentialInOut:
          return "easeExponentialInOut";

         case EaseType.easeSineIn:
          return "sineIn";

         case EaseType.easeSineOut:
          return "sineOut";

         case EaseType.easeSineInOut:
          return "sineInOut";

         case EaseType.easeElasticIn:
          return "elasticIn";

         case EaseType.easeElasticOut:
          return "elasticOut";

         case EaseType.easeElasticInOut:
          return "elasticInOut";

         case EaseType.easeBounceIn:
          return "bounceIn";

         case EaseType.easeBounceOut:
          return "bounceOut";

         case EaseType.easeBackIn:
          return "backIn";

         case EaseType.easeBackOut:
          return "backOut";

         case EaseType.easeBackInOut:
          return "backInOut";

         case EaseType.easeQuadraticActionIn:
          return "quadraticActionIn";

         case EaseType.easeQuadraticActionOut:
          return "quadraticActionOut";

         case EaseType.easeQuadraticActionInOut:
          return "quadraticActionInOut";

         case EaseType.easeQuarticActionIn:
          return "quarticActionIn";

         case EaseType.easeQuarticActionOut:
          return "quarticActionOut";

         case EaseType.easeQuarticActionInOut:
          return "quarticActionInOut";

         case EaseType.easeQuinticActionIn:
          return "quinticActionIn";

         case EaseType.easeQuinticActionOut:
          return "quinticActionOut";

         case EaseType.easeQuinticActionInOut:
          return "quinticActionInOut";

         case EaseType.easeCircleActionIn:
          return "easeCircleActionIn";

         case EaseType.easeCircleActionOut:
          return "circleActionOut";

         case EaseType.easeCircleActionInOut:
          return "circleActionInOut";

         case EaseType.easeCubicActionIn:
          return "cubicActionIn";

         case EaseType.easeCubicActionOut:
          return "cubicActionOut";

         case EaseType.easeCubicActionInOut:
          return "cubicActionInOut";
        }
      };
      var TweenEffect_1;
      __decorate([ property({
        type: cc.Enum(TweenType),
        tooltip: "\u52a8\u4f5c\u7c7b\u578b"
      }) ], TweenEffect.prototype, "type", void 0);
      __decorate([ property({
        type: cc.Enum(EaseType)
      }) ], TweenEffect.prototype, "easeType", void 0);
      __decorate([ property({
        type: cc.Enum(RunTime),
        tooltip: "\u8fd0\u884c\u6761\u4ef6"
      }) ], TweenEffect.prototype, "run", void 0);
      __decorate([ property({
        type: cc.Float,
        tooltip: "\u5f00\u59cb\u5ef6\u8fdf\u65f6\u95f4"
      }) ], TweenEffect.prototype, "delay", void 0);
      __decorate([ property({
        type: cc.Float,
        tooltip: "\u5355\u6b21\u8fd0\u884c\u65f6\u95f4"
      }) ], TweenEffect.prototype, "time", void 0);
      __decorate([ property({
        type: cc.Integer,
        tooltip: "\u91cd\u590d\u6b21\u6570 -1\u6c38\u4e45\u91cd\u590d 0\u4e0d\u91cd\u590d"
      }) ], TweenEffect.prototype, "repeat", void 0);
      __decorate([ property({
        tooltip: "\u662f\u5426\u5012\u7f6e"
      }) ], TweenEffect.prototype, "isReverse", void 0);
      __decorate([ property({
        tooltip: "\u76ee\u6807\u503c",
        visible: function() {
          return this.type == TweenType.angle || this.type == TweenType.opacity || this.type == TweenType.scale || this.type == TweenType.skewY;
        }
      }) ], TweenEffect.prototype, "num", void 0);
      __decorate([ property({
        tooltip: "\u76ee\u6807\u5750\u6807",
        visible: function() {
          return this.type == TweenType.line;
        }
      }) ], TweenEffect.prototype, "toPos", void 0);
      TweenEffect = TweenEffect_1 = __decorate([ ccclass, menu("Tools/TweenEffect") ], TweenEffect);
      return TweenEffect;
    }(cc.Component);
    exports.default = TweenEffect;
    cc._RF.pop();
  }, {} ],
  UIADPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "003c2RLzLtIya/ty0NNYWCD", "UIADPanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../../common-plugin/Scripts/Utils");
    var CocosZ_1 = require("../Framework/CocosZ");
    var Msg_1 = require("../Framework/Msg");
    var i18n = require("LanguageData");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var NewClass = function(_super) {
      __extends(NewClass, _super);
      function NewClass() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.btnAD = null;
        _this.btnSkip = null;
        _this.isDiamond = false;
        return _this;
      }
      NewClass.prototype.start = function() {
        if (CocosZ_1.cocosz.isADON) {
          this.node.scale = 0;
          cc.tween(this.node).to(.3, {
            scale: 1
          }, {
            easing: "backOut"
          }).start();
          Utils_1.utils.SendEvent("\u9875\u9762-" + (this.isDiamond ? "\u94bb\u77f3" : "\u91d1\u5e01"));
        } else this.node.destroy();
      };
      NewClass.prototype.setDiamond = function() {
        this.isDiamond = true;
        this.node.getChildByName("bg").active = false;
        this.node.getChildByName("bg1").active = true;
      };
      NewClass.prototype.watchAD = function() {
        var _this = this;
        Utils_1.utils.SendEvent("\u89c6\u9891-" + (this.isDiamond ? "\u94bb\u77f3\u8d2d\u4e70" : "\u91d1\u5e01\u8d2d\u4e70") + "-\u64ad\u653e");
        CocosZ_1.cocosz.watchAD(function() {
          Utils_1.utils.SendEvent("\u89c6\u9891-" + (_this.isDiamond ? "\u94bb\u77f3\u8d2d\u4e70" : "\u91d1\u5e01\u8d2d\u4e70") + "-\u6210\u529f");
          if (_this.isDiamond) {
            var num = CocosZ_1.cocosz.isDeBug ? 1e4 : 200;
            CocosZ_1.cocosz.dataMgr.DiamondCount += num;
            Msg_1.default.Show(i18n.t("msg.gxhdzs") + num);
          } else {
            var num = CocosZ_1.cocosz.isDeBug ? 1e4 : 500;
            CocosZ_1.cocosz.dataMgr.CoinCount += num;
            Msg_1.default.Show(i18n.t("msg.gxhdjb") + num);
          }
          _this.node.destroy();
        }, function() {
          Utils_1.utils.SendEvent("\u89c6\u9891-" + (_this.isDiamond ? "\u94bb\u77f3\u8d2d\u4e70" : "\u91d1\u5e01\u8d2d\u4e70") + "-\u5931\u8d25");
        });
      };
      NewClass.prototype.exit = function() {
        CocosZ_1.cocosz.audioMgr.playBtnEffect();
        this.node.destroy();
      };
      __decorate([ property(cc.Node) ], NewClass.prototype, "btnAD", void 0);
      __decorate([ property(cc.Node) ], NewClass.prototype, "btnSkip", void 0);
      NewClass = __decorate([ ccclass ], NewClass);
      return NewClass;
    }(cc.Component);
    exports.default = NewClass;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/Utils": "Utils",
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Msg": "Msg",
    LanguageData: "LanguageData"
  } ],
  UIGameLoadingPage: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c5a1dCIX/VATJjbaL5OivFz", "UIGameLoadingPage");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var UIPage_1 = require("../Framework/UIPage");
    var Constant_1 = require("../Framework/Constant");
    var CocosZ_1 = require("../Framework/CocosZ");
    var GuideLayer_1 = require("./GuideLayer");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var UIGameLoadingPage = function(_super) {
      __extends(UIGameLoadingPage, _super);
      function UIGameLoadingPage() {
        var _this = _super.call(this, Constant_1.PageName.UIGameLoadingPage) || this;
        _this._startTime = 0;
        _this.isValid() && _this.onLoad();
        return _this;
      }
      UIGameLoadingPage.prototype.onOpen = function() {
        cc.game.on(Constant_1.default.E_GAME_LOGIC, this._onGameMessageHandler, this);
        this._startTime = new Date().getTime();
        CocosZ_1.cocosz.scheduleOnce(function() {
          CocosZ_1.cocosz.audioMgr.playEffect("fj", true, 1);
        }, .1);
      };
      UIGameLoadingPage.prototype.onClose = function() {
        cc.game.targetOff(this);
        GuideLayer_1.guideLayer.hideFjAni();
        GuideLayer_1.guideLayer.node.zIndex = cc.macro.MIN_ZINDEX;
        CocosZ_1.cocosz.audioMgr.stopEffect("fj");
      };
      UIGameLoadingPage.prototype._onGameMessageHandler = function(event) {
        switch (event.type) {
         case Constant_1.default.E_UPDATE_PROGRESS:
          this._updateProgress(event.data);
        }
      };
      UIGameLoadingPage.prototype._updateProgress = function(pro) {
        if (pro >= 1) {
          var difTime = new Date().getTime() - this._startTime;
          difTime >= 6e3 ? CocosZ_1.cocosz.uiMgr.openPage(Constant_1.PageName.UIGamePage) : setTimeout(function() {
            CocosZ_1.cocosz.uiMgr.openPage(Constant_1.PageName.UIGamePage);
          }, 6e3 - difTime);
        }
      };
      UIGameLoadingPage = __decorate([ ccclass ], UIGameLoadingPage);
      return UIGameLoadingPage;
    }(UIPage_1.default);
    exports.default = UIGameLoadingPage;
    cc._RF.pop();
  }, {
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "../Framework/UIPage": "UIPage",
    "./GuideLayer": "GuideLayer"
  } ],
  UIGamePage: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ca02eHXE+9E+Yrp8V9uxTLx", "UIGamePage");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var UIPage_1 = require("../Framework/UIPage");
    var Constant_1 = require("../Framework/Constant");
    var CocosZ_1 = require("../Framework/CocosZ");
    var PlatUtils_1 = require("../../common-plugin/Scripts/PlatUtils");
    var Utils_1 = require("../../common-plugin/Scripts/Utils");
    var YZ_Constant_1 = require("../../common-plugin/Scripts/YZ_Constant");
    var gameMgr_1 = require("../Game/gameMgr");
    var i18n = require("LanguageData");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var UIGamePage = function(_super) {
      __extends(UIGamePage, _super);
      function UIGamePage() {
        var _this = _super.call(this, Constant_1.PageName.UIGamePage) || this;
        _this._handAni = null;
        _this._btnCt = null;
        _this._btnQpbz = null;
        _this.isValid() && _this.onLoad();
        return _this;
      }
      UIGamePage.prototype.onLoad = function() {
        var _this = this;
        this._handAni = cc.find("handAni", this._page);
        var btnList1 = [ "rangedWeapon", "rangedWeaponAd", "BtnPause", "BtnBullet", "BtnShuxing", "BtnHideBanner", "BtnCt", "BtnQpbz" ];
        btnList1.forEach(function(btnName) {
          var btn = _this._page.getChildByName(btnName);
          if (btn) {
            btn.on(cc.Node.EventType.TOUCH_END, _this._onBtnClickHandler, _this);
            if ("rangedWeaponAd" == btn.name) CocosZ_1.cocosz.isADON && "false" != CocosZ_1.cocosz.getConfigByKey("isVideoAd_advanced_weapon") ? btn.active = true : btn.active = false; else if ("BtnHideBanner" == btn.name) CocosZ_1.cocosz.isShowAd && CocosZ_1.cocosz.isADON && "true" == CocosZ_1.cocosz.getConfigByKey("isVideoAd_hideBanner") ? btn.active = true : btn.active = false; else if ("BtnCt" == btn.name) {
              _this._btnCt = btn;
              if (CocosZ_1.cocosz.isShowAd && CocosZ_1.cocosz.isADON && !CocosZ_1.cocosz.dataMgr.guide_skill && "false" != CocosZ_1.cocosz.getConfigByKey("isVideoAd_Citie")) {
                _this._btnCt.active = true;
                _this._btnCt.childrenCount && _this._btnCt.children.forEach(function(child) {
                  child.active = false;
                });
              }
            } else if ("BtnQpbz" == btn.name) {
              _this._btnQpbz = btn;
              if (CocosZ_1.cocosz.isShowAd && CocosZ_1.cocosz.isADON && !CocosZ_1.cocosz.dataMgr.guide_skill && "false" != CocosZ_1.cocosz.getConfigByKey("isVideoAd_Qpbz")) {
                _this._btnQpbz.active = true;
                _this._btnQpbz.childrenCount && _this._btnQpbz.children.forEach(function(child) {
                  child.active = false;
                });
              }
            }
          }
        });
      };
      UIGamePage.prototype.onOpen = function() {
        var _this = this;
        Utils_1.utils.SendEvent("\u9875\u9762-\u6e38\u620f");
        gameMgr_1.gameMgr.uiGamePage = this._page;
        gameMgr_1.gameMgr.moveArea = cc.find("moveArea", this._page);
        gameMgr_1.gameMgr.yaogan = cc.find("move", this._page);
        var widge = gameMgr_1.gameMgr.yaogan.getComponent(cc.Widget);
        if (widge) {
          gameMgr_1.gameMgr.yaogan.getComponent(cc.Widget).updateAlignment();
          widge.enabled = false;
        }
        gameMgr_1.gameMgr.rangedWeaponMess = this._page.getChildByName("rangedWeapon");
        gameMgr_1.gameMgr.ammo = gameMgr_1.gameMgr.rangedWeaponMess.getChildByName("ammo").getComponent(cc.Label);
        gameMgr_1.gameMgr.rangedWeaponAdMess = this._page.getChildByName("rangedWeaponAd");
        gameMgr_1.gameMgr.qlzc = this._page.getChildByName("qlzc");
        gameMgr_1.gameMgr.BtnBullet = this._page.getChildByName("BtnBullet");
        if (6 == CocosZ_1.cocosz.gameMode) {
          gameMgr_1.gameMgr.model6_bossBar = this._page.getChildByName("bossBar").getComponent(cc.ProgressBar);
          gameMgr_1.gameMgr.model6_jingyanBar = this._page.getChildByName("jingyanBar").getComponent(cc.ProgressBar);
          gameMgr_1.gameMgr.model6_skillScrollView = this._page.getChildByName("skillScrollView").getComponent(cc.ScrollView);
          gameMgr_1.gameMgr.model6_skillScrollView_content = cc.find("skillScrollView/view/content", this._page);
          gameMgr_1.gameMgr.model6_skillScrollView_item = this._page.getChildByName("item");
          var BtnShuxing = this._page.getChildByName("BtnShuxing");
          gameMgr_1.gameMgr.model6_touxiang = BtnShuxing.getChildByName("touxiang");
          var pre = CocosZ_1.cocosz.resMgr.getRes("head" + (CocosZ_1.cocosz.gameMgr.gameCtr.curUseSkinId + 1), cc.Prefab);
          if (pre) {
            var touxiang = cc.instantiate(pre);
            touxiang.setParent(gameMgr_1.gameMgr.model6_touxiang);
            touxiang.scale = 1;
            touxiang.children[0] && (touxiang.children[0].active = false);
          }
          gameMgr_1.gameMgr.model6_btnShuxing = this._page.getChildByName("BtnShuxing");
          gameMgr_1.gameMgr.model6_btnShuxing && (gameMgr_1.gameMgr.model6_btnShuxing.active = true);
          gameMgr_1.gameMgr.model6_shuxing = BtnShuxing.getChildByName("shuxing");
          gameMgr_1.gameMgr.model6_shuxing.active = false;
          gameMgr_1.gameMgr.model6_levelLabel = this._page.getChildByName("levelLabel").getComponent(cc.Label);
          gameMgr_1.gameMgr.model6_timeLabel = this._page.getChildByName("timeLabel").getComponent(cc.Label);
          gameMgr_1.gameMgr.model6_ts = this._page.getChildByName("ts");
          if (CocosZ_1.cocosz.dataMgr.guide_skill && ("false" != CocosZ_1.cocosz.getConfigByKey("isVideoAd_Qpbz") || "false" != CocosZ_1.cocosz.getConfigByKey("isVideoAd_Citie"))) {
            var count_1 = 0;
            var tw_1 = cc.tween(this._page).delay(1).call(function() {
              if (gameMgr_1.gameMgr.isGameStart && !CocosZ_1.cocosz.isPause) {
                count_1++;
                cc.log("count:", count_1);
                if (5 == count_1) "false" != CocosZ_1.cocosz.getConfigByKey("isVideoAd_Qpbz") && _this.showSkill(_this._btnQpbz); else if (8 == count_1) "false" != CocosZ_1.cocosz.getConfigByKey("isVideoAd_Citie") && _this.showSkill(_this._btnCt); else if (count_1 > 8) {
                  CocosZ_1.cocosz.dataMgr.guide_skill = false;
                  tw_1 && tw_1.stop();
                }
              }
            }).union().repeatForever().start();
          }
        }
        gameMgr_1.gameMgr.startGame();
        this.showAd();
        cc.game.on(Constant_1.default.E_GAME_LOGIC, this._onGameMessageHandler, this);
      };
      UIGamePage.prototype.onClose = function() {
        cc.game.targetOff(this);
        Utils_1.utils.adManager.hideBlockAd();
        Utils_1.utils.adManager.hideNativeTryGameWidget();
        Utils_1.utils.hideVivoGamePortalWidget();
        Utils_1.utils.adManager.HideSingleNativeAd();
        if (PlatUtils_1.default.IsWechat) {
          Utils_1.utils.adManager.hideCustomAd({
            location: 3
          });
          Utils_1.utils.adManager.hideCustomAd({
            location: 4
          });
          Utils_1.utils.adManager.hideCustomAd({
            location: 8
          });
        } else PlatUtils_1.default.IsVIVO && Utils_1.utils.adManager.hideCustomAd({
          location: YZ_Constant_1.BannerLocation.Game
        });
      };
      UIGamePage.prototype.showAd = function() {
        Utils_1.utils.showRecordWidget({
          group: "default",
          scale: 1,
          top: 50,
          left: 100,
          parent: this._page
        });
        if (CocosZ_1.cocosz.isShowAd) {
          !CocosZ_1.cocosz.isShowGameBanner || PlatUtils_1.default.IsWechat || PlatUtils_1.default.IsDouyin || PlatUtils_1.default.IsAndroidDouYin ? Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Game) : Utils_1.utils.adManager.ShowBanner(YZ_Constant_1.BannerLocation.Game, {
            width: .1,
            bottom: 0
          });
          Utils_1.utils.adManager.showNativeTryGameWidget({
            left: 10,
            top: 500,
            scale: 1,
            parent: this._page
          });
          if (PlatUtils_1.default.IsWechat) {
            Utils_1.utils.adManager.showCustomAd({
              location: 3
            });
            Utils_1.utils.adManager.showCustomAd({
              location: 4
            });
            Utils_1.utils.adManager.showCustomAd({
              location: 8
            });
          } else PlatUtils_1.default.IsVIVO && Utils_1.utils.adManager.showCustomAd({
            location: YZ_Constant_1.BannerLocation.Game
          });
        }
      };
      UIGamePage.prototype.showSkill = function(n) {
        var _this = this;
        var widget = n.getComponent(cc.Widget);
        widget && (widget.enabled = false);
        if (n && n.isValid) {
          CocosZ_1.cocosz.pauseCount++;
          n.setPosition(0, cc.winSize.height / 2);
          n.scale = 2;
          n.active = true;
          var call_1 = function() {
            n.stopAllActions();
            cc.tween(n).call(function() {
              _this._handAni && _this._handAni.isValid && (_this._handAni.active = false);
            }).to(.5, {
              scale: 1,
              x: -cc.winSize.width / 2 + widget.left + n.width / 2,
              y: -cc.winSize.height / 2 + widget.bottom + n.height / 2
            }).call(function() {
              widget && (widget.enabled = true);
              CocosZ_1.cocosz.pauseCount--;
            }).start();
          };
          n.once(cc.Node.EventType.TOUCH_END, call_1, this);
          n.stopAllActions();
          cc.tween(n).to(1, {
            y: 0
          }, {
            easing: "backOut"
          }).call(function() {
            if (_this._handAni && _this._handAni.isValid) {
              _this._handAni.setPosition(0, 0);
              _this._handAni.active = true;
              var spAni = _this._handAni.getComponent(sp.Skeleton);
              spAni && spAni.setAnimation(0, "animation", true);
            }
          }).delay(4).call(function() {
            n.off(cc.Node.EventType.TOUCH_END, call_1, _this);
            call_1();
          }).start();
        }
      };
      UIGamePage.prototype.effect_qpbz = function() {
        var pre = CocosZ_1.cocosz.resMgr.getRes("effect_qpbz", cc.Prefab);
        if (pre) {
          var node_1 = cc.instantiate(pre);
          node_1.setPosition(gameMgr_1.gameMgr.playerTs.node.position);
          cc.director.getScene().getChildByName("Canvas").addChild(node_1);
          cc.tween(node_1).delay(.3).call(function() {
            gameMgr_1.gameMgr.playEffect("QuanPingBaoZha");
            cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
              type: Constant_1.default.E_Allzombie_Destory
            });
          }).union().repeat(4).call(function() {
            node_1.destroy();
          }).start();
        }
      };
      UIGamePage.prototype._onGameMessageHandler = function(event) {
        event.type;
      };
      UIGamePage.prototype._onBtnClickHandler = function(event) {
        return __awaiter(this, void 0, void 0, function() {
          var adIcon_1;
          var _this = this;
          return __generator(this, function(_a) {
            CocosZ_1.cocosz.audioMgr.playBtnEffect();
            switch (event.target.name) {
             case "rangedWeaponAd":
              if (gameMgr_1.gameMgr.rangedWeaponAdMess) {
                adIcon_1 = gameMgr_1.gameMgr.rangedWeaponAdMess.getChildByName("adIcon");
                if (adIcon_1 && adIcon_1.active) {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u9ad8\u7ea7\u6b66\u5668-\u64ad\u653e");
                  CocosZ_1.cocosz.watchAD(function() {
                    Utils_1.utils.SendEvent("\u89c6\u9891-\u9ad8\u7ea7\u6b66\u5668-\u6210\u529f");
                    adIcon_1.active = false;
                    gameMgr_1.gameMgr.useRangedWeaponAd();
                    gameMgr_1.gameMgr.rangedWeaponAdMess.stopAllActions();
                  }, function() {
                    Utils_1.utils.SendEvent("\u89c6\u9891-\u9ad8\u7ea7\u6b66\u5668-\u5931\u8d25");
                  });
                } else gameMgr_1.gameMgr.useRangedWeaponAd();
              }
              break;

             case "rangedWeapon":
              gameMgr_1.gameMgr.useRangedWeapon();
              break;

             case "BtnPause":
              CocosZ_1.cocosz.uiMgr.openPanel(Constant_1.PanelName.UIPausePanel);
              break;

             case "BtnBullet":
              gameMgr_1.gameMgr.BtnBullet && gameMgr_1.gameMgr.playerTs && gameMgr_1.gameMgr.playerTs.curWeapon && gameMgr_1.gameMgr.playerTs.curWeapon.isRangeWeapon && gameMgr_1.gameMgr.playerTs.curWeapon.reloadBullet();
              break;

             case "BtnShuxing":
              gameMgr_1.gameMgr.model6_shuxing.active = !gameMgr_1.gameMgr.model6_shuxing.active;
              gameMgr_1.gameMgr.update_model6_shuxing();
              break;

             case "BtnHideBanner":
              Utils_1.utils.SendEvent("\u89c6\u9891-\u6e38\u620f\u4e2d\u53bb\u5e7f\u544a-\u64ad\u653e");
              CocosZ_1.cocosz.watchAD(function() {
                Utils_1.utils.SendEvent("\u89c6\u9891-\u6e38\u620f\u4e2d\u53bb\u5e7f\u544a-\u6210\u529f");
                event.target.active = false;
                gameMgr_1.gameMgr.canSHowGameBanner = false;
                Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Game);
              }, function() {
                Utils_1.utils.SendEvent("\u89c6\u9891-\u6e38\u620f\u4e2d\u53bb\u5e7f\u544a-\u5931\u8d25");
              });
              break;

             case "BtnCt":
              if (this._btnCt && this._btnCt.getChildByName("share") && this._btnCt.getChildByName("share").active) {
                Utils_1.utils.SendEvent("\u5206\u4eab-\u78c1\u94c1");
                CocosZ_1.cocosz.share(function() {
                  Utils_1.utils.SendEvent("\u5206\u4eab-\u78c1\u94c1-\u6210\u529f");
                  cc.game.emit(Constant_1.default.E_Skill_Citie);
                }, function() {
                  Utils_1.utils.SendEvent("\u5206\u4eab-\u78c1\u94c1-\u5931\u8d25");
                });
              } else if (this._btnCt && this._btnCt.getChildByName("video") && this._btnCt.getChildByName("video").active) {
                Utils_1.utils.SendEvent("\u89c6\u9891-\u78c1\u94c1-\u64ad\u653e");
                CocosZ_1.cocosz.watchAD(function() {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u78c1\u94c1-\u6210\u529f");
                  cc.game.emit(Constant_1.default.E_Skill_Citie);
                }, function() {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u78c1\u94c1-\u5931\u8d25");
                });
              } else cc.game.emit(Constant_1.default.E_Skill_Citie);
              break;

             case "BtnQpbz":
              if (this._btnQpbz && this._btnQpbz.getChildByName("share") && this._btnQpbz.getChildByName("share").active) {
                Utils_1.utils.SendEvent("\u5206\u4eab-\u5168\u5c4f\u8f70\u70b8");
                CocosZ_1.cocosz.share(function() {
                  Utils_1.utils.SendEvent("\u5206\u4eab-\u5168\u5c4f\u8f70\u70b8-\u6210\u529f");
                  _this.effect_qpbz();
                }, function() {
                  Utils_1.utils.SendEvent("\u5206\u4eab-\u5168\u5c4f\u8f70\u70b8-\u5931\u8d25");
                });
              } else if (this._btnQpbz && this._btnQpbz.getChildByName("video") && this._btnQpbz.getChildByName("video").active) {
                Utils_1.utils.SendEvent("\u89c6\u9891-\u5168\u5c4f\u8f70\u70b8-\u64ad\u653e");
                CocosZ_1.cocosz.watchAD(function() {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u5168\u5c4f\u8f70\u70b8-\u6210\u529f");
                  _this.effect_qpbz();
                }, function() {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u5168\u5c4f\u8f70\u70b8-\u5931\u8d25");
                });
              } else this.effect_qpbz();
            }
            return [ 2 ];
          });
        });
      };
      UIGamePage = __decorate([ ccclass ], UIGamePage);
      return UIGamePage;
    }(UIPage_1.default);
    exports.default = UIGamePage;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/PlatUtils": "PlatUtils",
    "../../common-plugin/Scripts/Utils": "Utils",
    "../../common-plugin/Scripts/YZ_Constant": "YZ_Constant",
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "../Framework/UIPage": "UIPage",
    "../Game/gameMgr": "gameMgr",
    LanguageData: "LanguageData"
  } ],
  UIHomePage: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1b644snyrFBGKi85JS90G3O", "UIHomePage");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var UIPage_1 = require("../Framework/UIPage");
    var Constant_1 = require("../Framework/Constant");
    var CocosZ_1 = require("../Framework/CocosZ");
    var Utils_1 = require("../../common-plugin/Scripts/Utils");
    var YZ_Constant_1 = require("../../common-plugin/Scripts/YZ_Constant");
    var ani_1 = require("../Game/ani");
    var PlatUtils_1 = require("../../common-plugin/Scripts/PlatUtils");
    var FlyCoin_1 = require("../Framework/FlyCoin");
    var gameDate_1 = require("../Game/gameDate");
    var weapon_1 = require("../Game/weapon");
    var Msg_1 = require("../Framework/Msg");
    var i18n = require("LanguageData");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var UIHomePage = function(_super) {
      __extends(UIHomePage, _super);
      function UIHomePage() {
        var _this = _super.call(this, Constant_1.PageName.UIHomePage) || this;
        _this._icon_set = null;
        _this._frame_set = null;
        _this._btnAudio = null;
        _this._btnShake = null;
        _this._btnSkin = null;
        _this._btnSkinAd = null;
        _this._btnWeapon = null;
        _this._btnWeaponAd = null;
        _this._playerAni = null;
        _this._aniUpgrade = null;
        _this._aniCaidai = null;
        _this._weaponScroll = null;
        _this._weaponList = [];
        _this._ani_arrow = null;
        _this._skinInfo_name = null;
        _this._skinInfo_xuedi = null;
        _this._skinInfo_value1 = null;
        _this._skinInfo_value2 = null;
        _this._skinInfo_change1 = null;
        _this._skinInfo_change2 = null;
        _this._skinInfo_level_pro = null;
        _this._weaponInfo_name = null;
        _this._weaponInfo_value0 = null;
        _this._weaponInfo_value1 = null;
        _this._weaponInfo_value2 = null;
        _this._weaponInfo_value3 = null;
        _this._weaponInfo_change0 = null;
        _this._weaponInfo_change1 = null;
        _this._weaponInfo_change2 = null;
        _this._weaponInfo_change3 = null;
        _this._weaponInfo_level_pro = null;
        _this._showSkinId = CocosZ_1.cocosz.dataMgr.CurSkinId;
        _this._showWeaponId = CocosZ_1.cocosz.dataMgr.CurRange;
        _this.isValid() && _this.onLoad();
        return _this;
      }
      UIHomePage.prototype.onLoad = function() {
        var _this = this;
        console.log("UIHOMEPAGE ONLOAD");
        var btnNames = [ "BtnSet", "BtnSet/frame_set/BtnAudio", "BtnSet/frame_set/BtnShake", "ditai/BtnLeft", "ditai/BtnRight", "BtnSkin", "BtnWeapon", "BtnSkinAd", "BtnWeaponAd", "BtnCJ", "BtnSign", "BtnTime", "BtnGameStart" ];
        btnNames.forEach(function(name) {
          var btn = cc.find(name, _this._page);
          if (btn) {
            btn.on(cc.Node.EventType.TOUCH_END, _this._onBtnClickHandler, _this);
            if ("BtnSet" == btn.name) {
              _this._icon_set = cc.find("Background/icon_set", btn);
              _this._frame_set = cc.find("frame_set", btn);
            } else if ("BtnAudio" == btn.name) {
              _this._btnAudio = btn;
              _this._updateAudioBtn(false);
            } else if ("BtnShake" == btn.name) {
              _this._btnShake = btn;
              _this._updatShakeBtn();
            } else if ("BtnSkin" == btn.name) _this._btnSkin = btn; else if ("BtnWeapon" == btn.name) _this._btnWeapon = btn; else if ("BtnSkinAd" == btn.name) {
              _this._btnSkinAd = btn;
              btn.active = CocosZ_1.cocosz.isADON;
            } else if ("BtnWeaponAd" == btn.name) {
              _this._btnWeaponAd = btn;
              btn.active = CocosZ_1.cocosz.isADON;
            }
          }
        });
        this._playerAni = cc.find("ditai/skin_all/ani", this._page).getComponent(ani_1.default);
        this._aniCaidai = cc.find("ditai/aniCaidai", this._page).getComponent(sp.Skeleton);
        this._aniCaidai.setCompleteListener(function() {
          _this._aniCaidai.node.active = false;
        });
        this._aniUpgrade = cc.find("ditai/aniUpgrade", this._page).getComponent(sp.Skeleton);
        this._aniUpgrade.setCompleteListener(function() {
          _this._aniUpgrade.node.active = false;
        });
        this._weaponScroll = cc.find("weaponScroll", this._page);
        var content = cc.find("view/content", this._weaponScroll);
        for (var i = 0; i < content.children.length; i++) {
          this._weaponList.push(content.children[i]);
          this._weaponList[i].on(cc.Node.EventType.TOUCH_END, function(e) {
            CocosZ_1.cocosz.audioMgr.playBtnEffect();
            var id = gameDate_1.default.Weapon[e.target.name].id;
            _this._showWeaponId = id;
            _this._updateWeapon();
            _this._updateWeaponFrame();
            var weaponInfo = CocosZ_1.cocosz.dataMgr.getGunInfo(id);
            weaponInfo && 1 == weaponInfo.State && (CocosZ_1.cocosz.dataMgr.curWeapon = id);
          }, this);
        }
        var iconLayer = cc.find("view/iconLayer", this._weaponScroll);
        iconLayer && iconLayer.setParent(content);
        this._ani_arrow = cc.find("view/ani_arrow", this._weaponScroll);
        this._ani_arrow && this._ani_arrow.setParent(content);
        this._skinInfo_name = cc.find("ditai/skinName", this._page).getComponent(cc.Sprite);
        this._skinInfo_xuedi = cc.find("jueseshuxing/xuedi", this._page);
        this._skinInfo_value1 = cc.find("jueseshuxing/value1", this._page).getComponent(cc.Label);
        this._skinInfo_value2 = cc.find("jueseshuxing/value2", this._page).getComponent(cc.Label);
        this._skinInfo_change1 = cc.find("jueseshuxing/change1", this._page).getComponent(cc.Label);
        this._skinInfo_change2 = cc.find("jueseshuxing/change2", this._page).getComponent(cc.Label);
        this._skinInfo_level_pro = cc.find("jueseshuxing/levelProgressBar", this._page).getComponent(cc.ProgressBar);
        this._weaponInfo_name = cc.find("wuqishuxing/weaponName", this._page).getComponent(cc.Sprite);
        this._weaponInfo_value0 = cc.find("wuqishuxing/value0", this._page).getComponent(cc.Label);
        this._weaponInfo_value1 = cc.find("wuqishuxing/value1", this._page).getComponent(cc.Label);
        this._weaponInfo_value2 = cc.find("wuqishuxing/value2", this._page).getComponent(cc.Label);
        this._weaponInfo_value3 = cc.find("wuqishuxing/value3", this._page).getComponent(cc.Label);
        this._weaponInfo_change0 = cc.find("wuqishuxing/change0", this._page).getComponent(cc.Label);
        this._weaponInfo_change1 = cc.find("wuqishuxing/change1", this._page).getComponent(cc.Label);
        this._weaponInfo_change2 = cc.find("wuqishuxing/change2", this._page).getComponent(cc.Label);
        this._weaponInfo_change3 = cc.find("wuqishuxing/change3", this._page).getComponent(cc.Label);
        this._weaponInfo_level_pro = cc.find("wuqishuxing/levelProgressBar", this._page).getComponent(cc.ProgressBar);
      };
      UIHomePage.prototype._canGetBonus = function() {
        return new Date().toDateString() != CocosZ_1.cocosz.dataMgr.LastDailyBonusTime;
      };
      UIHomePage.prototype._aniEffect = function(type) {
        switch (type) {
         case 1:
          if (this._aniUpgrade) {
            this._aniUpgrade.node.active = true;
            this._aniUpgrade.setAnimation(0, "animation", false);
            CocosZ_1.cocosz.audioMgr.playEffect("ui_upgrade");
          }
          break;

         case 2:
          if (this._aniCaidai) {
            this._aniCaidai.node.active = true;
            this._aniCaidai.setAnimation(0, "animation", false);
            CocosZ_1.cocosz.audioMgr.playEffect("ui_caidai");
          }
        }
      };
      UIHomePage.prototype.onOpen = function() {
        var _this = this;
        cc.log("home open !");
        Utils_1.utils.umaEvent("gamehome");
        Utils_1.utils.SendEvent("\u9875\u9762-\u9996\u9875");
        this._updatePlayer();
        this._updateWeapon();
        this._updateWeaponFrame();
        Utils_1.utils.showYzRealNameAuthPanel();
        Utils_1.utils.showPrivacyPanel({
          group: "default",
          parent: this._page
        });
        Utils_1.utils.registerServerInitEvent(function() {
          Utils_1.utils.checkAutoSign() && _this._canGetBonus() && CocosZ_1.cocosz.uiMgr.openPanel(Constant_1.PanelName.UISignPanel);
          _this.showAd();
        }, this);
        cc.game.on(Constant_1.default.E_GAME_LOGIC, this._onGameMessageHandler, this);
      };
      UIHomePage.prototype.onClose = function() {
        cc.game.targetOff(this);
        Utils_1.utils.hideVivoGamePortalWidget();
        Utils_1.utils.hideOppoGameDrawerAdWidget();
        Utils_1.utils.adManager.hideBlockAd();
        Utils_1.utils.adManager.hideNativeTryGameWidget();
        Utils_1.utils.adManager.HideSingleNativeAd();
        if (PlatUtils_1.default.IsWechat) {
          Utils_1.utils.adManager.hideCustomAd({
            location: 1
          });
          Utils_1.utils.adManager.hideCustomAd({
            location: 2
          });
        } else PlatUtils_1.default.IsVIVO && Utils_1.utils.adManager.hideCustomAd({
          location: YZ_Constant_1.BannerLocation.Home
        });
      };
      UIHomePage.prototype.showAd = function() {
        if (CocosZ_1.cocosz.isShowAd) {
          PlatUtils_1.default.IsWechat ? Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Home) : Utils_1.utils.adManager.ShowBanner(YZ_Constant_1.BannerLocation.Home, {
            width: .1,
            bottom: 1
          });
          if (PlatUtils_1.default.IsWechat) {
            Utils_1.utils.adManager.showCustomAd({
              location: 1
            });
            Utils_1.utils.adManager.showCustomAd({
              location: 2
            });
          } else PlatUtils_1.default.IsVIVO && Utils_1.utils.adManager.showCustomAd({
            location: YZ_Constant_1.BannerLocation.Home
          });
          Utils_1.utils.adManager.showNativeTryGameWidget({
            right: 50,
            top: 800,
            scale: 1,
            parent: this._page
          });
          Utils_1.utils.adManager.ShowSingleNativeAd({});
          Utils_1.utils.adManager.showBlockAd({
            right: 50,
            top: 500,
            showNum: 1
          });
          Utils_1.utils.showMoreGamesWidget({
            group: "default",
            scale: 1,
            bottom: 300,
            left: 50,
            parent: this._page,
            location: YZ_Constant_1.BannerLocation.Home
          });
          Utils_1.utils.showTryGamesWidget({
            group: "default",
            scale: 1,
            bottom: 350,
            right: 50,
            parent: this._page,
            location: YZ_Constant_1.BannerLocation.Home
          });
          Utils_1.utils.showVivoGamePortalWidget({
            top: 500,
            location: YZ_Constant_1.BannerLocation.Home
          });
          Utils_1.utils.showOppoGameDrawerAdWidget({
            top: 500,
            location: YZ_Constant_1.BannerLocation.Home
          });
          Utils_1.utils.showCreateShortcutWidget(null, {
            group: "default",
            scale: 1,
            left: 0,
            top: 500,
            parent: this._page
          });
          Utils_1.utils.showPrivacyWidget({
            group: "default",
            top: 0,
            left: 0,
            parent: this._page.getChildByName("PrivacyWidget"),
            color: cc.Color.BLACK
          });
        }
      };
      UIHomePage.prototype._onGameMessageHandler = function(event) {
        switch (event.type) {
         case Constant_1.default.E_Fly_Coin:
          this._flyCoins(event.iconName, event.frameNodeName);
          break;

         case Constant_1.default.E_CJ_SKIN:
          this._showSkinId = CocosZ_1.cocosz.dataMgr.CurSkinId;
          this._updatePlayer();
          break;

         case Constant_1.default.E_CJ_Weapon:
          this._showWeaponId = CocosZ_1.cocosz.dataMgr.curWeapon;
          this._updateWeapon();
          this._updateWeaponFrame();
        }
      };
      UIHomePage.prototype._onBtnClickHandler = function(event) {
        return __awaiter(this, void 0, void 0, function() {
          var skinInfo, skinInfo, showSkinInfo, showSKinKey, showWeaponInfo, showWeaponKey, t;
          var _this = this;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              return [ 4, CocosZ_1.cocosz.audioMgr.playBtnEffect().catch() ];

             case 1:
              _a.sent();
              switch (event.target.name) {
               case "BtnGameStart":
                console.log("click BtnGameStart");
                CocosZ_1.cocosz.gameMode = 6;
                CocosZ_1.cocosz.gameMgr.gameStart(CocosZ_1.cocosz.getLevelId());
                break;

               case "BtnLeft":
                this._showSkinId--;
                this._showSkinId < 0 && (this._showSkinId = 11);
                this._updatePlayer();
                skinInfo = CocosZ_1.cocosz.dataMgr.getSkinInfo(this._showSkinId);
                skinInfo && 1 == skinInfo.State && (CocosZ_1.cocosz.dataMgr.CurSkinId = this._showSkinId);
                break;

               case "BtnRight":
                this._showSkinId++;
                this._showSkinId > 11 && (this._showSkinId = 0);
                this._updatePlayer();
                skinInfo = CocosZ_1.cocosz.dataMgr.getSkinInfo(this._showSkinId);
                skinInfo && 1 == skinInfo.State && (CocosZ_1.cocosz.dataMgr.CurSkinId = this._showSkinId);
                break;

               case "BtnSkin":
                showSkinInfo = CocosZ_1.cocosz.dataMgr.getSkinInfo(this._showSkinId);
                showSKinKey = "" + (this._showSkinId + 1);
                console.log(showSkinInfo);
                if (0 == showSkinInfo.State) if (gameDate_1.default.SkinMess[showSKinKey].priceType == gameDate_1.PriceType.Gold) if (CocosZ_1.cocosz.dataMgr.CoinCount >= gameDate_1.default.SkinMess[showSKinKey].price) {
                  CocosZ_1.cocosz.dataMgr.CoinCount -= gameDate_1.default.SkinMess[showSKinKey].price;
                  Msg_1.default.Show(i18n.t("msg.gxhdxjs"));
                  CocosZ_1.cocosz.dataMgr.CurSkinId = this._showSkinId;
                  this._updatePlayer();
                  this._aniEffect(2);
                } else this.showCoinPanel(false); else if (gameDate_1.default.SkinMess[showSKinKey].priceType == gameDate_1.PriceType.Diamond) if (CocosZ_1.cocosz.dataMgr.DiamondCount >= gameDate_1.default.SkinMess[showSKinKey].price) {
                  CocosZ_1.cocosz.dataMgr.DiamondCount -= gameDate_1.default.SkinMess[showSKinKey].price;
                  Msg_1.default.Show(i18n.t("msg.gxhdxjs"));
                  CocosZ_1.cocosz.dataMgr.CurSkinId = this._showSkinId;
                  this._updatePlayer();
                  this._aniEffect(2);
                } else this.showCoinPanel(true); else gameDate_1.default.SkinMess[showSKinKey].priceType == gameDate_1.PriceType.ZhuanPanReward && CocosZ_1.cocosz.uiMgr.openPanel(Constant_1.PanelName.UITurntablePanel); else if (showSkinInfo.Level < 6) if (CocosZ_1.cocosz.dataMgr.CoinCount >= Constant_1.default.skinLevelPriceArr[showSkinInfo.Level]) {
                  CocosZ_1.cocosz.dataMgr.CoinCount -= Constant_1.default.skinLevelPriceArr[showSkinInfo.Level];
                  showSkinInfo.Level++;
                  CocosZ_1.cocosz.dataMgr.setSkinInfo(showSkinInfo.Id, showSkinInfo);
                  this._updatePlayer();
                  this._aniEffect(1);
                } else this.showCoinPanel(false);
                break;

               case "BtnWeapon":
                showWeaponInfo = CocosZ_1.cocosz.dataMgr.getGunInfo(this._showWeaponId);
                showWeaponKey = weapon_1.default.WeaponName[this._showWeaponId];
                if (0 == showWeaponInfo.State) if (gameDate_1.default.Weapon[showWeaponKey].priceType == gameDate_1.PriceType.Gold) if (CocosZ_1.cocosz.dataMgr.CoinCount >= gameDate_1.default.Weapon[showWeaponKey].price) {
                  CocosZ_1.cocosz.dataMgr.CoinCount -= gameDate_1.default.Weapon[showWeaponKey].price;
                  Msg_1.default.Show(i18n.t("msg.gxhdxwq"));
                  CocosZ_1.cocosz.dataMgr.curWeapon = this._showWeaponId;
                  this._updateWeapon();
                  this._updateWeaponFrame();
                  this._aniEffect(2);
                } else this.showCoinPanel(false); else if (gameDate_1.default.Weapon[showWeaponKey].priceType == gameDate_1.PriceType.Diamond) if (CocosZ_1.cocosz.dataMgr.DiamondCount >= gameDate_1.default.Weapon[showWeaponKey].price) {
                  CocosZ_1.cocosz.dataMgr.DiamondCount -= gameDate_1.default.Weapon[showWeaponKey].price;
                  Msg_1.default.Show(i18n.t("msg.gxhdxwq"));
                  CocosZ_1.cocosz.dataMgr.curWeapon = this._showWeaponId;
                  this._updateWeapon();
                  this._updateWeaponFrame();
                  this._aniEffect(2);
                } else this.showCoinPanel(true); else gameDate_1.default.Weapon[showWeaponKey].priceType == gameDate_1.PriceType.ZhuanPanReward && CocosZ_1.cocosz.uiMgr.openPanel(Constant_1.PanelName.UITurntablePanel); else if (showWeaponInfo.Level < 3) if (CocosZ_1.cocosz.dataMgr.CoinCount >= Constant_1.default.weaponLevelPriceArr[showWeaponInfo.Level]) {
                  CocosZ_1.cocosz.dataMgr.CoinCount -= Constant_1.default.weaponLevelPriceArr[showWeaponInfo.Level];
                  showWeaponInfo.Level++;
                  CocosZ_1.cocosz.dataMgr.setGunInfo(showWeaponInfo.Id, showWeaponInfo);
                  this._updateWeapon();
                  this._updateWeaponFrame();
                  this._aniEffect(1);
                } else this.showCoinPanel(false);
                break;

               case "BtnSkinAd":
                Utils_1.utils.SendEvent("\u89c6\u9891-\u76ae\u80a4\u89e3\u9501-\u64ad\u653e");
                CocosZ_1.cocosz.watchAD(function() {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u76ae\u80a4\u89e3\u9501-\u6210\u529f");
                  var showSkinInfo = CocosZ_1.cocosz.dataMgr.getSkinInfo(_this._showSkinId);
                  var showSkinKey = "" + (_this._showSkinId + 1);
                  if (!!showSkinInfo && !!gameDate_1.default.SkinMess[showSkinKey] && !!gameDate_1.default.SkinMess[showSkinKey].videoCount) {
                    showSkinInfo.VideoCount++;
                    CocosZ_1.cocosz.dataMgr.setSkinInfo(_this._showSkinId, showSkinInfo);
                    if (showSkinInfo.VideoCount >= gameDate_1.default.SkinMess[showSkinKey].videoCount) {
                      Msg_1.default.Show(i18n.t("msg.gxhdxjs"));
                      CocosZ_1.cocosz.dataMgr.CurSkinId = _this._showSkinId;
                      _this._aniEffect(2);
                    } else Msg_1.default.Show(i18n.t("msg.jswc") + showSkinInfo.VideoCount + "/" + gameDate_1.default.SkinMess[showSkinKey].videoCount);
                    _this._updatePlayer();
                  }
                }, function() {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u76ae\u80a4\u89e3\u9501-\u5931\u8d25");
                });
                break;

               case "BtnWeaponAd":
                Utils_1.utils.SendEvent("\u89c6\u9891-\u6b66\u5668\u89e3\u9501-\u64ad\u653e");
                CocosZ_1.cocosz.watchAD(function() {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u6b66\u5668\u89e3\u9501-\u6210\u529f");
                  var showWeaponInfo = CocosZ_1.cocosz.dataMgr.getGunInfo(_this._showWeaponId);
                  var showWeaponKey = weapon_1.default.WeaponName[_this._showWeaponId];
                  if (!!showWeaponInfo && !!gameDate_1.default.Weapon[showWeaponKey] && !!gameDate_1.default.Weapon[showWeaponKey].videoCount) {
                    showWeaponInfo.VideoCount++;
                    CocosZ_1.cocosz.dataMgr.setGunInfo(_this._showWeaponId, showWeaponInfo);
                    if (showWeaponInfo.VideoCount >= gameDate_1.default.Weapon[showWeaponKey].videoCount) {
                      Msg_1.default.Show(i18n.t("msg.gxhdxwq"));
                      CocosZ_1.cocosz.dataMgr.curWeapon = _this._showWeaponId;
                      _this._aniEffect(2);
                    } else Msg_1.default.Show(i18n.t("msg.jswc") + showWeaponInfo.VideoCount + "/" + gameDate_1.default.Weapon[showWeaponKey].videoCount);
                    _this._updateWeapon();
                    _this._updateWeaponFrame();
                  }
                }, function() {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u6b66\u5668\u89e3\u9501-\u5931\u8d25");
                });
                break;

               case "BtnCJ":
                CocosZ_1.cocosz.uiMgr.openPanel(Constant_1.PanelName.UITurntablePanel);
                break;

               case "BtnSign":
                CocosZ_1.cocosz.uiMgr.openPanel(Constant_1.PanelName.UISignPanel);
                break;

               case "BtnTime":
                CocosZ_1.cocosz.uiMgr.openPanel(Constant_1.PanelName.UITimePanel);
                break;

               case "BtnSet":
                this._icon_set.stopAllActions();
                this._frame_set.stopAllActions();
                t = (this._frame_set.scaleY ? this._frame_set.scaleY : 1) / 2;
                cc.tween(this._icon_set).to(t, {
                  angle: this._frame_set.scaleY ? 90 : -90
                }, {
                  easing: "sineInOut"
                }).start();
                cc.tween(this._frame_set).to(t, {
                  scaleY: this._frame_set.scaleY ? 0 : 1
                }, {
                  easing: "sineInOut"
                }).start();
                break;

               case "BtnAudio":
                CocosZ_1.cocosz.dataMgr.AudioOn = !CocosZ_1.cocosz.dataMgr.AudioOn;
                this._updateAudioBtn();
                break;

               case "BtnShake":
                CocosZ_1.cocosz.dataMgr.ShakeOn = !CocosZ_1.cocosz.dataMgr.ShakeOn;
                this._updatShakeBtn();
              }
              return [ 2 ];
            }
          });
        });
      };
      UIHomePage.prototype._updatePlayer = function() {
        var _this = this;
        cc.log("showSkinID: ", this._showSkinId);
        this._playerAni.setSkinById(this._showSkinId);
        this._skinInfo_name.spriteFrame = CocosZ_1.cocosz.resMgr.getRes("p_" + (this._showSkinId + 1), cc.SpriteFrame);
        var curSkinInfo = CocosZ_1.cocosz.dataMgr.getSkinInfo(CocosZ_1.cocosz.dataMgr.CurSkinId);
        var showSkinInfo = CocosZ_1.cocosz.dataMgr.getSkinInfo(this._showSkinId);
        var curLevel = curSkinInfo.Level;
        var showLevel = showSkinInfo.Level;
        var curSkinKey = "" + (CocosZ_1.cocosz.dataMgr.CurSkinId + 1);
        var showSKinKey = "" + (this._showSkinId + 1);
        this._skinInfo_xuedi.children.forEach(function(v, i) {
          i < gameDate_1.default.SkinMess[showSKinKey].xuedi ? _this._skinInfo_xuedi.children[i].opacity = 255 : _this._skinInfo_xuedi.children[i].opacity = 0;
        });
        this._skinInfo_value1.string = "" + gameDate_1.default.SkinMess[showSKinKey].atk[showLevel];
        this._skinInfo_value2.string = "" + gameDate_1.default.SkinMess[showSKinKey].speed[showLevel];
        var num1 = gameDate_1.default.SkinMess[showSKinKey].atk[showLevel] - gameDate_1.default.SkinMess[curSkinKey].atk[curLevel];
        if (num1 < 0) {
          this._skinInfo_change1.string = "" + num1;
          this._skinInfo_change1.node.children[0].active = false;
          this._skinInfo_change1.node.children[1].active = true;
          this._skinInfo_change1.node.color = cc.Color.RED;
          this._skinInfo_change1.node.opacity = 255;
        } else if (0 == num1) this._skinInfo_change1.node.opacity = 0; else {
          this._skinInfo_change1.string = "+" + num1;
          this._skinInfo_change1.node.children[0].active = true;
          this._skinInfo_change1.node.children[1].active = false;
          this._skinInfo_change1.node.color = cc.Color.GREEN;
          this._skinInfo_change1.node.opacity = 255;
        }
        var num2 = gameDate_1.default.SkinMess[showSKinKey].speed[showLevel] - gameDate_1.default.SkinMess[curSkinKey].speed[curLevel];
        if (num2 < 0) {
          this._skinInfo_change2.string = "" + num2;
          this._skinInfo_change2.node.children[0].active = false;
          this._skinInfo_change2.node.children[1].active = true;
          this._skinInfo_change2.node.color = cc.Color.RED;
          this._skinInfo_change2.node.opacity = 255;
        } else if (0 == num2) this._skinInfo_change2.node.opacity = 0; else {
          this._skinInfo_change2.string = "+" + num2;
          this._skinInfo_change2.node.children[0].active = true;
          this._skinInfo_change2.node.children[1].active = false;
          this._skinInfo_change2.node.color = cc.Color.GREEN;
          this._skinInfo_change2.node.opacity = 255;
        }
        this._skinInfo_level_pro.progress = showLevel / 6;
        if (showSkinInfo) {
          this._btnSkin.children.forEach(function(v) {
            return v.active = false;
          });
          var btn_huang = this._btnSkin.getChildByName("btn_huang");
          var btn_huang_small = this._btnSkin.getChildByName("btn_huang_small");
          var btn_hong = this._btnSkin.getChildByName("btn_hong");
          var txt_buy = this._btnSkin.getChildByName("txt_buy");
          var txt_sjwc = this._btnSkin.getChildByName("txt_sjwc");
          var txt_upgrade = this._btnSkin.getChildByName("txt_upgrade");
          var txt_zpjl = this._btnSkin.getChildByName("txt_zpjl");
          var icon_jinbi = this._btnSkin.getChildByName("icon_jinbi");
          var icon_zuanshi = this._btnSkin.getChildByName("icon_zuanshi");
          var price = this._btnSkin.getChildByName("price");
          if (0 == showSkinInfo.State) if (gameDate_1.default.SkinMess[showSKinKey] && gameDate_1.default.SkinMess[showSKinKey].videoCount) {
            this._btnSkin.x = -350;
            this._btnSkin.width = 169;
            btn_huang_small && (btn_huang_small.active = true);
            if (gameDate_1.default.SkinMess[showSKinKey].priceType == gameDate_1.PriceType.Gold) {
              if (icon_jinbi) {
                icon_jinbi.active = true;
                icon_jinbi.x = -50;
              }
              if (price) {
                price.active = true;
                price.x = -10;
                price.getComponent(cc.Label).string = "" + gameDate_1.default.SkinMess[showSKinKey].price;
              }
            } else if (gameDate_1.default.SkinMess[showSKinKey].priceType == gameDate_1.PriceType.Diamond) {
              if (icon_zuanshi) {
                icon_zuanshi.active = true;
                icon_zuanshi.x = -50;
              }
              if (price) {
                price.active = true;
                price.x = -10;
                price.getComponent(cc.Label).string = "" + gameDate_1.default.SkinMess[showSKinKey].price;
              }
            } else gameDate_1.default.SkinMess[showSKinKey].priceType == gameDate_1.PriceType.ZhuanPanReward && txt_zpjl && (txt_zpjl.active = true);
            this._btnSkinAd.active = true;
            var videoCount = this._btnSkinAd.getChildByName("videoCount");
            videoCount && (videoCount.getComponent(cc.Label).string = showSkinInfo.VideoCount + "/" + gameDate_1.default.SkinMess[showSKinKey].videoCount);
          } else {
            this._btnSkinAd.active = false;
            this._btnSkin.x = -250;
            this._btnSkin.width = 252;
            btn_huang && (btn_huang.active = true);
            if (gameDate_1.default.SkinMess[showSKinKey].priceType == gameDate_1.PriceType.Gold) {
              txt_buy && (txt_buy.active = true);
              if (icon_jinbi) {
                icon_jinbi.active = true;
                icon_jinbi.x = 0;
              }
              if (price) {
                price.active = true;
                price.x = 30;
                price.getComponent(cc.Label).string = "" + gameDate_1.default.SkinMess[showSKinKey].price;
              }
            } else if (gameDate_1.default.SkinMess[showSKinKey].priceType == gameDate_1.PriceType.Diamond) {
              txt_buy && (txt_buy.active = true);
              if (icon_zuanshi) {
                icon_zuanshi.active = true;
                icon_zuanshi.x = 0;
              }
              if (price) {
                price.active = true;
                price.x = 30;
                price.getComponent(cc.Label).string = "" + gameDate_1.default.SkinMess[showSKinKey].price;
              }
            } else gameDate_1.default.SkinMess[showSKinKey].priceType == gameDate_1.PriceType.ZhuanPanReward && txt_zpjl && (txt_zpjl.active = true);
          } else if (showSkinInfo.Level < 6) {
            this._btnSkinAd.active = false;
            this._btnSkin.x = -250;
            this._btnSkin.width = 252;
            btn_hong && (btn_hong.active = true);
            txt_upgrade && (txt_upgrade.active = true);
            if (icon_jinbi) {
              icon_jinbi.active = true;
              icon_jinbi.x = 0;
            }
            if (price) {
              price.active = true;
              price.x = 30;
              price.getComponent(cc.Label).string = "" + Constant_1.default.skinLevelPriceArr[showSkinInfo.Level];
            }
          } else {
            this._btnSkinAd.active = false;
            this._btnSkin.x = -250;
            this._btnSkin.width = 252;
            txt_sjwc && (txt_sjwc.active = true);
          }
        }
      };
      UIHomePage.prototype._updateWeapon = function() {
        cc.log("showWeaponID: ", this._showWeaponId);
        this._playerAni.setWeaponById(this._showWeaponId);
        this._weaponInfo_name.spriteFrame = CocosZ_1.cocosz.resMgr.getRes("w_" + (this._showWeaponId + 1), cc.SpriteFrame);
        var curWeaponInfo = CocosZ_1.cocosz.dataMgr.getGunInfo(CocosZ_1.cocosz.dataMgr.CurRange);
        var showWeaponInfo = CocosZ_1.cocosz.dataMgr.getGunInfo(this._showWeaponId);
        var curLevel = curWeaponInfo.Level;
        var showLevel = showWeaponInfo.Level;
        var curWeaponKey = weapon_1.default.WeaponName[CocosZ_1.cocosz.dataMgr.CurRange];
        var showWeaponKey = weapon_1.default.WeaponName[this._showWeaponId];
        this._weaponInfo_value0.string = "" + gameDate_1.default.Weapon[showWeaponKey].atk[showLevel];
        this._weaponInfo_value1.string = (1 / gameDate_1.default.Weapon[showWeaponKey].atkSpeed[showLevel]).toFixed(1);
        this._weaponInfo_value2.string = "" + gameDate_1.default.Weapon[showWeaponKey].atkRange;
        this._weaponInfo_value3.string = "" + gameDate_1.default.Weapon[showWeaponKey].bulletTotal[showLevel];
        var num0 = gameDate_1.default.Weapon[showWeaponKey].atk[showLevel] - gameDate_1.default.Weapon[curWeaponKey].atk[curLevel];
        var num1 = 1 / gameDate_1.default.Weapon[showWeaponKey].atkSpeed[showLevel] - 1 / gameDate_1.default.Weapon[curWeaponKey].atkSpeed[curLevel];
        var num2 = gameDate_1.default.Weapon[showWeaponKey].atkRange - gameDate_1.default.Weapon[curWeaponKey].atkRange;
        var num3 = gameDate_1.default.Weapon[showWeaponKey].bulletTotal[showLevel] - gameDate_1.default.Weapon[curWeaponKey].bulletTotal[curLevel];
        if (num0 < 0) {
          this._weaponInfo_change0.string = "" + num0;
          this._weaponInfo_change0.node.children[0].active = false;
          this._weaponInfo_change0.node.children[1].active = true;
          this._weaponInfo_change0.node.color = cc.Color.RED;
          this._weaponInfo_change0.node.opacity = 255;
        } else if (0 == num0) this._weaponInfo_change0.node.opacity = 0; else {
          this._weaponInfo_change0.string = "+" + num0;
          this._weaponInfo_change0.node.children[0].active = true;
          this._weaponInfo_change0.node.children[1].active = false;
          this._weaponInfo_change0.node.color = cc.Color.GREEN;
          this._weaponInfo_change0.node.opacity = 255;
        }
        if (num1 < 0) {
          this._weaponInfo_change1.string = "" + num1;
          this._weaponInfo_change1.node.children[0].active = false;
          this._weaponInfo_change1.node.children[1].active = true;
          this._weaponInfo_change1.node.color = cc.Color.RED;
          this._weaponInfo_change1.node.opacity = 255;
        } else if (0 == num1) this._weaponInfo_change1.node.opacity = 0; else {
          this._weaponInfo_change1.string = "+" + num1;
          this._weaponInfo_change1.node.children[0].active = true;
          this._weaponInfo_change1.node.children[1].active = false;
          this._weaponInfo_change1.node.color = cc.Color.GREEN;
          this._weaponInfo_change1.node.opacity = 255;
        }
        if (num2 < 0) {
          this._weaponInfo_change2.string = "" + num2;
          this._weaponInfo_change2.node.children[0].active = false;
          this._weaponInfo_change2.node.children[1].active = true;
          this._weaponInfo_change2.node.color = cc.Color.RED;
          this._weaponInfo_change2.node.opacity = 255;
        } else if (0 == num2) this._weaponInfo_change2.node.opacity = 0; else {
          this._weaponInfo_change2.string = "+" + num2;
          this._weaponInfo_change2.node.children[0].active = true;
          this._weaponInfo_change2.node.children[1].active = false;
          this._weaponInfo_change2.node.color = cc.Color.GREEN;
          this._weaponInfo_change2.node.opacity = 255;
        }
        if (num3 < 0) {
          this._weaponInfo_change3.string = "" + num3;
          this._weaponInfo_change3.node.children[0].active = false;
          this._weaponInfo_change3.node.children[1].active = true;
          this._weaponInfo_change3.node.color = cc.Color.RED;
          this._weaponInfo_change3.node.opacity = 255;
        } else if (0 == num3) this._weaponInfo_change3.node.opacity = 0; else {
          this._weaponInfo_change3.string = "+" + num3;
          this._weaponInfo_change3.node.children[0].active = true;
          this._weaponInfo_change3.node.children[1].active = false;
          this._weaponInfo_change3.node.color = cc.Color.GREEN;
          this._weaponInfo_change3.node.opacity = 255;
        }
        this._weaponInfo_level_pro.progress = showLevel / 3;
        if (showWeaponInfo) {
          this._btnWeapon.children.forEach(function(v) {
            return v.active = false;
          });
          var btn_huang = this._btnWeapon.getChildByName("btn_huang");
          var btn_huang_small = this._btnWeapon.getChildByName("btn_huang_small");
          var btn_hong = this._btnWeapon.getChildByName("btn_hong");
          var txt_buy = this._btnWeapon.getChildByName("txt_buy");
          var txt_sjwc = this._btnWeapon.getChildByName("txt_sjwc");
          var txt_upgrade = this._btnWeapon.getChildByName("txt_upgrade");
          var txt_zpjl = this._btnWeapon.getChildByName("txt_zpjl");
          var icon_jinbi = this._btnWeapon.getChildByName("icon_jinbi");
          var icon_zuanshi = this._btnWeapon.getChildByName("icon_zuanshi");
          var price = this._btnWeapon.getChildByName("price");
          if (0 == showWeaponInfo.State) if (gameDate_1.default.Weapon[showWeaponKey] && gameDate_1.default.Weapon[showWeaponKey].videoCount) {
            this._btnWeapon.x = 150;
            this._btnWeapon.width = 169;
            btn_huang_small && (btn_huang_small.active = true);
            if (gameDate_1.default.Weapon[showWeaponKey].priceType == gameDate_1.PriceType.Gold) {
              if (icon_jinbi) {
                icon_jinbi.active = true;
                icon_jinbi.x = -50;
              }
              if (price) {
                price.active = true;
                price.x = -10;
                price.getComponent(cc.Label).string = "" + gameDate_1.default.Weapon[showWeaponKey].price;
              }
            } else if (gameDate_1.default.Weapon[showWeaponKey].priceType == gameDate_1.PriceType.Diamond) {
              if (icon_zuanshi) {
                icon_zuanshi.active = true;
                icon_zuanshi.x = -50;
              }
              if (price) {
                price.active = true;
                price.x = -10;
                price.getComponent(cc.Label).string = "" + gameDate_1.default.Weapon[showWeaponKey].price;
              }
            } else gameDate_1.default.Weapon[showWeaponKey].priceType == gameDate_1.PriceType.ZhuanPanReward && txt_zpjl && (txt_zpjl.active = true);
            this._btnWeaponAd.active = true;
            var videoCount = this._btnWeaponAd.getChildByName("videoCount");
            videoCount && (videoCount.getComponent(cc.Label).string = showWeaponInfo.VideoCount + "/" + gameDate_1.default.Weapon[showWeaponKey].videoCount);
          } else {
            this._btnWeaponAd.active = false;
            this._btnWeapon.x = 250;
            this._btnWeapon.width = 252;
            btn_huang && (btn_huang.active = true);
            if (gameDate_1.default.Weapon[showWeaponKey].priceType == gameDate_1.PriceType.Gold) {
              txt_buy && (txt_buy.active = true);
              if (icon_jinbi) {
                icon_jinbi.active = true;
                icon_jinbi.x = 0;
              }
              if (price) {
                price.active = true;
                price.x = 30;
                price.getComponent(cc.Label).string = "" + gameDate_1.default.Weapon[showWeaponKey].price;
              }
            } else if (gameDate_1.default.Weapon[showWeaponKey].priceType == gameDate_1.PriceType.Diamond) {
              txt_buy && (txt_buy.active = true);
              if (icon_zuanshi) {
                icon_zuanshi.active = true;
                icon_zuanshi.x = 0;
              }
              if (price) {
                price.active = true;
                price.x = 30;
                price.getComponent(cc.Label).string = "" + gameDate_1.default.Weapon[showWeaponKey].price;
              }
            } else gameDate_1.default.Weapon[showWeaponKey].priceType == gameDate_1.PriceType.ZhuanPanReward && txt_zpjl && (txt_zpjl.active = true);
          } else if (showWeaponInfo.Level < 3) {
            this._btnWeaponAd.active = false;
            this._btnWeapon.x = 250;
            this._btnWeapon.width = 252;
            btn_hong && (btn_hong.active = true);
            txt_upgrade && (txt_upgrade.active = true);
            if (icon_jinbi) {
              icon_jinbi.active = true;
              icon_jinbi.x = 0;
            }
            if (price) {
              price.active = true;
              price.x = 30;
              price.getComponent(cc.Label).string = "" + Constant_1.default.weaponLevelPriceArr[showWeaponInfo.Level];
            }
          } else {
            this._btnWeaponAd.active = false;
            this._btnWeapon.x = 250;
            this._btnWeapon.width = 252;
            txt_sjwc && (txt_sjwc.active = true);
          }
        }
        this._updateWeaponFrame();
      };
      UIHomePage.prototype._updateWeaponFrame = function() {
        var gunInfos = CocosZ_1.cocosz.dataMgr.getItem(Constant_1.default.ST_GunInfo, "");
        if (gunInfos) {
          var gunInfoArr = JSON.parse(gunInfos);
          if (gunInfoArr) for (var i = 0; i < this._weaponList.length; i++) {
            var node = this._weaponList[i];
            if (gameDate_1.default.Weapon[node.name] && gameDate_1.default.Weapon[node.name].id >= 0) {
              var id = gameDate_1.default.Weapon[node.name].id;
              if (gunInfoArr[id]) {
                var state = gunInfoArr[id].State;
                node.getChildByName("kuang_hui").active = !(state >= 1);
                if (node.name == weapon_1.default.WeaponName[this._showWeaponId]) {
                  node.getChildByName("kuang_huang").active = true;
                  if (this._ani_arrow) if (gunInfoArr[id].State > 0 && gunInfoArr[id].Level < 3) {
                    this._ani_arrow.x = node.x + 30;
                    this._ani_arrow.active = true;
                  } else this._ani_arrow.active = false;
                } else node.getChildByName("kuang_huang").active = false;
              } else {
                node.getChildByName("kuang_hui").active = false;
                node.getChildByName("kuang_huang").active = false;
              }
            } else {
              node.getChildByName("kuang_hui").active = false;
              node.getChildByName("kuang_huang").active = false;
            }
          }
        }
      };
      UIHomePage.prototype.showCoinPanel = function(isDiamond) {
        var node = cc.instantiate(CocosZ_1.cocosz.resMgr.getRes("UIADPanel", cc.Prefab));
        cc.find("Canvas").addChild(node);
        isDiamond && node.getComponent("UIADPanel").setDiamond();
      };
      UIHomePage.prototype._flyCoins = function(iconName, frameNodeName) {
        var posNode = cc.find(frameNodeName, this._page);
        if (!posNode) return;
        var pos = posNode.parent.convertToWorldSpaceAR(posNode.position);
        FlyCoin_1.default.Show(iconName, pos);
      };
      UIHomePage.prototype._updateAudioBtn = function(isPlay) {
        void 0 === isPlay && (isPlay = true);
        var offImg = cc.find("Background/off", this._btnAudio);
        offImg.active = false == CocosZ_1.cocosz.dataMgr.AudioOn;
        isPlay && (CocosZ_1.cocosz.dataMgr.AudioOn ? CocosZ_1.cocosz.audioMgr.playBgm() : CocosZ_1.cocosz.audioMgr.stopAll());
      };
      UIHomePage.prototype._updatShakeBtn = function() {
        var offImg = cc.find("Background/off", this._btnShake);
        offImg.active = false == CocosZ_1.cocosz.dataMgr.ShakeOn;
      };
      UIHomePage = __decorate([ ccclass ], UIHomePage);
      return UIHomePage;
    }(UIPage_1.default);
    exports.default = UIHomePage;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/PlatUtils": "PlatUtils",
    "../../common-plugin/Scripts/Utils": "Utils",
    "../../common-plugin/Scripts/YZ_Constant": "YZ_Constant",
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "../Framework/FlyCoin": "FlyCoin",
    "../Framework/Msg": "Msg",
    "../Framework/UIPage": "UIPage",
    "../Game/ani": "ani",
    "../Game/gameDate": "gameDate",
    "../Game/weapon": "weapon",
    LanguageData: "LanguageData"
  } ],
  UILoadingPage: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "672f4K2Ni5IvZKg5f59uM3H", "UILoadingPage");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var UIPage_1 = require("../Framework/UIPage");
    var Constant_1 = require("../Framework/Constant");
    var CocosZ_1 = require("../Framework/CocosZ");
    var PlatUtils_1 = require("../../common-plugin/Scripts/PlatUtils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var UILoadingPage = function(_super) {
      __extends(UILoadingPage, _super);
      function UILoadingPage() {
        var _this = _super.call(this, Constant_1.PageName.UILoadingPage) || this;
        _this._loadingBar = null;
        _this.isValid() && _this.onLoad();
        return _this;
      }
      UILoadingPage.prototype.onLoad = function() {
        var health = cc.find("health", this._page);
        health && ("zh" == CocosZ_1.cocosz.curLanguage && (PlatUtils_1.default.IsHuaWei || PlatUtils_1.default.IsOPPO || CocosZ_1.cocosz.isDeBug) ? health.active = true : health.active = false);
        this._loadingBar = cc.find("LoadingBar", this._page).getComponent(cc.ProgressBar);
      };
      UILoadingPage.prototype.onOpen = function() {
        var _this = this;
        cc.game.on(Constant_1.default.E_GAME_LOGIC, this._onGameMassageHandler, this);
        this._loadingBar.progress = .01;
        var r = .01;
        cc.tween(this._page).delay(.2).call(function() {
          r += .01;
          r < 1 && _this._updateProgress(r);
        }).union().repeatForever().start();
      };
      UILoadingPage.prototype.onClose = function() {
        cc.game.targetOff(this);
      };
      UILoadingPage.prototype._onGameMassageHandler = function(event) {
        this._loadingBar.node.active = true;
        switch (event.type) {
         case Constant_1.default.E_UPDATE_PROGRESS:
          this._updateProgress(event.data);
        }
      };
      UILoadingPage.prototype._updateProgress = function(pro) {
        pro > this._loadingBar.progress && (this._loadingBar.progress = pro);
      };
      UILoadingPage = __decorate([ ccclass ], UILoadingPage);
      return UILoadingPage;
    }(UIPage_1.default);
    exports.default = UILoadingPage;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/PlatUtils": "PlatUtils",
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "../Framework/UIPage": "UIPage"
  } ],
  UIMgr: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "33548NTHxpPnbtMDUrsJscE", "UIMgr");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Constant_1 = require("./Constant");
    var UILoadingPage_1 = require("../UI/UILoadingPage");
    var UIHomePage_1 = require("../UI/UIHomePage");
    var UIGamePage_1 = require("../UI/UIGamePage");
    var UIRevivePanel_1 = require("../UI/UIRevivePanel");
    var UIGameLoadingPage_1 = require("../UI/UIGameLoadingPage");
    var UIPausePanel_1 = require("../UI/UIPausePanel");
    var UITurntablePage_1 = require("../UI/UITurntablePage");
    var UITrySkinPanel_1 = require("../UI/UITrySkinPanel");
    var UIWeaponLevelPanel_1 = require("../UI/UIWeaponLevelPanel");
    var UIUpgradePanel_1 = require("../UI/UIUpgradePanel");
    var UIOverPage_1 = require("../UI/UIOverPage");
    var UISignPage_1 = require("../UI/UISignPage");
    var UITimePage_1 = require("../UI/UITimePage");
    var UIMgr = function(_super) {
      __extends(UIMgr, _super);
      function UIMgr() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._pageDict = {};
        _this._panelDict = {};
        return _this;
      }
      Object.defineProperty(UIMgr, "inst", {
        get: function() {
          UIMgr._inst || (UIMgr._inst = new UIMgr());
          return UIMgr._inst;
        },
        enumerable: false,
        configurable: true
      });
      UIMgr.prototype.openPage = function(name) {
        if (this._panelDict[name] && this._panelDict[name].isOpen()) return;
        this.closeAllPanel();
        this.closeAllPage();
        if (this._pageDict[name] && this._pageDict[name].isValid()) this._pageDict[name].open(); else {
          var page = this._createUI(name);
          if (page) {
            this._pageDict[name] = page;
            page.isValid() && page.open();
          }
        }
      };
      UIMgr.prototype.openPanel = function(name) {
        if (this._panelDict[name] && this._panelDict[name].isOpen()) return;
        if (this._panelDict[name] && this._panelDict[name].isValid()) this._panelDict[name].open(); else {
          var panel = this._createUI(name);
          if (panel) {
            this._panelDict[name] = panel;
            panel.isValid() && panel.open();
          }
        }
      };
      UIMgr.prototype.closeAllPage = function() {
        for (var key in this._pageDict) key && this._pageDict[key] && this._pageDict[key].close();
      };
      UIMgr.prototype.closeAllPanel = function() {
        for (var key in this._panelDict) key && this._panelDict[key] && this._panelDict[key].close();
      };
      UIMgr.prototype.closePanel = function(name) {
        this._panelDict[name] && this._panelDict[name].isValid() && this._panelDict[name].close();
      };
      UIMgr.prototype._createUI = function(name) {
        switch (name) {
         case Constant_1.PageName.UILoadingPage:
          return new UILoadingPage_1.default();

         case Constant_1.PageName.UIHomePage:
          return new UIHomePage_1.default();

         case Constant_1.PanelName.UISignPanel:
          return new UISignPage_1.default();

         case Constant_1.PanelName.UITurntablePanel:
          return new UITurntablePage_1.default();

         case Constant_1.PanelName.UITimePanel:
          return new UITimePage_1.default();

         case Constant_1.PanelName.UITrySkinPanel:
          return new UITrySkinPanel_1.default();

         case Constant_1.PanelName.UIWeaponLevelPanel:
          return new UIWeaponLevelPanel_1.default();

         case Constant_1.PageName.UIGameLoadingPage:
          return new UIGameLoadingPage_1.default();

         case Constant_1.PageName.UIGamePage:
          return new UIGamePage_1.default();

         case Constant_1.PanelName.UIPausePanel:
          return new UIPausePanel_1.default();

         case Constant_1.PanelName.UIUpgradePanel:
          return new UIUpgradePanel_1.default();

         case Constant_1.PanelName.UIRevivePanel:
          return new UIRevivePanel_1.default();

         case Constant_1.PageName.UIOverPage:
          return new UIOverPage_1.default();

         default:
          cc.error("Can not found class " + name);
          return null;
        }
      };
      return UIMgr;
    }(cc.Component);
    exports.default = UIMgr;
    cc._RF.pop();
  }, {
    "../UI/UIGameLoadingPage": "UIGameLoadingPage",
    "../UI/UIGamePage": "UIGamePage",
    "../UI/UIHomePage": "UIHomePage",
    "../UI/UILoadingPage": "UILoadingPage",
    "../UI/UIOverPage": "UIOverPage",
    "../UI/UIPausePanel": "UIPausePanel",
    "../UI/UIRevivePanel": "UIRevivePanel",
    "../UI/UISignPage": "UISignPage",
    "../UI/UITimePage": "UITimePage",
    "../UI/UITrySkinPanel": "UITrySkinPanel",
    "../UI/UITurntablePage": "UITurntablePage",
    "../UI/UIUpgradePanel": "UIUpgradePanel",
    "../UI/UIWeaponLevelPanel": "UIWeaponLevelPanel",
    "./Constant": "Constant"
  } ],
  UIOverPage: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a9632KbIPtPCovZ1PzJnE6R", "UIOverPage");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var UIPage_1 = require("../Framework/UIPage");
    var Constant_1 = require("../Framework/Constant");
    var CocosZ_1 = require("../Framework/CocosZ");
    var PlatUtils_1 = require("../../common-plugin/Scripts/PlatUtils");
    var Utils_1 = require("../../common-plugin/Scripts/Utils");
    var YZ_Constant_1 = require("../../common-plugin/Scripts/YZ_Constant");
    var gameMgr_1 = require("../Game/gameMgr");
    var UpgradeMgr_1 = require("../Game/UpgradeMgr");
    var i18n = require("LanguageData");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var UIOverPage = function(_super) {
      __extends(UIOverPage, _super);
      function UIOverPage() {
        var _this = _super.call(this, Constant_1.PageName.UIOverPage) || this;
        _this._panel = null;
        _this._mask = null;
        _this._btnContinue = null;
        _this._btnHome = null;
        _this._isToHome = false;
        _this.isValid() && _this.onLoad();
        return _this;
      }
      UIOverPage.prototype.onLoad = function() {
        this._mask = cc.find("Mask", this._page);
        this._panel = cc.find("Panel", this._page);
        this._btnContinue = cc.find("BtnContinue", this._panel);
        this._btnContinue.on(cc.Node.EventType.TOUCH_END, this._onBtnClickHandler, this);
        this._btnHome = cc.find("BtnHome", this._panel);
        this._btnHome.on(cc.Node.EventType.TOUCH_END, this._onBtnClickHandler, this);
      };
      UIOverPage.prototype.onOpen = function() {
        Utils_1.utils.SendEvent("\u9875\u9762-\u7ed3\u7b97-" + (gameMgr_1.gameMgr.isWin ? "\u80dc\u5229" : "\u5931\u8d25"));
        this.showAd();
        this._initPanel();
        CocosZ_1.cocosz.dataMgr.TotoalCount_6++;
      };
      UIOverPage.prototype.onClose = function() {
        cc.game.targetOff(this);
        Utils_1.utils.hideVivoGamePortalWidget();
        Utils_1.utils.hideOppoGameDrawerAdWidget();
        Utils_1.utils.adManager.hideBlockAd();
        Utils_1.utils.adManager.hideNativeTryGameWidget();
        Utils_1.utils.adManager.HideSingleNativeAd();
        if (PlatUtils_1.default.IsWechat) {
          Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Over);
          Utils_1.utils.adManager.hideCustomAd({
            location: 5
          });
          Utils_1.utils.adManager.hideCustomAd({
            location: 6
          });
          Utils_1.utils.adManager.hideCustomAd({
            location: 7
          });
        } else PlatUtils_1.default.IsVIVO && Utils_1.utils.adManager.hideCustomAd({
          location: YZ_Constant_1.BannerLocation.Over
        });
      };
      UIOverPage.prototype.showAd = function() {
        Utils_1.utils.adManager.ShowBanner(YZ_Constant_1.BannerLocation.Over, {
          width: .1,
          bottom: 1
        });
        Utils_1.utils.adManager.showBlockAd({
          top: 500
        });
        Utils_1.utils.adManager.showNativeTryGameWidget({
          right: 95,
          top: 500,
          scale: 1,
          parent: this._page
        });
        if (PlatUtils_1.default.IsWechat) {
          Utils_1.utils.adManager.showCustomAd({
            location: 5
          });
          Utils_1.utils.adManager.showCustomAd({
            location: 6
          });
          Utils_1.utils.adManager.showCustomAd({
            location: 7
          });
        } else PlatUtils_1.default.IsVIVO && Utils_1.utils.adManager.showCustomAd({
          location: YZ_Constant_1.BannerLocation.Over
        });
        Utils_1.utils.showTryGamesWidget({
          group: "default",
          scale: 1,
          top: 180,
          right: 25,
          parent: this._page,
          location: YZ_Constant_1.BannerLocation.Over
        });
        Utils_1.utils.showMoreGamesWidget({
          group: "default",
          scale: 1,
          top: 300,
          left: 25,
          parent: this._page,
          location: YZ_Constant_1.BannerLocation.Over
        });
        Utils_1.utils.showRecommendGamesList({
          group: "default",
          scale: 1,
          parent: this._page,
          bottom: 1e3
        });
        Utils_1.utils.showVivoGamePortalWidget({
          top: 500,
          location: YZ_Constant_1.BannerLocation.Over
        });
        Utils_1.utils.showOppoGameDrawerAdWidget({
          bottom: 500,
          location: YZ_Constant_1.BannerLocation.Over
        });
        Utils_1.utils.showOppoRecBanner({
          bottom: 500,
          left: 0,
          location: YZ_Constant_1.BannerLocation.Over
        });
        var result = null;
        gameMgr_1.gameMgr && gameMgr_1.gameMgr.isWin ? Utils_1.utils.GameWin(CocosZ_1.cocosz.getLevelId().toString()) : gameMgr_1.gameMgr && gameMgr_1.gameMgr.isFail && Utils_1.utils.GameFail(CocosZ_1.cocosz.getLevelId().toString());
        if (result && result.node) {
          result.node.position = cc.v2(0, 0);
          this._page.addChild(result.node, 0);
        }
      };
      UIOverPage.prototype.getSkillIDName = function(id) {
        return id + (UpgradeMgr_1.upgradeMgr.upgradeSkillMaxLevelArr[id] > 1 ? "_" + (UpgradeMgr_1.upgradeMgr.upgradeSkillArr[id] + 1) : "");
      };
      UIOverPage.prototype._initPanel = function() {
        this._mask.opacity = 0;
        cc.tween(this._mask).to(.2, {
          opacity: 120
        }).start();
        this._panel.scale = 0;
        cc.tween(this._panel).to(.3, {
          scale: 1
        }, {
          easing: "backOut"
        }).start();
        if (UpgradeMgr_1.upgradeMgr && UpgradeMgr_1.upgradeMgr.isValid) {
          var kuang_boss = this._panel.getChildByName("kuang_boss");
          if (UpgradeMgr_1.upgradeMgr.bossKillId.length) {
            var kuang_boss_layout = kuang_boss.getChildByName("layout");
            if (kuang_boss_layout) {
              kuang_boss_layout.active = true;
              kuang_boss_layout.children.forEach(function(v, i) {
                UpgradeMgr_1.upgradeMgr.bossKillId.includes(parseInt(v.name)) ? v.active = true : v.active = false;
              });
            }
          } else {
            var kuang_boss_no = kuang_boss.getChildByName("no");
            kuang_boss_no && (kuang_boss_no.active = true);
          }
          var kuang_skill = this._panel.getChildByName("kuang_skill");
          if (UpgradeMgr_1.upgradeMgr.upgradeSkillArr.includes(1) || UpgradeMgr_1.upgradeMgr.upgradeSkillArr.includes(2) || UpgradeMgr_1.upgradeMgr.upgradeSkillArr.includes(3)) {
            var skill_scrollView = kuang_skill.getChildByName("skillScrollView");
            if (skill_scrollView) {
              skill_scrollView.active = true;
              var skill_content_1 = cc.find("view/content", skill_scrollView);
              skill_content_1 && UpgradeMgr_1.upgradeMgr.upgradeSkillArr.forEach(function(level, id) {
                if (3 == UpgradeMgr_1.upgradeMgr.upgradeSkillMaxLevelArr[id]) {
                  var icon = CocosZ_1.cocosz.resMgr.getRes("zombieSkill_icon_" + id + "_" + level, cc.SpriteFrame);
                  if (icon) {
                    var node = new cc.Node();
                    var sprit = node.addComponent(cc.Sprite);
                    sprit.spriteFrame = icon;
                    sprit.sizeMode = cc.Sprite.SizeMode.CUSTOM;
                    node.setContentSize(70, 70);
                    skill_content_1.addChild(node);
                  }
                } else if (level > 0) {
                  var icon = CocosZ_1.cocosz.resMgr.getRes("zombieSkill_icon_" + id, cc.SpriteFrame);
                  if (icon) {
                    var node = new cc.Node();
                    var sprit = node.addComponent(cc.Sprite);
                    sprit.spriteFrame = icon;
                    sprit.sizeMode = cc.Sprite.SizeMode.CUSTOM;
                    node.setContentSize(70, 70);
                    skill_content_1.addChild(node);
                  }
                }
              });
            }
          } else {
            var kuang_skill_no = kuang_skill.getChildByName("no");
            kuang_skill_no && (kuang_skill_no.active = true);
          }
          var info = cc.find("info", this._panel);
          if (info) {
            cc.log("iswin:", gameMgr_1.gameMgr.isWin, " isFail:", gameMgr_1.gameMgr.isFail);
            info.getChildByName("tittle").children[0].active = gameMgr_1.gameMgr.isWin;
            info.getChildByName("tittle").children[1].active = gameMgr_1.gameMgr.isFail;
            info.getChildByName("time2").getComponent(cc.Label).string = CocosZ_1.cocosz.StoHMS(CocosZ_1.cocosz.dataMgr.best_time);
            info.getChildByName("kill2").getComponent(cc.Label).string = CocosZ_1.cocosz.dataMgr.best_kill.toString();
            info.getChildByName("level2").getComponent(cc.Label).string = CocosZ_1.cocosz.dataMgr.best_level.toString();
            info.getChildByName("coin2").getComponent(cc.Label).string = CocosZ_1.cocosz.dataMgr.best_coin.toString();
            var newRecard1 = info.getChildByName("newRecard1");
            var newRecard2 = info.getChildByName("newRecard2");
            var newRecard3 = info.getChildByName("newRecard3");
            var newRecard4 = info.getChildByName("newRecard4");
            info.getChildByName("time1").getComponent(cc.Label).string = CocosZ_1.cocosz.StoHMS(gameMgr_1.gameMgr.GameTime);
            if (gameMgr_1.gameMgr.GameTime > CocosZ_1.cocosz.dataMgr.best_time) {
              info.getChildByName("time1").color = cc.Color.RED;
              CocosZ_1.cocosz.dataMgr.best_time = gameMgr_1.gameMgr.GameTime;
              newRecard1.active = true;
            }
            info.getChildByName("kill1").getComponent(cc.Label).string = UpgradeMgr_1.upgradeMgr.zombieKillNum.toString();
            if (UpgradeMgr_1.upgradeMgr.zombieKillNum > CocosZ_1.cocosz.dataMgr.best_kill) {
              info.getChildByName("kill1").color = cc.Color.RED;
              CocosZ_1.cocosz.dataMgr.best_kill = UpgradeMgr_1.upgradeMgr.zombieKillNum;
              newRecard2.active = true;
            }
            info.getChildByName("level1").getComponent(cc.Label).string = UpgradeMgr_1.upgradeMgr.curLevel.toString();
            if (UpgradeMgr_1.upgradeMgr.curLevel > CocosZ_1.cocosz.dataMgr.best_level) {
              info.getChildByName("level1").color = cc.Color.RED;
              CocosZ_1.cocosz.dataMgr.best_level = UpgradeMgr_1.upgradeMgr.curLevel;
              newRecard3.active = true;
            }
            var count = UpgradeMgr_1.upgradeMgr.zombieKillNum + 10 * UpgradeMgr_1.upgradeMgr.curLevel + Math.min(500, Math.ceil(gameMgr_1.gameMgr.GameTime / 10));
            CocosZ_1.cocosz.dataMgr.CoinCount += count;
            info.getChildByName("coin1").getComponent(cc.Label).string = count.toString();
            if (count > CocosZ_1.cocosz.dataMgr.best_coin) {
              info.getChildByName("coin1").color = cc.Color.RED;
              CocosZ_1.cocosz.dataMgr.best_coin = count;
              newRecard4.active = true;
            }
          }
        }
      };
      UIOverPage.prototype._onBtnClickHandler = function(event) {
        return __awaiter(this, void 0, void 0, function() {
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              return [ 4, CocosZ_1.cocosz.audioMgr.playBtnEffect().catch() ];

             case 1:
              _a.sent();
              if (this._isToHome) return [ 2 ];
              switch (event.target.name) {
               case "BtnContinue":
                Utils_1.utils.umaEvent("gamecontinue");
                6 == CocosZ_1.cocosz.gameMode && CocosZ_1.cocosz.gameMgr.gameStart(CocosZ_1.cocosz.dataMgr.TotoalCount_6);
                break;

               case "BtnHome":
                Utils_1.utils.umaEvent("gamereturn");
                CocosZ_1.cocosz.sceneMgr.loadScene("Home", function() {
                  CocosZ_1.cocosz.uiMgr.openPage(Constant_1.PageName.UIHomePage);
                });
              }
              return [ 2 ];
            }
          });
        });
      };
      UIOverPage = __decorate([ ccclass ], UIOverPage);
      return UIOverPage;
    }(UIPage_1.default);
    exports.default = UIOverPage;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/PlatUtils": "PlatUtils",
    "../../common-plugin/Scripts/Utils": "Utils",
    "../../common-plugin/Scripts/YZ_Constant": "YZ_Constant",
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "../Framework/UIPage": "UIPage",
    "../Game/UpgradeMgr": "UpgradeMgr",
    "../Game/gameMgr": "gameMgr",
    LanguageData: "LanguageData"
  } ],
  UIPage: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "bbcc9AF2MhO8ouP3e6ksQiO", "UIPage");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../../common-plugin/Scripts/Utils");
    var CocosZ_1 = require("./CocosZ");
    var UIMgr_1 = require("./UIMgr");
    var UIPage = function() {
      function UIPage(pageName) {
        var _this = this;
        this._page = null;
        this._pageName = "";
        this._isOpen = false;
        var prefab = CocosZ_1.cocosz.resMgr.getRes(pageName, cc.Prefab);
        if (prefab) {
          var node = cc.instantiate(prefab);
          if (node) {
            this._page = node;
            this._pageName = pageName;
            node.active = false;
            node.position = cc.Vec3.ZERO;
            this._isOpen = false;
            this.getUIRoot().addChild(node);
            node.group = "ui";
          }
        } else CocosZ_1.cocosz.resMgr.loadAndCacheRes("UI/" + pageName, cc.Prefab, null, function(err, res) {
          if (res) {
            var node = cc.instantiate(res);
            if (node) {
              _this._page = node;
              _this._pageName = pageName;
              node.active = false;
              node.position = cc.Vec3.ZERO;
              _this._isOpen = false;
              _this.getUIRoot().addChild(node);
              node.group = "ui";
              _this.onLoad();
              _this.open();
            }
          } else cc.error("Prefab " + pageName + " is not found!");
        });
      }
      UIPage.prototype.open = function() {
        if (this.isValid()) {
          if (!this._isOpen) {
            UIMgr_1.default.canOpen = true;
            this._isOpen = true;
            this._page.active = true;
            this.onOpen();
            var serverValue = CocosZ_1.cocosz.getConfigByKey("isInterstitial_" + this._pageName);
            if (serverValue) if ("true" === serverValue) CocosZ_1.cocosz.isShowAd && Utils_1.utils.adManager.ShowInterstitial(); else if (Number.isInteger(serverValue) && serverValue > 0) {
              UIPage.interstitialCount[this._pageName] || (UIPage.interstitialCount[this._pageName] = 0);
              ++UIPage.interstitialCount[this._pageName] % serverValue === 0 && CocosZ_1.cocosz.isShowAd && Utils_1.utils.adManager.ShowInterstitial();
            }
          }
        } else cc.log("Page is not found!");
      };
      UIPage.prototype.close = function() {
        if (this._isOpen) {
          this._isOpen = false;
          this.onClose();
        }
        if (this.isValid()) {
          this._page.active = false;
          this.destroy();
        }
        "UILoadingPage" === this._pageName && CocosZ_1.cocosz.resMgr.releaseSingleRes(this._pageName, cc.Prefab);
      };
      UIPage.prototype.destroy = function() {
        this._isOpen && (this._isOpen = false);
        this.onDestroy();
        this.isValid() && this._page.destroy();
      };
      UIPage.prototype.getUIRoot = function() {
        return cc.find("Canvas");
      };
      UIPage.prototype.isValid = function() {
        return this._page && cc.isValid(this._page);
      };
      UIPage.prototype.isOpen = function() {
        return this.isValid() && this._isOpen;
      };
      UIPage.prototype.onLoad = function() {};
      UIPage.prototype.onOpen = function() {};
      UIPage.prototype.onClose = function() {};
      UIPage.prototype.onDestroy = function() {};
      UIPage.interstitialCount = {};
      return UIPage;
    }();
    exports.default = UIPage;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/Utils": "Utils",
    "./CocosZ": "CocosZ",
    "./UIMgr": "UIMgr"
  } ],
  UIPausePanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "45557zGvJFMOq7sodhqFlFw", "UIPausePanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("../../common-plugin/Scripts/PlatUtils");
    var Utils_1 = require("../../common-plugin/Scripts/Utils");
    var YZ_Constant_1 = require("../../common-plugin/Scripts/YZ_Constant");
    var CocosZ_1 = require("../Framework/CocosZ");
    var Constant_1 = require("../Framework/Constant");
    var TweenEffect_1 = require("../Framework/TweenEffect");
    var UIPage_1 = require("../Framework/UIPage");
    var gameMgr_1 = require("../Game/gameMgr");
    var UpgradeMgr_1 = require("../Game/UpgradeMgr");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var UIPausePanel = function(_super) {
      __extends(UIPausePanel, _super);
      function UIPausePanel() {
        var _this = _super.call(this, Constant_1.PanelName.UIPausePanel) || this;
        _this._mask = null;
        _this._panel = null;
        _this.isValid() && _this.onLoad();
        return _this;
      }
      UIPausePanel.prototype.onLoad = function() {
        this._mask = this._page.getChildByName("mask");
        this._panel = this._page.getChildByName("Panel");
        var btnNames = [ "BtnRestart", "BtnResume", "BtnHome" ];
        for (var i = 0; i < btnNames.length; i++) {
          var btn = cc.find(btnNames[i], this._panel);
          btn.on(cc.Node.EventType.TOUCH_END, this._onBtnClickedHandler, this);
        }
      };
      UIPausePanel.prototype.onOpen = function() {
        Utils_1.utils.SendEvent("\u9875\u9762-\u6682\u505c");
        this.showAd();
        TweenEffect_1.default.panel_mask_opacity(this._mask);
        TweenEffect_1.default.panel_open_moveY(this._panel);
        CocosZ_1.cocosz.pauseCount++;
      };
      UIPausePanel.prototype.onClose = function() {
        PlatUtils_1.default.IsVIVO && Utils_1.utils.adManager.hideCustomAd({
          location: YZ_Constant_1.BannerLocation.Pause
        });
        CocosZ_1.cocosz.pauseCount--;
      };
      UIPausePanel.prototype.showAd = function() {
        CocosZ_1.cocosz.isShowAd && PlatUtils_1.default.IsVIVO && Utils_1.utils.adManager.showCustomAd({
          location: YZ_Constant_1.BannerLocation.Pause
        });
      };
      UIPausePanel.prototype._onBtnClickedHandler = function(event, data) {
        return __awaiter(this, void 0, void 0, function() {
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              return [ 4, CocosZ_1.cocosz.audioMgr.playBtnEffect().catch() ];

             case 1:
              _a.sent();
              switch (event.target.name) {
               case "BtnRestart":
                gameMgr_1.gameMgr.isFail = true;
                gameMgr_1.gameMgr.unscheduleAllCallbacks();
                UpgradeMgr_1.upgradeMgr && UpgradeMgr_1.upgradeMgr.unscheduleAllCallbacks();
                CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UIPausePanel);
                6 == CocosZ_1.cocosz.gameMode && CocosZ_1.cocosz.gameMgr.gameStart(CocosZ_1.cocosz.dataMgr.TotoalCount_6);
                break;

               case "BtnResume":
                cc.tween(this._panel).to(.5, {
                  y: this._panel.y + 1e3
                }, {
                  easing: "sineOut"
                }).call(function() {
                  CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UIPausePanel);
                }).start();
                break;

               case "BtnHome":
                gameMgr_1.gameMgr.isFail = true;
                gameMgr_1.gameMgr.unscheduleAllCallbacks();
                UpgradeMgr_1.upgradeMgr && UpgradeMgr_1.upgradeMgr.unscheduleAllCallbacks();
                CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UIPausePanel);
                CocosZ_1.cocosz.sceneMgr.loadScene("Home", function() {
                  CocosZ_1.cocosz.uiMgr.openPage(Constant_1.PageName.UIHomePage);
                });
              }
              return [ 2 ];
            }
          });
        });
      };
      UIPausePanel = __decorate([ ccclass ], UIPausePanel);
      return UIPausePanel;
    }(UIPage_1.default);
    exports.default = UIPausePanel;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/PlatUtils": "PlatUtils",
    "../../common-plugin/Scripts/Utils": "Utils",
    "../../common-plugin/Scripts/YZ_Constant": "YZ_Constant",
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "../Framework/TweenEffect": "TweenEffect",
    "../Framework/UIPage": "UIPage",
    "../Game/UpgradeMgr": "UpgradeMgr",
    "../Game/gameMgr": "gameMgr"
  } ],
  UIRevivePanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f624aGi/QlIuZDbTFGHQJuX", "UIRevivePanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var UIPage_1 = require("../Framework/UIPage");
    var Msg_1 = require("../Framework/Msg");
    var Constant_1 = require("../Framework/Constant");
    var CocosZ_1 = require("../Framework/CocosZ");
    var Utils_1 = require("../../common-plugin/Scripts/Utils");
    var gameMgr_1 = require("../Game/gameMgr");
    var i18n = require("LanguageData");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var UIRevivePanel = function(_super) {
      __extends(UIRevivePanel, _super);
      function UIRevivePanel() {
        var _this = _super.call(this, Constant_1.PanelName.UIRevivePanel) || this;
        _this._mask = null;
        _this._panel = null;
        _this._timeLabel = null;
        _this._proIcon = null;
        _this._btnVideo = null;
        _this._btnPass = null;
        _this._tw1 = null;
        _this._tw2 = null;
        _this.isValid() && _this.onLoad();
        return _this;
      }
      UIRevivePanel.prototype.onLoad = function() {
        this._mask = this._page.getChildByName("Mask");
        this._panel = this._page.getChildByName("Panel");
        this._timeLabel = this._panel.getChildByName("time").getComponent(cc.Label);
        this._proIcon = this._panel.getChildByName("shangquan").getComponent(cc.Sprite);
        this._btnVideo = this._panel.getChildByName("BtnVideo");
        this._btnVideo.on(cc.Node.EventType.TOUCH_END, this._onBtnClickedHandler, this);
        this._btnPass = this._panel.getChildByName("BtnPass");
        this._btnPass.on(cc.Node.EventType.TOUCH_END, this._onBtnClickedHandler, this);
      };
      UIRevivePanel.prototype.onOpen = function() {
        Utils_1.utils.SendEvent("\u9875\u9762-\u590d\u6d3b");
        this.showAd();
        this._initPanel();
        CocosZ_1.cocosz.pauseCount++;
      };
      UIRevivePanel.prototype.onClose = function() {
        CocosZ_1.cocosz.pauseCount--;
      };
      UIRevivePanel.prototype.showAd = function() {};
      UIRevivePanel.prototype._initPanel = function() {
        var _this = this;
        var opacityBack = this._mask.opacity;
        this._mask.opacity = 0;
        cc.tween(this._mask).to(.2, {
          opacity: opacityBack
        }).start();
        this._panel.scale = 0;
        cc.tween(this._panel).to(.3, {
          scale: 1
        }, {
          easing: "backOut"
        }).start();
        var count = 9;
        this._tw1 = cc.tween(this._timeLabel).delay(1).call(function() {
          _this._timeLabel.string = (--count).toString();
        }).union().repeat(9).call(function() {
          CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UIRevivePanel);
          gameMgr_1.gameMgr.fail();
        }).start();
        this._tw2 = cc.tween(this._proIcon).to(9, {
          fillRange: 0
        }).start();
      };
      UIRevivePanel.prototype.stopTween = function() {
        if (6 == CocosZ_1.cocosz.gameMode) {
          this._tw1 && this._tw1.stop();
          this._tw2 && this._tw2.stop();
        }
      };
      UIRevivePanel.prototype._onBtnClickedHandler = function(event, data) {
        return __awaiter(this, void 0, void 0, function() {
          var _this = this;
          return __generator(this, function(_a) {
            CocosZ_1.cocosz.audioMgr.playBtnEffect();
            this.stopTween();
            switch (event.target.name) {
             case "BtnVideo":
              Utils_1.utils.umaEvent("gamefuhuo");
              if (this._btnVideo.getChildByName("share") && this._btnVideo.getChildByName("share").active) {
                Utils_1.utils.SendEvent("\u5206\u4eab-\u590d\u6d3b");
                CocosZ_1.cocosz.share(function() {
                  Utils_1.utils.SendEvent("\u5206\u4eab-\u590d\u6d3b-\u6210\u529f");
                  _this._reLive();
                }, function() {
                  Utils_1.utils.SendEvent("\u5206\u4eab-\u590d\u6d3b-\u5931\u8d25");
                  CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UIRevivePanel);
                  gameMgr_1.gameMgr.fail();
                });
              } else if (this._btnVideo.getChildByName("video") && this._btnVideo.getChildByName("video").active) {
                Utils_1.utils.SendEvent("\u89c6\u9891-\u590d\u6d3b-\u64ad\u653e");
                CocosZ_1.cocosz.watchAD(function() {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u590d\u6d3b-\u6210\u529f");
                  _this._reLive();
                }, function() {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u590d\u6d3b-\u5931\u8d25");
                  CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UIRevivePanel);
                  gameMgr_1.gameMgr.fail();
                });
              } else {
                CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UIRevivePanel);
                gameMgr_1.gameMgr.fail();
              }
              break;

             case "BtnPass":
              Utils_1.utils.umaEvent("gamesurr");
              CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UIRevivePanel);
              gameMgr_1.gameMgr.fail();
            }
            return [ 2 ];
          });
        });
      };
      UIRevivePanel.prototype._reLive = function() {
        Msg_1.default.Show(i18n.t("msg.fhcg"));
        CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UIRevivePanel);
        gameMgr_1.gameMgr.revive();
      };
      UIRevivePanel = __decorate([ ccclass ], UIRevivePanel);
      return UIRevivePanel;
    }(UIPage_1.default);
    exports.default = UIRevivePanel;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/Utils": "Utils",
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "../Framework/Msg": "Msg",
    "../Framework/UIPage": "UIPage",
    "../Game/gameMgr": "gameMgr",
    LanguageData: "LanguageData"
  } ],
  UISignPage: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "602c3qoDuBPu43NXRhxJ3PJ", "UISignPage");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var UIPage_1 = require("../Framework/UIPage");
    var Constant_1 = require("../Framework/Constant");
    var CocosZ_1 = require("../Framework/CocosZ");
    var Msg_1 = require("../Framework/Msg");
    var Utils_1 = require("../../common-plugin/Scripts/Utils");
    var TweenEffect_1 = require("../Framework/TweenEffect");
    var i18n = require("LanguageData");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var REWARD_SIGN = [ 500, 1e3, 1500, 50, 2e3, 2500, 100 ];
    var DayItem = function() {
      function DayItem(index, node) {
        this._index = -1;
        this._node = null;
        this._normal = null;
        this._current = null;
        this._got = null;
        this._label = null;
        this._index = index;
        this._node = node;
        this._normal = this._node.getChildByName("st1");
        this._current = this._node.getChildByName("st2");
        this._got = this._node.getChildByName("st3");
        if (this._node.getChildByName("rewardLabel")) {
          this._label = this._node.getChildByName("rewardLabel").getComponent(cc.Label);
          this._label.node.scale = .7;
          this._label.node.setPosition(this._node.x, this._node.y - 60);
          this._label.node.setParent(this._node.parent);
          this._label.string = "+" + REWARD_SIGN[this._index];
        }
      }
      DayItem.prototype.setStatus = function(status) {
        if (0 == status) {
          this._normal.active = true;
          this._current.active = false;
          this._got.active = false;
          this._label.node.active = true;
        } else if (1 == status) {
          this._normal.active = false;
          this._current.active = true;
          this._got.active = false;
          this._label.node.active = true;
        } else if (2 == status) {
          this._normal.active = true;
          this._current.active = false;
          this._got.active = true;
          this._label.node.active = false;
        }
      };
      DayItem.prototype.update = function() {
        var lastDayIndex = CocosZ_1.cocosz.dataMgr.LastDailyBonusIndex;
        6 == lastDayIndex && (lastDayIndex = -1);
        var lastDayTime = CocosZ_1.cocosz.dataMgr.LastDailyBonusTime;
        var canGet = false;
        new Date().toDateString() != lastDayTime && this._index == lastDayIndex + 1 && (canGet = true);
        this._index <= lastDayIndex ? this.setStatus(2) : canGet ? this.setStatus(1) : this.setStatus(0);
      };
      return DayItem;
    }();
    var UISignPanel = function(_super) {
      __extends(UISignPanel, _super);
      function UISignPanel() {
        var _this = _super.call(this, Constant_1.PanelName.UISignPanel) || this;
        _this._mask = null;
        _this._panel = null;
        _this._btnGet = null;
        _this._btnDouble = null;
        _this._btnClose = null;
        _this._day = [];
        _this.isValid() && _this.onLoad();
        return _this;
      }
      UISignPanel.prototype.onLoad = function() {
        this._panel = this._page.getChildByName("Panel");
        this._mask = this._page.getChildByName("mask");
        var btnNames = [ "BtnClose", "BtnDouble", "BtnGet" ];
        for (var i = 0; i < btnNames.length; i++) {
          var btn = cc.find(btnNames[i], this._panel);
          if (!btn) continue;
          btn.on(cc.Node.EventType.TOUCH_END, this._onBtnClickedHandler, this);
          if ("BtnGet" == btn.name) this._btnGet = btn; else if ("BtnDouble" == btn.name) {
            this._btnDouble = btn;
            this._btnDouble.active = CocosZ_1.cocosz.isADON;
          } else this._btnClose = btn;
        }
        for (var i = 0; i < 6; i++) {
          var dayItem = new DayItem(i, this._panel.getChildByName("Day_" + (i + 1)));
          this._day.push(dayItem);
        }
      };
      UISignPanel.prototype.onOpen = function() {
        Utils_1.utils.umaEvent("gamegamesign");
        Utils_1.utils.SendEvent("\u9875\u9762-\u7b7e\u5230");
        this._initPanel();
      };
      UISignPanel.prototype._initPanel = function() {
        TweenEffect_1.default.panel_open_scale(this._panel);
        this._updateDayItem();
      };
      UISignPanel.prototype._updateDayItem = function() {
        for (var i = 0; i < 6; i++) this._day[i].update();
      };
      UISignPanel.prototype._onBtnClickedHandler = function(event, data) {
        return __awaiter(this, void 0, void 0, function() {
          return __generator(this, function(_a) {
            CocosZ_1.cocosz.audioMgr.playBtnEffect();
            switch (event.target.name) {
             case "BtnGet":
              if (!this._canGetBonus()) {
                Msg_1.default.Show(i18n.t("msg.jryqd"));
                return [ 2 ];
              }
              this._getReward(false);
              break;

             case "BtnDouble":
              if (!this._canGetBonus()) {
                Msg_1.default.Show(i18n.t("msg.jryqd"));
                return [ 2 ];
              }
              this._getReward(true);
              Utils_1.utils.SendEvent("\u89c6\u9891-\u53cc\u500d\u7b7e\u5230-\u6210\u529f");
              break;

             case "BtnClose":
              CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UISignPanel);
            }
            return [ 2 ];
          });
        });
      };
      UISignPanel.prototype._getReward = function(double) {
        if (false == double) {
          Utils_1.utils.umaEvent("gamesignordinary");
          Utils_1.utils.SendEvent("\u7b7e\u5230-\u666e\u901a");
        } else {
          Utils_1.utils.umaEvent("gamedoublesign");
          Utils_1.utils.SendEvent("\u7b7e\u5230-\u53cc\u500d");
        }
        var lastDayIndex = CocosZ_1.cocosz.dataMgr.LastDailyBonusIndex;
        6 == lastDayIndex && (lastDayIndex = -1);
        var curDayIndex = lastDayIndex + 1;
        var count = REWARD_SIGN[curDayIndex];
        double && (count *= 2);
        if (3 == curDayIndex || 6 == curDayIndex) {
          Msg_1.default.Show(i18n.t("msg.gxhdzs") + count);
          CocosZ_1.cocosz.dataMgr.DiamondCount += count;
          setTimeout(function() {
            cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
              type: Constant_1.default.E_Fly_Coin,
              iconName: "diamond",
              frameNodeName: "CoinLabel2"
            });
          }, 500);
        } else {
          Msg_1.default.Show(i18n.t("msg.gxhdjb") + count);
          CocosZ_1.cocosz.dataMgr.CoinCount += count;
          setTimeout(function() {
            cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
              type: Constant_1.default.E_Fly_Coin,
              iconName: "coin",
              frameNodeName: "CoinLabel"
            });
          }, 500);
        }
        CocosZ_1.cocosz.dataMgr.LastDailyBonusIndex = curDayIndex;
        CocosZ_1.cocosz.dataMgr.LastDailyBonusTime = new Date().toDateString();
        CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UISignPanel);
      };
      UISignPanel.prototype._canGetBonus = function() {
        return new Date().toDateString() != CocosZ_1.cocosz.dataMgr.LastDailyBonusTime;
      };
      UISignPanel = __decorate([ ccclass ], UISignPanel);
      return UISignPanel;
    }(UIPage_1.default);
    exports.default = UISignPanel;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/Utils": "Utils",
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "../Framework/Msg": "Msg",
    "../Framework/TweenEffect": "TweenEffect",
    "../Framework/UIPage": "UIPage",
    LanguageData: "LanguageData"
  } ],
  UITimePage: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5ae23P5tJRKurJ80XOjhemY", "UITimePage");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var UIPage_1 = require("../Framework/UIPage");
    var Constant_1 = require("../Framework/Constant");
    var CocosZ_1 = require("../Framework/CocosZ");
    var Utils_1 = require("../../common-plugin/Scripts/Utils");
    var TweenEffect_1 = require("../Framework/TweenEffect");
    var gameDate_1 = require("../Game/gameDate");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ItemTime = function() {
      function ItemTime(i, n) {
        this._id = 0;
        this._node = null;
        this._txt_zxsc = null;
        this._txt_ylq = null;
        this._btn = null;
        this._label_coin = null;
        this._label_diamond = null;
        this._label_time = null;
        this._id = i;
        this._node = n;
        this._info = gameDate_1.default.TimeReward[i];
        this._txt_zxsc = this._node.getChildByName("txt_zxsc");
        this._txt_ylq = this._node.getChildByName("txt_ylq");
        this._btn = this._node.getChildByName("btn");
        this._btn.on(cc.Node.EventType.TOUCH_END, this.click, this);
        this._label_coin = this._node.getChildByName("label_coin").getComponent(cc.Label);
        this._label_coin.string = this._info.coinNum + "";
        this._label_diamond = this._node.getChildByName("label_diamond").getComponent(cc.Label);
        this._label_diamond.string = this._info.diamondNum + "";
        this._label_time = this._node.getChildByName("label_time").getComponent(cc.Label);
        this._label_time.string = CocosZ_1.cocosz.StoHMS(this._info.time);
      }
      ItemTime.prototype.click = function() {
        var arrRecieve = CocosZ_1.cocosz.dataMgr.receiveToday;
        if (0 == arrRecieve[this._id]) {
          CocosZ_1.cocosz.audioMgr.playBtnEffect();
          arrRecieve[this._id] = 1;
          CocosZ_1.cocosz.dataMgr.receiveToday = arrRecieve;
          this.update();
          CocosZ_1.cocosz.dataMgr.CoinCount += this._info.coinNum;
          CocosZ_1.cocosz.dataMgr.DiamondCount += this._info.diamondNum;
        }
      };
      ItemTime.prototype.update = function() {
        if (CocosZ_1.cocosz.dataMgr.OnlineToday >= this._info.time) {
          var arrRecieve = CocosZ_1.cocosz.dataMgr.receiveToday;
          if (arrRecieve[this._id]) {
            this._btn.active = this._txt_zxsc.active = this._label_time.node.active = false;
            this._txt_ylq.active = true;
          } else {
            this._txt_ylq.active = this._txt_zxsc.active = this._label_time.node.active = false;
            this._btn.active = true;
          }
        } else {
          this._txt_ylq.active = this._btn.active = false;
          this._txt_zxsc.active = this._label_time.node.active = true;
        }
      };
      return ItemTime;
    }();
    var UITimePanel = function(_super) {
      __extends(UITimePanel, _super);
      function UITimePanel() {
        var _this = _super.call(this, Constant_1.PanelName.UITimePanel) || this;
        _this.mask = null;
        _this.panel = null;
        _this.label_online = null;
        _this.itemList = [];
        _this.isValid() && _this.onLoad();
        return _this;
      }
      UITimePanel.prototype.onLoad = function() {
        this.mask = this._page.getChildByName("mask");
        this.panel = this._page.getChildByName("panel");
        var btnNames = [ "BtnBack" ];
        for (var i = 0; i < btnNames.length; i++) {
          var btn = cc.find(btnNames[i], this.panel);
          btn && btn.on(cc.Node.EventType.TOUCH_END, this._onBtnClickedHandler, this);
        }
        this.label_online = this.panel.getChildByName("label_online").getComponent(cc.Label);
      };
      UITimePanel.prototype.onOpen = function() {
        Utils_1.utils.SendEvent("\u9875\u9762-\u5728\u7ebf\u5956\u52b1");
        this._initPanel();
      };
      UITimePanel.prototype.onClose = function() {};
      UITimePanel.prototype._initPanel = function() {
        var _this = this;
        TweenEffect_1.default.panel_mask_opacity(this.mask);
        TweenEffect_1.default.panel_open_moveY(this.panel);
        for (var i = 0; i < 5; i++) {
          var n = this.panel.getChildByName("item" + i);
          if (n) {
            var item = new ItemTime(i, n);
            this.itemList.push(item);
          }
        }
        cc.tween(this._page).call(function() {
          _this.updateTime();
        }).delay(1).union().repeatForever().start();
      };
      UITimePanel.prototype.updateTime = function() {
        this.label_online.string = CocosZ_1.cocosz.StoHMS(CocosZ_1.cocosz.dataMgr.OnlineToday);
        this.itemList.forEach(function(v) {
          v.update();
        });
      };
      UITimePanel.prototype._onBtnClickedHandler = function(event, data) {
        return __awaiter(this, void 0, void 0, function() {
          return __generator(this, function(_a) {
            CocosZ_1.cocosz.audioMgr.playBtnEffect();
            switch (event.target.name) {
             case "BtnBack":
              TweenEffect_1.default.panel_close_moveY(this.panel, function() {
                CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UITimePanel);
              });
            }
            return [ 2 ];
          });
        });
      };
      UITimePanel = __decorate([ ccclass ], UITimePanel);
      return UITimePanel;
    }(UIPage_1.default);
    exports.default = UITimePanel;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/Utils": "Utils",
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "../Framework/TweenEffect": "TweenEffect",
    "../Framework/UIPage": "UIPage",
    "../Game/gameDate": "gameDate"
  } ],
  UITrySkinPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9408ddmbX5KJqoO4VRkw0P1", "UITrySkinPanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../../common-plugin/Scripts/Utils");
    var CocosZ_1 = require("../Framework/CocosZ");
    var Constant_1 = require("../Framework/Constant");
    var UIPage_1 = require("../Framework/UIPage");
    var ani_1 = require("../Game/ani");
    var ccclass = cc._decorator.ccclass;
    var UITrySkinPanel = function(_super) {
      __extends(UITrySkinPanel, _super);
      function UITrySkinPanel() {
        var _this = _super.call(this, Constant_1.PanelName.UITrySkinPanel) || this;
        _this._mask = null;
        _this._panel = null;
        _this.aniArr = [];
        _this.btnArr = [];
        _this.skinArr = [];
        _this.isValid() && _this.onLoad();
        return _this;
      }
      UITrySkinPanel.prototype.onLoad = function() {
        this._panel = this._page.getChildByName("Panel");
        this._mask = this._page.getChildByName("Mask");
        this.aniArr[0] = this._panel.getChildByName("ani0");
        this.aniArr[1] = this._panel.getChildByName("ani1");
        this.aniArr[2] = this._panel.getChildByName("ani2");
        var btnNames = [ "BtnVideo0", "BtnVideo1", "BtnVideo2", "BtnPass" ];
        for (var i = 0; i < btnNames.length; i++) {
          var btn = cc.find(btnNames[i], this._panel);
          if (btn) {
            this.btnArr[i] = btn;
            btn.on(cc.Node.EventType.TOUCH_END, this._onBtnClickedHandler, this);
          }
        }
      };
      UITrySkinPanel.prototype.onOpen = function() {
        var _this = this;
        Utils_1.utils.SendEvent("\u9875\u9762-\u76ae\u80a4\u8bd5\u7528");
        CocosZ_1.cocosz.pauseCount++;
        var arr = CocosZ_1.cocosz.dataMgr.getRandomLockSkin();
        if (arr.length > 0) {
          var _loop_1 = function(i) {
            if (arr.length > 0) {
              var index = Math.floor(Math.random() * arr.length);
              var id = arr[index];
              arr.splice(index, 1);
              this_1.skinArr[i] = id;
              var aniTs = this_1.aniArr[i].getComponent(ani_1.default);
              aniTs.setSkinById(id);
              aniTs.setWeaponById(CocosZ_1.cocosz.dataMgr.CurRange);
              this_1.aniArr[i].opacity = 0;
              CocosZ_1.cocosz.scheduleOnce(function() {
                _this._page && _this.aniArr[i] && cc.tween(_this.aniArr[i]).set({
                  y: 500,
                  opacity: 255
                }).to(.4, {
                  y: 50
                }, {
                  easing: "sineOut"
                }).start();
              }, .3 * i);
            } else {
              this_1.aniArr[i].active = false;
              this_1.btnArr[i].active = false;
            }
          };
          var this_1 = this;
          for (var i = 0; i < 3; i++) _loop_1(i);
        } else CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UITrySkinPanel);
      };
      UITrySkinPanel.prototype.onClose = function() {
        CocosZ_1.cocosz.gameMgr.gameStart(CocosZ_1.cocosz.curLevel);
      };
      UITrySkinPanel.prototype._onBtnClickedHandler = function(event, data) {
        return __awaiter(this, void 0, void 0, function() {
          var _this = this;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              return [ 4, CocosZ_1.cocosz.audioMgr.playBtnEffect().catch() ];

             case 1:
              _a.sent();
              switch (event.target.name) {
               case "BtnVideo0":
               case "BtnVideo1":
               case "BtnVideo2":
                Utils_1.utils.SendEvent("\u89c6\u9891-\u5f39\u7a97\u89d2\u8272\u8bd5\u7528-\u64ad\u653e");
                CocosZ_1.cocosz.watchAD(function() {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u5f39\u7a97\u89d2\u8272\u8bd5\u7528-\u6210\u529f");
                  "BtnVideo0" == event.target.name ? CocosZ_1.cocosz.gameMgr.gameCtr.curUseSkinId = _this.skinArr[0] : "BtnVideo1" == event.target.name ? CocosZ_1.cocosz.gameMgr.gameCtr.curUseSkinId = _this.skinArr[1] : "BtnVideo2" == event.target.name && (CocosZ_1.cocosz.gameMgr.gameCtr.curUseSkinId = _this.skinArr[2]);
                  CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UITrySkinPanel);
                }, function() {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u5f39\u7a97\u89d2\u8272\u8bd5\u7528-\u5931\u8d25");
                  CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UITrySkinPanel);
                });
                break;

               case "BtnPass":
                CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UITrySkinPanel);
              }
              return [ 2 ];
            }
          });
        });
      };
      UITrySkinPanel = __decorate([ ccclass ], UITrySkinPanel);
      return UITrySkinPanel;
    }(UIPage_1.default);
    exports.default = UITrySkinPanel;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/Utils": "Utils",
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "../Framework/UIPage": "UIPage",
    "../Game/ani": "ani"
  } ],
  UITurntablePage: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a2b2aQ0OHtIGIW0RibIyjtk", "UITurntablePage");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../../common-plugin/Scripts/Utils");
    var CocosZ_1 = require("../Framework/CocosZ");
    var Constant_1 = require("../Framework/Constant");
    var Msg_1 = require("../Framework/Msg");
    var UIPage_1 = require("../Framework/UIPage");
    var gameDate_1 = require("../Game/gameDate");
    var weapon_1 = require("../Game/weapon");
    var i18n = require("LanguageData");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var UITurntablePanel = function(_super) {
      __extends(UITurntablePanel, _super);
      function UITurntablePanel() {
        var _this = _super.call(this, Constant_1.PanelName.UITurntablePanel) || this;
        _this._panel = null;
        _this._rewardList = null;
        _this._totalLabel = null;
        _this._btnCJ = null;
        _this._btnAD = null;
        _this.startNum = 0;
        _this.startIntervalTime = 10;
        _this.addTime = 1;
        _this.isCJ = false;
        _this.isValid() && _this.onLoad();
        return _this;
      }
      UITurntablePanel.prototype.onLoad = function() {
        this._panel = this._page.getChildByName("panel");
        this._rewardList = this._panel.getChildByName("rewardList");
        this._totalLabel = this._panel.getChildByName("totalLabel").getComponent(cc.Label);
        var btnNames = [ "BtnBack", "BtnCJ", "BtnAD" ];
        for (var i = 0; i < btnNames.length; i++) {
          var btn = this._panel.getChildByName(btnNames[i]);
          if (btn) {
            btn.on(cc.Node.EventType.TOUCH_END, this._onBtnClickHandler, this);
            "BtnCJ" == btnNames[i] ? this._btnCJ = btn : "BtnAD" == btnNames[i] && (this._btnAD = btn);
          }
        }
      };
      UITurntablePanel.prototype.onOpen = function() {
        Utils_1.utils.umaEvent("gamechoujiang");
        Utils_1.utils.SendEvent("\u9875\u9762-\u62bd\u5956");
        this._panel.scale = 0;
        cc.tween(this._panel).to(.3, {
          scale: .8
        }, {
          easing: "backOut"
        }).start();
        cc.tween(this._page.getChildByName("guang")).by(.5, {
          angle: 60,
          opacity: -150
        }).by(.5, {
          angle: 60,
          opacity: 150
        }).union().repeatForever().start();
        this._totalLabel.string = (CocosZ_1.cocosz.totalCJTimes > 30 ? 30 : CocosZ_1.cocosz.totalCJTimes) + "/30";
        (CocosZ_1.cocosz.totalCJTimes > 30 || CocosZ_1.cocosz.dataMgr.getGunInfo(10).State > 0) && (this._panel.getChildByName("w_nnp").color = cc.Color.GRAY);
        this.updateReward();
        this.updateBtn();
      };
      UITurntablePanel.prototype.updateReward = function() {
        for (var i = 0; i < 12; i++) {
          var str = "reward" + (i + 1);
          var reward = this._rewardList.getChildByName(str);
          if (gameDate_1.default.TurntableReward[i].type == gameDate_1.RewardType.Gold) {
            var gold = reward.getChildByName("gold");
            gold && (gold.active = true);
            var label = reward.getChildByName("label");
            if (label) {
              label.active = true;
              label.zIndex = 2;
              label.setPosition(reward.x + label.x, reward.y + label.y);
              label.setParent(this._rewardList);
              label.getComponent(cc.Label).string = "+" + gameDate_1.default.TurntableReward[i].num;
            }
          } else if (gameDate_1.default.TurntableReward[i].type == gameDate_1.RewardType.Diamond) {
            var diamond = reward.getChildByName("diamond");
            diamond && (diamond.active = true);
            var label = reward.getChildByName("label");
            if (label) {
              label.active = true;
              label.zIndex = 2;
              label.setPosition(reward.x + label.x, reward.y + label.y);
              label.setParent(this._rewardList);
              label.getComponent(cc.Label).string = "+" + gameDate_1.default.TurntableReward[i].num;
            }
          } else if (gameDate_1.default.TurntableReward[i].type == gameDate_1.RewardType.Skin) {
            var ani = cc.instantiate(CocosZ_1.cocosz.resMgr.getRes("skin" + gameDate_1.default.TurntableReward[i].num, cc.Prefab));
            if (ani) {
              ani.scale = .5;
              ani.zIndex = 1;
              ani.setParent(this._rewardList);
              ani.setPosition(reward.x, reward.y - 65);
            }
            var nameSpr = reward.getChildByName("nameSpr");
            if (nameSpr) {
              nameSpr.active = true;
              nameSpr.zIndex = 2;
              nameSpr.setPosition(reward.x + nameSpr.x, reward.y + nameSpr.y);
              nameSpr.setParent(this._rewardList);
              nameSpr.getComponent(cc.Sprite).spriteFrame = CocosZ_1.cocosz.resMgr.getRes("p_" + gameDate_1.default.TurntableReward[i].num, cc.SpriteFrame);
            }
            if (0 != CocosZ_1.cocosz.dataMgr.getSkinInfo(gameDate_1.default.TurntableReward[i].num - 1).State) {
              var mask = this._rewardList.getChildByName("mask" + (i + 1));
              if (mask) {
                mask.active = true;
                mask.zIndex = 3;
              }
            }
          } else if (gameDate_1.default.TurntableReward[i].type == gameDate_1.RewardType.Weapon) {
            var node = new cc.Node();
            var str_1 = "w_" + weapon_1.default.WeaponName[gameDate_1.default.TurntableReward[i].num];
            node.addComponent(cc.Sprite).spriteFrame = CocosZ_1.cocosz.resMgr.getRes(str_1, cc.SpriteFrame);
            node.setParent(this._rewardList);
            node.setPosition(reward.x, reward.y);
            var nameSpr = reward.getChildByName("nameSpr");
            if (nameSpr) {
              nameSpr.active = true;
              nameSpr.zIndex = 2;
              nameSpr.setPosition(reward.x + nameSpr.x, reward.y + nameSpr.y);
              nameSpr.setParent(this._rewardList);
              nameSpr.getComponent(cc.Sprite).spriteFrame = CocosZ_1.cocosz.resMgr.getRes("w_" + (gameDate_1.default.TurntableReward[i].num + 1), cc.SpriteFrame);
            }
            if (0 != CocosZ_1.cocosz.dataMgr.getGunInfo(gameDate_1.default.TurntableReward[i].num).State) {
              var mask = this._rewardList.getChildByName("mask" + (i + 1));
              if (mask) {
                mask.active = true;
                mask.zIndex = 3;
              }
            }
          }
        }
      };
      UITurntablePanel.prototype.CJ = function() {
        var _this = this;
        Utils_1.utils.umaEvent("gamechoujiang" + CocosZ_1.cocosz.useCJTimes);
        this.isCJ = true;
        var num = 20;
        num += Math.floor(12 * Math.random());
        var count = 0;
        var lastNum = this.startNum;
        var cur = 0;
        CocosZ_1.cocosz.audioMgr.playEffect("turntable");
        var timeCount = setInterval(function() {
          count++;
          if (0 == _this.getTimeCount(count, cur)) {
            _this._rewardList.children[lastNum].children[0].opacity = 0;
            lastNum++;
            lastNum >= 12 && (lastNum = 0);
            if (gameDate_1.default.TurntableReward[lastNum].type == gameDate_1.RewardType.Skin) {
              if (0 != CocosZ_1.cocosz.dataMgr.getSkinInfo(gameDate_1.default.TurntableReward[lastNum].num - 1).State) {
                lastNum++;
                lastNum >= 12 && (lastNum = 0);
              }
            } else if (gameDate_1.default.TurntableReward[lastNum].type == gameDate_1.RewardType.Weapon && 0 != CocosZ_1.cocosz.dataMgr.getGunInfo(gameDate_1.default.TurntableReward[lastNum].num).State) {
              lastNum++;
              lastNum >= 12 && (lastNum = 0);
            }
            cur++;
            _this._rewardList.children[lastNum].children[0].opacity = 255;
            if (cur >= num) {
              _this.startNum = lastNum;
              clearInterval(timeCount);
              if (gameDate_1.default.TurntableReward[lastNum].type == gameDate_1.RewardType.Gold) {
                Msg_1.default.Show(i18n.t("msg.gxhdjb") + gameDate_1.default.TurntableReward[lastNum].num);
                CocosZ_1.cocosz.dataMgr.CoinCount += gameDate_1.default.TurntableReward[lastNum].num;
              } else if (gameDate_1.default.TurntableReward[lastNum].type == gameDate_1.RewardType.Diamond) {
                Msg_1.default.Show(i18n.t("msg.gxhdzs") + gameDate_1.default.TurntableReward[lastNum].num);
                CocosZ_1.cocosz.dataMgr.DiamondCount += gameDate_1.default.TurntableReward[lastNum].num;
              } else if (gameDate_1.default.TurntableReward[lastNum].type == gameDate_1.RewardType.Skin) {
                Msg_1.default.Show(i18n.t("msg.gxhdxjs"));
                CocosZ_1.cocosz.dataMgr.CurSkinId = gameDate_1.default.TurntableReward[lastNum].num - 1;
                cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
                  type: Constant_1.default.E_CJ_SKIN
                });
                _this._rewardList.children[lastNum].children[0].opacity = 0;
                _this._rewardList.getChildByName("mask6").active = true;
                _this._rewardList.getChildByName("mask6").zIndex = 3;
              } else {
                Msg_1.default.Show(i18n.t("msg.gxhdxwq"));
                CocosZ_1.cocosz.dataMgr.curWeapon = gameDate_1.default.TurntableReward[lastNum].num;
                cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
                  type: Constant_1.default.E_CJ_Weapon
                });
                _this._rewardList.children[lastNum].children[0].opacity = 0;
                _this._rewardList.getChildByName("mask12").active = true;
                _this._rewardList.getChildByName("mask12").zIndex = 3;
              }
              _this.isCJ = false;
              CocosZ_1.cocosz.useCJTimes++;
              CocosZ_1.cocosz.totalCJTimes++;
              _this._totalLabel.string = (CocosZ_1.cocosz.totalCJTimes > 30 ? 30 : CocosZ_1.cocosz.totalCJTimes) + "/30";
              if (30 == CocosZ_1.cocosz.totalCJTimes && 0 == CocosZ_1.cocosz.dataMgr.getGunInfo(10).State) {
                Msg_1.default.Show(i18n.t("msg.gxhdnnp"));
                CocosZ_1.cocosz.dataMgr.curWeapon = 10;
                _this._panel.getChildByName("w_nnp").color = cc.Color.GRAY;
                cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
                  type: Constant_1.default.E_CJ_Weapon
                });
              }
              _this.updateBtn();
            }
          }
        }, 10);
      };
      UITurntablePanel.prototype.getTimeCount = function(num1, num2) {
        var num = 0;
        for (var i = 0; i < num2; i++) num += i * this.addTime;
        return (num1 - num) % (this.startIntervalTime + num2 * this.addTime);
      };
      UITurntablePanel.prototype.updateBtn = function() {
        if (CocosZ_1.cocosz.isADON && CocosZ_1.cocosz.useCJTimes >= Constant_1.default.commonCJTimes) {
          this._btnCJ.active = false;
          this._btnAD.active = true;
        } else {
          this._btnCJ.active = true;
          this._btnAD.active = false;
        }
      };
      UITurntablePanel.prototype._onBtnClickHandler = function(event) {
        return __awaiter(this, void 0, void 0, function() {
          var _this = this;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              return [ 4, CocosZ_1.cocosz.audioMgr.playBtnEffect().catch() ];

             case 1:
              _a.sent();
              if (this.isCJ) return [ 2 ];
              switch (event.target.name) {
               case "BtnBack":
                CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UITurntablePanel);
                break;

               case "BtnCJ":
                this.CJ();
                break;

               case "BtnAD":
                Utils_1.utils.SendEvent("\u89c6\u9891-\u62bd\u5956-\u64ad\u653e");
                CocosZ_1.cocosz.watchAD(function() {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u62bd\u5956-\u6210\u529f");
                  _this.CJ();
                }, function() {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u62bd\u5956-\u5931\u8d25");
                });
              }
              return [ 2 ];
            }
          });
        });
      };
      UITurntablePanel = __decorate([ ccclass ], UITurntablePanel);
      return UITurntablePanel;
    }(UIPage_1.default);
    exports.default = UITurntablePanel;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/Utils": "Utils",
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "../Framework/Msg": "Msg",
    "../Framework/UIPage": "UIPage",
    "../Game/gameDate": "gameDate",
    "../Game/weapon": "weapon",
    LanguageData: "LanguageData"
  } ],
  UIUpgradePanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6b4ebcCT0lEhoZZWJGVc0YS", "UIUpgradePanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var UIPage_1 = require("../Framework/UIPage");
    var Constant_1 = require("../Framework/Constant");
    var CocosZ_1 = require("../Framework/CocosZ");
    var Utils_1 = require("../../common-plugin/Scripts/Utils");
    var TweenEffect_1 = require("../Framework/TweenEffect");
    var UpgradeMgr_1 = require("../Game/UpgradeMgr");
    var PlatUtils_1 = require("../../common-plugin/Scripts/PlatUtils");
    var gameMgr_1 = require("../Game/gameMgr");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var UIUpgradePanel = function(_super) {
      __extends(UIUpgradePanel, _super);
      function UIUpgradePanel() {
        var _this = _super.call(this, Constant_1.PanelName.UIUpgradePanel) || this;
        _this._mask = null;
        _this._panel = null;
        _this._skill0 = null;
        _this._skill1 = null;
        _this._skill2 = null;
        _this._skill3 = null;
        _this._skill4 = null;
        _this._btnRefresh = null;
        _this._betterArr = [];
        _this._otherArr = [];
        _this._uiSkillIdArr = [];
        _this._curIndex = -1;
        _this._canClick = true;
        _this._lockArr = [ false, false, false, false, false ];
        _this.isValid() && _this.onLoad();
        return _this;
      }
      UIUpgradePanel.prototype.onLoad = function() {
        this._mask = this._page.getChildByName("Mask");
        this._panel = this._page.getChildByName("Panel");
        var btnNames = [ "skill0", "skill1", "skill2", "skill3", "skill4", "btnRefresh" ];
        for (var i = 0; i < btnNames.length; i++) {
          var btn = cc.find(btnNames[i], this._panel);
          if (btn) {
            btn.on(cc.Node.EventType.TOUCH_END, this._onBtnClickedHandler, this);
            if ("skill0" == btn.name) this._skill0 = btn; else if ("skill1" == btn.name) this._skill1 = btn; else if ("skill2" == btn.name) this._skill2 = btn; else if ("skill3" == btn.name) this._skill3 = btn; else if ("skill4" == btn.name) this._skill4 = btn; else if ("btnRefresh" == btn.name) {
              this._btnRefresh = btn;
              btn.active = CocosZ_1.cocosz.isADON;
            }
          }
        }
        var serverValue = CocosZ_1.cocosz.getConfigByKey("skillLockNum");
        if (Number.isInteger(serverValue)) for (var i = 0; i < 5; i++) this._lockArr[i] = i + serverValue >= 5;
      };
      UIUpgradePanel.prototype.onOpen = function() {
        Utils_1.utils.SendEvent("\u9875\u9762-\u6280\u80fd");
        var better = [ UpgradeMgr_1.SkillType.\u53cc\u53d1, UpgradeMgr_1.SkillType.\u5b50\u5f39\u788e\u7247, UpgradeMgr_1.SkillType.\u67aa\u6797\u5f39\u96e8, UpgradeMgr_1.SkillType.\u8c22\u5e55, UpgradeMgr_1.SkillType.\u77ac\u65a9, UpgradeMgr_1.SkillType.\u51b0\u971c\u7cbe\u901a, UpgradeMgr_1.SkillType.\u706b\u7130\u7cbe\u901a, UpgradeMgr_1.SkillType.\u8403\u53d6, UpgradeMgr_1.SkillType.\u518d\u751f, UpgradeMgr_1.SkillType.\u62a4\u7532\u9774\u5b50, UpgradeMgr_1.SkillType.\u75be\u8d70, UpgradeMgr_1.SkillType.\u795e\u5723\u5b88\u62a4, UpgradeMgr_1.SkillType.\u901a\u7075\u5315\u9996, UpgradeMgr_1.SkillType.\u98de\u8f6e, UpgradeMgr_1.SkillType.\u95ea\u7535, UpgradeMgr_1.SkillType.\u71c3\u70e7\u74f6 ];
        for (var i = 0; i <= 34; i++) [ UpgradeMgr_1.SkillType.\u96f7\u7535\u7cbe\u901a, UpgradeMgr_1.SkillType.\u9f99\u5375, UpgradeMgr_1.SkillType.\u901a\u7075\u9570\u5200 ].includes(i) || UpgradeMgr_1.upgradeMgr && UpgradeMgr_1.upgradeMgr.isValid && UpgradeMgr_1.upgradeMgr.upgradeSkillArr[i] >= UpgradeMgr_1.upgradeMgr.upgradeSkillMaxLevelArr[i] || (better.includes(i) ? this._betterArr.push(i) : this._otherArr.push(i));
        this._initPanel();
        if (PlatUtils_1.default.IsWechat) {
          Utils_1.utils.adManager.hideCustomAd({
            location: 3
          });
          Utils_1.utils.adManager.hideCustomAd({
            location: 4
          });
        }
      };
      UIUpgradePanel.prototype.onClose = function() {
        CocosZ_1.cocosz.pauseCount--;
        if (PlatUtils_1.default.IsWechat) {
          Utils_1.utils.adManager.showCustomAd({
            location: 3
          });
          Utils_1.utils.adManager.showCustomAd({
            location: 4
          });
        }
      };
      UIUpgradePanel.prototype._initPanel = function() {
        TweenEffect_1.default.panel_mask_opacity(this._mask);
        TweenEffect_1.default.panel_open_moveY(this._panel);
        this._curIndex = -1;
        this._skill_refresh();
      };
      UIUpgradePanel.prototype._onBtnClickedHandler = function(event, data) {
        return __awaiter(this, void 0, void 0, function() {
          var callback_1, lockNode;
          var _this = this;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              return [ 4, CocosZ_1.cocosz.audioMgr.playBtnEffect().catch() ];

             case 1:
              _a.sent();
              if (!this._canClick) return [ 2 ];
              switch (event.target.name) {
               case "btnRefresh":
                this._canClick = false;
                if (event.target.getChildByName("share") && event.target.getChildByName("share").active) {
                  Utils_1.utils.SendEvent("\u5206\u4eab-\u5237\u65b0\u6280\u80fd");
                  CocosZ_1.cocosz.share(function() {
                    Utils_1.utils.SendEvent("\u5206\u4eab-\u5237\u65b0\u6280\u80fd-\u6210\u529f");
                    _this._skill_refresh();
                    _this._canClick = true;
                  }, function() {
                    Utils_1.utils.SendEvent("\u5206\u4eab-\u5237\u65b0\u6280\u80fd-\u5931\u8d25");
                    _this._canClick = true;
                  });
                } else if (event.target.getChildByName("video") && event.target.getChildByName("video").active) {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u6280\u80fd\u5237\u65b0(\u5730\u4e0b\u57ce\u50f5\u5c38)-\u64ad\u653e");
                  CocosZ_1.cocosz.watchAD(function() {
                    Utils_1.utils.SendEvent("\u89c6\u9891-\u6280\u80fd\u5237\u65b0(\u5730\u4e0b\u57ce\u50f5\u5c38)-\u6210\u529f");
                    _this._skill_refresh();
                    _this._canClick = true;
                  }, function() {
                    Utils_1.utils.SendEvent("\u89c6\u9891-\u6280\u80fd\u5237\u65b0(\u5730\u4e0b\u57ce\u50f5\u5c38)-\u5931\u8d25");
                    _this._canClick = true;
                  });
                }
                break;

               case "skill0":
               case "skill1":
               case "skill2":
               case "skill3":
               case "skill4":
                this._canClick = false;
                callback_1 = function() {
                  "skill0" == event.target.name ? _this._curIndex = 0 : "skill1" == event.target.name ? _this._curIndex = 1 : "skill2" == event.target.name ? _this._curIndex = 2 : "skill3" == event.target.name ? _this._curIndex = 3 : "skill4" == event.target.name && (_this._curIndex = 4);
                  _this.updateFrame();
                  _this._selectSkill();
                };
                lockNode = event.target.getChildByName("lock");
                if (lockNode && lockNode.active) if (lockNode.getChildByName("share") && lockNode.getChildByName("share").active) {
                  Utils_1.utils.SendEvent("\u5206\u4eab-\u6280\u80fd\u89e3\u9501");
                  CocosZ_1.cocosz.share(function() {
                    Utils_1.utils.SendEvent("\u5206\u4eab-\u6280\u80fd\u89e3\u9501-\u6210\u529f");
                    callback_1 && callback_1();
                  }, function() {
                    Utils_1.utils.SendEvent("\u5206\u4eab-\u6280\u80fd\u89e3\u9501-\u5931\u8d25");
                    _this._canClick = true;
                  });
                } else if (lockNode.getChildByName("video") && lockNode.getChildByName("video").active) {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u6280\u80fd\u89e3\u9501-\u64ad\u653e");
                  CocosZ_1.cocosz.watchAD(function() {
                    Utils_1.utils.SendEvent("\u89c6\u9891-\u6280\u80fd\u89e3\u9501-\u6210\u529f");
                    callback_1 && callback_1();
                  }, function() {
                    Utils_1.utils.SendEvent("\u89c6\u9891-\u6280\u80fd\u89e3\u9501-\u5931\u8d25");
                    _this._canClick = true;
                  });
                } else callback_1 && callback_1(); else callback_1 && callback_1();
              }
              return [ 2 ];
            }
          });
        });
      };
      UIUpgradePanel.prototype._selectSkill = function() {
        var _this = this;
        this._canClick = false;
        this._uiSkillIdArr[this._curIndex] && UpgradeMgr_1.upgradeMgr && UpgradeMgr_1.upgradeMgr.isValid && UpgradeMgr_1.upgradeMgr.getSkill(this._uiSkillIdArr[this._curIndex]);
        var arr = [ this._skill0, this._skill1, this._skill2, this._skill3, this._skill4 ];
        arr.forEach(function(v, i) {
          i == _this._curIndex ? _this.card_click(v) : _this.card_recycle(v);
        });
        CocosZ_1.cocosz.scheduleOnce(function() {
          CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UIUpgradePanel);
          gameMgr_1.gameMgr && gameMgr_1.gameMgr.playerTs && gameMgr_1.gameMgr.playerTs.isValid && gameMgr_1.gameMgr.playerTs.avoidInjury(2);
        }, 1.5);
      };
      UIUpgradePanel.prototype._getSkillIDName = function(id) {
        return id + (UpgradeMgr_1.upgradeMgr.upgradeSkillMaxLevelArr[id] > 1 ? "_" + (UpgradeMgr_1.upgradeMgr.upgradeSkillArr[id] + 1) : "");
      };
      UIUpgradePanel.prototype._skill_load = function(card, id) {
        var node_name = card.getChildByName("name");
        if (node_name) {
          var spr_name_1 = node_name.getComponent(cc.Sprite);
          spr_name_1 && CocosZ_1.cocosz.resMgr.loadAndCacheRes("i18n/tex_zombie/" + CocosZ_1.cocosz.curLanguage + "/zombieSkill_name_" + this._getSkillIDName(id), cc.SpriteFrame, null, function(err, res) {
            spr_name_1 && spr_name_1.isValid && (spr_name_1.spriteFrame = res);
          });
        }
        var node_icon = card.getChildByName("icon");
        if (node_icon) {
          var spr_icon_1 = node_icon.getComponent(cc.Sprite);
          spr_icon_1 && CocosZ_1.cocosz.resMgr.loadAndCacheRes("tex_zombie/zombieSkill_icon_" + this._getSkillIDName(id), cc.SpriteFrame, null, function(err, res) {
            spr_icon_1 && spr_icon_1.isValid && (spr_icon_1.spriteFrame = res);
          });
        }
        var node_introduce = card.getChildByName("introduce");
        if (node_introduce) {
          var spr_introduce_1 = node_introduce.getComponent(cc.Sprite);
          spr_introduce_1 && CocosZ_1.cocosz.resMgr.loadAndCacheRes("i18n/tex_zombie/" + CocosZ_1.cocosz.curLanguage + "/zombieSkill_introduce_" + this._getSkillIDName(id), cc.SpriteFrame, null, function(err, res) {
            spr_introduce_1 && spr_introduce_1.isValid && (spr_introduce_1.spriteFrame = res);
          });
        }
      };
      UIUpgradePanel.prototype._skill_refresh = function() {
        var _a;
        this._uiSkillIdArr.length = 0;
        if (this._betterArr.length) for (var i = Math.min(5 - this._uiSkillIdArr.length, this._betterArr.length); i > 0; i--) {
          var index = Math.floor(Math.random() * this._betterArr.length);
          if (this._betterArr[index] >= 0) {
            this._uiSkillIdArr.push(this._betterArr[index]);
            this._betterArr.splice(index, 1);
          }
        }
        if (this._otherArr.length) for (var i = Math.min(5 - this._uiSkillIdArr.length, this._otherArr.length); i > 0; i--) {
          var index = Math.floor(Math.random() * this._otherArr.length);
          if (this._otherArr[index] >= 0) {
            this._uiSkillIdArr.push(this._otherArr[index]);
            this._otherArr.splice(index, 1);
          }
        }
        for (var i = 0; i < this._uiSkillIdArr.length; i++) if (2 == UpgradeMgr_1.upgradeMgr.upgradeSkillArr[this._uiSkillIdArr[i]] && !this._lockArr[i]) for (var j = this._uiSkillIdArr.length - 1; j > i; j--) this._lockArr[j] && 2 != UpgradeMgr_1.upgradeMgr.upgradeSkillArr[this._uiSkillIdArr[j]] && (_a = [ this._uiSkillIdArr[j], this._uiSkillIdArr[i] ], 
        this._uiSkillIdArr[i] = _a[0], this._uiSkillIdArr[j] = _a[1]);
        if (this._uiSkillIdArr[0] >= 0) {
          this._skill0.active = true;
          var id = this._uiSkillIdArr[0];
          this._skill_load(this._skill0, id);
        } else this._skill0.active = false;
        if (this._uiSkillIdArr[1] >= 0) {
          this._skill1.active = true;
          var id = this._uiSkillIdArr[1];
          this._skill_load(this._skill1, id);
        } else this._skill1.active = false;
        if (this._uiSkillIdArr[2] >= 0) {
          this._skill2.active = true;
          var id = this._uiSkillIdArr[2];
          this._skill_load(this._skill2, id);
        } else this._skill2.active = false;
        if (this._uiSkillIdArr[3] >= 0) {
          this._skill3.active = true;
          var id = this._uiSkillIdArr[3];
          this._skill_load(this._skill3, id);
        } else this._skill3.active = false;
        if (this._uiSkillIdArr[4] >= 0) {
          this._skill4.active = true;
          var id = this._uiSkillIdArr[4];
          this._skill_load(this._skill4, id);
        } else this._skill4.active = false;
        0 == this._otherArr.length && this._btnRefresh && this._btnRefresh.active && (this._btnRefresh.active = false);
        this.updateFrame();
      };
      UIUpgradePanel.prototype.updateFrame = function() {
        this._skill0.children[0].active = 0 == this._curIndex;
        this._skill1.children[0].active = 1 == this._curIndex;
        this._skill2.children[0].active = 2 == this._curIndex;
        this._skill3.children[0].active = 3 == this._curIndex;
        this._skill4.children[0].active = 4 == this._curIndex;
        this._skill0.children[5].active = this._lockArr[0] && 0 != this._curIndex;
        this._skill1.children[5].active = this._lockArr[1] && 1 != this._curIndex;
        this._skill2.children[5].active = this._lockArr[2] && 2 != this._curIndex;
        this._skill3.children[5].active = this._lockArr[3] && 3 != this._curIndex;
        this._skill4.children[5].active = this._lockArr[4] && 4 != this._curIndex;
      };
      UIUpgradePanel.prototype.card_click = function(card) {
        card.zIndex = cc.macro.MAX_ZINDEX;
        cc.tween(card).to(.5, {
          x: 0,
          y: 200
        }, {
          easing: "sineIn"
        }).to(1, {
          scale: 2,
          opacity: 0
        }, {
          easing: "fade"
        }).start();
      };
      UIUpgradePanel.prototype.card_recycle = function(card) {
        var btnUnLock = card.getChildByName("btnUnLock");
        btnUnLock && (btnUnLock.active = false);
        cc.tween(card).to(.5, {
          opacity: 0
        }, {
          easing: "sineIn"
        }).start();
      };
      UIUpgradePanel = __decorate([ ccclass ], UIUpgradePanel);
      return UIUpgradePanel;
    }(UIPage_1.default);
    exports.default = UIUpgradePanel;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/PlatUtils": "PlatUtils",
    "../../common-plugin/Scripts/Utils": "Utils",
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "../Framework/TweenEffect": "TweenEffect",
    "../Framework/UIPage": "UIPage",
    "../Game/UpgradeMgr": "UpgradeMgr",
    "../Game/gameMgr": "gameMgr"
  } ],
  UIWeaponLevelPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "83dfcUFp79CK5jLHVT/rcgh", "UIWeaponLevelPanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("../../common-plugin/Scripts/Utils");
    var CocosZ_1 = require("../Framework/CocosZ");
    var Constant_1 = require("../Framework/Constant");
    var Msg_1 = require("../Framework/Msg");
    var UIPage_1 = require("../Framework/UIPage");
    var gameDate_1 = require("../Game/gameDate");
    var weapon_1 = require("../Game/weapon");
    var i18n = require("LanguageData");
    var ccclass = cc._decorator.ccclass;
    var UIWeaponLevelPanel = function(_super) {
      __extends(UIWeaponLevelPanel, _super);
      function UIWeaponLevelPanel() {
        var _this = _super.call(this, Constant_1.PanelName.UIWeaponLevelPanel) || this;
        _this._panel = null;
        _this.weapon = null;
        _this.weaponId = 0;
        _this.isRange = true;
        _this.isValid() && _this.onLoad();
        return _this;
      }
      UIWeaponLevelPanel.prototype.onLoad = function() {
        this._panel = this._page.getChildByName("Panel");
        this.weapon = this._panel.getChildByName("weapon").getComponent(cc.Sprite);
        var btnNames = [ "BtnPass", "BtnVideo" ];
        for (var i = 0; i < btnNames.length; i++) {
          var btn = cc.find(btnNames[i], this._panel);
          btn && btn.on(cc.Node.EventType.TOUCH_END, this._onBtnClickedHandler, this);
        }
      };
      UIWeaponLevelPanel.prototype.onOpen = function() {
        Utils_1.utils.SendEvent("\u9875\u9762-\u6b66\u5668\u5347\u7ea7");
        CocosZ_1.cocosz.pauseCount++;
        var weaponName = "";
        var level = 0;
        var rangeLevel = CocosZ_1.cocosz.dataMgr.getGunInfo(CocosZ_1.cocosz.dataMgr.CurRange).Level;
        var meleeLevel = CocosZ_1.cocosz.dataMgr.getGunInfo(CocosZ_1.cocosz.dataMgr.CurMelee).Level;
        if (rangeLevel < 3) {
          this.isRange = true;
          this.weaponId = CocosZ_1.cocosz.dataMgr.CurRange;
          weaponName = weapon_1.default.WeaponName[this.weaponId];
          level = rangeLevel;
          this.weapon.spriteFrame = CocosZ_1.cocosz.resMgr.getRes("w_" + weaponName, cc.SpriteFrame);
        } else {
          if (!(meleeLevel < 3)) {
            CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UIWeaponLevelPanel);
            return;
          }
          this.isRange = false;
          this.weaponId = CocosZ_1.cocosz.dataMgr.CurMelee;
          weaponName = weapon_1.default.WeaponName[this.weaponId];
          level = meleeLevel;
          this.weapon.spriteFrame = CocosZ_1.cocosz.resMgr.getRes("w_" + weaponName, cc.SpriteFrame);
        }
        var info = gameDate_1.default.Weapon[weaponName];
        var txt1 = cc.find("kuang/txt1", this._panel);
        if (txt1) {
          var richText = txt1.getComponent(cc.RichText);
          if (richText) {
            var curNum = info.atk[level];
            var nextNum = info.atk[3];
            var difNum = nextNum - curNum;
            richText.string = "<outline color=black width=2><color=white>" + i18n.t("try.gjl") + ": " + curNum + "</c><color=green}>" + (difNum > 0 ? " +" + difNum : "") + "</c></outline>";
          }
        }
        var txt2 = cc.find("kuang/txt2", this._panel);
        if (txt2) {
          var richText = txt2.getComponent(cc.RichText);
          if (richText) {
            var curNum = 1 / info.atkSpeed[level];
            var nextNum = 1 / info.atkSpeed[3];
            var difNum = nextNum - curNum;
            richText.string = "<outline color=black width=2><color=white>" + i18n.t("try.gjpl") + ": " + curNum + "</c><color=green}>" + (difNum > 0 ? " +" + difNum : "") + "</c></outline>";
          }
        }
        var txt3 = cc.find("kuang/txt3", this._panel);
        if (txt3) {
          var richText = txt3.getComponent(cc.RichText);
          if (richText) {
            var curNum = info.atkRange;
            richText.string = "<outline color=black width=2><color=white>" + i18n.t("try.gjfw") + ": " + curNum + "</c></outline>";
          }
        }
        var txt4 = cc.find("kuang/txt4", this._panel);
        if (txt4) {
          var richText = txt4.getComponent(cc.RichText);
          if (richText) {
            var curNum = info.bulletTotal[level];
            var nextNum = info.bulletTotal[3];
            var difNum = nextNum - curNum;
            richText.string = "<outline color=black width=2><color=white>" + i18n.t("try.dyl") + ": " + (this.isRange ? curNum : "\u267e") + "</c><color=green}>" + (difNum > 0 ? " +" + difNum : "") + "</c></outline>";
          }
        }
      };
      UIWeaponLevelPanel.prototype.onClose = function() {
        CocosZ_1.cocosz.gameMgr.gameStart(CocosZ_1.cocosz.curLevel);
      };
      UIWeaponLevelPanel.prototype._onBtnClickedHandler = function(event, data) {
        return __awaiter(this, void 0, void 0, function() {
          var _this = this;
          return __generator(this, function(_a) {
            switch (_a.label) {
             case 0:
              return [ 4, CocosZ_1.cocosz.audioMgr.playBtnEffect().catch() ];

             case 1:
              _a.sent();
              switch (event.target.name) {
               case "BtnPass":
                CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UIWeaponLevelPanel);
                break;

               case "BtnVideo":
                Utils_1.utils.SendEvent("\u89c6\u9891-\u5f39\u7a97\u6b66\u5668\u5347\u7ea7-\u64ad\u653e");
                CocosZ_1.cocosz.watchAD(function() {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u5f39\u7a97\u6b66\u5668\u5347\u7ea7-\u6210\u529f");
                  var info = CocosZ_1.cocosz.dataMgr.getGunInfo(_this.weaponId);
                  info.Level = 3;
                  CocosZ_1.cocosz.dataMgr.setGunInfo(_this.weaponId, info);
                  Msg_1.default.Show(i18n.t("msg.sjcg"));
                  CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UIWeaponLevelPanel);
                }, function() {
                  Utils_1.utils.SendEvent("\u89c6\u9891-\u5f39\u7a97\u6b66\u5668\u5347\u7ea7-\u5931\u8d25");
                  CocosZ_1.cocosz.uiMgr.closePanel(Constant_1.PanelName.UIWeaponLevelPanel);
                });
              }
              return [ 2 ];
            }
          });
        });
      };
      UIWeaponLevelPanel = __decorate([ ccclass ], UIWeaponLevelPanel);
      return UIWeaponLevelPanel;
    }(UIPage_1.default);
    exports.default = UIWeaponLevelPanel;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/Utils": "Utils",
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "../Framework/Msg": "Msg",
    "../Framework/UIPage": "UIPage",
    "../Game/gameDate": "gameDate",
    "../Game/weapon": "weapon",
    LanguageData: "LanguageData"
  } ],
  UpgradeMgr: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f4901QXz85C5Y7PEKsAdvsM", "UpgradeMgr");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.upgradeMgr = exports.SkillType = void 0;
    var CocosZ_1 = require("../Framework/CocosZ");
    var Constant_1 = require("../Framework/Constant");
    var bullet_1 = require("./bullet");
    var gameMgr_1 = require("./gameMgr");
    var jingyan_1 = require("./jingyan");
    var ZombieBase_1 = require("./ZombieBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SkillType;
    (function(SkillType) {
      SkillType[SkillType["\u6574\u88c5\u5f85\u53d1"] = 0] = "\u6574\u88c5\u5f85\u53d1";
      SkillType[SkillType["\u7784\u51c6"] = 1] = "\u7784\u51c6";
      SkillType[SkillType["\u5f3a\u5316"] = 2] = "\u5f3a\u5316";
      SkillType[SkillType["\u77ac\u65a9"] = 3] = "\u77ac\u65a9";
      SkillType[SkillType["\u5f3a\u529b\u5c04\u51fb"] = 4] = "\u5f3a\u529b\u5c04\u51fb";
      SkillType[SkillType["\u7a83\u9b42\u5f39\u5939"] = 5] = "\u7a83\u9b42\u5f39\u5939";
      SkillType[SkillType["\u79d1\u6280\u5b50\u5f39"] = 6] = "\u79d1\u6280\u5b50\u5f39";
      SkillType[SkillType["\u7ad9\u59ff\u5c04\u51fb"] = 7] = "\u7ad9\u59ff\u5c04\u51fb";
      SkillType[SkillType["\u5b50\u5f39\u788e\u7247"] = 8] = "\u5b50\u5f39\u788e\u7247";
      SkillType[SkillType["\u53cc\u53d1"] = 9] = "\u53cc\u53d1";
      SkillType[SkillType["\u8c22\u5e55"] = 10] = "\u8c22\u5e55";
      SkillType[SkillType["\u67aa\u6797\u5f39\u96e8"] = 11] = "\u67aa\u6797\u5f39\u96e8";
      SkillType[SkillType["\u75be\u8d70"] = 12] = "\u75be\u8d70";
      SkillType[SkillType["\u8dd1\u52a8\u5c04\u51fb"] = 13] = "\u8dd1\u52a8\u5c04\u51fb";
      SkillType[SkillType["\u610f\u6c14\u98ce\u53d1"] = 14] = "\u610f\u6c14\u98ce\u53d1";
      SkillType[SkillType["\u62a4\u7532\u9774\u5b50"] = 15] = "\u62a4\u7532\u9774\u5b50";
      SkillType[SkillType["\u78c1\u573a"] = 16] = "\u78c1\u573a";
      SkillType[SkillType["\u7075\u80fd\u8865\u7ed9"] = 17] = "\u7075\u80fd\u8865\u7ed9";
      SkillType[SkillType["\u5bb9\u5149\u7115\u53d1"] = 18] = "\u5bb9\u5149\u7115\u53d1";
      SkillType[SkillType["\u9e70\u773c"] = 19] = "\u9e70\u773c";
      SkillType[SkillType["\u751f\u547d\u529b"] = 20] = "\u751f\u547d\u529b";
      SkillType[SkillType["\u518d\u751f"] = 21] = "\u518d\u751f";
      SkillType[SkillType["\u8fdb\u5316"] = 22] = "\u8fdb\u5316";
      SkillType[SkillType["\u8403\u53d6"] = 23] = "\u8403\u53d6";
      SkillType[SkillType["\u706b\u7130\u7cbe\u901a"] = 24] = "\u706b\u7130\u7cbe\u901a";
      SkillType[SkillType["\u96f7\u7535\u7cbe\u901a"] = 25] = "\u96f7\u7535\u7cbe\u901a";
      SkillType[SkillType["\u51b0\u971c\u7cbe\u901a"] = 26] = "\u51b0\u971c\u7cbe\u901a";
      SkillType[SkillType["\u53cc\u91cd\u9644\u9b54"] = 27] = "\u53cc\u91cd\u9644\u9b54";
      SkillType[SkillType["\u9f99\u5375"] = 28] = "\u9f99\u5375";
      SkillType[SkillType["\u901a\u7075\u5315\u9996"] = 29] = "\u901a\u7075\u5315\u9996";
      SkillType[SkillType["\u901a\u7075\u9570\u5200"] = 30] = "\u901a\u7075\u9570\u5200";
      SkillType[SkillType["\u795e\u5723\u5b88\u62a4"] = 31] = "\u795e\u5723\u5b88\u62a4";
      SkillType[SkillType["\u98de\u8f6e"] = 32] = "\u98de\u8f6e";
      SkillType[SkillType["\u95ea\u7535"] = 33] = "\u95ea\u7535";
      SkillType[SkillType["\u71c3\u70e7\u74f6"] = 34] = "\u71c3\u70e7\u74f6";
    })(SkillType = exports.SkillType || (exports.SkillType = {}));
    exports.upgradeMgr = null;
    var UpgradeMgr = function(_super) {
      __extends(UpgradeMgr, _super);
      function UpgradeMgr() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.bulletPrefab = null;
        _this.zombieKillNum = 0;
        _this.weaponPre = null;
        _this.bossKillId = [];
        _this.jingyanLayer = null;
        _this.jingyanPre = null;
        _this.jingyanRange = 200;
        _this._jingyanArr = [ 5, 10, 20, 25, 30, 40, 50, 60, 60, 70, 80, 90, 100, 110, 120, 130, 150, 170, 200, 220, 250, 280, 300, 350, 400, 500, 1e3 ];
        _this.upgradeSkillArr = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
        _this.upgradeSkillMaxLevelArr = [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3 ];
        _this.skill_14 = 1;
        _this.skill_18 = 0;
        _this.skill_magic = 0;
        _this._maxLevel = 25;
        _this._curLevel = 0;
        _this._curMaxJingyan = _this._jingyanArr[_this.curLevel];
        _this._curJingyan = 0;
        _this.canUpgrade = true;
        _this.skillImgArr = [];
        _this._canAccelerate = true;
        _this._bishou = null;
        _this.hudun = null;
        _this._zaishengCdTime = 0;
        _this._feilun = null;
        _this._posArr = [ [ [ 500, 0 ] ], [ [ 500, 0 ], [ -500, 0 ] ], [ [ 500, 0 ], [ -300, 400 ], [ -300, -400 ] ], [ [ 500, 0 ], [ -500, 0 ], [ 0, 500 ], [ 0, -500 ] ] ];
        _this._shandianCount = 0;
        _this._shandianNum = [ 1, 1, 3, 5 ];
        _this._shandiCdTime = 0;
        _this._fireCount = 0;
        _this._fireNum = [ 1, 1, 2, 3 ];
        _this._fireCdTime = 0;
        return _this;
      }
      Object.defineProperty(UpgradeMgr.prototype, "curLevel", {
        get: function() {
          return this._curLevel;
        },
        set: function(v) {
          v < 0 ? v = 0 : v > this._maxLevel && (v = this._maxLevel);
          if (v >= this._curLevel) {
            this._curLevel = v;
            gameMgr_1.gameMgr.model6_levelLabel.string = "" + this._curLevel;
            this.upgradeEffect();
            CocosZ_1.cocosz.pauseCount++;
            CocosZ_1.cocosz.uiMgr.openPanel(Constant_1.PanelName.UIUpgradePanel);
            this._curJingyan -= this._curMaxJingyan;
            this._curMaxJingyan = this._jingyanArr[this.curLevel];
          }
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(UpgradeMgr.prototype, "curJingyan", {
        get: function() {
          return this._curJingyan;
        },
        set: function(v) {
          v < 0 && (v = 0);
          this._curJingyan = v;
        },
        enumerable: false,
        configurable: true
      });
      UpgradeMgr.prototype.onLoad = function() {
        exports.upgradeMgr = this;
        cc.game.on(Constant_1.default.E_GAME_LOGIC, this._onGameMessageHandler, this);
        this.jingyanPre = CocosZ_1.cocosz.resMgr.getRes("jingyan", cc.Prefab);
        this.jingyanLayer = new cc.Node();
        this.jingyanLayer.name = "jingyanLayer";
        this.jingyanLayer.zIndex = Constant_1.ZindexLayer.zinedx_jingyan;
        this.jingyanLayer.setPosition(cc.Vec2.ZERO);
        this.jingyanLayer.setParent(this.node);
      };
      UpgradeMgr.prototype.start = function() {};
      UpgradeMgr.prototype.onDestroy = function() {
        exports.upgradeMgr = null;
        cc.game.targetOff(this);
      };
      UpgradeMgr.prototype.update = function(dt) {
        if (gameMgr_1.gameMgr && gameMgr_1.gameMgr.model6_jingyanBar) {
          var from = gameMgr_1.gameMgr.model6_jingyanBar.progress;
          var to = this.curJingyan / this._curMaxJingyan;
          0 == to && (to = .001);
          gameMgr_1.gameMgr.model6_jingyanBar.progress = cc.misc.lerp(from, to, .2);
        }
        this.canUpgrade && !CocosZ_1.cocosz.isPause && this.curLevel < this._maxLevel && this._curJingyan >= this._curMaxJingyan && (this.curLevel += 1);
      };
      UpgradeMgr.prototype.isHaveSkill = function(id) {
        return this.upgradeSkillArr[id] > 0;
      };
      UpgradeMgr.prototype.setSkillImg = function(id) {
        var str = "zombieSkill_icon_" + id + (this.upgradeSkillMaxLevelArr[id] > 1 ? "_" + this.upgradeSkillArr[id] : "");
        var icon = CocosZ_1.cocosz.resMgr.getRes(str, cc.SpriteFrame);
        if (icon && gameMgr_1.gameMgr.model6_skillScrollView_content && gameMgr_1.gameMgr.model6_skillScrollView_content.isValid) {
          if (!this.skillImgArr[id] && gameMgr_1.gameMgr.model6_skillScrollView_item) {
            this.skillImgArr[id] = cc.instantiate(gameMgr_1.gameMgr.model6_skillScrollView_item);
            this.skillImgArr[id].active = true;
            this.skillImgArr[id].setParent(gameMgr_1.gameMgr.model6_skillScrollView_content);
            gameMgr_1.gameMgr.model6_skillScrollView_content.width > gameMgr_1.gameMgr.model6_skillScrollView.node.width && gameMgr_1.gameMgr.model6_skillScrollView.scrollToRight();
          }
          if (this.skillImgArr[id]) {
            var sprite = this.skillImgArr[id].getComponent(cc.Sprite);
            sprite && (sprite.spriteFrame = icon);
          }
        }
      };
      UpgradeMgr.prototype.setSkillCD = function(id, time) {
        if (this.skillImgArr[id]) {
          var skillCD_1 = this.skillImgArr[id].getChildByName("skillCD");
          if (skillCD_1) {
            skillCD_1.active = true;
            skillCD_1.opacity = 255;
            cc.tween(skillCD_1.children[0].getComponent(cc.Sprite)).set({
              fillRange: 1
            }).to(time, {
              fillRange: 0
            }).call(function() {
              skillCD_1.opacity = 0;
            }).start();
            var num_1 = time;
            var timeLabel_1 = skillCD_1.children[1].getComponent(cc.Label);
            cc.tween(skillCD_1).call(function() {
              timeLabel_1.string = num_1.toString();
              num_1--;
            }).delay(1).union().repeat(time).start();
          }
        }
      };
      UpgradeMgr.prototype.getSkill = function(id) {
        var _this = this;
        this.upgradeSkillArr[id]++;
        this.setSkillImg(id);
        switch (id) {
         case SkillType.\u6574\u88c5\u5f85\u53d1:
          gameMgr_1.gameMgr.playerTs && gameMgr_1.gameMgr.playerTs.curWeapon && (gameMgr_1.gameMgr.playerTs.curWeapon.bulletNum += 4);
          break;

         case SkillType.\u7784\u51c6:
          gameMgr_1.gameMgr.playerTs && (gameMgr_1.gameMgr.playerTs.atkRate *= 1.25);
          break;

         case SkillType.\u5f3a\u5316:
          if (gameMgr_1.gameMgr.playerTs && gameMgr_1.gameMgr.playerTs.curWeapon) {
            gameMgr_1.gameMgr.playerTs.curWeapon.bulletNum += 2;
            gameMgr_1.gameMgr.playerTs.atkRate *= 1.1;
          }
          break;

         case SkillType.\u77ac\u65a9:
          break;

         case SkillType.\u5f3a\u529b\u5c04\u51fb:
          gameMgr_1.gameMgr.playerTs && (gameMgr_1.gameMgr.playerTs.atkRate *= 1.2);
          break;

         case SkillType.\u7a83\u9b42\u5f39\u5939:
          break;

         case SkillType.\u79d1\u6280\u5b50\u5f39:
          gameMgr_1.gameMgr.playerTs && (gameMgr_1.gameMgr.playerTs.atkSpeedRate -= .1);
          break;

         case SkillType.\u7ad9\u59ff\u5c04\u51fb:
          var can_1 = true;
          this.schedule(function() {
            if (can_1 && 0 == gameMgr_1.gameMgr.playerTs.moveDir.mag()) {
              can_1 = false;
              gameMgr_1.gameMgr.playerTs.atkRate *= 1.3;
            } else if (!can_1 && gameMgr_1.gameMgr.playerTs.moveDir.mag() > 0) {
              can_1 = true;
              gameMgr_1.gameMgr.playerTs.atkRate /= 1.3;
            }
          }, .1);
          break;

         case SkillType.\u5b50\u5f39\u788e\u7247:
          break;

         case SkillType.\u53cc\u53d1:
          gameMgr_1.gameMgr.playerTs && (gameMgr_1.gameMgr.playerTs.atkBulletNum += 1);
          break;

         case SkillType.\u8c22\u5e55:
          break;

         case SkillType.\u67aa\u6797\u5f39\u96e8:
          gameMgr_1.gameMgr.playerTs && (gameMgr_1.gameMgr.playerTs.atkBulletNum *= 2);
          break;

         case SkillType.\u75be\u8d70:
          gameMgr_1.gameMgr.playerTs && (gameMgr_1.gameMgr.playerTs.speedRate *= 1.1);
          break;

         case SkillType.\u8dd1\u52a8\u5c04\u51fb:
          var can_2 = true;
          this.schedule(function() {
            if (can_2 && gameMgr_1.gameMgr.playerTs.isAtk) {
              can_2 = false;
              gameMgr_1.gameMgr.playerTs.speedRate *= 1.2;
            } else if (!can_2 && !gameMgr_1.gameMgr.playerTs.isAtk) {
              can_2 = true;
              gameMgr_1.gameMgr.playerTs.speedRate /= 1.2;
            }
          }, .1);
          break;

         case SkillType.\u610f\u6c14\u98ce\u53d1:
          this.schedule(function() {
            if (gameMgr_1.gameMgr.playerTs) {
              var k = _this.skill_14 + .1;
              k > 1.4 ? k = 1.4 : k < 1 && (k = 1);
              gameMgr_1.gameMgr.playerTs.atkRate *= k / _this.skill_14;
              gameMgr_1.gameMgr.playerTs.speedRate *= k / _this.skill_14;
              _this.skill_14 = k;
            }
          }, 10);
          break;

         case SkillType.\u62a4\u7532\u9774\u5b50:
          break;

         case SkillType.\u78c1\u573a:
          this.jingyanRange += 200;
          break;

         case SkillType.\u7075\u80fd\u8865\u7ed9:
         case SkillType.\u5bb9\u5149\u7115\u53d1:
          this.jingyanRange += 50;
          break;

         case SkillType.\u9e70\u773c:
          this.jingyanRange += 50;
          cc.tween(gameMgr_1.gameMgr.mainCamera).to(1, {
            zoomRatio: .6
          }).start();
          break;

         case SkillType.\u751f\u547d\u529b:
          if (gameMgr_1.gameMgr.playerTs) {
            gameMgr_1.gameMgr.playerTs.totleHp += 1;
            gameMgr_1.gameMgr.playerTs.HP = gameMgr_1.gameMgr.playerTs.totleHp;
            this.scheduleOnce(function() {
              gameMgr_1.gameMgr.playerTs.recoverEffect();
            }, 1);
          }
          break;

         case SkillType.\u518d\u751f:
          this.schedule(function() {
            _this._updateZaisheng();
          }, 1);
          break;

         case SkillType.\u8fdb\u5316:
          if (gameMgr_1.gameMgr.playerTs) {
            gameMgr_1.gameMgr.playerTs.atkRate *= 1.1;
            gameMgr_1.gameMgr.playerTs.totleHp += 1;
            gameMgr_1.gameMgr.playerTs.HP += 1;
            this.scheduleOnce(function() {
              gameMgr_1.gameMgr.playerTs.recoverEffect();
            }, 1);
          }
          break;

         case SkillType.\u8403\u53d6:
         case SkillType.\u706b\u7130\u7cbe\u901a:
         case SkillType.\u51b0\u971c\u7cbe\u901a:
         case SkillType.\u53cc\u91cd\u9644\u9b54:
          break;

         case SkillType.\u901a\u7075\u5315\u9996:
          var pre = CocosZ_1.cocosz.resMgr.getRes("zombieSkill_bishou", cc.Prefab);
          if (pre && gameMgr_1.gameMgr && gameMgr_1.gameMgr.playerTs) {
            this._bishou = cc.instantiate(pre);
            this._bishou.setParent(this.node);
            this._bishou.zIndex = cc.macro.MAX_ZINDEX;
            this._bishou.active = false;
            this.updateBishou();
          }
          break;

         case SkillType.\u795e\u5723\u5b88\u62a4:
          var pre = CocosZ_1.cocosz.resMgr.getRes("zombieSkill_hudun", cc.Prefab);
          if (pre && gameMgr_1.gameMgr && gameMgr_1.gameMgr.playerTs) {
            this.hudun = cc.instantiate(pre);
            this.hudun.setParent(gameMgr_1.gameMgr.playerTs.node);
            this.hudun.setPosition(0, 0);
            this.hudun.zIndex = cc.macro.MAX_ZINDEX - 1;
            break;
          }

         case SkillType.\u98de\u8f6e:
          var pre = CocosZ_1.cocosz.resMgr.getRes("zombieSkill_feilun", cc.Prefab);
          if (pre && gameMgr_1.gameMgr && gameMgr_1.gameMgr.playerTs) {
            this._feilun && this._feilun.isValid && this._feilun.destroy();
            this._feilun = cc.instantiate(pre);
            this._feilun.setParent(gameMgr_1.gameMgr.playerTs.node);
            this._feilun.setPosition(cc.Vec2.ZERO);
            this._feilun.active = true;
            this._feilun.zIndex = cc.macro.MAX_ZINDEX;
            this.updateFeilun(this.upgradeSkillArr[SkillType.\u98de\u8f6e]);
          }
          break;

         case SkillType.\u95ea\u7535:
          1 == this.upgradeSkillArr[SkillType.\u95ea\u7535] && this.schedule(this.updateShandian, 1);
          break;

         case SkillType.\u71c3\u70e7\u74f6:
          1 == this.upgradeSkillArr[SkillType.\u71c3\u70e7\u74f6] && this.schedule(this.updateFire, 1);
        }
      };
      UpgradeMgr.prototype._onGameMessageHandler = function(event) {
        var _this = this;
        switch (event.type) {
         case Constant_1.default.E_Jingyan_Finish:
          if (this.isHaveSkill(SkillType.\u7075\u80fd\u8865\u7ed9)) gameMgr_1.gameMgr && gameMgr_1.gameMgr.playerTs && Math.random() < .01 && (gameMgr_1.gameMgr.playerTs.curWeapon.curBullet += 1); else if (this.isHaveSkill(SkillType.\u5bb9\u5149\u7115\u53d1) && this.skill_18 < 3) {
            0 == this.skill_18 && this.accelerate();
            this.skill_18++;
          }
          break;

         case Constant_1.default.E_Zombie_Hart:
          if (event.node && event.node.isValid) if (this.isHaveSkill(SkillType.\u77ac\u65a9) && this.canAddMagic(event.node, SkillType.\u77ac\u65a9)) this.skill_effect_3(event.node); else {
            var skillArr = [];
            this.isHaveSkill(SkillType.\u706b\u7130\u7cbe\u901a) && this.canAddMagic(event.node, SkillType.\u706b\u7130\u7cbe\u901a) && skillArr.push(SkillType.\u706b\u7130\u7cbe\u901a);
            this.isHaveSkill(SkillType.\u51b0\u971c\u7cbe\u901a) && this.canAddMagic(event.node, SkillType.\u51b0\u971c\u7cbe\u901a) && skillArr.push(SkillType.\u51b0\u971c\u7cbe\u901a);
            if (skillArr.length) {
              var skillIndex = Math.floor(Math.random() * skillArr.length);
              var skillId = skillArr[skillIndex];
              switch (skillId) {
               case SkillType.\u706b\u7130\u7cbe\u901a:
                this.skill_effect_24(event.node);
                break;

               case SkillType.\u51b0\u971c\u7cbe\u901a:
                this.skill_effect_26(event.node);
              }
            }
          }
          break;

         case Constant_1.default.E_Zombie_Death:
          if (event.node) {
            if (this.isHaveSkill(SkillType.\u5b50\u5f39\u788e\u7247) && event.from) {
              var angle = 30 * Math.random();
              this.createBullet(event.node, 30 + angle, 40);
              this.createBullet(event.node, 150 + angle, 40);
              this.createBullet(event.node, 270 + angle, 40);
            } else if (this.isHaveSkill(SkillType.\u8403\u53d6) && gameMgr_1.gameMgr && gameMgr_1.gameMgr.playerTs && gameMgr_1.gameMgr.playerTs.HP < gameMgr_1.gameMgr.playerTs.totleHp && Math.random() < .05) {
              gameMgr_1.gameMgr.playerTs.HP += 1;
              gameMgr_1.gameMgr.playerTs.recoverEffect();
            }
            var ts = event.node.getComponent(ZombieBase_1.default);
            if (ts) {
              this.zombieKillNum++;
              if (ts.isBoss) {
                this.bossKillId.push(ts.zombieId);
                0 == gameMgr_1.gameMgr.bossArr.length && gameMgr_1.gameMgr.win();
              }
            }
          }
          break;

         case Constant_1.default.E_Bullet_Last:
          if (this.isHaveSkill(SkillType.\u8c22\u5e55) && gameMgr_1.gameMgr.playerTs) {
            this.createBullet(event.node, 36, 40);
            this.createBullet(event.node, 108, 40);
            this.createBullet(event.node, 180, 40);
            this.createBullet(event.node, 252, 40);
            this.createBullet(event.node, 324, 40);
            this.scheduleOnce(function() {
              _this.createBullet(event.node, 72, 40);
              _this.createBullet(event.node, 144, 40);
              _this.createBullet(event.node, 216, 40);
              _this.createBullet(event.node, 288, 40);
              _this.createBullet(event.node, 360, 40);
            }, 0);
          }
          break;

         case Constant_1.default.E_Bullet_Reload:
          if (this.isHaveSkill(SkillType.\u7a83\u9b42\u5f39\u5939) && gameMgr_1.gameMgr.playerTs) {
            gameMgr_1.gameMgr.playerTs.atkRate *= 1.3;
            this.scheduleOnce(function() {
              gameMgr_1.gameMgr.playerTs.atkRate /= 1.3;
            }, 1);
          }
          break;

         case Constant_1.default.E_Player_Hart:
          this.isHaveSkill(SkillType.\u610f\u6c14\u98ce\u53d1) && (this.skill_14 = 1);
          break;

         case Constant_1.default.E_Player_Death:
          this.hudun && (this.hudun.opacity = 0);
        }
      };
      UpgradeMgr.prototype.createJingyan = function(pos) {
        if (this.jingyanPre && this.jingyanLayer) {
          var jingyan = gameMgr_1.gameMgr.nodeGet("jingyan", this.jingyanPre);
          var ts = jingyan.getComponent(jingyan_1.default);
          ts && ts.init();
          jingyan.setPosition(pos);
          jingyan.setParent(this.jingyanLayer);
        }
      };
      UpgradeMgr.prototype.createWeapon = function(pos) {
        true;
      };
      UpgradeMgr.prototype.upgradeEffect = function() {
        if (gameMgr_1.gameMgr.playerTs && gameMgr_1.gameMgr.playerTs.isValid) {
          var pre = CocosZ_1.cocosz.resMgr.getRes("zombieSkill_sjgx", cc.Prefab);
          if (pre) {
            var node = cc.instantiate(pre);
            node.setPosition(cc.Vec2.ZERO);
            node.setParent(gameMgr_1.gameMgr.playerTs.node);
            gameMgr_1.gameMgr.playEffect("LevelUp");
          }
        }
      };
      UpgradeMgr.prototype.createBullet = function(node, angle, atkNum) {
        if (this.bulletPrefab) {
          var dir = cc.v2(1, 0).rotateSelf(cc.misc.degreesToRadians(angle));
          var bullet_2 = cc.instantiate(this.bulletPrefab);
          bullet_2.parent = this.node;
          bullet_2.setPosition(node.getPosition());
          bullet_2.angle = angle;
          var pos1 = bullet_2.getPosition();
          var pos2 = pos1.add(dir.mul(1e3));
          cc.tween(bullet_2).to(pos2.sub(pos1).mag() / 2500, {
            position: cc.v3(pos2)
          }).call(function() {
            var ts = bullet_2.getComponent(bullet_1.default);
            if (ts.boomEffect) {
              var boom = cc.instantiate(ts.boomEffect);
              boom.parent = ts.node.parent;
              boom.setPosition(ts.node.getPosition());
              boom.zIndex = Constant_1.ZindexLayer.zindex_bomb;
              var curBullet = boom.getComponent(bullet_1.default);
              curBullet.atk = ts.atk;
              curBullet.atker = ts.atker;
              curBullet.id = ts.id;
              gameMgr_1.gameMgr.playEffect("explo", boom);
              if (ts.hitEffect) {
                var pos = bullet_2.getPosition();
                var node_1 = cc.instantiate(ts.hitEffect);
                node_1.parent = bullet_2.parent;
                node_1.setPosition(pos);
                node_1.zIndex = Constant_1.ZindexLayer.zindex_effect_hit;
              }
            }
            bullet_2.destroy();
          }).start();
          var ts = bullet_2.getComponent(bullet_1.default);
          ts.id = 1;
          ts.atker = null;
          ts.atk = atkNum;
          ts.dir = dir;
        }
      };
      UpgradeMgr.prototype.accelerate = function() {
        var _this = this;
        if (0 == this.skill_18) {
          if (!this._canAccelerate) {
            this._canAccelerate = true;
            gameMgr_1.gameMgr.playerTs && (gameMgr_1.gameMgr.playerTs.speedRate /= 1.5);
            return;
          }
          this._canAccelerate = false;
          gameMgr_1.gameMgr.playerTs && (gameMgr_1.gameMgr.playerTs.speedRate *= 1.5);
        }
        this.scheduleOnce(function() {
          _this.skill_18--;
          _this.accelerate();
        }, 1);
      };
      UpgradeMgr.prototype.magic_hart_rate = function() {
        return this.isHaveSkill(SkillType.\u53cc\u91cd\u9644\u9b54) && this.skill_magic > 1 ? 1.5 : 1;
      };
      UpgradeMgr.prototype.canAddMagic = function(enemy, id) {
        if (!enemy || !enemy.isValid) return false;
        var zombieTs = enemy.getComponent(ZombieBase_1.default);
        if (!zombieTs) return false;
        if (zombieTs.HP <= 0) return false;
        for (var i = 0; i < enemy.childrenCount; i++) if (enemy.children[i].name == "zombieSkill_" + SkillType.\u77ac\u65a9) return false;
        if (!(id >= 0)) return false;
        if (id == SkillType.\u77ac\u65a9) {
          if (zombieTs.isBoss || zombieTs.totleHp > 0 && zombieTs.HP / zombieTs.totleHp > .4) return false;
        } else {
          for (var i = 0; i < enemy.childrenCount; i++) if (enemy.children[i].name.includes("zombieSkill")) return false;
          if (zombieTs.isBoss) {
            if (id == SkillType.\u706b\u7130\u7cbe\u901a) return Math.random() < .2;
            if (id == SkillType.\u51b0\u971c\u7cbe\u901a) return Math.random() < .2;
          }
        }
        return true;
      };
      UpgradeMgr.prototype.skill_effect_3 = function(enemy) {
        if (enemy && enemy.isValid) {
          var zombieTs_1 = enemy.getComponent(ZombieBase_1.default);
          if (zombieTs_1) {
            var pre = CocosZ_1.cocosz.resMgr.getRes("zombieSkill_3", cc.Prefab);
            if (pre) {
              var node_2 = cc.instantiate(pre);
              node_2.setPosition(0, 0);
              node_2.setParent(enemy);
              zombieTs_1.moveDir = cc.Vec2.ZERO;
              zombieTs_1.canMoveDir = false;
              zombieTs_1.updateMove();
              cc.tween(zombieTs_1).delay(.5).call(function() {
                zombieTs_1 && zombieTs_1.isValid && zombieTs_1.hart(zombieTs_1.HP, null, null, false, false, cc.Color.RED);
              }).delay(.5).call(function() {
                node_2 && node_2.isValid && node_2.destroy();
              }).start();
            }
          }
        }
      };
      UpgradeMgr.prototype.skill_effect_24 = function(enemy) {
        var _this = this;
        if (enemy && enemy.isValid) {
          var zombieTs_2 = enemy.getComponent(ZombieBase_1.default);
          if (zombieTs_2) {
            var pre = CocosZ_1.cocosz.resMgr.getRes("zombieSkill_24", cc.Prefab);
            if (pre) {
              var node_3 = cc.instantiate(pre);
              node_3.setPosition(0, 0);
              node_3.setParent(enemy);
              node_3.zIndex = cc.macro.MAX_ZINDEX;
              zombieTs_2.fire_start();
              cc.tween(node_3).delay(.2).call(function() {
                zombieTs_2.isValid && zombieTs_2.HP > 0 ? zombieTs_2.hart(5 * _this.magic_hart_rate(), null, null, false, false, cc.Color.RED) : node_3.destroy();
              }).union().repeat(20).call(function() {
                zombieTs_2.fire_end();
                node_3.destroy();
              }).start();
              gameMgr_1.gameMgr.playEffect("ranshao", enemy, 1);
            }
          }
        }
      };
      UpgradeMgr.prototype.skill_effect_26 = function(enemy) {
        if (enemy && enemy.isValid) {
          var zombieTs_3 = enemy.getComponent(ZombieBase_1.default);
          if (zombieTs_3) {
            var pre = CocosZ_1.cocosz.resMgr.getRes("zombieSkill_26", cc.Prefab);
            if (pre) {
              var node_frozen_1 = cc.instantiate(pre);
              node_frozen_1.setPosition(0, 0);
              node_frozen_1.setParent(enemy);
              node_frozen_1.zIndex = cc.macro.MAX_ZINDEX;
              zombieTs_3.zombieId >= 8 ? node_frozen_1.scale = 4 : node_frozen_1.scale = 2;
              if (zombieTs_3.isValid) {
                zombieTs_3.frozenStart();
                var t = zombieTs_3.isBoss ? .5 : 2;
                this.scheduleOnce(function() {
                  zombieTs_3 && zombieTs_3.isValid && zombieTs_3.frozenEnd();
                  node_frozen_1 && node_frozen_1.isValid && node_frozen_1.destroy();
                }, t);
              }
              gameMgr_1.gameMgr.playEffect("bingdong", enemy, 1);
            }
          }
        }
      };
      UpgradeMgr.prototype.updateBishou = function() {
        var _this = this;
        if (this._bishou && this._bishou.isValid && gameMgr_1.gameMgr && gameMgr_1.gameMgr.playerTs) if (gameMgr_1.gameMgr.playerTs.atkTarget && gameMgr_1.gameMgr.playerTs.atkTarget.isValid) {
          var bulletTs = this._bishou.getComponent(bullet_1.default);
          bulletTs.isHartMusic = false;
          bulletTs.hitAudio = "hurt";
          bulletTs.atk = 50 * gameMgr_1.gameMgr.playerTs.atkRate;
          bulletTs.atkedArr = [];
          var from = gameMgr_1.gameMgr.playerTs.node.getPosition();
          var div = gameMgr_1.gameMgr.playerTs.atkTarget.getPosition().subSelf(from);
          var dis = div.mag();
          dis < 400 && div.normalizeSelf().mulSelf(400);
          var p2 = from.add(cc.v2(1, 0).mulSelf(400).rotateSelf(this._bishou.angle / 180 * Math.PI));
          var to = from.add(div);
          var t = div.mag() / 800;
          if (false == this._bishou.active) {
            this._bishou.active = true;
            this._bishou.setPosition(from);
          }
          cc.tween(this._bishou).bezierTo(t, from, p2, to).call(function() {
            _this.updateBishou();
          }).start();
        } else {
          this._bishou.active = false;
          this.scheduleOnce(function() {
            _this.updateBishou();
          }, 1);
        }
      };
      UpgradeMgr.prototype.updateHudun = function() {
        var _this = this;
        if (this.hudun && this.hudun.active) {
          this.hudun.active = false;
          gameMgr_1.gameMgr.playEffect("ShieldDestroy");
          this.setSkillCD(SkillType.\u795e\u5723\u5b88\u62a4, 60);
          this.scheduleOnce(function() {
            if (gameMgr_1.gameMgr && gameMgr_1.gameMgr.playerTs && gameMgr_1.gameMgr.playerTs.isValid) {
              _this.hudun.active = true;
              gameMgr_1.gameMgr.playerTs.HP ? _this.hudun.opacity = 255 : _this.hudun.opacity = 0;
            }
          }, 60);
        }
      };
      UpgradeMgr.prototype._updateZaisheng = function() {
        if (this._zaishengCdTime > 0) {
          this._zaishengCdTime--;
          return;
        }
        if (CocosZ_1.cocosz.isPause) return;
        if (gameMgr_1.gameMgr.playerTs && !gameMgr_1.gameMgr.playerTs.isDeath && gameMgr_1.gameMgr.playerTs.HP < gameMgr_1.gameMgr.playerTs.totleHp) {
          gameMgr_1.gameMgr.playerTs.HP += 1;
          gameMgr_1.gameMgr.playerTs.recoverEffect();
          this._zaishengCdTime = 90;
          this.setSkillCD(SkillType.\u518d\u751f, this._zaishengCdTime);
        }
      };
      UpgradeMgr.prototype.updateFeilun = function(level) {
        if (this._feilun && this._feilun.isValid && gameMgr_1.gameMgr && gameMgr_1.gameMgr.playerTs) {
          cc.tween(this._feilun).by(10, {
            angle: -1800
          }).repeatForever().start();
          var level2NumArr = [ 1, 2, 3, 4 ];
          var num = level2NumArr[level];
          var _loop_1 = function(i) {
            var icon = this_1._feilun.children[i];
            if (icon) if (i < num) {
              icon.active = true;
              if (3 == level) {
                var sprFrame = this_1._feilun.getChildByName("back").getComponent(cc.Sprite).spriteFrame;
                icon.getComponent(cc.Sprite).spriteFrame = sprFrame;
              }
              icon.setPosition(this_1._posArr[level][i][0], this_1._posArr[level][i][1]);
              cc.tween(icon).call(function() {
                gameMgr_1.gameMgr.playEffect("chilunStart");
                icon.getComponent(cc.Collider).enabled = true;
              }).to(1, {
                scale: 2.5
              }).delay(8).to(1, {
                scale: 0
              }).call(function() {
                icon.getComponent(cc.Collider).enabled = false;
              }).delay(2).union().repeatForever().start();
              var bulletTs = icon.getComponent(bullet_1.default);
              if (bulletTs) {
                bulletTs.isHartMusic = false;
                bulletTs.hitAudio = "chilun";
                bulletTs.atk = 80 + 20 * level * gameMgr_1.gameMgr.playerTs.atkRate;
              }
            } else icon.active = false;
          };
          var this_1 = this;
          for (var i = 0; i < 4; i++) _loop_1(i);
        }
      };
      UpgradeMgr.prototype.updateShandian = function() {
        if (this._shandiCdTime > 0) {
          this._shandiCdTime--;
          return;
        }
        if (CocosZ_1.cocosz.isPause) return;
        var level = this.upgradeSkillArr[SkillType.\u95ea\u7535];
        0 == this._shandianCount && (this._shandianCount = this._shandianNum[level]);
        var enemyArr = [];
        var _loop_2 = function(i) {
          var can = true;
          var node = gameMgr_1.gameMgr.playerTs.atkList[i];
          node.children.forEach(function(n) {
            "zombieSkill_shandian" == n.name && (can = false);
          });
          can && enemyArr.push(node);
        };
        for (var i = gameMgr_1.gameMgr.playerTs.atkList.length - 1; i >= 0; i--) _loop_2(i);
        if (enemyArr.length) {
          var pre = CocosZ_1.cocosz.resMgr.getRes("zombieSkill_shandian", cc.Prefab);
          if (pre) {
            var enemy = enemyArr.shift();
            if (enemy && enemy.isValid) {
              this._shandianCount--;
              var node_4 = cc.instantiate(pre);
              node_4.setPosition(0, -enemy.height / 2 * enemy.scaleY);
              node_4.setParent(enemy);
              node_4.zIndex = cc.macro.MAX_ZINDEX;
              if (3 == level) {
                var spAni = node_4.getComponent(sp.Skeleton);
                spAni && spAni.setSkin("y");
              }
              this.schedule(function() {
                node_4 && node_4.isValid && node_4.destroy();
              }, 1);
              var zombieTs = enemy.getComponent(ZombieBase_1.default);
              zombieTs && zombieTs.isValid && zombieTs.HP > 0 && zombieTs.hart(200 * this.magic_hart_rate(), null, null, false, false, cc.Color.RED);
              gameMgr_1.gameMgr.playEffect("LuoLei", enemy);
            }
          } else CocosZ_1.cocosz.resMgr.getRes("prefab_zombie_skill/zombieSkill_shandian", cc.Prefab);
        }
        if (0 == this._shandianCount) {
          this._shandiCdTime = 3 + level;
          this.setSkillCD(SkillType.\u95ea\u7535, this._shandiCdTime);
        }
      };
      UpgradeMgr.prototype.updateFire = function() {
        if (this._fireCdTime > 0) {
          this._fireCdTime--;
          return;
        }
        if (CocosZ_1.cocosz.isPause) return;
        var level = this.upgradeSkillArr[SkillType.\u71c3\u70e7\u74f6];
        this._fireCount = this._fireNum[level];
        if (!CocosZ_1.cocosz.isPause && gameMgr_1.gameMgr && gameMgr_1.gameMgr.playerTs && gameMgr_1.gameMgr.playerTs.atkTarget && gameMgr_1.gameMgr.playerTs.atkTarget.isValid) {
          var pre = CocosZ_1.cocosz.resMgr.getRes("zombieSkill_fire", cc.Prefab);
          if (pre) {
            var div = gameMgr_1.gameMgr.playerTs.atkTarget.getPosition().subSelf(gameMgr_1.gameMgr.playerTs.node.getPosition());
            div.normalizeSelf().mulSelf(400);
            var _loop_3 = function(i) {
              var radian = ((this_2._fireCount - 1) / 2 - i) * (Math.PI / 2);
              var from = gameMgr_1.gameMgr.playerTs.node.getPosition();
              var to = from.add(cc.v2(div).rotateSelf(radian));
              var p2 = cc.v2((from.x + to.x) / 2, from.y + 900);
              var fire = cc.instantiate(pre);
              fire.children[1].active = 3 != level;
              fire.children[2].active = 3 == level;
              fire.setPosition(from);
              fire.setParent(gameMgr_1.gameMgr.map);
              fire.zIndex = cc.macro.MAX_ZINDEX;
              cc.tween(fire).parallel(cc.tween().bezierTo(1, from, p2, to), cc.tween().to(1, {
                angle: 720 * (div.x > 0 ? 1 : -1)
              })).call(function() {
                fire.zIndex = Constant_1.ZindexLayer.zinedx_floorSkill;
                fire.children[1].active = fire.children[2].active = false;
                fire.children[0].active = true;
                fire.getComponent(cc.Collider).enabled = true;
                var buttleTs = fire.getComponent(bullet_1.default);
                buttleTs.isHartMusic = false;
                buttleTs.atk = 11;
                buttleTs.hartInterval = .2;
                var spAni = fire.children[0].getComponent(sp.Skeleton);
                spAni.setSkin(3 == level ? "l" : "h");
                spAni.setAnimation(0, "k", false);
                spAni.setAnimation(0, "ranshao", true);
                gameMgr_1.gameMgr.playEffect("Ranshaopingposui", fire);
                gameMgr_1.gameMgr.playEffect("ranshao", fire);
              }).delay(3).to(.3, {
                opacity: 50
              }).call(function() {
                fire.destroy();
              }).start();
            };
            var this_2 = this;
            for (var i = 0; i < this._fireCount; i++) _loop_3(i);
          }
          this._fireCdTime = 4;
          this.setSkillCD(SkillType.\u71c3\u70e7\u74f6, 4);
        }
      };
      __decorate([ property(cc.Prefab) ], UpgradeMgr.prototype, "bulletPrefab", void 0);
      UpgradeMgr = __decorate([ ccclass ], UpgradeMgr);
      return UpgradeMgr;
    }(cc.Component);
    exports.default = UpgradeMgr;
    cc._RF.pop();
  }, {
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "./ZombieBase": "ZombieBase",
    "./bullet": "bullet",
    "./gameMgr": "gameMgr",
    "./jingyan": "jingyan"
  } ],
  Utils: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "30bc3m3g/hJ/5QMVAo/j0Cz", "Utils");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __spreadArrays = this && this.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, 
      k++) r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.utils = void 0;
    var AdManager_1 = require("./AdManager");
    var CommonConfig_1 = require("./CommonConfig");
    var WechatTool_1 = require("./WechatTool");
    var PlatUtils_1 = require("./PlatUtils");
    var YZ_Tool_Oppo_1 = require("./YZ_Tool_Oppo");
    var YZ_Tool_Baidu_1 = require("./YZ_Tool_Baidu");
    var YZ_Tool_Native_1 = require("./YZ_Tool_Native");
    var YZ_Tool_Vivo_1 = require("./YZ_Tool_Vivo");
    var YZ_Tool_Douyin_1 = require("./YZ_Tool_Douyin");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_Tool_QQ_1 = require("./YZ_Tool_QQ");
    var YZ_Tool_QTT_1 = require("./YZ_Tool_QTT");
    var YZ_Tool_Xiaomi_1 = require("./YZ_Tool_Xiaomi");
    var AldUtils_1 = require("./AldUtils");
    var YZ_Tool_UC_1 = require("./YZ_Tool_UC");
    var YZ_Tool_Cocosplay_1 = require("./YZ_Tool_Cocosplay");
    var YZ_Tool_4399_1 = require("./YZ_Tool_4399");
    var YZ_Tool_IOS_1 = require("./YZ_Tool_IOS");
    var YZ_Tool_Bili_1 = require("./YZ_Tool_Bili");
    var YZ_Tool_Kwai_1 = require("./YZ_Tool_Kwai");
    var YZ_Tool_Broswer_1 = require("./YZ_Tool_Broswer");
    var YZ_Tool_Wifi_1 = require("./YZ_Tool_Wifi");
    var YZ_Tool_Hago_1 = require("./YZ_Tool_Hago");
    var RedBagProgressWidget_1 = require("./RedBagProgressWidget");
    var CompatibleTool_1 = require("./CompatibleTool");
    var YZ_Tool_HuaWei_1 = require("./YZ_Tool_HuaWei");
    var OpenRedBagPanel_1 = require("./OpenRedBagPanel");
    var YZ_Tool_FaceBook_1 = require("./YZ_Tool_FaceBook");
    var YzRealNameAuthPanel_1 = require("./YzRealNameAuthPanel");
    var YzUserPrivacyPanel_1 = require("./YzUserPrivacyPanel");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var YZ_Tool_GoogleWeb_1 = require("./YZ_Tool_GoogleWeb");
    var CryptoJS = require("./Encrypt/CryptoJS");
    var secretKey = "youzhixx12345678";
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    exports.utils = null;
    var UTILSVERSION = "1.6.6";
    var Utils = function(_super) {
      __extends(Utils, _super);
      function Utils() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.DebugLoacalConfig = false;
        _this.showLogView = false;
        _this.config = null;
        _this.yzRedBagInfo = null;
        _this.adManager = null;
        _this._wechatTool = null;
        _this.currentLevel = 0;
        _this.isRecording = false;
        _this.rewardCallFunc = null;
        _this.rewardCloseFunc = null;
        _this.rewardValue = 0;
        _this.luckBoxShowCount = -1;
        _this.nativeInsertShowCount = 0;
        _this.nativeInsertResizeCloseBtnShowCount = 0;
        _this.nativeBannerShowCount = 0;
        _this.nativeBannerResizeCloseBtnShowCount = 0;
        _this.turnTablePanelCloseFunc = null;
        _this.shareRecordPanelCloseFunc = null;
        _this.rewardBoxPanelCloseFunc = null;
        _this.rewardShortCutPanelCloseFunc = null;
        _this.rewardRecGamePanelCloseFunc = null;
        _this.rewardLuckBoxPanelCloseFunc = null;
        _this._bannerCloseTime = 0;
        _this._other_config = null;
        _this._oppoTool = null;
        _this._tool_Kwai = null;
        _this._tool_Wifi = null;
        _this._tool_Hago = null;
        _this._tool_Baidu = null;
        _this._tool_Native = null;
        _this._tool_Vivo = null;
        _this._tool_Douyin = null;
        _this._tool_QQ = null;
        _this._tool_XiaoMi = null;
        _this._tool_QTT = null;
        _this._tool_UC = null;
        _this._tool_Cocosplay = null;
        _this._tool_4399 = null;
        _this._tool_Ios = null;
        _this._tool_bili = null;
        _this._tool_Broswer = null;
        _this._tool_Huawei = null;
        _this._tool_Facebook = null;
        _this._tool_GoogleWeb = null;
        _this._isConfigInit = false;
        _this._isServerInit = false;
        _this._gameEntryTime = 0;
        _this._isServerLoadSuccess = false;
        _this._recommendGamesBanner = null;
        _this._recommendGamesList = null;
        _this._tryGamesWidget = null;
        _this._moreGamesSidePanel = null;
        _this._moreGamesSidePanelBaidu = null;
        _this._recordWidget = null;
        _this._shortcutWidget = null;
        _this._gameBox = null;
        _this._nativeTryGameNode = null;
        _this.tryGameDate = [];
        _this.nativeNeedChange = true;
        _this._cur_tool = null;
        _this.serverShowLog = false;
        _this.showLogToConsole = false;
        _this.overPageShowTime = 0;
        _this.overPageInsertAdIsTouch = false;
        _this.recored_share_count = 0;
        _this.shareRecordPanel = null;
        _this._withdrawalWidget = null;
        _this._redBagProgressWidget = null;
        _this._withdrawalPanel = null;
        _this._openRedBagPanel = null;
        _this._rewardRedBagPanel = null;
        _this._rewardRedBagPanelShowCount = 0;
        _this._privacyWidget = null;
        _this._privacyPanel = null;
        _this.minScale = 1;
        _this.maxScale = 1.3;
        _this.runTime = .3;
        _this._lastReportAdTime = 0;
        _this._curVivoGamePortalLocation = "";
        _this._curGameDrawerAdLocation = "";
        _this._isRealNameAuth = false;
        _this._yzRealNameAuthPanel = null;
        _this._yzLoginPanel = null;
        return _this;
      }
      Object.defineProperty(Utils.prototype, "utilsVersion", {
        get: function() {
          return UTILSVERSION;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "wechatTool", {
        get: function() {
          this._wechatTool || exports.utils.showLog("wechat tool is null");
          return this._wechatTool;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "oppoTool", {
        get: function() {
          this._oppoTool || exports.utils.showLog("oppo tool is null");
          return this._oppoTool;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "kwaiTool", {
        get: function() {
          this._tool_Kwai || exports.utils.showLog("Kwai tool is null");
          return this._tool_Kwai;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "wifiTool", {
        get: function() {
          this._tool_Wifi || exports.utils.showLog("Wifi tool is null");
          return this._tool_Wifi;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "hagoTool", {
        get: function() {
          this._tool_Hago || exports.utils.showLog("Hago tool is null");
          return this._tool_Hago;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "Tool_Baidu", {
        get: function() {
          this._tool_Baidu || exports.utils.showLog("tool baidu is null");
          return this._tool_Baidu;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "Tool_Native", {
        get: function() {
          this._tool_Native || exports.utils.showLog("tool native is null");
          return this._tool_Native;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "Tool_Vivo", {
        get: function() {
          this._tool_Vivo || exports.utils.showLog("tool vivo is null");
          return this._tool_Vivo;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "Tool_Douyin", {
        get: function() {
          this._tool_Douyin || exports.utils.showLog("tool douyin is null");
          return this._tool_Douyin;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "Tool_QQ", {
        get: function() {
          this._tool_QQ || exports.utils.showLog("tool qq is null");
          return this._tool_QQ;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "Tool_XiaoMi", {
        get: function() {
          this._tool_XiaoMi || exports.utils.showLog("tool xiaomi is null");
          return this._tool_XiaoMi;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "Tool_QTT", {
        get: function() {
          this._tool_QTT || exports.utils.showLog("tool qtt is null");
          return this._tool_QTT;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "Tool_UC", {
        get: function() {
          this._tool_UC || exports.utils.showLog("tool uc is null");
          return this._tool_UC;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "Tool_Cocosplay", {
        get: function() {
          this._tool_Cocosplay || exports.utils.showLog("tool cocos is null");
          return this._tool_Cocosplay;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "Tool_4399", {
        get: function() {
          this._tool_4399 || exports.utils.showLog("tool 4399 is null");
          return this._tool_4399;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "Tool_IOS", {
        get: function() {
          this._tool_Ios || exports.utils.showLog("tool ios is null");
          return this._tool_Ios;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "Tool_Bili", {
        get: function() {
          this._tool_Ios || exports.utils.showLog("tool ios is null");
          return this._tool_bili;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "Tool_Broswer", {
        get: function() {
          !this._tool_Broswer;
          return this._tool_Broswer;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "Tool_Huawei", {
        get: function() {
          this._tool_Huawei || exports.utils.showLog("huawei tool is null");
          return this._tool_Huawei;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "Tool_Facebook", {
        get: function() {
          this._tool_Facebook || exports.utils.showLog("facebook tool is null");
          return this._tool_Facebook;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "Tool_GoogleWeb", {
        get: function() {
          this._tool_GoogleWeb || exports.utils.showLog("googleWeb tool is null");
          return this._tool_GoogleWeb;
        },
        enumerable: false,
        configurable: true
      });
      Utils.prototype._initConfig = function() {
        var _this = this;
        if (this._isConfigInit) {
          exports.utils.showLog("warn:\u914d\u7f6e\u6570\u636e\u5df2\u7ecf\u521d\u59cb\u5316\uff0c\u8bf7\u52ff\u91cd\u590d\u521d\u59cb\u5316!");
          return;
        }
        if (this.config.otherconfig.localConfig) {
          var data = JSON.stringify(this.config.otherconfig.localConfig.json);
          exports.utils.showLog("\u672c\u5730\u6570\u636e\uff1a" + data);
          if (data) {
            if (PlatUtils_1.default.IsNativeAndroid) {
              this.initTools(data);
              this._isConfigInit = this._initLoacalConfig(data);
              this._isConfigInit && exports.utils.Tool_Native.init();
            } else {
              this._isConfigInit = this._initLoacalConfig(data);
              this.initTools(data);
            }
            this._other_config = this.config.otherconfig.localConfig.json.other;
            this.adManager = new AdManager_1.default();
            this.adManager.Init();
            this._oppoTool && this._oppoTool.hideDefaultLoadingPage();
            PlatUtils_1.default.IsKwai && kwaigame.readyGo();
            exports.utils.yzRedBagInfo = new CommonConfig_1.YzRedBagInfo();
            exports.utils.registerServerInitEvent(function() {
              if (exports.utils.ServerConfig) {
                _this.serverShowLog = "true" == _this.getConfigByKey("is_show_log_view");
                _this.showLogToConsole = "true" == _this.getConfigByKey("show_log_to_console");
                _this.getConfigByKey("red_bag_total_progress") && (exports.utils.yzRedBagInfo.totalProgress = _this.getConfigByKey("red_bag_total_progress"));
                _this.getConfigByKey("red_bag_progress_infos") && (exports.utils.yzRedBagInfo.progressInfos = _this.getConfigByKey("red_bag_progress_infos"));
                _this.getConfigByKey("red_bag_moneys") && (exports.utils.yzRedBagInfo.withdrawaMoneys = _this.getConfigByKey("red_bag_moneys"));
              }
              PlatUtils_1.default.IsHago && hg.gameLoadResult && hg.gameLoadResult({
                code: 0
              });
            }, this);
          } else exports.utils.showLog("warn:\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u4e0d\u662f\u5408\u6cd5\u7684json\u6587\u4ef6\uff01");
        } else exports.utils.showLog("warn:\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u672a\u627e\u5230\uff0c\u8bf7\u68c0\u67e5 CommonUtils \u7ec4\u4ef6\u4e0a\u662f\u5426\u5b58\u5728\uff01");
      };
      Utils.prototype._initLoacalConfig = function(data) {
        return !!this.config && this.config.init(data);
      };
      Utils.prototype.onLoad = function() {
        cc.game.addPersistRootNode(this.node);
        exports.utils = this;
        false;
        this._gameEntryTime = new Date().getTime();
        this._initConfig();
      };
      Utils.prototype.update = function(dt) {
        this._isConfigInit && this.adManager && this.adManager.OnUpdate(dt);
      };
      Utils.prototype.initTools = function(data) {
        if (!this._isConfigInit && !PlatUtils_1.default.IsNativeAndroid) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return;
        }
        if (PlatUtils_1.default.IsNativeAndroid) this._tool_Native = new YZ_Tool_Native_1.default(); else if (PlatUtils_1.default.IsWechat) {
          this._wechatTool = new WechatTool_1.default();
          this._wechatTool.init(data);
        } else if (PlatUtils_1.default.IsOPPO) {
          this._oppoTool = new YZ_Tool_Oppo_1.default();
          this._oppoTool.init(data);
        } else if (PlatUtils_1.default.IsBaidu) {
          this._tool_Baidu = new YZ_Tool_Baidu_1.default();
          this._tool_Baidu.init(data);
        } else if (PlatUtils_1.default.IsVIVO) {
          this._tool_Vivo = new YZ_Tool_Vivo_1.default();
          this._tool_Vivo.init(data);
        } else if (PlatUtils_1.default.IsDouyin) {
          this._tool_Douyin = new YZ_Tool_Douyin_1.default();
          this._tool_Douyin.init(data);
        } else if (PlatUtils_1.default.IsQQ) {
          this._tool_QQ = new YZ_Tool_QQ_1.default();
          this._tool_QQ.init(data);
        } else if (PlatUtils_1.default.IsQTT) {
          this._tool_QTT = new YZ_Tool_QTT_1.default();
          this._tool_QTT.init(data);
        } else if (PlatUtils_1.default.IsXiaoMi) {
          this._tool_XiaoMi = new YZ_Tool_Xiaomi_1.default();
          this._tool_XiaoMi.init(data);
        } else if (PlatUtils_1.default.ISUC) {
          this._tool_UC = new YZ_Tool_UC_1.default();
          this._tool_UC.init(data);
        } else if (PlatUtils_1.default.ISCocos) {
          this._tool_Cocosplay = new YZ_Tool_Cocosplay_1.default();
          this._tool_Cocosplay.init(data);
        } else if (PlatUtils_1.default.Is4399) {
          this._tool_4399 = new YZ_Tool_4399_1.default();
          this._tool_4399.init(data);
        } else if (PlatUtils_1.default.IsNativeIOS) {
          this._tool_Ios = new YZ_Tool_IOS_1.default();
          this._tool_Ios.init(data);
        } else if (PlatUtils_1.default.IsBili) {
          this._tool_bili = new YZ_Tool_Bili_1.default();
          this._tool_bili.init(data);
        } else if (PlatUtils_1.default.IsKwai) {
          this._tool_Kwai = new YZ_Tool_Kwai_1.default();
          this._tool_Kwai.init(data);
        } else if (PlatUtils_1.default.IsWiFi) {
          this._tool_Wifi = new YZ_Tool_Wifi_1.default();
          this._tool_Wifi.init(data);
        } else if (PlatUtils_1.default.IsHago) {
          this._tool_Hago = new YZ_Tool_Hago_1.default();
          this._tool_Hago.init(data);
        } else if (PlatUtils_1.default.IsHuaWei) {
          this._tool_Huawei = new YZ_Tool_HuaWei_1.default();
          this._tool_Huawei.init(data);
        } else if (PlatUtils_1.default.IsFaceBook) {
          this._tool_Facebook = new YZ_Tool_FaceBook_1.default();
          this._tool_Facebook.init(data);
        } else if (PlatUtils_1.default.IsGoogleWeb) {
          this._tool_GoogleWeb = new YZ_Tool_GoogleWeb_1.default();
          this._tool_GoogleWeb.init(data);
        } else if (PlatUtils_1.default.IsTest) {
          this._tool_Broswer = new YZ_Tool_Broswer_1.default();
          this._tool_Broswer.init(data);
        }
      };
      Utils.prototype.delayCall = function(callback, delay) {
        this.scheduleOnce(function() {
          callback && callback();
        }, delay);
      };
      Utils.prototype.share = function(callback) {
        void 0 === callback && (callback = null);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return;
        }
        this.cur_tool && this.cur_tool.share && this.cur_tool.share(callback);
      };
      Utils.prototype.gameExitOff = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return;
        }
        PlatUtils_1.default.IsNativeAndroid && cc.systemEvent.targetOff(this);
      };
      Utils.prototype.recordStart = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return;
        }
        this.cur_tool && this.cur_tool.recordStart && this.cur_tool.recordStart();
      };
      Utils.prototype.recordEnd = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return;
        }
        this.cur_tool && this.cur_tool.recordEnd && this.cur_tool.recordEnd();
      };
      Utils.prototype.getShareInfo = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (this.config.otherconfig.shareTitle && this.config.otherconfig.shareImgUrl) return {
          title: this.config.otherconfig.shareTitle,
          imageUrl: this.config.otherconfig.shareImgUrl
        };
        exports.utils.showLog("\u5206\u4eab\u914d\u7f6e\u51fa\u9519\uff01");
        return null;
      };
      Utils.prototype.getInnerRecommendData = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (this.ServerConfig && this.ServerConfig.jump_list && this.ServerConfig.jump_list.length > 0) return {
          jump_refresh_time: this.ServerConfig.icon_jump,
          jump_list: this.ServerConfig.jump_list
        };
        return null;
      };
      Utils.prototype.navigateToMiniGame = function(data, callback) {
        void 0 === callback && (callback = null);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return;
        }
        if (PlatUtils_1.default.IsWechat) {
          if (data) {
            if (data.is_jump && "true" == data.is_jump && data.appid) {
              this.wechatTool.navigateToMiniProgram(data.appid, callback, data.path);
              return;
            }
            if (data.is_jump && "false" == data.is_jump && data.qr_code) {
              this.wechatTool.previewImage(data.qr_code);
              callback && callback(true);
              return;
            }
          }
        } else if (PlatUtils_1.default.IsOPPO) if (data && data.appid) this.oppoTool.navigateToMiniGame(data.appid, callback); else {
          exports.utils.showLog("data \u6216\u8005 appid \u4e3anull!");
          callback && callback(false);
        } else if (PlatUtils_1.default.IsBaidu) if (data && data.appid) exports.utils.Tool_Baidu.navigateToMiniGame(data.appid, callback); else {
          exports.utils.showLog("data \u6216\u8005 appid \u4e3anull!");
          callback && callback(false);
        } else if (PlatUtils_1.default.IsNativeAndroid) if (data) exports.utils.Tool_Native.navigateToGame(JSON.stringify(data), callback); else {
          exports.utils.showLog("data \u6216\u8005 appid \u4e3anull!");
          callback && callback(false);
        } else if (PlatUtils_1.default.IsNativeIOS) if (data && data.appid) this.Tool_IOS.navigateToGame(data.appid, callback); else {
          exports.utils.showLog("data \u6216\u8005 appid \u4e3anull!");
          callback && callback(false);
        }
      };
      Utils.prototype.isSupportnavigateToMiniGame = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return false;
        }
        if (PlatUtils_1.default.IsWechat || PlatUtils_1.default.IsNativeAndroid || PlatUtils_1.default.IsNativeIOS || PlatUtils_1.default.IsBaidu) return true;
        if (PlatUtils_1.default.IsOPPO) return this.oppoTool.isOverMiniVersion("1044");
        if (PlatUtils_1.default.IsDouyin) return this.Tool_Douyin.isShowMoreGamesModal() && "live_stream" != this.Tool_Douyin._sysInfo.appName;
        if (PlatUtils_1.default.IsQQ) return this._tool_QQ.isOverMinVersion("1.7.1");
        return false;
      };
      Utils.prototype.showMsg = function(msg) {
        if (exports.utils.Tool_Broswer) {
          console.log(msg);
          return;
        }
        this.cur_tool && this.cur_tool.showToast && this.cur_tool.showToast(msg);
      };
      Utils.prototype.hasShortcutInstalled = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return true;
        }
        if (PlatUtils_1.default.IsVIVO && this.Tool_Vivo) return this.Tool_Vivo.ShortcutCreated;
        if (PlatUtils_1.default.IsOPPO && this.oppoTool) return this.oppoTool.ShortcutCreated;
        return false;
      };
      Utils.prototype.canCreateShortcut = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return false;
        }
        if (this.cur_tool && this.cur_tool.canCreateShortcut) return this.cur_tool.canCreateShortcut();
        return false;
      };
      Utils.prototype.createShortcut = function(callback) {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return;
        }
        this.cur_tool && this.cur_tool.createShortcut && this.cur_tool.createShortcut(callback);
      };
      Utils.prototype.commomHttpRequest = function(url, callback) {
        var _this = this;
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return;
        }
        var completeCallback = callback;
        var xhr = new XMLHttpRequest();
        xhr.timeout = 6e3;
        var requestUrl = this._buildServerUrl(url) + "&time_stamp=" + new Date().getTime() + "&reqv=" + YZ_Constant_1.default.SERVER_VERSION;
        exports.utils.showLog("\u670d\u52a1\u5668\u5730\u5740:" + requestUrl);
        xhr.open("GET", requestUrl);
        xhr.send();
        xhr.onreadystatechange = function() {
          exports.utils.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=", xhr.readyState, "; status=", xhr.status);
          4 == xhr.readyState && (200 == xhr.status ? completeCallback && (requestUrl.indexOf("m=g") > -1 || requestUrl.indexOf("m=rlevelv3") > -1 ? completeCallback(true, _this.aesDecrypt(xhr.responseText)) : completeCallback(true, xhr.responseText)) : completeCallback && completeCallback(false, ""));
        };
        xhr.ontimeout = function() {
          exports.utils.showLog("\u8bf7\u6c42\u8d85\u65f6!");
          completeCallback && completeCallback(false, "");
        };
        xhr.onerror = function(err) {
          exports.utils.showLog("\u8bf7\u6c42\u51fa\u9519! err=", JSON.stringify(err));
          completeCallback && completeCallback(false, "");
        };
      };
      Utils.prototype.aesEncrypt = function(content) {
        var key = CryptoJS.enc.Utf8.parse(secretKey);
        var srcs = CryptoJS.enc.Utf8.parse(content);
        var encrypted = CryptoJS.AES.encrypt(srcs, key, {
          mode: CryptoJS.mode.ECB,
          padding: CryptoJS.pad.Pkcs7
        });
        return encrypted.toString();
      };
      Utils.prototype.aesDecrypt = function(encryptStr) {
        var key = CryptoJS.enc.Utf8.parse(secretKey);
        var decrypt = CryptoJS.AES.decrypt(encryptStr, key, {
          mode: CryptoJS.mode.ECB,
          padding: CryptoJS.pad.Pkcs7
        });
        return CryptoJS.enc.Utf8.stringify(decrypt).toString();
      };
      Utils.prototype._buildServerUrl = function(url) {
        PlatUtils_1.default.IsOPPO ? url = url + "&kyx=true&app_id=" + exports.utils.config.oppoconfig.packageName + "&channel=oppo&device_uid=" + exports.utils.oppoTool.uid + "&uid=" + exports.utils.oppoTool.serviceId + "&source=" + this.oppoTool._source + "&game_version=" + exports.utils.config.oppoconfig.version + "&device_id=" + exports.utils.oppoTool._device_id : PlatUtils_1.default.IsXiaoMi ? url = url + "&kyx=true&app_id=" + exports.utils.config.xiaomiConfig.appID + "&channel=xiaomi&device_uid=" + exports.utils._tool_XiaoMi.uid + "&uid=" + exports.utils._tool_XiaoMi.serviceId : PlatUtils_1.default.IsWechat ? url = url + "&kyx=true&app_id=" + exports.utils.config.wechatconfig.appID + "&channel=wechat&device_uid=" + exports.utils.wechatTool.uid + "&uid=" + exports.utils.wechatTool.serviceId + "&source=" + this.wechatTool._source_app_id + "&soure_type=" + this.wechatTool._luanchType + "&game_version=" + exports.utils.config.wechatconfig.version : PlatUtils_1.default.IsVIVO ? url = url + "&kyx=true&app_id=" + exports.utils.config.vivoconfig.appID + "&channel=vivo&device_uid=" + exports.utils._tool_Vivo.uid + "&uid=" + exports.utils._tool_Vivo.serviceId + "&source=" + this._tool_Vivo._source + "&game_version=" + exports.utils.config.vivoconfig.version : PlatUtils_1.default.IsQTT ? url = url + "&kyx=true&app_id=" + exports.utils.config.qttconfig.appID + "&channel=qutoutiao&device_uid=" + exports.utils._tool_QTT.uid + "&uid=" + exports.utils._tool_QTT.serviceId : PlatUtils_1.default.IsDouyin ? url = url + "&kyx=true&app_id=" + exports.utils.config.douyinconfig.appID + "&channel=toutiao&device_uid=" + exports.utils.Tool_Douyin.uid + "&uid=" + exports.utils.Tool_Douyin.serviceId + "&game_version=" + exports.utils.config.douyinconfig.version : PlatUtils_1.default.IsQQ ? url = url + "&kyx=true&app_id=" + exports.utils.config.qqconfig.appID + "&channel=qq&device_uid=" + exports.utils._tool_QQ.uid + "&uid=" + exports.utils._tool_QQ.serviceId + "&game_version=" + exports.utils.config.qqconfig.version : PlatUtils_1.default.IsBaidu ? url = url + "&kyx=true&app_id=" + exports.utils.config.baiduconfig.appID + "&channel=baidu&device_uid=" + exports.utils._tool_Baidu.uid + "&uid=" + exports.utils._tool_Baidu.serviceId + "&game_version=" + exports.utils.config.baiduconfig.version : PlatUtils_1.default.ISUC ? url = url + "&kyx=true&app_id=" + exports.utils.config.ucConfig.appID + "&channel=uc&device_uid=" + exports.utils._tool_UC.uid + "&uid=" + exports.utils._tool_UC.serviceId + "&game_version=" + exports.utils.config.ucConfig.version : PlatUtils_1.default.ISCocos ? url = url + "&kyx=true&app_id=" + exports.utils.config.cocosConfig.appID + "&channel=cocos&device_uid=" + exports.utils._tool_Cocosplay.uid + "&uid=" + exports.utils._tool_Cocosplay.serviceId : PlatUtils_1.default.IsNativeAndroid ? url = url + "&kyx=false&app_id=" + exports.utils.config.nativeAndroidConfig.appID + "&channel=" + exports.utils.config.nativeAndroidConfig.channel + "&device_uid=" + exports.utils.Tool_Native.uid + "&uid=" + exports.utils.Tool_Native.serviceId + "&game_type=2&game_version=" + exports.utils.config.nativeAndroidConfig.version : PlatUtils_1.default.IsKwai ? url = url + "&kyx=true&app_id=" + exports.utils.config.kwaiConfig.appID + "&channel=kuaishou&device_uid=" + exports.utils._tool_Kwai.uid + "&uid=" + exports.utils._tool_Kwai.serviceId + "&game_version=" + exports.utils.config.kwaiConfig.version : PlatUtils_1.default.IsNativeIOS ? url = url + "&kyx=false&app_id=" + exports.utils.config.nativeIoSConfig.appID + "&channel=ios&device_uid=" + exports.utils.Tool_IOS.uid + "&uid=" + exports.utils.Tool_IOS.serviceId + "&game_type=2&game_version=" + exports.utils.config.nativeIoSConfig.version : PlatUtils_1.default.IsWiFi ? url = url + "&kyx=true&app_id=" + exports.utils.config.wifiConfig.appID + "&channel=wifi&device_uid=" + exports.utils._tool_Wifi.uid + "&uid=" + exports.utils._tool_Wifi.serviceId + "&game_version=" + exports.utils.config.wifiConfig.version : PlatUtils_1.default.IsHago ? url = url + "&kyx=true&app_id=" + exports.utils.config.hagoConfig.appID + "&channel=hago&device_uid=" + exports.utils._tool_Hago.uid + "&uid=" + exports.utils._tool_Hago.serviceId + "&game_version=" + exports.utils.config.hagoConfig.version : PlatUtils_1.default.IsHuaWei ? url = url + "&kyx=true&app_id=" + exports.utils.config.huaweiConfig.appID + "&channel=huawei&device_uid=" + exports.utils.Tool_Huawei.uid + "&uid=" + exports.utils.Tool_Huawei.serviceId + "&game_version=" + exports.utils.config.huaweiConfig.version : PlatUtils_1.default.IsFaceBook && (url = url + "&kyx=true&app_id=" + exports.utils.config.faceBookConfig.appID + "&channel=facebookxyx&device_uid=" + exports.utils.Tool_Facebook.uid + "&uid=" + exports.utils.Tool_Facebook.serviceId + "&game_version=" + exports.utils.config.faceBookConfig.version);
        return url;
      };
      Utils.prototype.postData = function(otherGameAppId) {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return;
        }
        this.cur_tool && this.cur_tool.postData && this.cur_tool.postData(otherGameAppId);
      };
      Utils.prototype.registerServerInitEvent = function(callback, target) {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return;
        }
        this._isServerInit ? callback && callback() : cc.game.on(YZ_Constant_1.default.EC_ServerInit, callback, target);
      };
      Utils.prototype.registerServerDataLoadSuccessEvent = function(callback, target) {
        this._isServerLoadSuccess ? callback && callback() : cc.game.on(YZ_Constant_1.default.EC_ServerDataLoadSuccess, callback, target);
      };
      Utils.prototype.registerPrivacyCloseEvent = function(callback, target) {
        var ysxy = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.YZ_GAME_YSXY);
        ysxy ? callback && callback() : cc.game.on(YZ_Constant_1.default.YZ_PrivacyClose, callback, target);
      };
      Utils.prototype.postDataByLocation = function(otherGameAppId, location, status) {
        void 0 === status && (status = 0);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return;
        }
        PlatUtils_1.default.IsBaidu ? this.Tool_Baidu && this.Tool_Baidu.postData(otherGameAppId) : this.cur_tool && this.cur_tool.postDataByLocation && this.cur_tool.postDataByLocation(otherGameAppId, location, status);
      };
      Utils.prototype.postRecommentShowData = function(location) {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return;
        }
        this.cur_tool && this.cur_tool.postRecommentShowData && this.cur_tool.postRecommentShowData(location);
      };
      Utils.prototype.unregisterServerInitEvent = function(target) {
        cc.game.targetOff(target);
      };
      Utils.prototype.emitServerInitEvent = function() {
        var _this = this;
        if (this.isShowPrivacyPanel()) {
          this._isServerLoadSuccess = true;
          cc.game.emit(YZ_Constant_1.default.EC_ServerDataLoadSuccess);
          exports.utils.registerPrivacyCloseEvent(function() {
            _this._isServerInit = true;
            cc.game.emit(YZ_Constant_1.default.EC_ServerInit);
            cc.game.targetOff(YZ_Constant_1.default.EC_ServerDataLoadSuccess);
            cc.game.targetOff(YZ_Constant_1.default.YZ_PrivacyClose);
          }, this);
          return;
        }
        this._isServerInit = true;
        cc.game.emit(YZ_Constant_1.default.EC_ServerInit);
      };
      Utils.prototype.registerRealNameAuthCloseEvent = function(callback, target) {
        this._isServerLoadSuccess ? callback && callback() : cc.game.on(YZ_Constant_1.default.EC_RealNameAuthPanelClose, callback, target);
      };
      Utils.prototype.emitRealNameAuthCloseEvent = function() {
        cc.game.emit(YZ_Constant_1.default.EC_RealNameAuthPanelClose);
      };
      Utils.prototype.emitPrivacyCloseEvent = function() {
        this._isServerInit = true;
        cc.game.emit(YZ_Constant_1.default.YZ_PrivacyClose);
      };
      Utils.prototype.getRecommondGameList = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (PlatUtils_1.default.IsWechat) return this.wechatTool.getRecommondGameList();
        if (PlatUtils_1.default.IsOPPO) return this.oppoTool.getRecommondGameList();
        if (PlatUtils_1.default.IsBaidu) return this.Tool_Baidu.getRecommondGameList();
        if (PlatUtils_1.default.IsNativeAndroid) return this.Tool_Native.getRecommondGameList();
        if (PlatUtils_1.default.IsDouyin) return this.Tool_Douyin.getRecommondGameList();
        if (this.Tool_Broswer) return this.Tool_Broswer.getRecommondGameList();
        if (PlatUtils_1.default.IsNativeIOS) return this.Tool_IOS.getRecommondGameList();
        return null;
      };
      Utils.prototype.isShowRecommondGamesBanner = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return false;
        }
        if (this.Tool_Broswer) return true;
        if (exports.utils.isSupportnavigateToMiniGame()) if (this.ServerConfig && this.ServerConfig.is_bottom_banner_list) {
          if ("true" == this.ServerConfig.is_bottom_banner_list) return true;
          exports.utils.showLog("is_bottom_banner_list \u53c2\u6570\u4e3afalse\uff0c\u5e95\u90e8\u66f4\u591a\u6e38\u620f\u6a2a\u5e45\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("\u914d\u7f6e\u4e2d\u6ca1\u6709 is_bottom_banner_list \u53c2\u6570\uff0c\u5e95\u90e8\u66f4\u591a\u6e38\u620f\u6a2a\u5e45\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"); else exports.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u5e95\u90e8\u66f4\u591a\u6e38\u620f\u6a2a\u5e45\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        return false;
      };
      Utils.prototype.showRecommendGamesBanner = function(params) {
        void 0 === params && (params = null);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return false;
        }
        if (this.isShowRecommondGamesBanner()) {
          exports.utils.showLog("\u663e\u793a\u81ea\u5b9a\u4e49banner!");
          if (this.config.otherconfig.recommendGamesBanner) {
            var bannerNode = cc.instantiate(this.config.otherconfig.recommendGamesBanner);
            if (bannerNode) {
              this._recommendGamesBanner && cc.isValid(this._recommendGamesBanner) && this._recommendGamesBanner.destroy();
              this._recommendGamesBanner = bannerNode;
              this._recommendGamesBanner.zIndex = 9999;
              if (params) {
                params.group && (bannerNode.group = params.group);
                params.scale && (bannerNode.scale = params.scale);
              }
              cc.director.getScene().addChild(bannerNode, 1e3);
              return true;
            }
          } else exports.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 RecommendGamesBanner, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c!");
        }
        return false;
      };
      Utils.prototype.hideRecommendGamesBanner = function() {
        var banner = cc.find("RecommendGamesBanner");
        banner && (banner.active = false);
      };
      Utils.prototype.isShowRecommondGamesList = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return false;
        }
        if (this.Tool_Broswer) return true;
        if (exports.utils.isSupportnavigateToMiniGame()) {
          if (this.ServerConfig.is_banner_list && "true" == this.ServerConfig.is_banner_list && this.ServerConfig.jump_list && this.ServerConfig.jump_list.length > 0) return true;
          exports.utils.showLog("\u8bf7\u786e\u8ba4\u5b57\u6bb5\uff1ais_banner_list\u3001jump_list \u662f\u5426\u8fbe\u5230\u663e\u793a\u81ea\u5b9a\u4e49banner\u7684\u8981\u6c42!");
          return false;
        }
        exports.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u5217\u8868\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        return false;
      };
      Utils.prototype.showRecommendGamesList = function(params) {
        void 0 === params && (params = null);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (this.config.otherconfig.recommendGamesBar) {
          var barNode = cc.instantiate(this.config.otherconfig.recommendGamesBar);
          if (barNode) {
            this._recommendGamesList && cc.isValid(this._recommendGamesList) && this._recommendGamesList.destroy();
            this._recommendGamesList = barNode;
            this._recommendGamesList.zIndex = 9999;
            var widget = barNode.getComponent(cc.Widget);
            if (params) {
              params.group && (barNode.group = params.group);
              null != params.scale && (barNode.scale = params.scale);
              if (null != params.top) {
                widget.isAlignTop = true;
                widget.isAlignBottom = false;
                widget.top = params.top;
              } else if (null != params.bottom) {
                widget.isAlignTop = false;
                widget.isAlignBottom = true;
                widget.bottom = params.bottom;
              }
              if (null != params.left) {
                widget.isAlignLeft = true;
                widget.isAlignRight = false;
                widget.left = params.left;
              } else if (null != params.right) {
                widget.isAlignLeft = false;
                widget.isAlignRight = true;
                widget.right = params.right;
              }
              null != params.parent && (barNode.parent = params.parent);
            }
            widget.updateAlignment();
            return barNode;
          }
        } else exports.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 RecommendGamesBar, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c !");
        return null;
      };
      Utils.prototype.hideRecommendGamesList = function() {
        this._recommendGamesList && cc.isValid(this._recommendGamesList) && this._recommendGamesList.destroy();
      };
      Utils.prototype.isShowTryGamesWidget = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return false;
        }
        if (this.Tool_Broswer) return true;
        if (PlatUtils_1.default.IsWechat) if (exports.utils.isSupportnavigateToMiniGame()) if (exports.utils.wechatTool && exports.utils.wechatTool.ServerConfig && exports.utils.wechatTool.ServerConfig.icon_jump) {
          if (exports.utils.wechatTool.ServerConfig.icon_jump > 0) return true;
          exports.utils.showLog("warn:icon_jump\u53c2\u6570\u4e3afalse\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709icon_jump\u53c2\u6570\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01"); else exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01"); else if (PlatUtils_1.default.IsOPPO) if (exports.utils.isSupportnavigateToMiniGame()) if (exports.utils.oppoTool && exports.utils.oppoTool.ServerConfig && exports.utils.oppoTool.ServerConfig.icon_jump) {
          if (parseInt(exports.utils.oppoTool.ServerConfig.icon_jump) > 0) return true;
          exports.utils.showLog("warn:icon_jump\u53c2\u6570\u4e3afalse\uff0c\u8bd5\u73a9\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709icon_jump\u53c2\u6570\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01"); else exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01"); else if (PlatUtils_1.default.IsBaidu) if (exports.utils.isSupportnavigateToMiniGame()) if (exports.utils.Tool_Baidu && exports.utils.Tool_Baidu.ServerConfig && exports.utils.Tool_Baidu.ServerConfig.icon_jump) {
          if (exports.utils.Tool_Baidu.ServerConfig.icon_jump > 0) return true;
          exports.utils.showLog("warn:icon_jump\u53c2\u6570\u4e3afalse\uff0c\u66f4\u591a\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709icon_jump\u53c2\u6570\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01"); else exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01"); else if (PlatUtils_1.default.IsNativeAndroid) if (exports.utils.Tool_Native && exports.utils.Tool_Native.ServerConfig && exports.utils.Tool_Native.ServerConfig.icon_jump) {
          if (parseInt(exports.utils.Tool_Native.ServerConfig.icon_jump) > 0) return true;
        } else exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709jumpList\u53c2\u6570\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01"); else if (PlatUtils_1.default.IsDouyin) if (exports.utils.isSupportnavigateToMiniGame()) if (exports.utils.Tool_Douyin && exports.utils.Tool_Douyin.isShowMoreGamesModal() && exports.utils.Tool_Douyin.ServerConfig && exports.utils.Tool_Douyin.ServerConfig.icon_jump) {
          if (exports.utils.Tool_Douyin.ServerConfig.icon_jump > 0) return true;
          exports.utils.showLog("warn:icon_jump\u53c2\u6570\u4e3afalse\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709icon_jump\u53c2\u6570\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01"); else exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01"); else if (PlatUtils_1.default.IsQQ) if (exports.utils.isSupportnavigateToMiniGame()) if (exports.utils.Tool_QQ && exports.utils.Tool_QQ.ServerConfig && exports.utils.Tool_QQ.ServerConfig.icon_jump) {
          if (exports.utils.Tool_QQ.ServerConfig.icon_jump > 0) return true;
          exports.utils.showLog("warn:icon_jump\u53c2\u6570\u4e3afalse\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709icon_jump\u53c2\u6570\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01"); else exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01"); else if (PlatUtils_1.default.IsNativeIOS) if (exports.utils.Tool_IOS && exports.utils.Tool_IOS.ServerConfig && exports.utils.Tool_IOS.ServerConfig.icon_jump) {
          if (exports.utils.Tool_IOS.ServerConfig.icon_jump > 0) return true;
          exports.utils.showLog("warn:icon_jump\u53c2\u6570\u4e3afalse\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709icon_jump\u53c2\u6570\uff0c\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");
        return false;
      };
      Utils.prototype.showTryGamesWidget = function(params) {
        void 0 === params && (params = null);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (exports.utils.isShowTryGamesWidget()) {
          if (params.location && this.getConfigByKey("try_game_widget_locations").indexOf(params.location) < 0) {
            exports.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u670d\u52a1\u5668\u672a\u914d\u7f6e\u663e\u793a\u8bd5\u73a9\u6302\u4ef6\uff01");
            this._tryGamesWidget && cc.isValid(this._tryGamesWidget) && this._tryGamesWidget.destroy();
            return null;
          }
          if (this.config.otherconfig.tryGamesWidget) {
            var node = cc.instantiate(this.config.otherconfig.tryGamesWidget);
            if (node) {
              this._tryGamesWidget && cc.isValid(this._tryGamesWidget) && this._tryGamesWidget.destroy();
              this._tryGamesWidget = node;
              this._tryGamesWidget.zIndex = 9999;
              var widget = node.getComponent(cc.Widget);
              if (params) {
                params.group && (node.group = params.group);
                null != params.scale && (node.scale = params.scale);
                if (null != params.top) {
                  widget.isAlignTop = true;
                  widget.isAlignBottom = false;
                  widget.top = params.top;
                } else if (null != params.bottom) {
                  widget.isAlignTop = false;
                  widget.isAlignBottom = true;
                  widget.bottom = params.bottom;
                }
                if (null != params.left) {
                  widget.isAlignLeft = true;
                  widget.isAlignRight = false;
                  widget.left = params.left;
                } else if (null != params.right) {
                  widget.isAlignLeft = false;
                  widget.isAlignRight = true;
                  widget.right = params.right;
                }
                null != params.parent && (node.parent = params.parent);
              }
              widget.updateAlignment();
              return node;
            }
          } else exports.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 TryGamesWidget, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c !");
        } else exports.utils.showLog("warn:\u4e0d\u652f\u6301\u8df3\u8f6c\u7ec4\u4ef6");
        return null;
      };
      Utils.prototype.hideTryGamesWidget = function() {
        this._tryGamesWidget && cc.isValid(this._tryGamesWidget) && this._tryGamesWidget.destroy();
      };
      Utils.prototype.isShowMoreGamesWidget = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return false;
        }
        if (this.Tool_Broswer || true) return true;
        if (PlatUtils_1.default.IsWechat) if (exports.utils.isSupportnavigateToMiniGame()) {
          if ("true" == this.getConfigByKey("is_more_game")) return true;
          exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_more_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"); else if (PlatUtils_1.default.IsOPPO) if (exports.utils.isSupportnavigateToMiniGame()) {
          if ("true" == this.getConfigByKey("is_more_game")) {
            if ("true" == exports.utils.oppoTool.ServerConfig.show_oppo_rec && !exports.utils.oppoTool.canShowRecommend()) {
              exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u5b98\u65b9\u4e92\u63a8\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
              return false;
            }
            return true;
          }
          exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_more_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"); else if (PlatUtils_1.default.IsDouyin) if (PlatUtils_1.default.IsAndroid && exports.utils.isSupportnavigateToMiniGame()) {
          if ("true" == this.getConfigByKey("is_more_game")) return true;
          exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_more_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"); else if (PlatUtils_1.default.IsBaidu) if (exports.utils.isSupportnavigateToMiniGame()) {
          if ("true" == this.getConfigByKey("is_more_game")) return true;
          exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_more_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"); else if (PlatUtils_1.default.IsQQ) if (exports.utils.isSupportnavigateToMiniGame()) {
          if ("true" == this.getConfigByKey("is_more_game")) return true;
          exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_more_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"); else {
          if (PlatUtils_1.default.Is4399) return true;
          if (PlatUtils_1.default.IsNativeAndroid) {
            if ("true" == this.getConfigByKey("is_more_game")) return true;
            exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_more_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
          } else if (PlatUtils_1.default.IsNativeIOS) {
            if ("true" == this.getConfigByKey("is_more_game")) return true;
            exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_more_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
          } else if (PlatUtils_1.default.IsVIVO) {
            if ("true" == this.getConfigByKey("is_more_game")) return true;
            exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_more_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
          }
        }
        return false;
      };
      Utils.prototype.showMoreGamesWidget = function(params) {
        void 0 === params && (params = null);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (params.location && this.getConfigByKey("more_game_widget_locations").indexOf(params.location) < 0) {
          exports.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u670d\u52a1\u5668\u672a\u914d\u7f6e\u663e\u793a\u66f4\u591a\u6e38\u620f\u6302\u4ef6\uff01");
          this._moreGamesSidePanel && cc.isValid(this._moreGamesSidePanel) && this._moreGamesSidePanel.destroy();
          return null;
        }
        if (PlatUtils_1.default.IsDouyin) {
          if (exports.utils.Tool_Douyin) {
            if (!exports.utils.isShowMoreGamesWidget()) {
              exports.utils.showLog("\u5f53\u524d\u5e73\u53f0\u7248\u672c\u4e0d\u652f\u6301\u4ea4\u53c9\u63a8\u5e7f, \u66f4\u591a\u6e38\u620f\u6309\u94ae\u4e0d\u663e\u793a!");
              return null;
            }
            if (!exports.utils.Tool_Douyin.isShowMoreGamesModal()) {
              var btn = exports.utils.Tool_Douyin.showMoreGamesButton(params);
              if (btn) {
                this._moreGamesSidePanel && this._moreGamesSidePanel.destroy();
                this._moreGamesSidePanel = btn;
                if (params) {
                  params.group && (btn.group = params.group);
                  null != params.parent && (btn.parent = params.parent);
                }
                return this._moreGamesSidePanel;
              }
              return null;
            }
            if (this.config.otherconfig.moreGamesWidget) {
              var node = cc.instantiate(this.config.otherconfig.moreGamesWidget);
              if (node) {
                this._moreGamesSidePanel && cc.isValid(this._moreGamesSidePanel) && this._moreGamesSidePanel.destroy();
                this._moreGamesSidePanel = node;
                this._moreGamesSidePanel.zIndex = 9999;
                var widget = node.getComponent(cc.Widget);
                if (params) {
                  params.group && (node.group = params.group);
                  null != params.scale && (node.scale = params.scale);
                  if (null != params.top) {
                    widget.isAlignTop = true;
                    widget.isAlignBottom = false;
                    widget.top = params.top;
                  } else if (null != params.bottom) {
                    widget.isAlignTop = false;
                    widget.isAlignBottom = true;
                    widget.bottom = params.bottom;
                  }
                  if (null != params.left) {
                    widget.isAlignLeft = true;
                    widget.isAlignRight = false;
                    widget.left = params.left;
                  } else if (null != params.right) {
                    widget.isAlignLeft = false;
                    widget.isAlignRight = true;
                    widget.right = params.right;
                  }
                  null != params.parent && (node.parent = params.parent);
                }
                widget.updateAlignment();
                return node;
              }
            } else exports.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 MoreGamesWidget, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
          }
        } else if (exports.utils.isShowMoreGamesWidget()) if (this.config.otherconfig.moreGamesWidget) {
          var node = cc.instantiate(this.config.otherconfig.moreGamesWidget);
          if (node) {
            this._moreGamesSidePanel && cc.isValid(this._moreGamesSidePanel) && this._moreGamesSidePanel.destroy();
            this._moreGamesSidePanel = node;
            this._moreGamesSidePanel.zIndex = 9999;
            var widget = node.getComponent(cc.Widget);
            if (params) {
              params.group && (node.group = params.group);
              null != params.scale && (node.scale = params.scale);
              if (null != params.top) {
                widget.isAlignTop = true;
                widget.isAlignBottom = false;
                widget.top = params.top;
              } else if (null != params.bottom) {
                widget.isAlignTop = false;
                widget.isAlignBottom = true;
                widget.bottom = params.bottom;
              }
              if (null != params.left) {
                widget.isAlignLeft = true;
                widget.isAlignRight = false;
                widget.left = params.left;
              } else if (null != params.right) {
                widget.isAlignLeft = false;
                widget.isAlignRight = true;
                widget.right = params.right;
              }
              null != params.parent && (node.parent = params.parent);
            }
            widget.updateAlignment();
            return node;
          }
        } else exports.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 MoreGamesWidget, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01"); else exports.utils.showLog("warn:\u4e0d\u53ef\u663e\u793a\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f");
        return null;
      };
      Utils.prototype.hideMoreGamesWidget = function(moreGameBtn) {
        if (PlatUtils_1.default.IsDouyin) {
          moreGameBtn && cc.isValid(moreGameBtn) && moreGameBtn.destroy();
          this._moreGamesSidePanel && this._moreGamesSidePanel.destroy();
        } else {
          moreGameBtn && cc.isValid(moreGameBtn) && moreGameBtn.destroy();
          this._moreGamesSidePanel && cc.isValid(this._moreGamesSidePanel) && this._moreGamesSidePanel.destroy();
        }
        PlatUtils_1.default.IsVIVO && this.Tool_Vivo && this.Tool_Vivo.hideGamePortal();
      };
      Utils.prototype.showBaiduMoreGamesBtn = function(params) {
        void 0 === params && (params = null);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        var isShow = false;
        PlatUtils_1.default.IsBaidu && (exports.utils.Tool_Baidu && exports.utils.Tool_Baidu.canShowRecommendButton() ? isShow = true : exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u767e\u5ea6\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"));
        if (PlatUtils_1.default.IsBaidu && exports.utils.Tool_Baidu) {
          if (isShow) {
            var btn = exports.utils.Tool_Baidu.showRecommendationButton(params);
            if (btn) {
              this._moreGamesSidePanelBaidu && this._moreGamesSidePanelBaidu.destroy();
              this._moreGamesSidePanelBaidu = btn;
              return this._moreGamesSidePanelBaidu;
            }
            return null;
          }
          exports.utils.showLog("\u5f53\u524d\u5e73\u53f0\u7248\u672c\u4e0d\u652f\u6301\u4ea4\u53c9\u63a8\u5e7f, \u767e\u5ea6\u66f4\u591a\u6e38\u620f\u6309\u94ae\u4e0d\u663e\u793a!");
          return null;
        }
      };
      Utils.prototype.hideBaiduMoreGamesBtn = function(moreGameBtn) {
        PlatUtils_1.default.IsBaidu && moreGameBtn && null != moreGameBtn && moreGameBtn.destroy();
      };
      Utils.prototype.isShowRecordWidget = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return false;
        }
        if (this.Tool_Broswer) return true;
        if (PlatUtils_1.default.IsDouyin) {
          if ("true" == this.getConfigByKey("show_record")) return true;
          exports.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5f55\u5c4f\u6309\u94ae\uff01");
        } else if (PlatUtils_1.default.IsKwai) {
          if (exports.utils.kwaiTool && exports.utils.kwaiTool.checkCanShowRecored() && "true" == this.getConfigByKey("show_record")) return true;
          exports.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u5f55\u5c4f\u6309\u94ae\uff01");
        }
        return false;
      };
      Utils.prototype.hideRecordWidget = function() {
        this._recordWidget && cc.isValid(this._recordWidget) && this._recordWidget.destroy();
      };
      Utils.prototype.showRecordWidget = function(params) {
        void 0 === params && (params = null);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (!this.isShowRecordWidget()) return null;
        if (this.config.otherconfig.recordWidget) {
          var node = cc.instantiate(this.config.otherconfig.recordWidget);
          if (node) {
            this._recordWidget && cc.isValid(this._recordWidget) && this._recordWidget.destroy();
            this._recordWidget = node;
            this._recordWidget.zIndex = 9999;
            var widget = node.getComponent(cc.Widget);
            if (params) {
              params.group && (node.group = params.group);
              null != params.scale && (node.scale = params.scale);
              if (null != params.top) {
                widget.isAlignTop = true;
                widget.isAlignBottom = false;
                widget.top = params.top;
              } else if (null != params.bottom) {
                widget.isAlignTop = false;
                widget.isAlignBottom = true;
                widget.bottom = params.bottom;
              }
              if (null != params.left) {
                widget.isAlignLeft = true;
                widget.isAlignRight = false;
                widget.left = params.left;
              } else if (null != params.right) {
                widget.isAlignLeft = false;
                widget.isAlignRight = true;
                widget.right = params.right;
              }
              null != params.parent && (node.parent = params.parent);
            }
            widget.updateAlignment();
            return node;
          }
        } else exports.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 RecordWidget, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        return null;
      };
      Utils.prototype.isShowCreateShortcutWidget = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return false;
        }
        if (this.Tool_Broswer) return true;
        if (this.canCreateShortcut()) {
          if ("true" == this.getConfigByKey("is_desktop")) return true;
          exports.utils.showLog("\u914d\u7f6e\u6570\u636e\u4e2d\u6ca1\u6709 is_desktop \u5b57\u6bb5\uff0c \u521b\u5efa\u5feb\u6377\u65b9\u5f0f\u6309\u94ae\u4e0d\u663e\u793a!");
        } else exports.utils.showLog("\u5f53\u524d\u5e73\u53f0\u7248\u672c\u4e0d\u652f\u6301\u521b\u5efa\u684c\u9762\u5feb\u6377\u65b9\u5f0f, \u521b\u5efa\u5feb\u6377\u65b9\u5f0f\u6309\u94ae\u4e0d\u663e\u793a\uff01");
        return false;
      };
      Utils.prototype.showCreateShortcutWidget = function(callback, params) {
        void 0 === callback && (callback = null);
        void 0 === params && (params = null);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (exports.utils.isShowCreateShortcutWidget()) if (this.config.otherconfig.shortcutWidget) {
          var node = cc.instantiate(this.config.otherconfig.shortcutWidget);
          if (node) {
            this._shortcutWidget && cc.isValid(this._shortcutWidget) && this._shortcutWidget.destroy();
            this._shortcutWidget = node;
            this._shortcutWidget.zIndex = 9999;
            var widget = node.getComponent(cc.Widget);
            var shortcutWidget = node.getComponent("YZ_ShortcutWidget");
            shortcutWidget && (shortcutWidget.Callback = callback);
            if (params) {
              params.group && (node.group = params.group);
              null != params.scale && (node.scale = params.scale);
              if (null != params.top) {
                widget.isAlignTop = true;
                widget.isAlignBottom = false;
                widget.top = params.top;
              } else if (null != params.bottom) {
                widget.isAlignTop = false;
                widget.isAlignBottom = true;
                widget.bottom = params.bottom;
              }
              if (null != params.left) {
                widget.isAlignLeft = true;
                widget.isAlignRight = false;
                widget.left = params.left;
              } else if (null != params.right) {
                widget.isAlignLeft = false;
                widget.isAlignRight = true;
                widget.right = params.right;
              }
              null != params.parent ? node.parent = params.parent : cc.director.getScene().addChild(node, 1e3);
            }
            widget.updateAlignment();
            return node;
          }
        } else exports.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 ShortcutWidge, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01"); else exports.utils.showLog("warn:\u4e0d\u663e\u793a\u521b\u5efa\u684c\u9762\u56fe\u6807");
        return null;
      };
      Utils.prototype.hideCreateShortcutWidget = function(params) {
        void 0 === params && (params = null);
        this._shortcutWidget && cc.isValid(this._shortcutWidget) && this._shortcutWidget.destroy();
      };
      Utils.prototype.registerEvent = function(eventName, callback, target) {
        if (!eventName) {
          exports.utils.showLog("warn:[Utils.registerEvent] param eventName is null!");
          return;
        }
        if (!callback) {
          exports.utils.showLog("warn:[Utils.registerEvent] param callback is null!");
          return;
        }
        if (!target) {
          exports.utils.showLog("warn:[Utils.registerEvent] param target is null!");
          return;
        }
        cc.game.on(eventName, callback, target);
      };
      Utils.prototype.unregisterEvent = function(eventName) {
        cc.game.off(eventName);
      };
      Utils.prototype.emitCommonEvent = function(eventName) {
        cc.game.emit(eventName);
      };
      Utils.prototype.showGameBox = function(params) {
        void 0 === params && (params = null);
        if (PlatUtils_1.default.IsWechat) {
          var isShow = false;
          if (exports.utils.wechatTool.ServerConfig && exports.utils.wechatTool.ServerConfig.openBox) {
            if ("true" != exports.utils.wechatTool.ServerConfig.openBox) {
              exports.utils.showLog("\u670d\u52a1\u5668\u6e38\u620f\u76d2\u5b50\u914d\u7f6e\u4e3a\u5173\u95ed\u72b6\u6001\uff01");
              return;
            }
            exports.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u6e38\u620f\u76d2\u5b50\u4e3a\u6253\u5f00\u72b6\u6001");
            isShow = true;
          } else {
            var showTime = new Date().getTime() - new Date("2019-10-23").getTime();
            if (showTime > 0) {
              isShow = true;
              exports.utils.showLog("\u5f53\u524d\u65f6\u95f4\u5927\u4e8e\u6307\u5b9a\u65f6\u95f4\uff0c\u53ef\u4ee5\u663e\u793a\u6e38\u620f\u76d2\u5b50");
            }
          }
          if (!isShow) {
            exports.utils.showLog("warn:\u5f53\u524d\u6761\u4ef6\u4e0d\u6ee1\u8db3\u8981\u6c42\uff0c\u6e38\u620f\u76d2\u5b50\u4e0d\u663e\u793a\uff01");
            return;
          }
          var node = cc.instantiate(this.config.otherconfig.gameBox);
          if (node) {
            this._gameBox && cc.isValid(this._gameBox) && this._gameBox.destroy();
            this._gameBox = node;
            this._gameBox.zIndex = 9999;
            null != params.parent && (node.parent = params.parent);
          } else exports.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 GameBox, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        }
      };
      Utils.prototype.isShowNativeTryGamesWidget = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return false;
        }
        if (this.Tool_Broswer) return true;
        if (this.ServerConfig && this.ServerConfig.icon_jump_native && parseInt(this.ServerConfig.icon_jump_native) > 0) return true;
        exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709icon_jump_native\u53c2\u6570\uff0c\u539f\u751f\u8bd5\u73a9\u6e38\u620f\u6302\u4ef6\u4e0d\u663e\u793a\uff01");
        return false;
      };
      Utils.prototype.canShowCrossWidget6 = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return false;
        }
        if (this.Tool_Broswer) return true;
        if (PlatUtils_1.default.IsWechat || PlatUtils_1.default.IsOPPO || PlatUtils_1.default.IsBaidu || PlatUtils_1.default.IsNativeAndroid || PlatUtils_1.default.IsNativeIOS) if (exports.utils.isSupportnavigateToMiniGame()) {
          if ("true" == this.getConfigByKey("is_cross_game")) return true;
          exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_cross_game\u53c2\u6570\uff0c6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"); else if (PlatUtils_1.default.IsDouyin) if (exports.utils.isSupportnavigateToMiniGame() && exports.utils.Tool_Douyin.isShowMoreGamesModal()) {
          if ("true" == this.getConfigByKey("is_cross_game")) return true;
          exports.utils.showLog("warn:is_cross_game\u53c2\u6570\u4e3afalse\uff0c6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        return false;
      };
      Utils.prototype.showCrossWidget6 = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (this.canShowCrossWidget6()) {
          if (this.config.otherconfig.crossWidget6) return cc.instantiate(this.config.otherconfig.crossWidget6);
          exports.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 CrossWidget6, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        }
        return null;
      };
      Utils.prototype.showFavoriteGuide = function(param) {
        if (PlatUtils_1.default.IsBaidu) if (exports.utils._tool_Baidu.canShowFavoriteGuide()) {
          swan.showFavoriteGuide({
            type: param ? param.type : "tip",
            content: "\u4e00\u952e\u6dfb\u52a0\u5230\u6211\u7684\u5c0f\u7a0b\u5e8f",
            success: function(res) {
              exports.utils.showLog("\u6dfb\u52a0\u6210\u529f\uff1a", res);
            },
            fail: function(err) {
              exports.utils.showLog("\u6dfb\u52a0\u5931\u8d25\uff1a", err);
            }
          });
          exports.utils.showLog("\u663e\u793a\u6211\u7684\u5c0f\u7a0b\u5e8f\u5f15\u5bfc\u6210\u529f\uff01");
        } else exports.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u663e\u793a\u6dfb\u52a0\u6211\u7684\u5c0f\u7a0b\u5e8f\u5f15\u5bfc");
      };
      Utils.prototype.checkAutoSign = function() {
        if ("true" == this.getConfigByKey("auto_sign")) return true;
        return false;
      };
      Object.defineProperty(Utils.prototype, "ServerConfig", {
        get: function() {
          if (this.cur_tool) return this.cur_tool.ServerConfig ? this.cur_tool.ServerConfig : {};
          return {};
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Utils.prototype, "cur_tool", {
        get: function() {
          if (this._cur_tool) return this._cur_tool;
          PlatUtils_1.default.IsWechat ? this._cur_tool = exports.utils.wechatTool : PlatUtils_1.default.IsOPPO ? this._cur_tool = exports.utils.oppoTool : PlatUtils_1.default.IsVIVO ? this._cur_tool = exports.utils.Tool_Vivo : PlatUtils_1.default.IsQQ ? this._cur_tool = exports.utils.Tool_QQ : PlatUtils_1.default.IsDouyin ? this._cur_tool = exports.utils.Tool_Douyin : PlatUtils_1.default.IsBaidu ? this._cur_tool = exports.utils.Tool_Baidu : PlatUtils_1.default.IsQTT ? this._cur_tool = exports.utils.Tool_QTT : PlatUtils_1.default.IsXiaoMi ? this._cur_tool = exports.utils.Tool_XiaoMi : PlatUtils_1.default.ISUC ? this._cur_tool = exports.utils.Tool_UC : PlatUtils_1.default.ISCocos ? this._cur_tool = exports.utils.Tool_Cocosplay : PlatUtils_1.default.IsNativeAndroid ? this._cur_tool = exports.utils.Tool_Native : PlatUtils_1.default.Is4399 ? this._cur_tool = exports.utils.Tool_4399 : PlatUtils_1.default.IsKwai ? this._cur_tool = exports.utils._tool_Kwai : PlatUtils_1.default.IsNativeIOS ? this._cur_tool = exports.utils.Tool_IOS : PlatUtils_1.default.IsWiFi ? this._cur_tool = exports.utils._tool_Wifi : PlatUtils_1.default.IsHago ? this._cur_tool = exports.utils._tool_Hago : PlatUtils_1.default.IsHuaWei ? this._cur_tool = exports.utils.Tool_Huawei : PlatUtils_1.default.IsFaceBook ? this._cur_tool = exports.utils.Tool_Facebook : PlatUtils_1.default.IsGoogleWeb ? this._cur_tool = exports.utils.Tool_Facebook : this._cur_tool = exports.utils._tool_Broswer;
          return this._cur_tool;
        },
        enumerable: false,
        configurable: true
      });
      Utils.prototype.showLog = function(msg) {
        var _a;
        void 0 === msg && (msg = "");
        var any = [];
        for (var _i = 1; _i < arguments.length; _i++) any[_i - 1] = arguments[_i];
        if (this.showLogView || this.serverShowLog) if (this.config.otherconfig.logoutView) {
          if (cc.director.getScene()) {
            var logooutView = cc.director.getScene().getChildByName("LogoutView");
            if (!logooutView) {
              logooutView = cc.instantiate(this.config.otherconfig.logoutView);
              cc.director.getScene().addChild(logooutView, 1e3);
            }
            (_a = logooutView.getComponent("LogOutView")).addLog.apply(_a, __spreadArrays([ msg ], any));
          }
        } else exports.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 LogOutView, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01"); else this.showLogToConsole ? console.log.apply(console, __spreadArrays([ msg ], any)) : cc.log.apply(cc, __spreadArrays([ msg ], any));
      };
      Utils.prototype.vibrate = function(type) {
        void 0 === type && (type = YZ_Constant_1.VibrateType.Short);
        PlatUtils_1.default.IsWechat ? type == YZ_Constant_1.VibrateType.Short ? wx.vibrateShort({
          success: function(res) {},
          fail: function(res) {}
        }) : wx.vibrateLong({
          success: function(res) {},
          fail: function(res) {}
        }) : PlatUtils_1.default.IsOPPO ? type == YZ_Constant_1.VibrateType.Short ? qg.vibrateShort({
          success: function(res) {},
          fail: function(res) {}
        }) : qg.vibrateLong({
          success: function(res) {},
          fail: function(res) {}
        }) : PlatUtils_1.default.IsVIVO ? type == YZ_Constant_1.VibrateType.Short ? qg.vibrateShort() : qg.vibrateLong() : PlatUtils_1.default.IsQQ ? type == YZ_Constant_1.VibrateType.Short ? qq.vibrateShort({
          success: function(res) {},
          fail: function(res) {}
        }) : qq.vibrateLong({
          success: function(res) {},
          fail: function(res) {}
        }) : PlatUtils_1.default.IsDouyin ? type == YZ_Constant_1.VibrateType.Short ? tt.vibrateShort({
          success: function(res) {},
          fail: function(res) {}
        }) : tt.vibrateLong({
          success: function(res) {},
          fail: function(res) {}
        }) : PlatUtils_1.default.IsBaidu ? type == YZ_Constant_1.VibrateType.Short ? swan.vibrateShort({
          success: function(res) {},
          fail: function(res) {}
        }) : swan.vibrateLong({
          success: function(res) {},
          fail: function(res) {}
        }) : PlatUtils_1.default.IsWiFi ? type == YZ_Constant_1.VibrateType.Short ? wuji.vibrateShort({
          success: function(res) {},
          fail: function(res) {}
        }) : wuji.vibrateLong({
          success: function(res) {},
          fail: function(res) {}
        }) : PlatUtils_1.default.IsNativeAndroid && (type == YZ_Constant_1.VibrateType.Short ? jsb.reflection.callStaticMethod(exports.utils.Tool_Native.jniClassName, "vibrateShort", "()V") : jsb.reflection.callStaticMethod(exports.utils.Tool_Native.jniClassName, "vibrateLong", "()V"));
      };
      Utils.prototype.StartGame = function(level, model) {
        AldUtils_1.default.StartGame(level, model);
        exports.utils.cur_tool && exports.utils.cur_tool.umaOnStart && exports.utils.cur_tool.umaOnStart(level);
        (PlatUtils_1.default.IsDouyin || PlatUtils_1.default.IsKwai) && this.AutoStartRecord(level);
      };
      Utils.prototype.GameWin = function(level, star, model, isShowAd) {
        void 0 === star && (star = 0);
        void 0 === isShowAd && (isShowAd = true);
        AldUtils_1.default.GameWin(level, star, model);
        exports.utils.cur_tool && exports.utils.cur_tool.umaReportedLevel && exports.utils.cur_tool.umaReportedLevel(level, YZ_Constant_1.LevelStatus.GameWin);
        PlatUtils_1.default.IsKwai && (exports.utils.kwaiTool.isClickEnd = false);
        this.recordEnd();
        return this.AutoShowStatement(level, true, isShowAd);
      };
      Utils.prototype.GameFail = function(level, model, isShowAd) {
        void 0 === isShowAd && (isShowAd = true);
        AldUtils_1.default.GameFail(level, model);
        exports.utils.cur_tool && exports.utils.cur_tool.umaReportedLevel && exports.utils.cur_tool.umaReportedLevel(level, YZ_Constant_1.LevelStatus.GameFail);
        this.recordEnd();
        return this.AutoShowStatement(level, false, isShowAd);
      };
      Utils.prototype.GameSkip = function(level, model) {
        AldUtils_1.default.GameSkip(level, model);
      };
      Utils.prototype.SendEvent = function(eventName) {
        AldUtils_1.default.SendEvent(eventName);
      };
      Utils.prototype.umaEvent = function(eventID, params) {
        exports.utils.showLog("\u4e8b\u4ef6\u4e0a\u62a5:" + eventID + "\uff1a" + params);
        PlatUtils_1.default.IsNativeAndroid ? exports.utils.cur_tool && exports.utils.cur_tool.umaTrackEvent && exports.utils.cur_tool.umaTrackEvent("custom", eventID, params) : exports.utils.cur_tool && exports.utils.cur_tool.umaTrackEvent && exports.utils.cur_tool.umaTrackEvent(eventID, params);
      };
      Utils.prototype.reportOverPageTouchEvent = function(overPage) {
        var _this = this;
        exports.utils.showLog("reportOverPageTouchEvent >>>>>>>");
        this.overPageInsertAdIsTouch = false;
        this.overPageShowTime = new Date().getTime();
        var node = new cc.Node();
        node.width = 2 * overPage.width;
        node.height = 2 * overPage.height;
        node.on(cc.Node.EventType.TOUCH_START, function() {
          var time = (new Date().getTime() - _this.overPageShowTime) / 1e3;
          var json = {};
          json.data = time;
          exports.utils.SendEventNew("\u7ed3\u7b97\u9875\u9762\u70b9\u51fb\u65f6\u95f4", "overPageTouch", JSON.stringify(json));
          node.destroy();
          node.removeFromParent();
        }, overPage);
        node["_touchListener"]["swallowTouches"] = false;
        overPage.addChild(node, cc.macro.MAX_ZINDEX);
      };
      Utils.prototype.SendEventNew = function(eventName, eventId, eventData, isCallBack) {
        void 0 === eventId && (eventId = "default");
        void 0 === isCallBack && (isCallBack = true);
        exports.utils.showLog("\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u4e0a\u62a5:" + eventName + "\uff0c" + eventId + "," + eventData);
        exports.utils.cur_tool && exports.utils.cur_tool.SendEventNew && exports.utils.cur_tool.SendEventNew(eventName, eventId, eventData, isCallBack);
      };
      Utils.UseTool = function(level, toolName, model) {
        AldUtils_1.default.UseTool(level, toolName, model);
      };
      Utils.prototype.checkResultShow = function(type) {
        var level = exports.utils.currentLevel;
        var isSuccess = exports.utils.isSuccess;
        var config = exports.utils.ServerConfig;
        if (!config) {
          exports.utils.showLog("warn:\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u5b58\u5728,\u53ea\u663e\u793a\u7ed3\u7b97\u5e7f\u544a");
          return 3 == type;
        }
        if (PlatUtils_1.default.IsDouyin && config.auto_record_share_count) {
          var recoredCount = config.auto_record_share_count;
          if (0 != recoredCount && exports.utils.recored_share_count >= recoredCount) exports.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5206\u4eab\u6b21\u6570\uff1a" + recoredCount + " ,\u5df2\u5230\u4e0a\u9650"); else {
            var record_cap = config.auto_record_interval;
            var checkShow_1 = false;
            if (level > 0 && 0 != record_cap) {
              if (-1 == record_cap.indexOf(",")) level % Number(record_cap) == 0 && (checkShow_1 = true); else {
                exports.utils.showLog("\u6307\u5b9a\u5173\u5361" + config.auto_record_interval + "\u5206\u4eab\u5f55\u5c4f\uff0c\u5f53\u524d\u5173\u5361\u4e3a\uff1a" + level);
                var record_cap_arr = record_cap.split(",");
                record_cap_arr.forEach(function(str) {
                  level == Number(str) && (checkShow_1 = true);
                });
              }
              if (checkShow_1) {
                if ("all" == config.auto_record_share_type) return 1 == type;
                if ("success" == config.auto_record_share_type && true == exports.utils.isSuccess) return 1 == type;
                if ("fail" == config.auto_record_share_type && false == exports.utils.isSuccess) return 1 == type;
              }
            }
          }
        }
        exports.utils.showLog("\u4e0d\u80fd\u81ea\u52a8\u5206\u4eab\u5f55\u5c4f \u5206\u4eab\u5f55\u5c4f\u95f4\u9694\u4e3a\uff1a" + config.auto_record_interval + "  \u5206\u4eab\u7c7b\u578b\u4e3a\uff1a" + config.auto_record_share_type);
        if (config.auto_video_interval && 0 != config.auto_video_interval) {
          var space = config.auto_video_interval;
          var showType = config.auto_video_show_type;
          if (level % space == 0) {
            if ("all" == showType) return 2 == type;
            if ("success" == showType && true == isSuccess) return 2 == type;
            if ("fail" == showType && false == isSuccess) return 2 == type;
          }
        }
        exports.utils.showLog("\u4e0d\u80fd\u81ea\u52a8\u5f39\u89c6\u9891\u5f39\u89c6\u9891\u95f4\u9694\u4e3a\uff1a" + config.auto_video_interval + " \u5f39\u89c6\u9891\u7c7b\u578b\u4e3a\uff1a" + config.auto_video_show_type);
        if (config.auto_rec_insert_interval && 0 != config.auto_rec_insert_interval) {
          var space = config.auto_rec_insert_interval;
          var showType = config.auto_rec_insert_type;
          if (level % space == 0) {
            if ("all" == showType) return 4 == type;
            if ("success" == showType && true == isSuccess) return 4 == type;
            if ("fail" == showType && false == isSuccess) return 4 == type;
          }
        }
        exports.utils.showLog("\u4e0d\u80fd\u81ea\u52a8\u5f39\u4e92\u63a8\u63d2\u5c4f\u95f4\u9694\u4e3a\uff1a" + config.auto_rec_insert_interval + " \u5f39\u89c6\u9891\u7c7b\u578b\u4e3a\uff1a" + config.auto_rec_insert_type);
        return 3 == type;
      };
      Utils.prototype.AutoShowStatement = function(level, isSuccess, isShowAd) {
        exports.utils.currentLevel = level;
        exports.utils.isSuccess = isSuccess;
        var res = {
          type: -1,
          node: null
        };
        if (!isShowAd) {
          exports.utils.showLog("isShowAd\u4e3afalse\uff0c\u53ea\u4e0a\u62a5\u4e0d\u663e\u793a\u5e7f\u544a");
          return res;
        }
        var isShowVideo = false;
        if (this.checkResultShow(2)) {
          if ("false" == this.getConfigByKey("result_auto_show_video")) return;
          if (PlatUtils_1.default.IsDouyin) {
            exports.utils.showLog("\u670d\u52a1\u5668\u7248\u672c\uff1a", exports.utils.config.douyinconfig.version, "\u5f53\u524d\u7248\u672c\uff1a", this.getConfigByKey("version"));
            if (exports.utils.config.douyinconfig.version != this.getConfigByKey("version")) {
              exports.utils.showLog("\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u81ea\u52a8\u64ad\u653e\u89c6\u9891\uff01");
              exports.utils.adManager.ShowVideo(function() {});
              isShowVideo = true;
            }
          } else if (PlatUtils_1.default.IsQQ) {
            if (exports.utils.config.qqconfig.version != this.getConfigByKey("version")) {
              exports.utils.showLog("\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u81ea\u52a8\u64ad\u653e\u89c6\u9891\uff01");
              exports.utils.adManager.ShowVideo(function() {});
              isShowVideo = true;
            }
          } else if (PlatUtils_1.default.IsWiFi) {
            if (exports.utils.config.wifiConfig.version != this.getConfigByKey("version")) {
              exports.utils.showLog("\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u81ea\u52a8\u64ad\u653e\u89c6\u9891\uff01");
              exports.utils.adManager.ShowVideo(function() {});
              isShowVideo = true;
            }
          } else if (PlatUtils_1.default.IsBaidu) {
            if (exports.utils.config.baiduconfig.version != this.getConfigByKey("version")) {
              exports.utils.showLog("\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u81ea\u52a8\u64ad\u653e\u89c6\u9891\uff01");
              exports.utils.adManager.ShowVideo(function() {});
              isShowVideo = true;
            }
          } else if (PlatUtils_1.default.IsKwai) {
            if (exports.utils.config.kwaiConfig.version != this.getConfigByKey("version")) {
              exports.utils.showLog("\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u81ea\u52a8\u64ad\u653e\u89c6\u9891\uff01");
              exports.utils.adManager.ShowVideo(function() {});
              isShowVideo = true;
            }
          } else if (PlatUtils_1.default.IsHago) {
            if (exports.utils.config.hagoConfig.version != this.getConfigByKey("version")) {
              exports.utils.showLog("\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u81ea\u52a8\u64ad\u653e\u89c6\u9891\uff01");
              exports.utils.adManager.ShowVideo(function() {});
              isShowVideo = true;
            }
          } else if (PlatUtils_1.default.IsNativeAndroid) if (exports.utils.config.nativeAndroidConfig.version != this.getConfigByKey("version")) {
            exports.utils.showLog("\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u81ea\u52a8\u64ad\u653e\u89c6\u9891\uff01");
            exports.utils.ServerConfig && "reward_video" == this.getConfigByKey("auto_video_type") ? exports.utils.adManager.ShowVideo(function() {}) : exports.utils.adManager.showFullScreenVideo();
            isShowVideo = true;
          } else exports.utils.showLog("\u4e0e\u670d\u52a1\u5668\u7248\u672c\u4e00\u81f4\uff0c\u4e0d\u81ea\u52a8\u64ad\u653e\u89c6\u9891\uff01"); else if (PlatUtils_1.default.IsNativeIOS) {
            if (exports.utils.config.nativeIoSConfig.version != this.getConfigByKey("version")) {
              exports.utils.showLog("\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u81ea\u52a8\u64ad\u653e\u89c6\u9891\uff01");
              exports.utils.ServerConfig && "reward_video" == this.getConfigByKey("auto_video_type") ? exports.utils.adManager.ShowVideo(function() {}) : exports.utils.adManager.showFullScreenVideo();
              isShowVideo = true;
            }
          } else if (PlatUtils_1.default.IsVIVO) {
            exports.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u5f53\u524d\u663e\u793a\u5f3a\u5f39\u89c6\u9891\uff0c\u4f46\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u3002\u9700\u4fee\u6539\u670d\u52a1\u5668\u914d\u7f6e");
            exports.utils.adManager.showStatementAds();
          } else {
            isShowVideo = true;
            exports.utils.adManager.ShowVideo(function() {});
          }
          isShowVideo && (PlatUtils_1.default.IsDouyin || PlatUtils_1.default.IsQQ || PlatUtils_1.default.IsNativeAndroid || PlatUtils_1.default.IsNativeIOS) ? exports.utils.showLog("\u5f53\u524d\u5f3a\u5f39\u4e86\u89c6\u9891\uff0c\u4e0d\u663e\u793a\u63d2\u5c4f\uff01") : res = exports.utils.adManager.showStatementAds();
        }
        this.checkResultShow(3) && (res = exports.utils.adManager.showStatementAds());
        if (PlatUtils_1.default.IsDouyin || PlatUtils_1.default.IsNativeIOS || PlatUtils_1.default.IsBaidu || PlatUtils_1.default.IsNativeAndroid) {
          res.type = 1;
          res.node = exports.utils.showCrossWidget6();
        }
        return res;
      };
      Utils.prototype.addRedBagCount = function(callFun) {
        this.yzRedBagInfo.freeRedBagCount++;
        callFun && (this.rewardCloseFunc = callFun);
        this.showOpenRedBagPanel({
          showType: 3
        });
        exports.utils.showLog("\u83b7\u5f97\u4e00\u4e2a\u73b0\u91d1\u7ea2\u5305");
      };
      Utils.prototype.AutoStartRecord = function(level) {
        this.getConfigByKey("auto_record_interval") > 0 ? exports.utils.recordStart() : exports.utils.showLog("warn:\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u5b58\u5728auto_record_interva");
      };
      Utils.prototype.showShareRecordPanel = function(params) {
        void 0 === params && (params = null);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (this.config.otherconfig.shareRecordPanel) {
          var node = cc.instantiate(this.config.otherconfig.shareRecordPanel);
          if (node) {
            this.shareRecordPanel && cc.isValid(this.shareRecordPanel) && this.shareRecordPanel.destroy();
            this.shareRecordPanel = node;
            this.shareRecordPanel.zIndex = 9999;
            var widget = node.getComponent(cc.Widget);
            if (params) {
              params.group && (node.group = params.group);
              null != params.scale && (node.scale = params.scale);
              if (null != params.top) {
                widget.isAlignTop = true;
                widget.isAlignBottom = false;
                widget.top = params.top;
              } else if (null != params.bottom) {
                widget.isAlignTop = false;
                widget.isAlignBottom = true;
                widget.bottom = params.bottom;
              }
              if (null != params.left) {
                widget.isAlignLeft = true;
                widget.isAlignRight = false;
                widget.left = params.left;
              } else if (null != params.right) {
                widget.isAlignLeft = false;
                widget.isAlignRight = true;
                widget.right = params.right;
              }
              null != params.parent ? node.parent = params.parent : cc.director.getScene().addChild(this.shareRecordPanel, 1e3);
            } else cc.director.getScene().addChild(this.shareRecordPanel, 1e3);
            widget.updateAlignment();
            return node;
          }
        } else exports.utils.showLog("\u672a\u627e\u5230\u9884\u5236\u4f53 ShareRecordPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        return null;
      };
      Object.defineProperty(Utils.prototype, "otherConfig", {
        get: function() {
          this._other_config || (this._other_config = this.config.otherconfig.localConfig.json.other);
          return this._other_config;
        },
        enumerable: false,
        configurable: true
      });
      Utils.prototype.isShowTrySkin = function(curLevel) {
        var count = 5;
        exports.utils.ServerConfig && this.getConfigByKey("try_skin_level_count") && (count = this.getConfigByKey("try_skin_level_count"));
        if (curLevel % count == 0) {
          if (exports.utils.ServerConfig && void 0 != this.getConfigByKey("try_skin_show_ad_interval") && curLevel % this.getConfigByKey("try_skin_show_ad_interval") == 0) {
            exports.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u95f4\u9694" + this.getConfigByKey("try_skin_show_ad_interval") + "\u5173\u8bd5\u7528\u76ae\u80a4\u5c55\u793a\u63d2\u5c4f\uff01");
            exports.utils.adManager.ShowInterstitial();
          }
          return true;
        }
        return false;
      };
      Utils.prototype.showSkipBtn = function(btn, isCloseBtn, location) {
        void 0 === isCloseBtn && (isCloseBtn = false);
        void 0 === location && (location = YZ_Constant_1.BannerLocation.None);
        if (btn) {
          var delayShowBtn = PlatUtils_1.default.IsNativeAndroid ? 3 : 0;
          this.getConfigByKey("skip_btn_show_delay") && (delayShowBtn = this.getConfigByKey("skip_btn_show_delay"));
          isCloseBtn && this.getConfigByKey("special_skip_btn_show_delay") && (delayShowBtn = this.getConfigByKey("special_skip_btn_show_delay"));
          PlatUtils_1.default.IsTest && (this.ServerConfig.over_page_skip_btn_show_delay = 3);
          location == YZ_Constant_1.BannerLocation.Over && this.getConfigByKey("over_page_skip_btn_show_delay") && (delayShowBtn = this.getConfigByKey("over_page_skip_btn_show_delay"));
          if (delayShowBtn > 0) {
            btn.opacity = 0;
            btn.active = false;
            this.scheduleOnce(function() {
              if (btn && cc.isValid(btn)) {
                btn.active = true;
                btn.runAction(cc.fadeIn(.3));
              }
            }, delayShowBtn);
          } else btn.active || (btn.active = true);
        }
      };
      Utils.prototype.delayShowNode = function(btn) {
        if (btn) {
          btn.opacity = 0;
          btn.active = true;
          var delayShowBtn = 0;
          this.getConfigByKey("next_btn_show_delay") && (delayShowBtn = this.getConfigByKey("next_btn_show_delay"));
          this.scheduleOnce(function() {
            btn && cc.isValid(btn) && btn.runAction(cc.fadeIn(.3));
          }, delayShowBtn);
        }
      };
      Utils.prototype.isBoxAutoSelectToggle = function() {
        var cap_level = 0;
        var level = exports.utils.currentLevel;
        this.getConfigByKey("box_auto_select_level") ? cap_level = Number(this.getConfigByKey("box_auto_select_level")) : exports.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u5b58\u5728\uff0c\u4e0d\u81ea\u52a8\u52fe\u9009");
        if (0 != cap_level && level % cap_level == 0) return true;
        return false;
      };
      Utils.prototype.isResultAutoSelectToggle = function() {
        var cap_level = 0;
        var level = exports.utils.currentLevel;
        this.getConfigByKey("result_auto_select_level") ? cap_level = Number(this.getConfigByKey("result_auto_select_level")) : exports.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u5b58\u5728\uff0c\u4e0d\u81ea\u52a8\u52fe\u9009");
        if (0 != cap_level && level % cap_level == 0) return true;
        return false;
      };
      Utils.prototype.isTrySkinAutoSelectToggle = function() {
        var cap_level = 0;
        var level = exports.utils.currentLevel;
        this.getConfigByKey("skin_auto_select_level") ? cap_level = Number(this.getConfigByKey("skin_auto_select_level")) : exports.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u5b58\u5728\uff0c\u4e0d\u81ea\u52a8\u52fe\u9009");
        if (0 != cap_level && level % cap_level == 0) return true;
        return false;
      };
      Object.defineProperty(Utils.prototype, "gameVersion", {
        get: function() {
          if (this.cur_tool && this.cur_tool.gameVersion) return this.cur_tool.gameVersion();
          return "-1";
        },
        enumerable: false,
        configurable: true
      });
      Utils.prototype.controView = function(view) {
        var result = {
          isSelect: true,
          msg: "\u89c2\u770b\u89c6\u9891\u83b7\u5f97\u5956\u52b1",
          btnType: true,
          is_open: false
        };
        var adTipsType;
        var selectType;
        if (!exports.utils.ServerConfig) {
          exports.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u5b58\u5728");
          return result;
        }
        if ("false" == this.getConfigByKey("open_check_btn")) {
          exports.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u5f00\u542f\u52fe\u9009\uff01");
          return result;
        }
        result.is_open = true;
        switch (view) {
         case YZ_Constant_1.ViewLocation.sign:
          selectType = this.getConfigByKey("sign_auto_select_level") ? this.getConfigByKey("sign_auto_select_level") : 0;
          adTipsType = "true" != this.getConfigByKey("ad_tip_sign_random") || Math.random() >= .5;
          result.msg = adTipsType ? "\u67e5\u770b\u89c6\u9891\u83b7\u5f97\u53cc\u500d\u5956\u52b1" : "\u4e0d\u9700\u8981\u89c6\u9891\u5956\u52b1";
          break;

         case YZ_Constant_1.ViewLocation.trySkin:
          selectType = this.getConfigByKey("tryskin_auto_select_level") ? this.getConfigByKey("tryskin_auto_select_level") : 0;
          adTipsType = "true" != this.getConfigByKey("ad_tip_tryskin_random") || Math.random() >= .5;
          result.msg = adTipsType ? "\u67e5\u770b\u89c6\u9891\u8bd5\u7528\u76ae\u80a4" : "\u4e0d\u9700\u8981\u89c6\u9891\u8bd5\u7528\u76ae\u80a4";
          break;

         case YZ_Constant_1.ViewLocation.box:
          selectType = this.getConfigByKey("box_auto_select_level") ? this.getConfigByKey("box_auto_select_level") : 0;
          adTipsType = "true" != this.getConfigByKey("ad_tip_box_random") || Math.random() >= .5;
          result.msg = adTipsType ? "\u67e5\u770b\u89c6\u9891\u83b7\u5f97\u4e94\u500d\u5956\u52b1" : "\u4e0d\u9700\u8981\u89c6\u9891\u5956\u52b1";
          break;

         case YZ_Constant_1.ViewLocation.successBox:
          selectType = this.getConfigByKey("success_box_auto_select_level") ? this.getConfigByKey("success_box_auto_select_level") : 0;
          break;

         case YZ_Constant_1.ViewLocation.failBox:
          selectType = this.getConfigByKey("fail_box_auto_select_level") ? this.getConfigByKey("fail_box_auto_select_level") : 0;
          break;

         case YZ_Constant_1.ViewLocation.winPanel:
          selectType = this.getConfigByKey("win_panel_auto_select_level") ? this.getConfigByKey("win_panel_auto_select_level") : 0;
          break;

         case YZ_Constant_1.ViewLocation.turntable:
          selectType = this.getConfigByKey("turntable_auto_select_level") ? this.getConfigByKey("turntable_auto_select_level") : 0;
        }
        0 == selectType ? result.isSelect = false : 1 == selectType ? result.isSelect = true : 2 == selectType && (result.isSelect = Math.random() >= .5);
        result.btnType = adTipsType == result.isSelect;
        return result;
      };
      Utils.prototype.canShowNextVideo = function(level) {
        if (exports.utils.ServerConfig && this.getConfigByKey("next_auto_video_interval")) {
          var cap = Number(this.getConfigByKey("next_auto_video_interval"));
          if (cap && 0 != cap) if (level % cap == 0) if (PlatUtils_1.default.IsDouyin) {
            if (this.getConfigByKey("version") != exports.utils.config.douyinconfig.version) return true;
          } else if (PlatUtils_1.default.IsBaidu) {
            if (this.getConfigByKey("version") != exports.utils.config.baiduconfig.version) return true;
          } else {
            if (!PlatUtils_1.default.ISUC) return true;
            if (this.getConfigByKey("version") != exports.utils.config.ucConfig.version) return true;
          } else if (PlatUtils_1.default.Is4399) {
            cap = 3;
            if (0 != cap && level % cap == 0) return this.true;
          }
        }
        return false;
      };
      Utils.prototype.canShowRedBag = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return false;
        }
        if (this.Tool_Broswer) return true;
        if (this.ServerConfig && this.yzRedBagInfo && this.ServerConfig.show_red_bag && "true" == this.ServerConfig.show_red_bag) return true;
        exports.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u4e0d\u663e\u793a\u7ea2\u5305\u7ec4\u4ef6\uff01");
        return false;
      };
      Utils.prototype.hideWithdrawalWidget = function() {
        this._withdrawalWidget && cc.isValid(this._withdrawalWidget) && this._withdrawalWidget.destroy();
      };
      Utils.prototype.showWithdrawalWidget = function(params) {
        void 0 === params && (params = null);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (!this.canShowRedBag()) return null;
        if (this.config.otherconfig.withdrawalWidget) {
          var node = cc.instantiate(this.config.otherconfig.withdrawalWidget);
          if (node) {
            this._withdrawalWidget && cc.isValid(this._withdrawalWidget) && this._withdrawalWidget.destroy();
            this._withdrawalWidget = node;
            this._withdrawalWidget.zIndex = 9999;
            var widget = node.getComponent(cc.Widget);
            if (params) {
              params.group && (node.group = params.group);
              null != params.scale && (node.scale = params.scale);
              if (null != params.top) {
                widget.isAlignTop = true;
                widget.isAlignBottom = false;
                widget.top = params.top;
              } else if (null != params.bottom) {
                widget.isAlignTop = false;
                widget.isAlignBottom = true;
                widget.bottom = params.bottom;
              }
              if (null != params.left) {
                widget.isAlignLeft = true;
                widget.isAlignRight = false;
                widget.left = params.left;
              } else if (null != params.right) {
                widget.isAlignLeft = false;
                widget.isAlignRight = true;
                widget.right = params.right;
              }
              null != params.parent && (node.parent = params.parent);
            }
            widget.updateAlignment();
            return node;
          }
        } else exports.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 WithdrawalWidget, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        return null;
      };
      Utils.prototype.hideRedBagProgressWidget = function() {
        this._redBagProgressWidget && cc.isValid(this._redBagProgressWidget) && this._redBagProgressWidget.destroy();
      };
      Utils.prototype.showRedBagProgressWidget = function(params) {
        void 0 === params && (params = null);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (!this.canShowRedBag()) return null;
        if (this.config.otherconfig.redBagProgressWidget) {
          var node = cc.instantiate(this.config.otherconfig.redBagProgressWidget);
          if (node) {
            this._redBagProgressWidget && cc.isValid(this._redBagProgressWidget) && this._redBagProgressWidget.destroy();
            this._redBagProgressWidget = node;
            this._redBagProgressWidget.zIndex = 9999;
            var widget = node.getComponent(cc.Widget);
            if (params) {
              params.location && node.getComponent(RedBagProgressWidget_1.default).init(params);
              params.group && (node.group = params.group);
              null != params.scale && (node.scale = params.scale);
              if (null != params.top) {
                widget.isAlignTop = true;
                widget.isAlignBottom = false;
                widget.top = params.top;
              } else if (null != params.bottom) {
                widget.isAlignTop = false;
                widget.isAlignBottom = true;
                widget.bottom = params.bottom;
              }
              if (null != params.left) {
                widget.isAlignLeft = true;
                widget.isAlignRight = false;
                widget.left = params.left;
              } else if (null != params.right) {
                widget.isAlignLeft = false;
                widget.isAlignRight = true;
                widget.right = params.right;
              }
              null != params.parent && (node.parent = params.parent);
            }
            widget.updateAlignment();
            return node;
          }
        } else exports.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 RedBagProgressWidget, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        return null;
      };
      Utils.prototype.showWithdrawalPanel = function(params) {
        void 0 === params && (params = null);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (!this.canShowRedBag()) return null;
        if (this.config.otherconfig.withdrawalPanel) {
          var node = cc.instantiate(this.config.otherconfig.withdrawalPanel);
          if (node) {
            this._withdrawalPanel && cc.isValid(this._withdrawalPanel) && this._withdrawalPanel.destroy();
            this._withdrawalPanel = node;
            cc.director.getScene().addChild(this._withdrawalPanel, 9999);
          } else exports.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 WithdrawalPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
          return null;
        }
      };
      Utils.prototype.showOpenRedBagPanel = function(params) {
        void 0 === params && (params = null);
        params && params.closeCallFunc && (this.rewardCloseFunc = params.closeCallFunc);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          this.rewardCloseFunc && this.rewardCloseFunc();
          return null;
        }
        if (!this.canShowRedBag()) {
          this.rewardCloseFunc && this.rewardCloseFunc();
          return null;
        }
        if (params && params.location && params.location === YZ_Constant_1.BannerLocation.Home) {
          if (this.yzRedBagInfo.progress < this.yzRedBagInfo.totalProgress && !this.yzRedBagInfo.isFreeRedBag) {
            exports.utils.showLog("\u5f53\u524d\u7ea2\u5305\u8fdb\u5ea6\u4e0d\u6ee1\u8db3\u6761\u4ef6\u4e14\u6ca1\u6709\u514d\u8d39\u7ea2\u5305\u9886\u53d6\uff0c\u9996\u9875\u4e0d\u663e\u793a\u62c6\u7ea2\u5305\u7a97\u53e3");
            this.rewardCloseFunc && this.rewardCloseFunc();
            return null;
          }
          this.yzRedBagInfo.isFreeRedBag || (params.showType = 2);
        }
        if (this.config.otherconfig.openRedBagPanel) {
          var node = cc.instantiate(this.config.otherconfig.openRedBagPanel);
          if (node) {
            this._openRedBagPanel && cc.isValid(this._openRedBagPanel) && this._openRedBagPanel.destroy();
            this._openRedBagPanel = node;
            params && params.showType && this._openRedBagPanel.getComponent(OpenRedBagPanel_1.default).initData(params.showType);
            cc.director.getScene().addChild(node, 9999);
          } else exports.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 OpenRedBagPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
          return null;
        }
      };
      Utils.prototype.showRewardRedBagPanel = function(params) {
        void 0 === params && (params = null);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (!this.canShowRedBag()) return null;
        this._rewardRedBagPanelShowCount++;
        if (this._rewardRedBagPanelShowCount % 3 != 0) {
          exports.utils.showLog("\u83b7\u5f97\u7ea2\u5305\u5f39\u7a97\u672a\u8fbe\u5230\u670d\u52a1\u5668\u914d\u7f6e\u7684\u95f4\u9694\u9650\u5236\uff01");
          return;
        }
        if (this.config.otherconfig.rewardRedBagPanel) {
          var node = cc.instantiate(this.config.otherconfig.rewardRedBagPanel);
          if (node) {
            this._rewardRedBagPanel && cc.isValid(this._rewardRedBagPanel) && this._rewardRedBagPanel.destroy();
            this._rewardRedBagPanel = node;
            cc.director.getScene().addChild(this._rewardRedBagPanel, 9999);
          } else exports.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 OpenRedBagPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
          return null;
        }
      };
      Utils.prototype.isVerticalRecommentPanel = function() {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return false;
        }
        if (this.Tool_Broswer) return true;
        if (PlatUtils_1.default.IsWechat) if (exports.utils.isSupportnavigateToMiniGame()) if (exports.utils.wechatTool && exports.utils.wechatTool.ServerConfig && exports.utils.wechatTool.ServerConfig.is_vertical_game) {
          if ("true" == exports.utils.wechatTool.ServerConfig.is_vertical_game) return true;
          exports.utils.showLog("warn:is_vertical_game\u53c2\u6570\u4e3afalse\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_vertical_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"); else exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"); else if (PlatUtils_1.default.IsOPPO) if (exports.utils.isSupportnavigateToMiniGame()) if (exports.utils.oppoTool && exports.utils.oppoTool.ServerConfig && exports.utils.oppoTool.ServerConfig.is_vertical_game) {
          if ("true" == exports.utils.oppoTool.ServerConfig.is_vertical_game) return true;
          exports.utils.showLog("warn:is_vertical_game\u53c2\u6570\u4e3afalse\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_vertical_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"); else exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"); else if (PlatUtils_1.default.IsDouyin) if (PlatUtils_1.default.IsAndroid && exports.utils.isSupportnavigateToMiniGame()) if (exports.utils.Tool_Douyin && exports.utils.Tool_Douyin.ServerConfig && exports.utils.Tool_Douyin.ServerConfig.is_vertical_game) {
          if ("true" == exports.utils.Tool_Douyin.ServerConfig.is_vertical_game) return true;
          exports.utils.showLog("warn:is_vertical_game\u53c2\u6570\u4e3afalse\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_vertical_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"); else exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"); else if (PlatUtils_1.default.IsBaidu) if (exports.utils.isSupportnavigateToMiniGame()) if (exports.utils.Tool_Baidu && exports.utils.Tool_Baidu.ServerConfig && exports.utils.Tool_Baidu.ServerConfig.is_vertical_game) {
          if ("true" == exports.utils.Tool_Baidu.ServerConfig.is_vertical_game) return true;
          exports.utils.showLog("warn:is_vertical_game\u53c2\u6570\u4e3afalse\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_vertical_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"); else exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"); else if (PlatUtils_1.default.IsQQ) if (exports.utils.isSupportnavigateToMiniGame()) if (exports.utils.Tool_QQ && exports.utils.Tool_QQ.ServerConfig && exports.utils.Tool_QQ.ServerConfig.is_vertical_game) {
          if ("true" == exports.utils.Tool_QQ.ServerConfig.is_vertical_game) return true;
          exports.utils.showLog("warn:is_vertical_game\u53c2\u6570\u4e3afalse\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        } else exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_vertical_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"); else exports.utils.showLog("warn:\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u6e38\u620f\u5185\u8df3\u8f6c\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"); else {
          if (PlatUtils_1.default.Is4399) return true;
          if (PlatUtils_1.default.IsNativeAndroid) if (exports.utils.Tool_Native && exports.utils.Tool_Native.ServerConfig && exports.utils.Tool_Native.ServerConfig.is_vertical_game) {
            if ("true" == exports.utils.Tool_Native.ServerConfig.is_vertical_game) return true;
            exports.utils.showLog("warn:is_vertical_game\u53c2\u6570\u4e3afalse\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
          } else exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_vertical_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01"); else if (PlatUtils_1.default.IsNativeIOS) if (exports.utils.Tool_IOS && exports.utils.Tool_IOS.ServerConfig && exports.utils.Tool_IOS.ServerConfig.is_vertical_game) {
            if ("true" == exports.utils.Tool_IOS.ServerConfig.is_vertical_game) return true;
            exports.utils.showLog("warn:is_vertical_game\u53c2\u6570\u4e3afalse\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
          } else exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_vertical_game\u53c2\u6570\uff0c\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        }
        return false;
      };
      Utils.prototype.showVerticalRecommentPanel = function(params) {
        void 0 === params && (params = null);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (!this.isVerticalRecommentPanel()) return null;
        if (this.config.otherconfig.verticalRecommentPanel) {
          var node = cc.instantiate(this.config.otherconfig.verticalRecommentPanel);
          if (node) {
            node.zIndex = 9999;
            var widget = node.getComponent(cc.Widget);
            if (params) {
              params.group && (node.group = params.group);
              null != params.scale && (node.scale = params.scale);
              if (null != params.top) {
                widget.isAlignTop = true;
                widget.isAlignBottom = false;
                widget.top = params.top;
              } else if (null != params.bottom) {
                widget.isAlignTop = false;
                widget.isAlignBottom = true;
                widget.bottom = params.bottom;
              }
              if (null != params.left) {
                widget.isAlignLeft = true;
                widget.isAlignRight = false;
                widget.left = params.left;
              } else if (null != params.right) {
                widget.isAlignLeft = false;
                widget.isAlignRight = true;
                widget.right = params.right;
              }
              null != params.parent && (node.parent = params.parent);
              null != params.position && node.setPosition(CompatibleTool_1.default.position(params.position.x, params.position.y));
            }
            widget.updateAlignment();
            return node;
          }
        } else exports.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 verticalRecommentPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
        return null;
      };
      Utils.prototype.isShowPrivacyWidget = function() {
        if (this.Tool_Broswer) return true;
        if ("true" == this.getConfigByKey("is_privacy")) return true;
        exports.utils.showLog("warn:\u914d\u7f6e\u4e2d\u6ca1\u6709is_privacy\u53c2\u6570\uff0c\u66f4\u7528\u6237\u534f\u8bae\u6302\u4ef6\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        return false;
      };
      Utils.prototype.showPrivacyWidget = function(params) {
        void 0 === params && (params = null);
        if (exports.utils.isShowPrivacyWidget()) {
          if (this.config.otherconfig.privacyWidget) {
            this._privacyWidget && cc.isValid(this._privacyWidget) && this._privacyWidget.destroy();
            var node_1 = cc.instantiate(this.config.otherconfig.privacyWidget);
            this._privacyWidget = node_1;
            this._privacyWidget.zIndex = 9999;
            var widget = node_1.getComponent(cc.Widget);
            if (params) {
              params.color && (node_1.children[0].color = params.color);
              params.group && (node_1.group = params.group);
              null != params.scale && (node_1.scale = params.scale);
              if (null != params.top) {
                widget.isAlignTop = true;
                widget.isAlignBottom = false;
                widget.top = params.top;
              } else if (null != params.bottom) {
                widget.isAlignTop = false;
                widget.isAlignBottom = true;
                widget.bottom = params.bottom;
              }
              if (null != params.left) {
                widget.isAlignLeft = true;
                widget.isAlignRight = false;
                widget.left = params.left;
              } else if (null != params.right) {
                widget.isAlignLeft = false;
                widget.isAlignRight = true;
                widget.right = params.right;
              }
              null != params.parent && (node_1.parent = params.parent);
            }
            widget.updateAlignment();
            node_1.on(cc.Node.EventType.TOUCH_END, function() {
              PlatUtils_1.default.IsNativeAndroid ? exports.utils.Tool_Native && exports.utils.Tool_Native.showPrivacyAgreement() : exports.utils.showPrivacyPanel({
                is_widget_click: "true",
                group: node_1.group
              });
            }, this);
            return node_1;
          }
          exports.utils.showLog("warn:\u9690\u79c1\u653f\u7b56\u6302\u4ef6\u9884\u5236\u4f53\u4e0d\u5b58\u5728\uff01");
        } else exports.utils.showLog("warn:\u4e0d\u53ef\u663e\u793a\u66f4\u591a\u6e38\u620f\u4fa7\u8fb9\u680f");
        return null;
      };
      Utils.prototype.hidePrivacyWidget = function() {
        this._privacyWidget && cc.isValid(this._privacyWidget) && this._privacyWidget.destroy();
      };
      Utils.prototype.isShowPrivacyPanel = function() {
        if (PlatUtils_1.default.IsHuaWei || PlatUtils_1.default.IsXiaoMi) return true;
        if (this.getConfigByKey("is_privacy_panel")) {
          if ("true" == this.getConfigByKey("is_privacy_panel")) return true;
          exports.utils.showLog("warn:is_privacy_panel\u53c2\u6570\u4e3afalse\uff0c\u7528\u6237\u9690\u79c1\u653f\u7b56\u5f39\u7a97\u7ec4\u4ef6\u4e0d\u663e\u793a\uff01");
        }
        return false;
      };
      Utils.prototype.showPrivacyPanel = function(params) {
        var _this = this;
        void 0 === params && (params = null);
        exports.utils.showLog("showPrivacyPanel>>>");
        var showPanel = function(showDesc) {
          if (_this.config.otherconfig.privacyPanel) {
            _this._privacyPanel && cc.isValid(_this._privacyPanel) && _this._privacyPanel.destroy();
            var node = cc.instantiate(_this.config.otherconfig.privacyPanel);
            var yzUserPrivacyPanel = node.getComponent(YzUserPrivacyPanel_1.default);
            yzUserPrivacyPanel.showDesc = showDesc;
            _this._privacyPanel = node;
            _this._privacyPanel.zIndex = 9999;
            var widget = node.getComponent(cc.Widget);
            var subject = "\u6df1\u5733\u5e02\u4f18\u667a\u4fe1\u606f\u6280\u672f\u6709\u9650\u516c\u53f8";
            params && params.subject && (subject = params.subject);
            var content = cc.find("Panel/subject", node).getComponent(cc.Label).string;
            content = content.replace("subject", subject);
            cc.find("Panel/subject", node).getComponent(cc.Label).string = content;
            if (params) {
              params.group && (node.group = params.group);
              null != params.scale && (node.scale = params.scale);
              if (null != params.top) {
                widget.isAlignTop = true;
                widget.isAlignBottom = false;
                widget.top = params.top;
              } else if (null != params.bottom) {
                widget.isAlignTop = false;
                widget.isAlignBottom = true;
                widget.bottom = params.bottom;
              }
              if (null != params.left) {
                widget.isAlignLeft = true;
                widget.isAlignRight = false;
                widget.left = params.left;
              } else if (null != params.right) {
                widget.isAlignLeft = false;
                widget.isAlignRight = true;
                widget.right = params.right;
              }
              null != params.parent ? node.parent = params.parent : cc.find("Canvas").addChild(node, cc.macro.MAX_ZINDEX);
            } else cc.find("Canvas").addChild(node, cc.macro.MAX_ZINDEX);
            widget.updateAlignment();
          } else exports.utils.showLog("warn:\u9690\u79c1\u653f\u7b56\u5f39\u7a97\u9884\u5236\u4f53\u4e0d\u5b58\u5728\uff01");
        };
        if (params && params.is_widget_click) showPanel(true); else {
          var ysxy = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.YZ_GAME_YSXY);
          if (ysxy) {
            exports.utils.emitPrivacyCloseEvent();
            exports.utils.showLog("\u5df2\u7ecf\u540c\u610f\u8fc7\u9690\u79c1\u534f\u8bae\uff0c\u4e0d\u663e\u793a\u9690\u79c1\u534f\u8bae\u5f39\u7a97\uff01");
            return;
          }
          exports.utils.registerServerDataLoadSuccessEvent(function() {
            showPanel();
          }, this);
        }
      };
      Utils.prototype.showScaleAction = function(videoBtn, normalBtn, changeBtn, showHand, location) {
        void 0 === normalBtn && (normalBtn = null);
        void 0 === changeBtn && (changeBtn = true);
        void 0 === showHand && (showHand = true);
        void 0 === location && (location = YZ_Constant_1.BannerLocation.None);
        if (changeBtn) {
          if (!cc.isValid(normalBtn) || !cc.isValid(videoBtn)) return;
        } else if (!cc.isValid(videoBtn)) return;
        true;
        this.ServerConfig.btn_show_scale = "true";
        this.ServerConfig.change_btn_position = "true";
        this.ServerConfig.over_page_change_btn = "false";
        this.ServerConfig.over_page_scale_btn = "false";
        var scaleNode = videoBtn;
        if ("true" == this.getConfigByKey("change_btn_position") && true == changeBtn) {
          var changePosition = true;
          if (location == YZ_Constant_1.BannerLocation.Over && "false" == this.getConfigByKey("over_page_change_btn")) {
            changePosition = false;
            exports.utils.showLog("\u7ed3\u7b97\u9875\u9762\u6309\u94ae\u914d\u7f6e\u4e0d\u5207\u6362\u4f4d\u7f6e\uff01");
          }
          if (changePosition) {
            var rand = Math.floor(2 * Math.random() + 1);
            var videoPos = videoBtn.position;
            var normalPos = normalBtn.position;
            if (rand % 2 == 0) {
              normalBtn.position = videoPos;
              videoBtn.position = normalPos;
            } else {
              scaleNode = videoBtn;
              normalBtn.position = normalPos;
              videoBtn.position = videoPos;
            }
            scaleNode = normalBtn.position.y > videoBtn.position.y ? normalBtn : videoBtn;
          }
        }
        if ("true" == this.getConfigByKey("btn_show_scale")) {
          if (location == YZ_Constant_1.BannerLocation.Over && "false" == this.getConfigByKey("over_page_scale_btn")) {
            exports.utils.showLog("\u7ed3\u7b97\u9875\u9762\u6309\u94ae\u914d\u7f6e\u4e0d\u7f29\u653e\u6309\u94ae\uff01");
            return;
          }
          if (videoBtn) {
            videoBtn.stopAllActions();
            videoBtn.scale = 1;
          }
          if (normalBtn) {
            normalBtn.stopAllActions();
            normalBtn.scale = 1;
          }
          var action = cc.sequence(cc.scaleTo(this.runTime, this.maxScale), cc.scaleTo(this.runTime, this.minScale));
          scaleNode.runAction(action.repeatForever());
          if (showHand) {
            if (videoBtn) {
              var child = videoBtn.parent.getChildByName("hand");
              if (child) {
                child.destroy();
                child.removeFromParent();
              }
            }
            if (normalBtn) {
              var child = normalBtn.parent.getChildByName("hand");
              if (child) {
                child.destroy();
                child.removeFromParent();
              }
            }
            if (this.config.otherconfig.handPrefab) {
              var hand = cc.instantiate(this.config.otherconfig.handPrefab);
              hand.x = scaleNode.x + scaleNode.width / 2;
              hand.y = scaleNode.y - 135;
              scaleNode.parent.addChild(hand, cc.macro.MAX_ZINDEX + 1, "hand");
            }
          }
        }
      };
      Utils.prototype.reportNativeAdClick = function() {
        if ((new Date().getTime() - this._lastReportAdTime) / 1e3 > 3) {
          this._lastReportAdTime = new Date().getTime();
          cc.game.emit(YZ_Constant_1.default.YZ_NativeAdClick);
          this.showLog("\u4e0a\u62a5\u539f\u751f\u5e7f\u544a\u70b9\u51fb\uff01");
        } else this.showLog("\u4e0a\u62a5\u539f\u751f\u5e7f\u544a\u70b9\u51fb\u95f4\u9694\u65f6\u95f4\u5c0f\u4e8e3\u79d2\uff01");
      };
      Utils.prototype.canShowOverPageAdBtn = function() {
        if (this.ServerConfig && this.ServerConfig.show_over_page_ad_btn && "true" == this.ServerConfig.show_over_page_ad_btn) return true;
        return false;
      };
      Utils.prototype.showRecBanner = function() {
        if (!exports.utils.adManager.checkShowAdTime()) {
          exports.utils.showLog("\u663e\u793a\u5e7f\u544a\u6761\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01");
          return;
        }
        this.cur_tool && this.cur_tool.showRecBanner && this.cur_tool.showRecBanner();
      };
      Utils.prototype.showGamePortal = function() {
        if (!exports.utils.adManager.checkShowAdTime()) {
          exports.utils.showLog("\u663e\u793a\u5e7f\u544a\u6761\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01");
          return;
        }
        this.cur_tool && this.cur_tool.showGamePortal && this.cur_tool.showGamePortal();
      };
      Utils.prototype.showVivoGamePortalWidget = function(params) {
        void 0 === params && (params = null);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return;
        }
        if (!PlatUtils_1.default.IsVIVO) return;
        if (!exports.utils.adManager.checkShowAdTime()) {
          exports.utils.showLog("\u663e\u793a\u5e7f\u544a\u6761\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01");
          return;
        }
        if ("true" === this.getConfigByKey("vivo_game_protal")) {
          if (params && params.location && this.getConfigByKey("vivo_game_protal_locations").indexOf(params.location) < 0) {
            exports.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u670d\u52a1\u5668\u672a\u914d\u7f6e\u663e\u793aVIVO\u4e5d\u5bab\u683c\u6302\u4ef6\uff01");
            this.Tool_Vivo && this.Tool_Vivo.hideGamePortal();
            return;
          }
          this.Tool_Vivo && this.Tool_Vivo.showGamePortal(params.top);
        } else exports.utils.showLog("\u670d\u52a1\u5668\u672a\u914d\u7f6e\u663e\u793aVIVO\u4e5d\u5bab\u683c\u6302\u4ef6\uff01");
      };
      Utils.prototype.hideVivoGamePortalWidget = function() {
        this.Tool_Vivo && this.Tool_Vivo.hideGamePortal();
      };
      Utils.prototype.showOppoGameDrawerAdWidget = function(params) {
        void 0 === params && (params = null);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return;
        }
        if (!PlatUtils_1.default.IsOPPO) return;
        if (!exports.utils.adManager.checkShowAdTime()) {
          exports.utils.showLog("\u663e\u793a\u5e7f\u544a\u6761\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01");
          return;
        }
        true;
        this.ServerConfig.oppo_game_drawer = "true";
        this.ServerConfig.oppo_game_drawer_locations = "1, 2, 3, 4,5,6";
        if ("true" === this.getConfigByKey("oppo_game_drawer")) {
          if (params && params.location && this.getConfigByKey("oppo_game_drawer_locations").indexOf(params.location) < 0) {
            exports.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u670d\u52a1\u5668\u672a\u914d\u7f6e\u663e\u793aOPPO\u4e92\u63a8\u62bd\u5c49\u76d2\u5b50\uff01");
            this.oppoTool && this.oppoTool.hideGameDrawerAd();
            return;
          }
          this.oppoTool && this.oppoTool.showGameDrawerAd(params);
        } else exports.utils.showLog("\u670d\u52a1\u5668\u672a\u914d\u7f6e\u663e\u793aOPPO\u4e92\u63a8\u62bd\u5c49\u76d2\u5b50\uff01");
      };
      Utils.prototype.hideOppoGameDrawerAdWidget = function() {
        this.oppoTool && this.oppoTool.hideGameDrawerAd();
      };
      Utils.prototype.showOppoRecBanner = function(params) {
        void 0 === params && (params = null);
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return;
        }
        if (!PlatUtils_1.default.IsOPPO) return;
        if (!exports.utils.adManager.checkShowAdTime()) {
          exports.utils.showLog("\u663e\u793a\u5e7f\u544a\u6761\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01");
          return;
        }
        true;
        this.ServerConfig.oppo_rec_banner = "true";
        this.ServerConfig.oppo_rec_banner_locations = "1, 2, 3, 4";
        if ("true" === this.getConfigByKey("oppo_rec_banner")) {
          if (params && params.location && this.getConfigByKey("oppo_rec_banner_locations").indexOf(params.location) < 0) {
            exports.utils.showLog("\u5f53\u524d\u4f4d\u7f6e\u670d\u52a1\u5668\u672a\u914d\u7f6e\u663e\u793aOPPO\u4e92\u63a8Banner\uff01");
            this.oppoTool && this.oppoTool.hideOppoRecBanner();
            return;
          }
          this.oppoTool && this.oppoTool.showOppoNewRecBanner(params);
        } else exports.utils.showLog("\u670d\u52a1\u5668\u672a\u914d\u7f6e\u663e\u793aOPPO\u4e92\u63a8Banner\uff01");
      };
      Utils.prototype.hideOppoRecBanner = function() {
        this.oppoTool && this.oppoTool.hideOppoRecBanner();
      };
      Utils.prototype.realNameAuth = function(code, name, callBack) {
        exports.utils.showLog("\u8fdb\u884c\u5b9e\u540d\u5236\u8ba4\u8bc1\uff1a#code=" + code + " #name=" + name);
        exports.utils.cur_tool && exports.utils.cur_tool.realNameAuth && exports.utils.cur_tool.realNameAuth(code, name, callBack);
      };
      Utils.prototype.GameExit = function() {
        this.cur_tool && this.cur_tool.GameExit && this.cur_tool.GameExit();
      };
      Utils.prototype.showYzRealNameAuthPanel = function(params) {
        void 0 === params && (params = null);
        exports.utils.showLog("\u663e\u793a\u5b9e\u540d\u5236\u8ba4\u8bc1\u5f39\u7a97!");
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return;
        }
        this.getRealNameAuthLocalData() && "1" == this.getRealNameAuthLocalData() && (this._isRealNameAuth = true);
        if (this._isRealNameAuth) {
          exports.utils.showLog("\u5df2\u7ecf\u8fdb\u884c\u8fc7\u5b9e\u540d\u5236\u8ba4\u8bc1,\u4e0d\u663e\u793a\u5f39\u7a97\uff01");
          this.emitRealNameAuthCloseEvent();
          return;
        }
        var showTime = -1;
        (PlatUtils_1.default.IsNativeAndroid || PlatUtils_1.default.IsNativeIOS) && (showTime = 0);
        this.getConfigByKey("show_real_name_auth") && (showTime = parseInt(this.getConfigByKey("show_real_name_auth")));
        if (-1 == showTime) {
          exports.utils.showLog("\u670d\u52a1\u5668\u63a7\u5236\u4e0d\u663e\u793a\u5b9e\u540d\u5236\u5f39\u7a97\uff01");
          this.emitRealNameAuthCloseEvent();
          return;
        }
        if (PlatUtils_1.default.IsNativeAndroid) {
          this.scheduleOnce(function() {
            exports.utils.Tool_Native.showRealNameAuthPanel(showTime + "");
          }, showTime);
          return;
        }
        if (this.config.otherconfig.yzRealNameAuthPanel) {
          this._yzRealNameAuthPanel && cc.isValid(this._yzRealNameAuthPanel) && this._yzRealNameAuthPanel.destroy();
          var node_2 = cc.instantiate(this.config.otherconfig.yzRealNameAuthPanel);
          if (-2 == showTime) {
            node_2.getComponent(YzRealNameAuthPanel_1.default)._isOffLine = true;
            showTime = 0;
          }
          this._yzRealNameAuthPanel = node_2;
          this._yzRealNameAuthPanel.zIndex = 9999;
          if (params) {
            params.group && (node_2.group = params.group);
            null != params.scale && (node_2.scale = params.scale);
            this.scheduleOnce(function() {
              null != params.parent ? node_2.parent = params.parent : cc.find("Canvas").addChild(node_2);
            }, 1e3 * showTime);
          } else this.scheduleOnce(function() {
            cc.find("Canvas").addChild(node_2);
          }, 1e3 * showTime);
          return node_2;
        }
        exports.utils.showLog("warn:\u5b9e\u540d\u5236\u8ba4\u8bc1\u5f39\u7a97\u9884\u5236\u4f53\u4e0d\u5b58\u5728\uff01");
        return null;
      };
      Utils.prototype.setRealNameAuthLocalData = function(value) {
        YZ_LocalStorage_1.default.setItem("yz_game_real_name", "" + value);
      };
      Utils.prototype.getRealNameAuthLocalData = function() {
        var realName = YZ_LocalStorage_1.default.getItem("yz_game_real_name");
        realName || (realName = 0);
        return realName;
      };
      Utils.prototype.getConfigByKey = function(key) {
        if (!this._isConfigInit) {
          exports.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return "";
        }
        if (key && this.ServerConfig && key in this.ServerConfig) return this.ServerConfig[key];
        this.showLog("warn:\u5b57\u6bb5\uff1a" + key + " \u672a\u914d\u7f6e\uff01");
        return "";
      };
      Utils.prototype.login = function(successCallFunc, failCallFunc) {
        var _this = this;
        this.showLog("=====login====");
        if (successCallFunc) {
          PlatUtils_1.default.IsDouyin;
          cc.game.targetOff(YZ_Constant_1.default.ST_LOGIN_SUCCESS);
          cc.game.on(YZ_Constant_1.default.ST_LOGIN_SUCCESS, successCallFunc, this);
        }
        if (failCallFunc) {
          var newFailFunc = function() {
            failCallFunc();
            _this.showLoginPanel();
          };
          cc.game.targetOff(YZ_Constant_1.default.ST_LOGIN_FAIL);
          cc.game.on(YZ_Constant_1.default.ST_LOGIN_FAIL, newFailFunc, this);
        } else {
          var newFailFunc = function() {
            _this.showLoginPanel();
          };
          cc.game.targetOff(YZ_Constant_1.default.ST_LOGIN_FAIL);
          cc.game.on(YZ_Constant_1.default.ST_LOGIN_FAIL, newFailFunc, this);
        }
        if (this.cur_tool && this.cur_tool.login) this.cur_tool.login(); else {
          cc.game.targetOff(YZ_Constant_1.default.ST_LOGIN_SUCCESS);
          cc.game.targetOff(YZ_Constant_1.default.ST_LOGIN_FAIL);
          successCallFunc && successCallFunc();
        }
      };
      Utils.prototype.showLoginPanel = function() {
        if (this.config.otherconfig.yzLoginPanel) {
          var node = cc.instantiate(this.config.otherconfig.yzLoginPanel);
          if (node) {
            this._yzLoginPanel && cc.isValid(this._yzLoginPanel) && this._yzLoginPanel.destroy();
            this._yzLoginPanel = node;
            cc.find("Canvas").addChild(node, cc.macro.MAX_ZINDEX);
            return node;
          }
        } else exports.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 YzLoginPanel, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c\uff01");
      };
      Utils.prototype.generateUUID = function() {
        var d = new Date().getTime();
        window.performance && "function" === typeof window.performance.now && (d += performance.now());
        var uuid = "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g, function(c) {
          var r = (d + 16 * Math.random()) % 16 | 0;
          d = Math.floor(d / 16);
          return ("x" == c ? r : 3 & r | 8).toString(16);
        });
        return uuid;
      };
      __decorate([ property({
        displayName: "\u7ec4\u4ef6\u7248\u672c",
        readonly: true
      }) ], Utils.prototype, "utilsVersion", null);
      __decorate([ property({
        displayName: "\u6d4b\u8bd5\u672c\u5730\u6570\u636e",
        tooltip: "\u52fe\u9009\u6b64\u9009\u9879\u5219\u4f7f\u7528\u672c\u5730\u914d\u7f6e\uff0c\u5426\u5219\u4f1a\u8bf7\u6c42\u670d\u52a1\u5668\u914d\u7f6e!"
      }) ], Utils.prototype, "DebugLoacalConfig", void 0);
      __decorate([ property({
        displayName: "\u663e\u793a\u65e5\u5fd7\u6846",
        tooltip: "\u52fe\u9009\u6b64\u9009\u9879\u5219\u4f1a\u663e\u793a\u65e5\u5fd7\u6846\uff0c\u7528\u4e8e\u8c03\u8bd5!"
      }) ], Utils.prototype, "showLogView", void 0);
      __decorate([ property({
        type: CommonConfig_1.default,
        displayName: "\u914d\u7f6e\u4fe1\u606f"
      }) ], Utils.prototype, "config", void 0);
      Utils = __decorate([ ccclass ], Utils);
      return Utils;
    }(cc.Component);
    exports.default = Utils;
    cc._RF.pop();
  }, {
    "./AdManager": "AdManager",
    "./AldUtils": "AldUtils",
    "./CommonConfig": "CommonConfig",
    "./CompatibleTool": "CompatibleTool",
    "./Encrypt/CryptoJS": "CryptoJS",
    "./OpenRedBagPanel": "OpenRedBagPanel",
    "./PlatUtils": "PlatUtils",
    "./RedBagProgressWidget": "RedBagProgressWidget",
    "./WechatTool": "WechatTool",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage",
    "./YZ_Tool_4399": "YZ_Tool_4399",
    "./YZ_Tool_Baidu": "YZ_Tool_Baidu",
    "./YZ_Tool_Bili": "YZ_Tool_Bili",
    "./YZ_Tool_Broswer": "YZ_Tool_Broswer",
    "./YZ_Tool_Cocosplay": "YZ_Tool_Cocosplay",
    "./YZ_Tool_Douyin": "YZ_Tool_Douyin",
    "./YZ_Tool_FaceBook": "YZ_Tool_FaceBook",
    "./YZ_Tool_GoogleWeb": "YZ_Tool_GoogleWeb",
    "./YZ_Tool_Hago": "YZ_Tool_Hago",
    "./YZ_Tool_HuaWei": "YZ_Tool_HuaWei",
    "./YZ_Tool_IOS": "YZ_Tool_IOS",
    "./YZ_Tool_Kwai": "YZ_Tool_Kwai",
    "./YZ_Tool_Native": "YZ_Tool_Native",
    "./YZ_Tool_Oppo": "YZ_Tool_Oppo",
    "./YZ_Tool_QQ": "YZ_Tool_QQ",
    "./YZ_Tool_QTT": "YZ_Tool_QTT",
    "./YZ_Tool_UC": "YZ_Tool_UC",
    "./YZ_Tool_Vivo": "YZ_Tool_Vivo",
    "./YZ_Tool_Wifi": "YZ_Tool_Wifi",
    "./YZ_Tool_Xiaomi": "YZ_Tool_Xiaomi",
    "./YzRealNameAuthPanel": "YzRealNameAuthPanel",
    "./YzUserPrivacyPanel": "YzUserPrivacyPanel"
  } ],
  VerticalRecommentPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e9374miWaFPkomPvJdFnlTk", "VerticalRecommentPanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var PlatUtils_1 = require("./PlatUtils");
    var CompatibleTool_1 = require("./CompatibleTool");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var VerticalRecommentPanel = function(_super) {
      __extends(VerticalRecommentPanel, _super);
      function VerticalRecommentPanel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._recommendNode = null;
        _this._isInit = false;
        _this._gameList = [];
        _this._data = null;
        _this._curIndex = 0;
        return _this;
      }
      VerticalRecommentPanel_1 = VerticalRecommentPanel;
      VerticalRecommentPanel.prototype.onLoad = function() {
        this._recommendNode = cc.find("Panel/RecommendGamesNode", this.node);
        this._recommendNode.active = false;
        for (var i = 0; i < this._recommendNode.childrenCount; i++) {
          var gameItem = this._recommendNode.children[i].getComponent("GameItem");
          this._gameList.push(gameItem);
        }
      };
      VerticalRecommentPanel.prototype.onEnable = function() {
        var _this = this;
        Utils_1.utils.registerServerInitEvent(function() {
          _this._initWidget();
        }, this);
      };
      VerticalRecommentPanel.prototype.onDisable = function() {
        Utils_1.utils.unregisterServerInitEvent(this);
      };
      VerticalRecommentPanel.prototype._initWidget = function() {
        if (this._isInit) return;
        var valid = true;
        if (Utils_1.utils.isVerticalRecommentPanel()) {
          PlatUtils_1.default.IsDouyin && (Utils_1.utils.Tool_Douyin.isShowMoreGamesModal() || this.node.destroy());
          this._data = Utils_1.utils.getRecommondGameList();
          if (this.node.parent.getComponentsInChildren(VerticalRecommentPanel_1).length > 1) {
            var temp = [];
            for (var i = this._data.length - 1; i >= 0; i--) temp.push(this._data[i]);
            this._data = temp;
          }
          if (this._data) if (this._data.length > 0) {
            this._isInit = true;
            this._initData();
            this._recommendNode.active = true;
            this.schedule(this._initData, 3);
          } else {
            console.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u957f\u5ea6\u4e3a0");
            valid = false;
          } else {
            console.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u4e3anull!");
            valid = false;
          }
        }
        valid || this.node.destroy();
      };
      VerticalRecommentPanel.prototype._initData = function() {
        var _this = this;
        this._gameList.forEach(function(gameItem) {
          _this._curIndex > _this._data.length - 1 && (_this._curIndex = 0);
          gameItem.init(_this._data[_this._curIndex], YZ_Constant_1.SubLocation.isVerticalPanel);
          var duration = .03;
          if (CompatibleTool_1.default.engineVersion >= 220) cc.tween(gameItem.node).repeat(5, cc.tween().to(duration, {
            angle: 85
          }).to(duration, {
            angle: 90
          }).to(duration, {
            angle: 95
          }).to(duration, {
            angle: 90
          })).start(); else {
            var action = cc.repeat(cc.sequence(cc.rotateTo(duration, -85), cc.rotateTo(duration, -90), cc.rotateTo(duration, -95), cc.rotateTo(duration, -90)), 5);
            gameItem.node.runAction(action);
          }
          _this._curIndex++;
        });
      };
      var VerticalRecommentPanel_1;
      VerticalRecommentPanel = VerticalRecommentPanel_1 = __decorate([ ccclass ], VerticalRecommentPanel);
      return VerticalRecommentPanel;
    }(cc.Component);
    exports.default = VerticalRecommentPanel;
    cc._RF.pop();
  }, {
    "./CompatibleTool": "CompatibleTool",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  WechatTool: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6f2a5wLPkNFZ7hhnEj8fY4B", "WechatTool");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_ServerUrl = "https://apps.youlesp.com/gss?";
    var GB_ServerUrl = "https://apps.youlesp.com/gbs?";
    var ST_DefaultServerConfig = "";
    var GB_DefaultServerConfig = "";
    var ST_LoadConfigInterval = 5e3;
    var WechatTool = function() {
      function WechatTool() {
        this._serverConfig = null;
        this._gameBoxServerConfig = null;
        this._uid = "0";
        this._service_uid = "0";
        this._sysInfo = null;
        this._shareCallback = null;
        this._isShare = false;
        this._lastUpdateTime = 0;
        this._appIdList = [];
        this._jumpIds = "";
        this._luanchType = "";
        this.clue_token = "";
        this.wx_code = "";
        this._source_app_id = "";
        this._luanchData = "";
        this._loginTime = 0;
        this._loginInterval = 30;
        this._reportLoginTime = 0;
        this._reportLoginInterval = 30;
        this.isReport = false;
        this.isReportActive = false;
        this.passCount = 0;
        this.playCount = 0;
      }
      Object.defineProperty(WechatTool.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(WechatTool.prototype, "gameBoxServerConfig", {
        get: function() {
          return this._gameBoxServerConfig;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(WechatTool.prototype, "uid", {
        get: function() {
          if ("0" != this._uid) return this._uid;
          this._login();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(WechatTool.prototype, "serviceId", {
        get: function() {
          if ("0" != this._service_uid) return this._service_uid;
          this._login();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(WechatTool.prototype, "SysInfo", {
        get: function() {
          return this._sysInfo;
        },
        enumerable: false,
        configurable: true
      });
      WechatTool.prototype.init = function(data) {
        var _this = this;
        if (PlatUtils_1.default.IsWechat) {
          try {
            this._sysInfo = wx.getSystemInfoSync();
            Utils_1.utils.showLog("\u5fae\u4fe1\u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: " + JSON.stringify(this.SysInfo));
          } catch (e) {}
          try {
            this._luanchData = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_LUANCH_DATA);
            this._luanchType = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_LUANCH_TYPE);
            var options = wx.getLaunchOptionsSync();
            options && Utils_1.utils.showLog(">>\u83b7\u53d6\u5230\u5c0f\u7a0b\u5e8f\u542f\u52a8\u53c2\u6570\uff1a" + JSON.stringify(options));
            if (this._luanchData && this._luanchType) {
              Utils_1.utils.showLog("\u83b7\u53d6\u5230\u672c\u5730\u7f13\u5b58\u6570\u636e\u542f\u52a8\u7c7b\u578b\uff1a" + this._luanchType);
              Utils_1.utils.showLog("\u83b7\u53d6\u5230\u672c\u5730\u7f13\u5b58\u6570\u636e\u542f\u52a8\u53c2\u6570\uff1a" + this._luanchData);
            } else if (options) {
              if (options.scene) {
                Utils_1.utils.showLog("\u83b7\u53d6\u5230\u542f\u52a8\u573a\u666f\u503c\uff1a" + options.scene);
                this._luanchType = options.scene;
                YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_LUANCH_TYPE, this._luanchType);
              }
              if (options.query) {
                var queryData = JSON.stringify(options.query);
                this._luanchData = queryData;
                YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_LUANCH_DATA, this._luanchData);
                Utils_1.utils.showLog("\u83b7\u53d6\u5230\u5c0f\u7a0b\u5e8f\u542f\u52a8\u53c2\u6570\uff1a" + queryData);
              }
              if (options.referrerInfo && "{}" != JSON.stringify(options.referrerInfo)) {
                Utils_1.utils.showLog("\u83b7\u53d6\u5230\u5c0f\u7a0b\u5e8f\u6765\u6e90\u4fe1\u606f\uff1a" + JSON.stringify(options.referrerInfo));
                if (options.referrerInfo.appId) {
                  Utils_1.utils.showLog("\u83b7\u53d6\u5230\u5c0f\u7a0b\u5e8f\u542f\u52a8\u6765\u6e90\u7684appId\uff1a" + options.referrerInfo.appId);
                  this._source_app_id = options.referrerInfo.appId;
                }
              }
            }
          } catch (erro) {
            Utils_1.utils.showLog("\u83b7\u53d6\u5230\u5c0f\u7a0b\u5e8f\u542f\u52a8\u53c2\u6570\u5f02\u5e38");
          }
          if (data) {
            var configObj = JSON.parse(data);
            configObj && configObj.wechat && (ST_DefaultServerConfig = JSON.stringify(configObj.wechat));
            configObj && configObj.gamebox && (GB_DefaultServerConfig = JSON.stringify(configObj.gamebox));
          }
          this._loadConfig();
          wx.showShareMenu();
          wx.onShareAppMessage(this._getShareInfo.bind(this));
          wx.onShow(function(res) {
            cc.log("OnShow");
            if (_this._isShare) {
              _this._isShare = false;
              _this._shareCallback && _this._shareCallback(true, "\u5206\u4eab\u6210\u529f!");
            }
            _this._checkForUpdate();
            Utils_1.utils.emitCommonEvent(YZ_Constant_1.default.EC_OnShow);
          });
          wx.onHide(function() {
            cc.log("onHide");
            Utils_1.utils.emitCommonEvent(YZ_Constant_1.default.EC_OnHide);
          });
          this._checkForUpdate();
        }
      };
      WechatTool.prototype._checkForUpdate = function() {
        if (PlatUtils_1.default.IsWechat) {
          if (new Date().getTime() - this._lastUpdateTime < ST_LoadConfigInterval) {
            cc.log("\u68c0\u67e5\u66f4\u65b0\u592a\u9891\u7e41!");
            return;
          }
          this._lastUpdateTime = new Date().getTime();
          if (this.isOverMinVersion("1.9.90")) {
            cc.log("\u68c0\u67e5\u66f4\u65b0......");
            var updateManager_1 = wx.getUpdateManager();
            updateManager_1.onCheckForUpdate(function(res) {
              res.hasUpdate ? cc.log("\u6709\u65b0\u7248\u672c\u9700\u8981\u66f4\u65b0!") : cc.log("\u6ca1\u6709\u65b0\u7248\u672c\uff01");
            });
            updateManager_1.onUpdateReady(function() {
              wx.showModal({
                title: "\u66f4\u65b0\u63d0\u793a",
                content: "\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5e94\u7528\uff1f",
                success: function(res) {
                  res.confirm && updateManager_1.applyUpdate();
                }
              });
            });
            updateManager_1.onUpdateFailed(function() {
              cc.log("\u65b0\u7248\u672c\u4e0b\u8f7d\u5931\u8d25\uff01");
            });
          }
        }
      };
      WechatTool.prototype._buildServerUrl = function() {
        var url = "";
        if (Utils_1.utils.config.wechatconfig && Utils_1.utils.config.wechatconfig.appID) {
          var appid = Utils_1.utils.config.wechatconfig.appID;
          var channel = "wechat";
          var jumpId = this._jumpIds ? this._jumpIds : Utils_1.utils.config.wechatconfig.jumpId;
          url = ST_ServerUrl + "kyx=true&app_id=" + appid + "&channel=" + channel + "&jump_id=" + jumpId;
        } else cc.log("\u5fae\u4fe1 APPID\u914d\u7f6e\u51fa\u9519\uff01");
        return url;
      };
      WechatTool.prototype._buildGameBoxServerUrl = function() {
        var url = GB_ServerUrl + "m=ghome&index=0&type=1";
        return url;
      };
      WechatTool.prototype._loadConfig = function() {
        var _this = this;
        if (PlatUtils_1.default.IsWechat) {
          cc.log("\u52a0\u8f7d\u670d\u52a1\u5668\u914d\u7f6e.......");
          var method = "m=g";
          var url_1 = ST_ServerUrl + method;
          Utils_1.utils.commomHttpRequest(url_1, function(ret, data) {
            if (ret) {
              cc.log("\u5fae\u4fe1\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = ", data);
              if (data) {
                var result = JSON.parse(data);
                result ? Utils_1.utils.DebugLoacalConfig ? cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!") : _this._serverConfig = result : cc.log("\u5fae\u4fe1\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
              }
            } else cc.log("\u5fae\u4fe1\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
            if (_this._serverConfig) {
              _this._serverConfig.shares && _this._serverConfig.shares.sy_title && (Utils_1.utils.config.otherconfig.shareTitle = _this._serverConfig.shares.sy_title);
              _this._serverConfig.shares && _this._serverConfig.shares.sy_img && (Utils_1.utils.config.otherconfig.shareImgUrl = _this._serverConfig.shares.sy_img);
              if ("false" == _this._serverConfig.is_local_pos_id) {
                cc.log("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aID");
                Utils_1.utils.config.wechatconfig.insertId = _this.ServerConfig.intersititia_pos_id || Utils_1.utils.config.wechatconfig.insertId;
                Utils_1.utils.config.wechatconfig.videoId = _this.ServerConfig.video_pos_id || Utils_1.utils.config.wechatconfig.videoId;
                Utils_1.utils.config.wechatconfig.boxId = _this._serverConfig.box_pos_id || Utils_1.utils.config.wechatconfig.boxId;
                Utils_1.utils.config.wechatconfig.bannerBoxId = _this._serverConfig.banner_box_pos_id || Utils_1.utils.config.wechatconfig.bannerBoxId;
                Utils_1.utils.config.wechatconfig.nativeBannerId = _this._serverConfig.native_banner_pos_id || Utils_1.utils.config.wechatconfig.nativeBannerId;
                Utils_1.utils.config.wechatconfig.nativeInsertIds = _this._serverConfig.native_intersititial_pos_id || Utils_1.utils.config.wechatconfig.nativeInsertIds;
                var bannerLocation = [ "home", "game", "level", "skin", "pause", "over" ];
                for (var i = 0; i < bannerLocation.length; i++) _this.ServerConfig.banner_pos_id[bannerLocation[i]] && Utils_1.utils.config.wechatconfig.setBannerId(YZ_Constant_1.BannerLocationToEnum(bannerLocation[i]), _this.ServerConfig.banner_pos_id[bannerLocation[i]]);
                if (_this.ServerConfig.native_customad_configs) for (var i = 0; i < _this.ServerConfig.native_customad_configs.length; i++) {
                  Utils_1.utils.showLog("\u83b7\u53d6\u5230\u539f\u751f\u6a21\u7248\u5e7f\u544a\u914d\u7f6e:" + _this.ServerConfig.native_customad_configs[i].location, ">>>>", JSON.stringify(_this.ServerConfig.native_customad_configs[i]));
                  Utils_1.utils.config.wechatconfig.setCustomAdInfo(_this.ServerConfig.native_customad_configs[i].location, _this.ServerConfig.native_customad_configs[i]);
                }
              } else cc.log("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID");
            } else _this._serverConfig = JSON.parse(ST_DefaultServerConfig);
            Utils_1.utils.emitServerInitEvent();
            if (_this._serverConfig && _this._serverConfig.openBox) {
              if ("true" != _this._serverConfig.openBox) {
                cc.log("\u670d\u52a1\u5668\u6e38\u620f\u76d2\u5b50\u914d\u7f6e\u4e3a\u5173\u95ed\u72b6\u6001\uff01");
                return;
              }
              url_1 = _this._buildGameBoxServerUrl();
              Utils_1.utils.commomHttpRequest(url_1, function(ret, data) {
                if (ret) {
                  cc.log("\u5fae\u4fe1\u6e38\u620f\u76d2\u5b50\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = ", data);
                  if (data) {
                    var result = JSON.parse(data);
                    result ? Utils_1.utils.DebugLoacalConfig ? cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!") : _this._gameBoxServerConfig = result : cc.log("\u5fae\u4fe1\u6e38\u620f\u76d2\u5b50\u5fae\u4fe1\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
                  }
                } else cc.log("\u5fae\u4fe1\u6e38\u620f\u76d2\u5b50\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
                _this._gameBoxServerConfig || (_this._gameBoxServerConfig = JSON.parse(GB_DefaultServerConfig));
              });
            }
          });
        }
      };
      WechatTool.prototype.navigateToMiniProgram = function(id, callback, path) {
        if (PlatUtils_1.default.IsWechat) {
          var completeCallback_1 = callback;
          wx.navigateToMiniProgram({
            appId: id.indexOf(":") > -1 ? id.split(":")[0] : id,
            path: path || "",
            success: function(res) {
              completeCallback_1 && completeCallback_1(true);
            },
            fail: function(res) {
              cc.log("\u8df3\u8f6c\u5931\u8d25! id=" + id + "; res=" + JSON.stringify(res));
              completeCallback_1 && completeCallback_1(false);
            }
          });
        }
      };
      WechatTool.prototype.getSystemInfo = function() {
        if (PlatUtils_1.default.IsWechat) return wx.getSystemInfoSync();
      };
      WechatTool.prototype.previewImage = function(url) {
        PlatUtils_1.default.IsWechat && wx.previewImage({
          urls: [ url ]
        });
      };
      WechatTool.prototype.share = function(callback) {
        void 0 === callback && (callback = null);
        if (PlatUtils_1.default.IsWechat) {
          this._shareCallback = callback;
          this._isShare = true;
          wx.shareAppMessage(this._getShareInfo());
        }
      };
      WechatTool.prototype.postData = function(otherGameAppId) {
        if (PlatUtils_1.default.IsWechat) {
          var method = "m=rjump";
          var url = ST_ServerUrl + method + "&jump_app_id=" + otherGameAppId;
          cc.log("\u4e0a\u62a5\u6570\u636e, url=", url);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? cc.log("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : cc.log("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          });
        }
      };
      WechatTool.prototype.postDataByLocation = function(otherGameAppId, location, status) {
        void 0 === status && (status = 0);
        if (PlatUtils_1.default.IsWechat) {
          var method = "m=rjump";
          var url = ST_ServerUrl + method + "&jump_app_id=" + otherGameAppId + "&location=" + location + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? cc.log("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : cc.log("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          });
        }
      };
      WechatTool.prototype.postRecommentShowData = function(location) {
        if (PlatUtils_1.default.IsWechat) {
          var method = "m=rjumpshow";
          var url = ST_ServerUrl + method + "&location=" + location;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? cc.log("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : cc.log("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      WechatTool.prototype._getShareInfo = function() {
        if (PlatUtils_1.default.IsWechat) return {
          title: Utils_1.utils.config.otherconfig.shareTitle,
          imageUrl: Utils_1.utils.config.otherconfig.shareImgUrl
        };
        return {};
      };
      WechatTool.prototype.isOverMinVersion = function(minVersion) {
        var curVersion = wx.getSystemInfoSync().SDKVersion;
        return this._compareVersion(curVersion, minVersion) >= 0;
      };
      WechatTool.prototype._compareVersion = function(v1, v2) {
        v1 = v1.split(".");
        v2 = v2.split(".");
        var len = Math.max(v1.length, v2.length);
        while (v1.length < len) v1.push("0");
        while (v2.length < len) v2.push("0");
        for (var i = 0; i < len; i++) {
          var num1 = parseInt(v1[i]);
          var num2 = parseInt(v2[i]);
          if (num1 > num2) return 1;
          if (num1 < num2) return -1;
        }
        return 0;
      };
      WechatTool.prototype.getRecommondGameList = function() {
        if (PlatUtils_1.default.IsWechat && Utils_1.utils.wechatTool && Utils_1.utils.wechatTool.ServerConfig) return Utils_1.utils.wechatTool.ServerConfig.jump_list;
        return null;
      };
      WechatTool.prototype.checkAppId = function(appId) {
        if (Utils_1.utils.config.wechatconfig.jumpId.indexOf(appId) > -1) return true;
        cc.log("appId :", appId, "\u4e0d\u518d\u914d\u7f6e\u5217\u8868\u4e2d!");
        return false;
      };
      WechatTool.prototype._login = function() {
        var curTime = new Date().getTime();
        var interval = (curTime - this._loginTime) / 1e3;
        if (interval > 0 && interval < this._loginInterval) {
          Utils_1.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a" + this._loginInterval + "\u79d2");
          return;
        }
        this._loginTime = curTime;
        var self = this;
        this._uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_UID);
        this._uid = this._uid ? this._uid : "0";
        this._service_uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_SERVICE_UID);
        this._service_uid = this._service_uid ? this._service_uid : "0";
        Utils_1.utils.showLog("\u83b7\u53d6\u672c\u5730\u4fdd\u5b58\u7684uid=" + this._uid + "\uff0c\u670d\u52a1\u5668UID=" + this._service_uid);
        "0" == this._uid && wx.login({
          success: function(res) {
            if (res.code) {
              self.wx_code = res.code;
              self.reportLogin(res.code);
            } else Utils_1.utils.showLog("\u767b\u5f55\u5931\u8d25\uff01" + res.errMsg);
          },
          fail: function() {},
          complete: function() {
            self.reportLogin();
          }
        });
      };
      WechatTool.prototype.reportLogin = function(code) {
        void 0 === code && (code = "");
        return __awaiter(this, void 0, void 0, function() {
          var self, curTime, interval, method, url;
          var _this = this;
          return __generator(this, function(_a) {
            if (this.isReport) return [ 2 ];
            this.isReport = true;
            self = this;
            curTime = new Date().getTime();
            interval = (curTime - this._reportLoginTime) / 1e3;
            if (interval > 0 && interval < this._reportLoginInterval) {
              Utils_1.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a" + this._reportLoginInterval + "\u79d2");
              return [ 2 ];
            }
            this._reportLoginTime = curTime;
            method = "m=login";
            url = ST_ServerUrl + method + "&device_data=" + encodeURI(JSON.stringify(this._sysInfo)) + "&code=" + code;
            Utils_1.utils.commomHttpRequest(url, function(ret, data) {
              if (ret && data) {
                Utils_1.utils.showLog("#data=" + data);
                var result = JSON.parse(data);
                if (result.uid) {
                  self._service_uid = "" + result.uid;
                  if (!self.isReportActive) {
                    self.isReportActive = true;
                    _this.reportAttributedEvent(YZ_Constant_1.AttributedType.Active, YZ_Constant_1.AttributedKey.Active, YZ_Constant_1.AttributedValue.Active);
                  }
                  YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_SERVICE_UID, self._service_uid);
                }
                if (result.device_uid) {
                  self._uid = "" + result.device_uid;
                  YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_UID, self._uid);
                }
                Utils_1.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid=" + self._service_uid + " #device_id=" + self._uid);
              }
              _this.isReport = false;
            });
            return [ 2 ];
          });
        });
      };
      WechatTool.prototype.postLevel = function(level, status, levelName) {
        if (PlatUtils_1.default.IsWechat) {
          if (status == YZ_Constant_1.LevelStatus.GameWin) {
            this.passCount++;
            this.passCount === Utils_1.utils.getConfigByKey("pass_level_count_active") && this.reportAttributedEvent(YZ_Constant_1.AttributedType.GameAddiction, YZ_Constant_1.AttributedKey.GameAddiction, YZ_Constant_1.AttributedValue.PassLevelCountAction);
          } else if (status === YZ_Constant_1.LevelStatus.GameStart) {
            this.playCount++;
            this.playCount == Utils_1.utils.getConfigByKey("play_level_count_active") && this.reportAttributedEvent(YZ_Constant_1.AttributedType.GameAddiction, YZ_Constant_1.AttributedKey.GameAddiction, YZ_Constant_1.AttributedValue.PlayLevelCountAction);
          }
          var method = "m=rlevel";
          var url = ST_ServerUrl + method + "&level_id=" + level + "&level_name=" + encodeURI(levelName) + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      WechatTool.prototype.sendEvent = function(eventName) {
        if (PlatUtils_1.default.IsWechat) {
          var method = "m=revent";
          var url = ST_ServerUrl + method + "&event=" + encodeURI(eventName);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01") : Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      WechatTool.prototype.showToast = function(msg) {
        PlatUtils_1.default.IsWechat && wx.showToast({
          title: msg,
          icon: "none",
          duration: 2e3,
          success: function(res) {
            console.log("" + res);
          },
          fail: function(res) {
            console.log("showToast\u8c03\u7528\u5931\u8d25");
          }
        });
      };
      WechatTool.prototype.reportAttributedEvent = function(eventType, eventKey, eventValue) {
        if ("1069" != this._luanchType && "1036" != this._luanchType && "1065" != this._luanchType) {
          Utils_1.utils.showLog("luanchType=" + this._luanchType + ",\u4e0d\u8fdb\u884c\u5f52\u56e0\u4e0a\u62a5");
          return;
        }
        Utils_1.utils.showLog("\u4e0a\u62a5\u5f52\u56e0\u4e8b\u4ef6\uff1a  #eventType=" + eventType + "#eventKey=" + eventKey + "#eventValue=" + eventValue);
        if (eventType == YZ_Constant_1.AttributedType.Active && YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_IS_REPORT_USER_ACTIVE)) {
          Utils_1.utils.showLog("\u7528\u6237\u5df2\u7ecf\u4e0a\u62a5\u8fc7\u6fc0\u6d3b\uff0c\u4e0d\u518d\u8fdb\u884c\u6fc0\u6d3b\u4e0a\u62a5\uff01");
          return;
        }
        if (eventType == YZ_Constant_1.AttributedType.GameAddiction && YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_IS_REPORT_GAME_ADDICTION)) {
          Utils_1.utils.showLog("\u7528\u6237\u5df2\u7ecf\u4e0a\u62a5\u8fc7\u5173\u952e\u884c\u4e3a\uff0c\u4e0d\u518d\u8fdb\u884c\u6fc0\u6d3b\u4e0a\u62a5\uff01");
          return;
        }
        var xhr = new XMLHttpRequest();
        xhr.timeout = 15e3;
        var data = {};
        data.app_id = Utils_1.utils.config.wechatconfig.appID;
        data.channel = "wechat_kyx";
        data.uid = this._service_uid;
        data.event_type = eventType;
        data.event_key = eventKey;
        data.event_value = eventValue;
        data.app_version = Utils_1.utils.config.wechatconfig.version;
        data.code = this.wx_code;
        data.luanchDate = encodeURI(this._luanchData);
        Utils_1.utils.showLog("\u5f52\u56e0\u8bf7\u6c42\u53c2\u6570:" + JSON.stringify(data));
        var requestData = JSON.stringify(data);
        Utils_1.utils.showLog("\u5f52\u56e0 > json_data=" + Utils_1.utils.aesEncrypt(requestData));
        var requestUrl = "https://track.youletd.com/wechatcounterpart/dockingreturn?json=" + Utils_1.utils.aesEncrypt(requestData) + "&time_stamp=" + new Date().getTime();
        Utils_1.utils.showLog("\u5f52\u56e0\u670d\u52a1\u5668\u5730\u5740:" + requestUrl);
        xhr.open("GET", requestUrl);
        xhr.send();
        xhr.onreadystatechange = function() {
          Utils_1.utils.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=", xhr.readyState, "; status=", xhr.status);
          if (4 == xhr.readyState) if (200 == xhr.status) {
            eventType == YZ_Constant_1.AttributedType.Active && YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_IS_REPORT_USER_ACTIVE, "true");
            eventType == YZ_Constant_1.AttributedType.GameAddiction && YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_IS_REPORT_GAME_ADDICTION, "true");
            Utils_1.utils.showLog("\u5f52\u56e0\u4e0a\u62a5\u6210\u529f\uff1a", xhr.responseText);
          } else Utils_1.utils.showLog("\u5f52\u56e0\u4e0a\u62a5\u5931\u8d25\uff01");
        };
        xhr.ontimeout = function() {
          Utils_1.utils.showLog("\u5f52\u56e0\u8bf7\u6c42\u8d85\u65f6!");
        };
        xhr.onerror = function(err) {
          Utils_1.utils.showLog("\u5f52\u56e0\u8bf7\u6c42\u5931\u8d25!");
        };
      };
      WechatTool.prototype.umaOnStart = function(levelID) {
        if (!this.checkUmeng()) return;
        wx.uma.stage.onStart({
          stageId: levelID,
          stageName: "\u7b2c" + levelID + "\u5173"
        });
      };
      WechatTool.prototype.checkUmeng = function() {
        if (!wx.uma) {
          Utils_1.utils.showLog("\u672a\u5bf9\u63a5\u53cb\u76dfSDK");
          return false;
        }
        return true;
      };
      WechatTool.prototype.umaReportedLevel = function(levelID, event) {
        if (!this.checkUmeng()) return;
        wx.uma.stage.onEnd({
          stageId: levelID,
          stageName: "\u7b2c" + levelID + "\u5173",
          event: event
        });
      };
      WechatTool.prototype.umaTrackEvent = function(eventId, params) {
        if (!this.checkUmeng()) return;
        wx.uma.trackEvent(eventId, params);
      };
      WechatTool = __decorate([ ccclass ], WechatTool);
      return WechatTool;
    }();
    exports.default = WechatTool;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  WithdrawalNode: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ba4b6OkUPVGs6rVbTzptHpa", "WithdrawalNode");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var WithdrawalNode = function(_super) {
      __extends(WithdrawalNode, _super);
      function WithdrawalNode() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.balanceLbl = null;
        return _this;
      }
      WithdrawalNode.prototype.onLoad = function() {
        this.balanceLbl = this.node.getComponentInChildren(cc.Label);
      };
      WithdrawalNode.prototype.init = function(data) {
        Utils_1.utils.yzRedBagInfo.balance > 0 ? this.balanceLbl.string = "\xa5" + Utils_1.utils.yzRedBagInfo.balance : this.balanceLbl.string = "\xa50.00";
      };
      WithdrawalNode.prototype.showWithdrawalPanel = function() {
        Utils_1.utils.SendEvent("\u7ea2\u5305\u63d0\u73b0\u6846-\u70b9\u51fb\u63d0\u73b0\u6309\u94ae\uff01");
        Utils_1.utils.showWithdrawalPanel();
      };
      WithdrawalNode.prototype.onEnable = function() {
        var _this = this;
        Utils_1.utils.SendEvent("\u7ea2\u5305\u63d0\u73b0\u6846-\u5c55\u793a\u6210\u529f\uff01");
        this.init();
        cc.game.on("YZ_RED_BAG_BALANCE_CHANGE", function() {
          _this.init();
        }, this);
      };
      WithdrawalNode.prototype.onDisable = function() {
        this.unscheduleAllCallbacks();
        this.node.targetOff(this);
        cc.game.targetOff(this);
      };
      WithdrawalNode = __decorate([ ccclass ], WithdrawalNode);
      return WithdrawalNode;
    }(cc.Component);
    exports.default = WithdrawalNode;
    cc._RF.pop();
  }, {
    "./Utils": "Utils"
  } ],
  WithdrawalPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4495aojZMBHxqGZ7aIISklf", "WithdrawalPanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var WithdrawalPanel = function(_super) {
      __extends(WithdrawalPanel, _super);
      function WithdrawalPanel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._closeBtn = null;
        _this._withdrawalBtn = null;
        _this._moneyItemNodes = null;
        _this._panel = null;
        _this._balanceLbl = null;
        _this._redBagInfo = null;
        _this._location = YZ_Constant_1.SubLocation.isMoreGame;
        _this._selectedMoneyItemIndex = -1;
        return _this;
      }
      WithdrawalPanel.prototype.onLoad = function() {
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        this._panel = this.node.getChildByName("Panel");
        this._moneyItemNodes = this._panel.getChildByName("WithdrawalPriceNodes").children;
        this._balanceLbl = this._panel.getChildByName("balanceLabel").getComponent(cc.Label);
        this._redBagInfo = Utils_1.utils.yzRedBagInfo;
        var ratio = 1;
        ratio = cc.winSize.height < cc.winSize.width ? cc.winSize.width / 1920 * .5 : cc.winSize.width / 1080;
        this._panel.scale = ratio;
        this._initWidget();
      };
      WithdrawalPanel.prototype._initWidget = function() {
        var _this = this;
        this._redBagInfo.balance > 0 && (this._balanceLbl.string = this._redBagInfo.balance + "\u5143");
        var _loop_1 = function(i) {
          var data = Utils_1.utils.yzRedBagInfo.withdrawaMoneys[i];
          if (data) {
            this_1._moneyItemNodes[i].getChildByName("PriceLbl").getComponent(cc.Label).string = data + "\u5143";
            this_1._moneyItemNodes[i].on(cc.Node.EventType.TOUCH_START, function() {
              _this.selectedMoneyNode(i);
            }, this_1);
          }
        };
        var this_1 = this;
        for (var i = 0; i < 4; i++) _loop_1(i);
      };
      WithdrawalPanel.prototype.selectedMoneyNode = function(itemIndex) {
        var _this = this;
        if (this._redBagInfo.balance >= Utils_1.utils.yzRedBagInfo.withdrawaMoneys[itemIndex]) {
          this._selectedMoneyItemIndex = itemIndex;
          this._moneyItemNodes.forEach(function(element, index) {
            itemIndex != index && (_this._moneyItemNodes[index].getChildByName("selectedBg").active = false);
          });
          this._moneyItemNodes[itemIndex].getChildByName("selectedBg").active = true;
        } else Utils_1.utils.showMsg("\u5f53\u524d\u4f59\u989d\u4e0d\u8db3\uff01");
      };
      WithdrawalPanel.prototype.withDrawalMoney = function() {
        console.log("money");
        this._selectedMoneyItemIndex > -1 || Utils_1.utils.showMsg("\u8bf7\u9009\u62e9\u8981\u63d0\u73b0\u7684\u91d1\u989d\uff01");
      };
      WithdrawalPanel.prototype._updatePanel = function() {
        Utils_1.utils.postRecommentShowData(this._location);
        this._initWidget();
        return;
      };
      WithdrawalPanel.prototype.init = function(YzRedBagInfo) {};
      WithdrawalPanel.prototype.show = function() {
        this.node.active = true;
      };
      WithdrawalPanel.prototype.hide = function() {
        var self = this;
        self.node.active = false;
      };
      WithdrawalPanel.prototype.onCloseBtnHandler = function(event, data) {
        this.hide();
      };
      WithdrawalPanel = __decorate([ ccclass ], WithdrawalPanel);
      return WithdrawalPanel;
    }(cc.Component);
    exports.default = WithdrawalPanel;
    cc._RF.pop();
  }, {
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  WithdrawalWidget: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "eb1bdqkx91OqbOB6rlUrN5w", "WithdrawalWidget");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var WithdrawalWidget = function(_super) {
      __extends(WithdrawalWidget, _super);
      function WithdrawalWidget() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.withdrawalPanel = null;
        _this._withdrawalNode = null;
        _this._isInit = false;
        return _this;
      }
      WithdrawalWidget.prototype.onLoad = function() {
        this._withdrawalNode = this.getComponentInChildren("WithdrawalNode");
        this._withdrawalNode.node.active = false;
      };
      WithdrawalWidget.prototype.onEnable = function() {
        var _this = this;
        Utils_1.utils.registerServerInitEvent(function() {
          _this._initWidget();
        }, this);
      };
      WithdrawalWidget.prototype.onDisable = function() {
        Utils_1.utils.unregisterServerInitEvent(this);
      };
      WithdrawalWidget.prototype._initWidget = function() {
        this._withdrawalNode.node.active = true;
      };
      __decorate([ property(cc.Prefab) ], WithdrawalWidget.prototype, "withdrawalPanel", void 0);
      WithdrawalWidget = __decorate([ ccclass ], WithdrawalWidget);
      return WithdrawalWidget;
    }(cc.Component);
    exports.default = WithdrawalWidget;
    cc._RF.pop();
  }, {
    "./Utils": "Utils"
  } ],
  YZ_ActionScale: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8ecccKnp/lLRYK/tCxltDQL", "YZ_ActionScale");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YZ_ActionScale = function(_super) {
      __extends(YZ_ActionScale, _super);
      function YZ_ActionScale() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.isRunAction = true;
        return _this;
      }
      YZ_ActionScale.prototype.onLoad = function() {
        this.isRunAction && this.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(1, 1), cc.scaleTo(1, .5))));
      };
      YZ_ActionScale = __decorate([ ccclass ], YZ_ActionScale);
      return YZ_ActionScale;
    }(cc.Component);
    exports.default = YZ_ActionScale;
    cc._RF.pop();
  }, {} ],
  YZ_BaiduRecommendWidget: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "898daN/0uRPRqRybYS4LfhK", "YZ_BaiduRecommendWidget");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var CompatibleTool_1 = require("./CompatibleTool");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YZ_BaiduRecommendWidget = function(_super) {
      __extends(YZ_BaiduRecommendWidget, _super);
      function YZ_BaiduRecommendWidget() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._widget = null;
        return _this;
      }
      YZ_BaiduRecommendWidget.prototype.onLoad = function() {
        this._widget = this.getComponent(cc.Widget);
      };
      YZ_BaiduRecommendWidget.prototype.onEnable = function() {
        this.getComponent(cc.Sprite).enabled = false;
        if (PlatUtils_1.default.IsBaidu && (PlatUtils_1.default.IsBaidu && Utils_1.utils.Tool_Baidu && Utils_1.utils.Tool_Baidu.canShowRecommendButton())) PlatUtils_1.default.IsBaidu && Utils_1.utils.Tool_Baidu && Utils_1.utils.Tool_Baidu.canShowRecommendButton() && (this._widget ? Utils_1.utils.Tool_Baidu.showRecommendationButton(CompatibleTool_1.default.position(this._widget.left, this._widget.top)) : Utils_1.utils.showLog("baidu recommend button widget component is null")); else {
          Utils_1.utils.showLog("\u4e0d\u652f\u6301\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6!");
          this.node.destroy();
        }
      };
      YZ_BaiduRecommendWidget.prototype.onDisable = function() {
        PlatUtils_1.default.IsBaidu && Utils_1.utils.Tool_Baidu && Utils_1.utils.Tool_Baidu.canShowRecommendButton();
      };
      YZ_BaiduRecommendWidget = __decorate([ ccclass ], YZ_BaiduRecommendWidget);
      return YZ_BaiduRecommendWidget;
    }(cc.Component);
    exports.default = YZ_BaiduRecommendWidget;
    cc._RF.pop();
  }, {
    "./CompatibleTool": "CompatibleTool",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils"
  } ],
  YZ_Constant: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ca28dw/QkVP9IpkNRINo1+D", "YZ_Constant");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.BannerLocationToEnum = exports.BannerLocationToString = exports.AttributedValue = exports.AttributedKey = exports.AttributedType = exports.AldEventType = exports.AldStageType = exports.ViewLocation = exports.BannerLocation = exports.VibrateType = exports.SubLocation = exports.LevelStatus = exports.YZ_Reward = exports.RewardType = exports.BeForGameOverAdId = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var BeForGameOverAdId;
    (function(BeForGameOverAdId) {
      BeForGameOverAdId["None"] = "none";
      BeForGameOverAdId["SharePanel"] = "share_panel";
      BeForGameOverAdId["GoldBox"] = "gold_box";
      BeForGameOverAdId["Turntable"] = "turntable";
      BeForGameOverAdId["CreateShortCut"] = "create_short_cut";
      BeForGameOverAdId["RecGame"] = "rec_game";
      BeForGameOverAdId["LuckBox"] = "luck_box";
      BeForGameOverAdId["SyncShow"] = "sync_show";
      BeForGameOverAdId["CustomAd"] = "custom_ad";
    })(BeForGameOverAdId = exports.BeForGameOverAdId || (exports.BeForGameOverAdId = {}));
    var RewardType;
    (function(RewardType) {
      RewardType["Gold"] = "gold";
      RewardType["Skin"] = "Skin";
    })(RewardType = exports.RewardType || (exports.RewardType = {}));
    var YZ_Reward = function() {
      function YZ_Reward() {
        this.rewardType = RewardType.Gold;
        this.rewardValue = 0;
      }
      YZ_Reward = __decorate([ ccclass("YZ_Reward") ], YZ_Reward);
      return YZ_Reward;
    }();
    exports.YZ_Reward = YZ_Reward;
    var LevelStatus;
    (function(LevelStatus) {
      LevelStatus["GameStart"] = "start";
      LevelStatus["GameWin"] = "complete";
      LevelStatus["GameFail"] = "fail";
      LevelStatus["GameSkip"] = "skip";
    })(LevelStatus = exports.LevelStatus || (exports.LevelStatus = {}));
    var SubLocation;
    (function(SubLocation) {
      SubLocation["isReward"] = "isReward";
      SubLocation["isQCross"] = "isQCross";
      SubLocation["isMoreGame"] = "isMoreGame";
      SubLocation["isStatement"] = "isStatement";
      SubLocation["isTryGame"] = "isTryGame";
      SubLocation["isYzBanner"] = "isYzBanner";
      SubLocation["isScrollbar"] = "isScrollbar";
      SubLocation["isGameExitDialog"] = "isGameExitDialog";
      SubLocation["isBoxInsertAd"] = "isBoxInsertAd";
      SubLocation["isBeforGameOverAd"] = "isBeforGameOverAd";
      SubLocation["isVerticalPanel"] = "isVerticalPanel";
    })(SubLocation = exports.SubLocation || (exports.SubLocation = {}));
    var VibrateType;
    (function(VibrateType) {
      VibrateType["Short"] = "short";
      VibrateType["Long"] = "long";
    })(VibrateType = exports.VibrateType || (exports.VibrateType = {}));
    var BannerLocation;
    (function(BannerLocation) {
      BannerLocation[BannerLocation["None"] = 0] = "None";
      BannerLocation[BannerLocation["Home"] = 1] = "Home";
      BannerLocation[BannerLocation["Level"] = 2] = "Level";
      BannerLocation[BannerLocation["Skin"] = 3] = "Skin";
      BannerLocation[BannerLocation["Game"] = 4] = "Game";
      BannerLocation[BannerLocation["Pause"] = 5] = "Pause";
      BannerLocation[BannerLocation["Over"] = 6] = "Over";
    })(BannerLocation = exports.BannerLocation || (exports.BannerLocation = {}));
    var ViewLocation;
    (function(ViewLocation) {
      ViewLocation[ViewLocation["None"] = 0] = "None";
      ViewLocation[ViewLocation["sign"] = 1] = "sign";
      ViewLocation[ViewLocation["trySkin"] = 2] = "trySkin";
      ViewLocation[ViewLocation["box"] = 3] = "box";
      ViewLocation[ViewLocation["over"] = 4] = "over";
      ViewLocation[ViewLocation["failBox"] = 5] = "failBox";
      ViewLocation[ViewLocation["successBox"] = 6] = "successBox";
      ViewLocation[ViewLocation["winPanel"] = 7] = "winPanel";
      ViewLocation[ViewLocation["turntable"] = 8] = "turntable";
    })(ViewLocation = exports.ViewLocation || (exports.ViewLocation = {}));
    var AldStageType;
    (function(AldStageType) {
      AldStageType["Start"] = "StartGame";
      AldStageType["Running"] = "Running";
      AldStageType["GameWin"] = "GameWin";
      AldStageType["GameFail"] = "GameFail";
    })(AldStageType = exports.AldStageType || (exports.AldStageType = {}));
    var AldEventType;
    (function(AldEventType) {
      AldEventType["TrailSkinClick"] = "\u76ae\u80a4\u8bd5\u7528\u70b9\u51fb";
      AldEventType["TrailSkinSuccess"] = "\u76ae\u80a4\u8bd5\u7528\u6210\u529f";
      AldEventType["TrailSkinFail"] = "\u76ae\u80a4\u8bd5\u7528\u5931\u8d25";
      AldEventType["SkipLevelClick"] = "\u70b9\u51fb\u8df3\u8fc7\u5173\u5361";
      AldEventType["SkipLevelSuccess"] = "\u8df3\u8fc7\u5173\u5361\u6210\u529f";
      AldEventType["SkipLevelFail"] = "\u8df3\u8fc7\u5173\u5361\u5931\u8d25";
      AldEventType["GameOverDoubleGoldClick"] = "\u70b9\u51fb\u6e38\u620f\u7ed3\u675f\u53cc\u500d\u83b7\u53d6\u91d1\u5e01";
      AldEventType["GameOverDoubleGoldSuccess"] = "\u6e38\u620f\u7ed3\u675f\u53cc\u500d\u83b7\u53d6\u91d1\u5e01\u6210\u529f";
      AldEventType["GameOverDoubleGoldFail"] = "\u6e38\u620f\u7ed3\u675f\u53cc\u500d\u83b7\u53d6\u91d1\u5e01\u5931\u8d25";
      AldEventType["SignDoubleGoldClick"] = "\u70b9\u51fb\u7b7e\u5230\u53cc\u500d\u9886\u53d6";
      AldEventType["SignDoubleGoldSuccess"] = "\u7b7e\u5230\u53cc\u500d\u9886\u53d6\u6210\u529f";
      AldEventType["SignDoubleGoldFail"] = "\u7b7e\u5230\u53cc\u500d\u9886\u53d6\u5931\u8d25";
      AldEventType["GameOverDoubleStarClick"] = "\u70b9\u51fb\u6e38\u620f\u7ed3\u675f\u664b\u7ea7\u4e09\u661f";
      AldEventType["GameOverDoubleStarSuccess"] = "\u6e38\u620f\u7ed3\u675f\u664b\u7ea7\u4e09\u661f\u6210\u529f";
      AldEventType["GameOverDoubleStarFail"] = "\u6e38\u620f\u7ed3\u675f\u664b\u7ea7\u4e09\u661f\u5931\u8d25";
      AldEventType["GameVersion"] = "\u6e38\u620f\u7248\u672c";
      AldEventType["LoadSkinScene"] = "\u8fdb\u5165\u76ae\u80a4\u573a\u666f";
      AldEventType["PaySkin"] = "\u8d2d\u4e70\u76ae\u80a4\u6210\u529f";
    })(AldEventType = exports.AldEventType || (exports.AldEventType = {}));
    var AttributedType;
    (function(AttributedType) {
      AttributedType[AttributedType["Active"] = 0] = "Active";
      AttributedType[AttributedType["GameAddiction"] = 25] = "GameAddiction";
    })(AttributedType = exports.AttributedType || (exports.AttributedType = {}));
    var AttributedKey;
    (function(AttributedKey) {
      AttributedKey["Active"] = "active";
      AttributedKey["GameAddiction"] = "game_addiction";
    })(AttributedKey = exports.AttributedKey || (exports.AttributedKey = {}));
    var AttributedValue;
    (function(AttributedValue) {
      AttributedValue["Active"] = "active";
      AttributedValue["UserClickInsertAdAction"] = "user_click_insert_ad_action";
      AttributedValue["PlayLevelCountAction"] = "play_level_count_action";
      AttributedValue["PassLevelCountAction"] = "pass_level_count_action";
      AttributedValue["InsertAdFirstShowAction"] = "insert_ad_first_show_action";
      AttributedValue["GameTimeAction"] = "game_time_action";
    })(AttributedValue = exports.AttributedValue || (exports.AttributedValue = {}));
    exports.BannerLocationToString = function(location) {
      var str = [ "none", "home", "level", "skin", "game", "pause", "over" ];
      return str[location];
    };
    exports.BannerLocationToEnum = function(locationString) {
      var str = [ "none", "home", "level", "skin", "game", "pause", "over" ];
      for (var i = 0; i < str.length; i++) if (str[i] == locationString) return i;
      return BannerLocation.None;
    };
    var YZ_Constant = function() {
      function YZ_Constant() {}
      YZ_Constant.SERVER_VERSION = "v1";
      YZ_Constant.ST_UID = "UID";
      YZ_Constant.ST_SERVICE_UID = "SERVICE_UID";
      YZ_Constant.ST_SOURCE = "SOURCE";
      YZ_Constant.ST_RED_BAG_PROGRESS = "YZ_RED_BAG_PROGRESS";
      YZ_Constant.ST_RED_BAG_TOTAL_PROGRESS = "YZ_RED_BAG_TOTAL_PROGRESS";
      YZ_Constant.ST_RED_BAG_BALANCE = "YZ_RED_BAG_BALANCE";
      YZ_Constant.ST_RED_BAG_TOTAL_MONEY = "YZ_RED_BAG_TOTAL_MONEY";
      YZ_Constant.ST_FREE_RED_BAG_TIME = "YZ_ST_FREE_RED_BAG_TIME";
      YZ_Constant.ST_LAST_OPEN_LEVEL = "YZ_ST_LAST_OPEN_LEVEL";
      YZ_Constant.ST_GET_BOX_REWARD_COUNT = "YZ_GET_BOX_REWARD_COUNT";
      YZ_Constant.YZ_EventCommon = "YZ_EventCommon";
      YZ_Constant.YZ_PrivacyClose = "YZ_PrivacyClose";
      YZ_Constant.EC_ServerInit = "ServerInit";
      YZ_Constant.EC_RealNameAuthPanelClose = "RealNameAuthPanelClose";
      YZ_Constant.EC_ServerDataLoadSuccess = "ServerDataLoadSuccess";
      YZ_Constant.YZ_NativeAdClick = "YZ_NativeAdClick";
      YZ_Constant.EC_OnHide = "EventOnHide";
      YZ_Constant.EC_OnShow = "EventOnShow";
      YZ_Constant.YZ_GAME_YSXY = "YZ_GAME_YSXY";
      YZ_Constant.ST_IS_REPORT_USER_ACTIVE = "ST_IS_REPORT_USER_ACTIVE";
      YZ_Constant.ST_IS_REPORT_GAME_ADDICTION = "ST_IS_REPORT_GAME_ADDICTION";
      YZ_Constant.ST_LUANCH_TYPE = "ST_LUANCH_TYPE";
      YZ_Constant.ST_LUANCH_DATA = "ST_LUANCH_DATA";
      YZ_Constant.ST_LOGIN_SUCCESS = "ST_LOGIN_SUCCESS";
      YZ_Constant.ST_LOGIN_FAIL = "ST_LOGIN_FAIL";
      YZ_Constant.ST_DEVICE_ID = "ST_DEVICE_ID";
      YZ_Constant.ST_UUID = "ST_UUID";
      YZ_Constant.ST_YOUWAN_UID = "ST_YOUWAN_UID";
      YZ_Constant.ST_GET_DEVICE_ID = "ST_GET_DEVICE_ID";
      YZ_Constant = __decorate([ ccclass ], YZ_Constant);
      return YZ_Constant;
    }();
    exports.default = YZ_Constant;
    cc._RF.pop();
  }, {} ],
  YZ_EventManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "39336BNY/5OsrydQVP6dfn3", "YZ_EventManager");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var YZ_Constant_1 = require("./YZ_Constant");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YZ_EventManager = function(_super) {
      __extends(YZ_EventManager, _super);
      function YZ_EventManager() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      YZ_EventManager.registerEvent = function(name, handler, target) {
        cc.game.on(name, handler, target);
      };
      YZ_EventManager.unregisterEvent = function(target) {
        cc.game.targetOff(target);
      };
      YZ_EventManager.emitCommonEvent = function(args) {
        cc.game.emit(YZ_Constant_1.default.YZ_EventCommon, args);
      };
      YZ_EventManager = __decorate([ ccclass ], YZ_EventManager);
      return YZ_EventManager;
    }(cc.Component);
    exports.default = YZ_EventManager;
    cc._RF.pop();
  }, {
    "./YZ_Constant": "YZ_Constant"
  } ],
  YZ_GameExitDialog: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7baa9fWodJKboupAtfBvLnG", "YZ_GameExitDialog");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YZ_GameExitDialog = function(_super) {
      __extends(YZ_GameExitDialog, _super);
      function YZ_GameExitDialog() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._jumpList = null;
        _this._items = [];
        _this._pageView = null;
        _this._pageItem = null;
        _this._pageRecItem = null;
        _this._btnCanel = null;
        _this._btnOk = null;
        _this._panel = null;
        _this.nativeData = null;
        _this._nativeIsShow = false;
        return _this;
      }
      YZ_GameExitDialog.prototype.onLoad = function() {
        this._panel = this.node.getChildByName("Panel");
        this._pageView = this._panel.getChildByName("PageView").getComponent(cc.PageView);
        this._pageItem = this._pageView.content.getChildByName("Panel");
        this._pageRecItem = this._pageItem.children[0];
        this._pageView.content.removeAllChildren();
        this._btnCanel = this._panel.getChildByName("btnCancel");
        this._btnOk = this._panel.getChildByName("btnOk");
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        var ratio = 1;
        ratio = cc.winSize.height < cc.winSize.width ? cc.winSize.width / 1920 * .7 : cc.winSize.width / 1080;
        this._panel.scale = ratio;
      };
      YZ_GameExitDialog.prototype.start = function() {
        this._jumpList = Utils_1.utils.getRecommondGameList();
        this._jumpList && this._jumpList.length > 0 && this._initWidget();
      };
      YZ_GameExitDialog.prototype.hideLastNode = function() {
        for (var i = 5; i > 2; i--) this._items[i].node.active = false;
      };
      YZ_GameExitDialog.prototype.onBtnCanelHandler = function(event, data) {
        Utils_1.utils.showLog("\u70b9\u51fb\u53d6\u6d88\u6309\u94ae\uff01");
        this.node.destroy();
      };
      YZ_GameExitDialog.prototype.onBtnOkHandler = function(event, data) {
        Utils_1.utils.showLog("\u70b9\u51fb\u786e\u5b9a\u6309\u94ae\uff01");
        Utils_1.utils.Tool_Native.GameExit();
      };
      YZ_GameExitDialog.prototype._initWidget = function() {
        Utils_1.utils.postRecommentShowData(YZ_Constant_1.SubLocation.isGameExitDialog);
        var totalPage = Math.floor(this._jumpList.length / 6);
        Utils_1.utils.showLog("qcrosswidget >>> totalPage = " + totalPage);
        var indx = 0;
        for (var i = 0; i < totalPage; i++) {
          var page = cc.instantiate(this._pageItem);
          page.removeAllChildren();
          this._pageView.addPage(page);
          for (var j = 0; j < 6; j++) {
            if (!this._jumpList[indx]) break;
            var tempNode = cc.instantiate(this._pageRecItem);
            page.addChild(tempNode);
            var qcrossWidgetItem = tempNode.getComponent("QCrossWidgetItem");
            qcrossWidgetItem._location = YZ_Constant_1.SubLocation.isStatement;
            var data = this._jumpList[indx];
            tempNode.getComponent("QCrossWidgetItem").init(data);
            indx++;
          }
        }
        this.autoRefrshPageView();
      };
      YZ_GameExitDialog.prototype.autoRefrshPageView = function() {
        var _this = this;
        this.unscheduleAllCallbacks();
        var interval = 3;
        Utils_1.utils.ServerConfig && Utils_1.utils.ServerConfig.statement_auto_refresh && (interval = Utils_1.utils.ServerConfig.statement_auto_refresh);
        Utils_1.utils.showLog("\u9000\u51fa\u5f39\u7a97\u7ec4\u4ef6" + interval + "\u79d2\u81ea\u52a8\u5237\u65b0");
        this.schedule(function() {
          var count = _this._pageView.getPages().length;
          var index = _this._pageView.getCurrentPageIndex();
          index = index < count && index + 1 !== count ? index + 1 : 0;
          0 == index ? _this._pageView.scrollToPage(index, 0) : _this._pageView.scrollToPage(index, 2);
        }, interval);
      };
      YZ_GameExitDialog = __decorate([ ccclass ], YZ_GameExitDialog);
      return YZ_GameExitDialog;
    }(cc.Component);
    exports.default = YZ_GameExitDialog;
    cc._RF.pop();
  }, {
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  YZ_ListView: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ab5e3FTZ+ZMjIuRaK60SQz/", "YZ_ListView");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var YZ_Constant_1 = require("./YZ_Constant");
    var CompatibleTool_1 = require("./CompatibleTool");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YZ_ListView = function(_super) {
      __extends(YZ_ListView, _super);
      function YZ_ListView() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._scrollView = null;
        _this._content = null;
        _this._itemObj = null;
        _this._visibleCount = 5;
        _this._totalCount = 0;
        _this._itemSize = cc.size(0, 0);
        _this._spaceX = 0;
        _this._bannerSize = cc.size(0, 0);
        _this._itemArray = [];
        _this._curOffsetX = 0;
        _this._minOffsetX = 0;
        _this._maxOffsetX = 0;
        _this._startIndex = 0;
        _this._scrollDir = 0;
        _this._recommendData = null;
        _this._dataDirty = false;
        _this._isInit = false;
        _this._isScorllBar = false;
        _this._location = null;
        _this._itemPosX = 0;
        _this._itemtmp = null;
        _this._itemToCenterLength = 0;
        _this._percent = 1;
        _this._canAutoScroll = true;
        _this._autoScrollInterval = 2.5;
        _this._timeTmp = 0;
        return _this;
      }
      YZ_ListView.prototype.onLoad = function() {
        this._scrollView = this.getComponent(cc.ScrollView);
        this._content = this._scrollView.content;
        this._itemObj = cc.find("GamePage", this._content);
        this._itemSize = this._itemObj.getContentSize();
        this._startIndex = 0;
        this._bannerSize = this.node.getContentSize();
      };
      YZ_ListView.prototype.onEnable = function() {
        this._scrollView.node.on("scrolling", this.OnScroll, this);
        this._scrollView.node.on("scroll-ended", this.onScrollEnded, this);
      };
      YZ_ListView.prototype.onDisable = function() {
        this._scrollView.node.targetOff(this);
      };
      YZ_ListView.prototype.update = function(dt) {
        if (this._isInit) {
          if (this._scrollView && this._scrollView.isScrolling) for (var i = 0; i < this._itemArray.length; i++) {
            this._itemtmp = this._itemArray[i];
            this._itemToCenterLength = Math.abs(this._itemtmp.x + this._content.x - .5 * this._bannerSize.width);
            this._itemSize.width - this._itemToCenterLength > 0 ? this._percent = (this._itemSize.width - this._itemToCenterLength) / this._itemSize.width : this._isScorllBar || (this._itemtmp.scale = 1);
          }
          this.autoScroll(dt);
        }
        if (this._dataDirty) {
          this._dataDirty = false;
          this._updateContent();
        }
      };
      YZ_ListView.prototype.init = function(data, isScorllBar) {
        void 0 === isScorllBar && (isScorllBar = false);
        if (data) {
          this._recommendData = data;
          this._totalCount = data.length;
          this._dataDirty = true;
          this._isScorllBar = isScorllBar;
          if (this._isScorllBar) {
            this._location = YZ_Constant_1.SubLocation.isScrollbar;
            this._autoScrollInterval = .3;
          } else this._location = YZ_Constant_1.SubLocation.isYzBanner;
        }
      };
      YZ_ListView.prototype._updateContent = function() {
        var num = this._recommendData.length;
        this._content.setContentSize(cc.size(this._itemSize.width * num, this._itemSize.height));
        this.InitObjs();
      };
      YZ_ListView.prototype.InitObjs = function() {
        var obj = null;
        for (var i = 0; i < this._totalCount; i++) {
          obj = cc.instantiate(this._itemObj);
          obj.x = .5 * this._spaceX + .5 * this._itemSize.width + this._itemSize.width * i + this._spaceX * i;
          obj.y = 0;
          obj.getComponentInChildren("GameItem").init(this._recommendData[i], this._location);
          this._content.addChild(obj);
          this._itemArray.push(obj);
        }
        var unvisibleCount = this._totalCount - this._visibleCount;
        this._maxOffsetX = (this._spaceX + this._itemSize.width) * unvisibleCount * -1;
        this._itemObj.destroy();
        this._isInit = true;
      };
      YZ_ListView.prototype.OnScroll = function(scrollview, eventType, customEventData) {
        this._content.stopAllActions();
        this._canAutoScroll = false;
        this._scrollView.getScrollOffset().x < this._curOffsetX ? this._scrollDir = -1 : this._scrollDir = 1;
        this._curOffsetX = this._scrollView.getScrollOffset().x;
        0 == this._scrollView.getScrollOffset().x ? this._arriveLeft() : this._scrollView.getScrollOffset().x == this._maxOffsetX && this._arriveRight();
      };
      YZ_ListView.prototype.onScrollEnded = function(scrollview, eventType, customEventData) {
        var stopIdx = 0;
        var tmp = Math.abs(this._curOffsetX) % (this._itemSize.width + this._spaceX);
        stopIdx = tmp > .5 * (this._itemSize.width + this._spaceX) ? Math.ceil(Math.abs(this._curOffsetX) / (this._itemSize.width + this._spaceX)) : Math.floor(Math.abs(this._curOffsetX) / (this._itemSize.width + this._spaceX));
        var posX = (this._itemSize.width + this._spaceX) * stopIdx * -1;
        this._curOffsetX = posX;
        this.scroll(posX, .3);
      };
      YZ_ListView.prototype._arriveLeft = function() {
        this._scrollView.setContentPosition(CompatibleTool_1.default.position(this._maxOffsetX, 0));
        this._curOffsetX = this._maxOffsetX;
        this._startIndex = (this._visibleCount + this._startIndex) % this._totalCount;
        this.refreshItem();
      };
      YZ_ListView.prototype._arriveRight = function() {
        this._scrollView.setContentPosition(CompatibleTool_1.default.position(0, 0));
        this._curOffsetX = 0;
        this._startIndex = (this._startIndex + this._totalCount - this._visibleCount) % this._totalCount;
        this.refreshItem();
      };
      YZ_ListView.prototype.refreshItem = function() {
        var posIdx = 0;
        var obj = null;
        for (var i = 0; i < this._totalCount; i++) {
          posIdx = (this._totalCount - this._startIndex + i) % this._totalCount;
          obj = this._itemArray[i];
          obj.x = .5 * this._spaceX + .5 * this._itemSize.width + this._spaceX * posIdx + this._itemSize.width * posIdx;
        }
      };
      YZ_ListView.prototype.autoScroll = function(dt) {
        if (this._canAutoScroll) {
          this._timeTmp += dt;
          if (this._timeTmp >= this._autoScrollInterval) {
            this._timeTmp = 0;
            var posX = this._curOffsetX - this._itemSize.width - this._spaceX;
            this._curOffsetX = posX;
            this._scrollDir = -1;
            this._isScorllBar ? this.scroll(posX, 0) : this.scroll(posX, .5);
          }
        } else this._timeTmp = 0;
      };
      YZ_ListView.prototype.scroll = function(posX, duration) {
        var _this = this;
        this._content.runAction(cc.sequence(cc.moveTo(duration, CompatibleTool_1.default.position(posX, 0)), cc.callFunc(function() {
          _this._canAutoScroll = true;
          1 == _this._scrollDir && 0 == _this._curOffsetX ? _this._arriveLeft() : -1 == _this._scrollDir && _this._curOffsetX == _this._maxOffsetX && _this._arriveRight();
        })));
      };
      YZ_ListView = __decorate([ ccclass ], YZ_ListView);
      return YZ_ListView;
    }(cc.Component);
    exports.default = YZ_ListView;
    cc._RF.pop();
  }, {
    "./CompatibleTool": "CompatibleTool",
    "./YZ_Constant": "YZ_Constant"
  } ],
  YZ_LocalStorage: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "78cbbcjXnpBU6Z8VJIEcJdY", "YZ_LocalStorage");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YZ_LocalStorage = function() {
      function YZ_LocalStorage() {}
      YZ_LocalStorage.getItem = function(key, defaultValue) {
        var value = cc.sys.localStorage.getItem(key);
        if (value) return value;
        if (defaultValue) return defaultValue;
        return null;
      };
      YZ_LocalStorage.setItem = function(key, value) {
        cc.sys.localStorage.setItem(key, value);
      };
      YZ_LocalStorage.clearItems = function() {
        cc.sys.localStorage.clear();
      };
      YZ_LocalStorage = __decorate([ ccclass ], YZ_LocalStorage);
      return YZ_LocalStorage;
    }();
    exports.default = YZ_LocalStorage;
    cc._RF.pop();
  }, {} ],
  YZ_NativeAdObject: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "88f79Gj1WdPsIy+Pm6Ss9ar", "YZ_NativeAdObject");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YZ_NativeAdObject = function() {
      function YZ_NativeAdObject() {
        this._nativeObj = null;
        this._nativeAdData = null;
        this.is_reportClick = false;
        this.is_reportShow = false;
      }
      Object.defineProperty(YZ_NativeAdObject.prototype, "data", {
        get: function() {
          return this._nativeAdData;
        },
        set: function(_data) {
          this._nativeAdData = _data;
        },
        enumerable: false,
        configurable: true
      });
      YZ_NativeAdObject.prototype.reportAdShow = function() {
        if (this._nativeAdData && !this.is_reportShow) {
          this.is_reportShow = true;
          Utils_1.utils.showLog("\u4e0a\u62a5\u539f\u751f\u5e7f\u544a\u5c55\u793a! adId:", this._nativeAdData.adId);
          this._nativeObj && this._nativeObj.reportAdShow({
            adId: this._nativeAdData.adId
          });
        }
      };
      YZ_NativeAdObject.prototype.reportAdClick = function(type) {
        void 0 === type && (type = 2);
        this.is_reportClick = true;
        if (this._nativeAdData) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u539f\u751f\u5e7f\u544a\u70b9\u51fb! adId:", this._nativeAdData.adId);
          if (this._nativeObj) {
            this._nativeObj.reportAdClick({
              adId: this._nativeAdData.adId
            });
            2 == type && (PlatUtils_1.default.IsOPPO ? Utils_1.utils.oppoTool.countNativeInserClick() : PlatUtils_1.default.IsVIVO && Utils_1.utils.Tool_Vivo.countNativeInserClick());
          }
        }
      };
      YZ_NativeAdObject = __decorate([ ccclass ], YZ_NativeAdObject);
      return YZ_NativeAdObject;
    }();
    exports.default = YZ_NativeAdObject;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils"
  } ],
  YZ_NativeBanner: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a2a680a5EJDfKlZKlM8P3Vv", "YZ_NativeBanner");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var CompatibleTool_1 = require("./CompatibleTool");
    var EventAdInfo_1 = require("./YouWanSDK/EventAdInfo");
    var YouWanAnalytics_1 = require("./YouWanSDK/YouWanAnalytics");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YZ_NativeBanner = function(_super) {
      __extends(YZ_NativeBanner, _super);
      function YZ_NativeBanner() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._panel = null;
        _this._icon = null;
        _this._hW_icon = null;
        _this._sourceLable = null;
        _this._titleLabel = null;
        _this._desLabel = null;
        _this._btnLabel = null;
        _this._widget = null;
        _this._closeBtn = null;
        _this._nativeAd = null;
        _this._data = null;
        _this._dataDirty = false;
        _this._panel_widget = null;
        _this._closeBtn_widget = null;
        _this._mask_widget = null;
        _this._st_Panel = null;
        _this._st_Icon = null;
        _this._st_TitleLabel = null;
        _this._st_DesLabel = null;
        _this._st_BtnLabel = null;
        _this._st_Widget = null;
        _this._st_Img = null;
        _this._st_CloseBtn = null;
        _this._st_BtnDown = null;
        _this._st_adMask = null;
        _this._st_down_btn_default_img = null;
        _this.nativeBannerInfo = null;
        _this._st_TitleLabel_Widget = null;
        _this._st_DesLabel_Widget = null;
        _this._st_Img_Widget = null;
        _this._st_CloseBtn_Widget = null;
        _this._st_BtnDown_Widget = null;
        _this._st_adMask_Widget = null;
        _this._st_Icon_widget = null;
        _this._bg_mask = null;
        _this._alignType = "";
        _this._xmMask = null;
        return _this;
      }
      Object.defineProperty(YZ_NativeBanner.prototype, "ServerConfig", {
        get: function() {
          return Utils_1.utils.ServerConfig;
        },
        enumerable: false,
        configurable: true
      });
      YZ_NativeBanner.prototype.onLoad = function() {
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        cc.game.addPersistRootNode(this.node);
        this._panel = this.node.getChildByName("Panel");
        this._icon = this._panel.getChildByName("Icon").getComponent(cc.Sprite);
        this._hW_icon = this._panel.getChildByName("HuaweiIcon").getComponent(cc.Sprite);
        this._titleLabel = this._panel.getChildByName("TitleLabel").getComponent(cc.Label);
        this._desLabel = this._panel.getChildByName("DesLabel").getComponent(cc.Label);
        this._sourceLable = this._panel.getChildByName("source").getComponent(cc.Label);
        var btnDown = this._panel.getChildByName("Btn_Download");
        this._btnLabel = btnDown.getComponentInChildren(cc.Label);
        this._widget = this.getComponent(cc.Widget);
        this._panel_widget = this._panel.getComponent(cc.Widget);
        this._closeBtn = this._panel.getChildByName("Btn_Close");
        this._closeBtn_widget = this._closeBtn.getComponent(cc.Widget);
        this._mask_widget = this._panel.getChildByName("Mask").getComponent(cc.Widget);
        this._widget.left = 0;
        this._widget.right = 0;
        this._widget.bottom = 0;
        this._st_Panel = this.node.getChildByName("Panel_Statement");
        this._st_Widget = this._st_Panel.getComponent(cc.Widget);
        this._bg_mask = this.node.getChildByName("bgMask");
        this._st_Icon = this._st_Panel.getChildByName("IconMask").getChildByName("Icon").getComponent(cc.Sprite);
        this._st_TitleLabel = this._st_Panel.getChildByName("TitleLabel").getComponent(cc.Label);
        this._st_DesLabel = this._st_Panel.getChildByName("DesLabel").getComponent(cc.Label);
        this._st_BtnDown = this._st_Panel.getChildByName("Btn_Download");
        this._st_Img = this._st_Panel.getChildByName("adImage").getComponent(cc.Sprite);
        this._st_CloseBtn = this._st_Panel.getChildByName("Btn_Close");
        this._st_adMask = this._st_Panel.getChildByName("Mask");
        this._st_down_btn_default_img = this._st_BtnDown.getComponent(cc.Sprite).spriteFrame;
        this._st_TitleLabel_Widget = this._st_TitleLabel.getComponent(cc.Widget);
        this._st_DesLabel_Widget = this._st_DesLabel.getComponent(cc.Widget);
        this._st_Img_Widget = this._st_Img.getComponent(cc.Widget);
        this._st_CloseBtn_Widget = this._st_CloseBtn.getComponent(cc.Widget);
        this._st_BtnDown_Widget = this._st_BtnDown.getComponent(cc.Widget);
        this._st_adMask_Widget = this._st_adMask.getComponent(cc.Widget);
        this._st_Icon_widget = this._st_Panel.getChildByName("IconMask").getComponent(cc.Widget);
        if (PlatUtils_1.default.IsXiaoMi || true) {
          this._panel.getChildByName("Xm_Mark").active = true;
          this._mask_widget.node.active = false;
        }
        var ratio = 1;
        if (cc.winSize.height < cc.winSize.width) {
          this._widget.left = .25 * cc.winSize.width;
          this._widget.right = .25 * cc.winSize.width;
          this._titleLabel.node.width = 400;
          ratio = cc.winSize.width / 1920;
        } else ratio = cc.winSize.width / 1080;
        this.node.scale = ratio;
      };
      YZ_NativeBanner.prototype.onShow = function() {
        cc.game.emit("HuaWeiOnShow");
      };
      YZ_NativeBanner.prototype.onEnable = function() {
        var _this = this;
        this._st_Panel.targetOff(this);
        this._panel.targetOff(this);
        cc.game.targetOff(this);
        if (PlatUtils_1.default.IsHuaWei) {
          console.log("\u6ce8\u518c\u76d1\u542c\u4e8b\u4ef6 >>>>>.");
          cc.game.on(cc.game.EVENT_SHOW, function() {
            console.log("HuaWeiOnShow >>>>>>");
            _this._reportAdShow();
          }, this);
        }
        if (PlatUtils_1.default.IsOPPO || PlatUtils_1.default.IsVIVO || PlatUtils_1.default.IsHuaWei || PlatUtils_1.default.IsXiaoMi) {
          this._st_Panel.on(cc.Node.EventType.TOUCH_START, function(event) {
            _this._reportAdClick();
          }, this);
          this._panel.on(cc.Node.EventType.TOUCH_START, function(event) {
            _this._reportAdClick();
          }, this);
          cc.game.on(YZ_Constant_1.default.YZ_NativeAdClick, function() {
            _this._reportAdClick();
          }, this);
        }
      };
      YZ_NativeBanner.prototype.onDisable = function() {
        if (PlatUtils_1.default.IsOPPO || PlatUtils_1.default.IsVIVO || PlatUtils_1.default.IsHuaWei || PlatUtils_1.default.IsXiaoMi) {
          this._st_Panel.targetOff(this);
          this._panel.targetOff(this);
        }
        cc.game.targetOff(this);
      };
      YZ_NativeBanner.prototype.init = function(nativeAd, data, nativeBannerInfo) {
        this._nativeAd = nativeAd;
        this._data = data;
        this._dataDirty = true;
        this.nativeBannerInfo = nativeBannerInfo;
        if ("true" == this.nativeBannerInfo.show_st_banner) if (this.nativeBannerInfo.st_banner_style > -1) if (this._data.imgUrlList && this._data.imgUrlList.length > 0) {
          this._panel.active = false;
          this._st_Panel.active = true;
        } else {
          this._panel.active = false;
          this._st_Panel.active = false;
        } else {
          this._panel.active = false;
          this._st_Panel.active = true;
        } else {
          this._panel.active = true;
          this._st_Panel.active = false;
        }
      };
      YZ_NativeBanner.prototype.update = function(dt) {
        if (this._data && this._dataDirty) {
          this._dataDirty = false;
          this._updateContent();
        }
        if (!this._data) {
          this._st_Panel.active = false;
          this._panel.active = false;
        }
      };
      YZ_NativeBanner.prototype._updateContent = function() {
        var _this = this;
        if (this._data) {
          this._reportAdShow();
          PlatUtils_1.default.IsHuaWei && (this._data.icon = "");
          Utils_1.utils.nativeBannerShowCount++;
          if ("true" == this.nativeBannerInfo.show_st_banner && this.nativeBannerInfo.st_banner_style > -1) {
            if (1 == this.nativeBannerInfo.st_banner_style || 2 == this.nativeBannerInfo.st_banner_style) {
              this.nativeBannerInfo.st_banner_width > -1 ? this._st_Panel.width = this.nativeBannerInfo.st_banner_width : this._st_Panel.width = 821.4;
              this.nativeBannerInfo.st_banner_height > -1 ? this._st_Panel.height = this.nativeBannerInfo.st_banner_height : this._st_Panel.height = 589;
              this._st_Widget.updateAlignment();
              this._st_adMask_Widget.updateAlignment();
              this._st_CloseBtn_Widget.updateAlignment();
              this._st_BtnDown_Widget.updateAlignment();
              this._st_Icon_widget.updateAlignment();
            } else {
              this._st_Panel.width = 821.4;
              this._st_Panel.height = 589;
              this._st_Widget.updateAlignment();
              this._st_adMask_Widget.updateAlignment();
              this._st_CloseBtn_Widget.updateAlignment();
              this._st_BtnDown_Widget.updateAlignment();
              this._st_Icon_widget.updateAlignment();
            }
            if (0 == this.nativeBannerInfo.st_banner_style || 1 == this.nativeBannerInfo.st_banner_style) {
              Utils_1.utils.showLog("//\u5355\u56fe\u7247\u6837\u5f0f\uff0c\u62c9\u4f38\u56fe\u7247\uff0c\u5e76\u4e14\u9690\u85cf\u6807\u9898\u548c\u63cf\u8ff0");
              this._st_Img_Widget.top = 0;
              this._st_Img_Widget.bottom = 0;
              this._st_Img_Widget.isAlignTop = true;
              this._st_Img_Widget.isAlignBottom = true;
              this._st_Img_Widget.updateAlignment();
              this._st_DesLabel.node.active = false;
              this._st_TitleLabel.node.active = false;
              this._st_Icon_widget.updateAlignment();
            } else if (2 == this.nativeBannerInfo.st_banner_style) {
              Utils_1.utils.showLog("\u9ed8\u8ba4\u6837\u5f0f\u81ea\u5b9a\u4e49\u5bbd\u9ad8:\u5c55\u793a\u6807\u9898\u548c\u63cf\u8ff0");
              this._st_DesLabel.node.active = true;
              this._st_TitleLabel.node.active = true;
              this._st_DesLabel_Widget.updateAlignment();
              this._st_TitleLabel_Widget.updateAlignment();
              this._st_Img_Widget.isAlignTop = true;
              this._st_Img_Widget.isAlignBottom = true;
              this._st_Img_Widget.top = this._st_TitleLabel.node.height + this._st_TitleLabel_Widget.top;
              this._st_Img_Widget.bottom = this._st_DesLabel_Widget.node.height + this._st_DesLabel_Widget.bottom;
              this._st_Img_Widget.updateAlignment();
              this._st_Icon_widget.updateAlignment();
            } else {
              this._st_Img_Widget.isAlignTop = true;
              this._st_Img_Widget.isAlignBottom = true;
              this._st_Img_Widget.updateAlignment();
              this._st_DesLabel.node.active = true;
              this._st_TitleLabel.node.active = true;
              this._st_Icon_widget.updateAlignment();
            }
          } else if ("true" == this.nativeBannerInfo.show_st_banner) {
            Utils_1.utils.showLog("\u7ed3\u7b97banner\u4f7f\u7528\u9ed8\u8ba4\u6837\u5f0f\uff01");
            this._st_Panel.width = 821.4;
            this._st_Panel.height = 589;
            this._st_Img_Widget.isAlignTop = false;
            this._st_Img_Widget.isAlignBottom = false;
            this._st_Img_Widget.updateAlignment();
            this._st_DesLabel.node.active = true;
            this._st_TitleLabel.node.active = true;
            this._st_Widget.updateAlignment();
            this._st_adMask_Widget.updateAlignment();
            this._st_CloseBtn_Widget.updateAlignment();
            this._st_BtnDown_Widget.updateAlignment();
            this._st_Icon_widget.updateAlignment();
          }
          this._st_CloseBtn.scale = this.nativeBannerInfo.st_banner_scale < 1 ? this._st_CloseBtn.scale * this.nativeBannerInfo.st_banner_scale : 1;
          this._st_adMask.scale = this.nativeBannerInfo.st_banner_scale < 1 ? this._st_adMask.scale * this.nativeBannerInfo.st_banner_scale : 1;
          this._st_CloseBtn.active = "true" == this.nativeBannerInfo.st_banner_close_but_show;
          this._st_CloseBtn.opacity = this.nativeBannerInfo.st_banner_close_but_alpha;
          if (this.ServerConfig.first_native_banner_delayed_count_close) {
            if (Utils_1.utils.nativeBannerShowCount > 3 && this.ServerConfig.first_native_banner_delayed_count_close) {
              Utils_1.utils.nativeBannerResizeCloseBtnShowCount++;
              if (Utils_1.utils.nativeBannerResizeCloseBtnShowCount % this.ServerConfig.native_banner_delayed_count_close == 0) {
                Utils_1.utils.showLog("\u539f\u751fbanner\u5173\u95ed\u6309\u94ae\u8bbe\u7f6e\u670d\u52a1\u5668\u914d\u7f6e\u5927\u5c0f" + this.ServerConfig.intersititia_close_but_size);
                if (this.nativeBannerInfo.st_banner_close_but_range) {
                  this._st_CloseBtn.setContentSize(cc.size(this.nativeBannerInfo.st_banner_close_but_range, this.nativeBannerInfo.st_banner_close_but_range));
                  this._st_CloseBtn.getChildByName("Background").setContentSize(cc.size(this.nativeBannerInfo.st_banner_close_but_size, this.nativeBannerInfo.st_banner_close_but_size));
                }
              }
            }
          } else if (this.nativeBannerInfo.st_banner_close_but_range) {
            this._st_CloseBtn.setContentSize(cc.size(this.nativeBannerInfo.st_banner_close_but_range, this.nativeBannerInfo.st_banner_close_but_range));
            this._st_CloseBtn.getChildByName("Background").setContentSize(cc.size(this.nativeBannerInfo.st_banner_close_but_size, this.nativeBannerInfo.st_banner_close_but_size));
          }
          if (this.nativeBannerInfo.st_banner_down_but_show) {
            this._st_BtnDown.active = true;
            if (this.nativeBannerInfo.st_banner_down_btn_image) {
              Utils_1.utils.showLog("this.nativeBannerInfo.st_banner_down_btn_image", this.nativeBannerInfo.st_banner_down_btn_image);
              CompatibleTool_1.default.LoadRes(this.nativeBannerInfo.st_banner_down_btn_image, function(err, res) {
                if (!err && cc.isValid(_this) && _this._st_BtnDown) {
                  _this._st_BtnDown.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(res);
                  if (_this.nativeBannerInfo.st_banner_down_but_margin_top) {
                    _this._st_BtnDown_Widget.top = -(_this._st_BtnDown.getContentSize().height + _this.nativeBannerInfo.st_banner_down_but_margin_top);
                    _this._st_BtnDown_Widget.updateAlignment();
                  } else {
                    _this._st_BtnDown_Widget.top = -_this._st_BtnDown.getContentSize().height;
                    _this._st_BtnDown_Widget.updateAlignment();
                  }
                }
              });
            } else {
              this._st_BtnDown.getComponent(cc.Sprite).spriteFrame = this._st_down_btn_default_img;
              if (this.nativeBannerInfo.st_banner_down_but_margin_top) {
                this._st_BtnDown_Widget.top -= this.nativeBannerInfo.st_banner_down_but_margin_top;
                this._st_BtnDown_Widget.updateAlignment();
              }
            }
            2 == this.nativeBannerInfo.st_banner_down_but_show ? this._st_BtnDown.runAction(cc.sequence(cc.scaleTo(.3, 1.2), cc.scaleTo(.3, 1)).repeatForever()) : this._st_BtnDown.stopAllActions();
            this._st_BtnDown.scale = this.node.scale;
          } else {
            this._st_BtnDown.active = false;
            this._st_BtnDown.stopAllActions();
          }
          this._closeBtn.active = "true" == this.nativeBannerInfo.banner_close_but_show;
          this._closeBtn.opacity = this.nativeBannerInfo.banner_close_but_alpha;
          if (this.ServerConfig.first_native_banner_delayed_count_close) {
            if (Utils_1.utils.nativeBannerShowCount > 3 && this.ServerConfig.first_native_banner_delayed_count_close && Utils_1.utils.nativeBannerResizeCloseBtnShowCount % this.ServerConfig.native_banner_delayed_count_close == 0) {
              Utils_1.utils.showLog("\u539f\u751fbanner\u5173\u95ed\u6309\u94ae\u8bbe\u7f6e\u670d\u52a1\u5668\u914d\u7f6e\u5927\u5c0f" + this.ServerConfig.intersititia_close_but_size);
              this._closeBtn.setContentSize(cc.size(this.nativeBannerInfo.banner_close_but_range, this.nativeBannerInfo.banner_close_but_range));
              this._closeBtn.getChildByName("Background").setContentSize(cc.size(this.nativeBannerInfo.banner_close_but_size, this.nativeBannerInfo.banner_close_but_size));
            }
          } else {
            this._closeBtn.setContentSize(cc.size(this.nativeBannerInfo.banner_close_but_range, this.nativeBannerInfo.banner_close_but_range));
            this._closeBtn.getChildByName("Background").setContentSize(cc.size(this.nativeBannerInfo.banner_close_but_size, this.nativeBannerInfo.banner_close_but_size));
          }
          if ("false" == this.nativeBannerInfo.show_st_banner) {
            this._panel_widget.isAlignTop = false;
            this._panel_widget.bottom = 0;
            this._panel.setContentSize(cc.size(this.node.getContentSize().width, this.nativeBannerInfo.banner_show_height < 160 ? 160 : this.nativeBannerInfo.banner_show_height));
            this._panel_widget.updateAlignment();
            this._closeBtn_widget.updateAlignment();
            this._mask_widget.updateAlignment();
          } else {
            this._st_Panel.scale = this.nativeBannerInfo.st_banner_scale ? this.nativeBannerInfo.st_banner_scale : 1;
            this._st_Widget.bottom = this.nativeBannerInfo.st_banner_bottom ? this.nativeBannerInfo.st_banner_bottom : 0;
            this._st_Widget.updateAlignment();
          }
          if ("top" === this.nativeBannerInfo._alignType) {
            if ("true" == this.nativeBannerInfo.show_st_banner) {
              this.node.height = this._st_Panel.height;
              this.node.width = this._st_Panel.width;
              this._st_CloseBtn_Widget.updateAlignment();
              this._st_adMask_Widget.updateAlignment();
            } else {
              this.node.height = this.nativeBannerInfo.banner_show_height < 160 ? 160 : this.nativeBannerInfo.banner_show_height;
              this._panel_widget.updateAlignment();
              this._closeBtn_widget.updateAlignment();
              this._mask_widget.updateAlignment();
            }
            this._widget.isAlignTop = true;
            this._widget.isAlignBottom = false;
            this._widget.updateAlignment();
          }
          if ("true" == this.nativeBannerInfo.show_st_banner) {
            Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u663e\u793a\u4e3a\u7ed3\u7b97banner >>>>>");
            if (this.nativeBannerInfo.st_banner_bg_mask_opacity > 0) {
              this._bg_mask.opacity = this.nativeBannerInfo.st_banner_bg_mask_opacity;
              this._bg_mask.setContentSize(cc.size(this.node.getContentSize().width, this._st_Panel.height));
              this._st_adMask.active = false;
            } else this._bg_mask.active = false;
            this._st_TitleLabel.string = this._data.title ? this._data.title : "";
            this._st_DesLabel.string = this._data.desc ? this._data.desc : "";
            if (this._data.imgUrlList && this._data.imgUrlList.length > 0) {
              this._st_Icon.node.active = false;
              this._st_Img.node.active = true;
              CompatibleTool_1.default.LoadRes(this._data.imgUrlList[0], function(err, res) {
                !err && cc.isValid(_this) && _this._st_Img && (_this._st_Img.spriteFrame = new cc.SpriteFrame(res));
              });
            } else if (PlatUtils_1.default.IsOPPO && this._data.iconUrlList && this._data.iconUrlList.length > 0) {
              this._st_Icon.node.active = true;
              this._st_Img.node.active = false;
              if (0 == this.nativeBannerInfo.st_banner_style || 1 == this.nativeBannerInfo.st_banner_style) {
                Utils_1.utils.showLog("\u5355\u56fe\u7247\u6837\u5f0f-\u6ca1\u6709\u5927\u56fe\uff0c\u663e\u793a\u9ed8\u8ba4\u539f\u751f\u6837\u5f0fbanner");
                this._titleLabel.string = this._data.title;
                this._desLabel.string = this._data.desc;
                this._btnLabel.string = this._data.clickBtnTxt ? this._data.clickBtnTxt : "\u67e5\u770b\u8be6\u60c5";
                var iconUrl = PlatUtils_1.default.IsOPPO ? this._data.iconUrlList[0] : this._data.icon;
                CompatibleTool_1.default.LoadRes(iconUrl, function(err, res) {
                  !err && cc.isValid(_this) && _this._icon && (_this._icon.spriteFrame = new cc.SpriteFrame(res));
                });
                this._st_Panel.active = false;
                this._panel.active = true;
              } else CompatibleTool_1.default.LoadRes(this._data.iconUrlList[0], function(err, res) {
                !err && cc.isValid(_this) && _this._st_Icon && (_this._st_Icon.spriteFrame = new cc.SpriteFrame(res));
              });
            } else if ((PlatUtils_1.default.IsVIVO || PlatUtils_1.default.IsHuaWei) && this._data.icon) {
              this._st_Icon.node.active = true;
              this._st_Img.node.active = false;
              CompatibleTool_1.default.LoadRes(this._data.icon, function(err, res) {
                !err && cc.isValid(_this) && _this._st_Icon && (_this._st_Icon.spriteFrame = new cc.SpriteFrame(res));
              });
            }
          } else {
            this._titleLabel.string = this._data.title ? this._data.title : "";
            this._desLabel.string = this._data.desc ? this._data.desc : "";
            this._btnLabel.string = this._data.clickBtnTxt ? this._data.clickBtnTxt : "\u67e5\u770b\u8be6\u60c5";
            if (PlatUtils_1.default.IsHuaWei) {
              this._sourceLable.string = this._data.source ? this._data.source : "";
              this._panel.getChildByName("Hw_Mark").active = true;
              this._mask_widget.node.active = false;
            }
            var iconUrl = "";
            iconUrl = PlatUtils_1.default.IsOPPO ? this._data.iconUrlList[0] : this._data.icon;
            iconUrl ? CompatibleTool_1.default.LoadRes(iconUrl, function(err, res) {
              !err && cc.isValid(_this) && _this._icon && (_this._icon.spriteFrame = new cc.SpriteFrame(res));
            }) : this._data.imgUrlList && this._data.imgUrlList.length > 0 && CompatibleTool_1.default.LoadRes(this._data.imgUrlList[0], function(err, res) {
              if (!err && cc.isValid(_this) && _this._icon) if (PlatUtils_1.default.IsHuaWei) {
                _this._icon.node.active = false;
                _this._hW_icon.node.active = true;
                _this._hW_icon.spriteFrame = new cc.SpriteFrame(res);
              } else _this._icon.spriteFrame = new cc.SpriteFrame(res);
            });
          }
          if (PlatUtils_1.default.IsHuaWei) {
            this._closeBtn.setContentSize(cc.size(this.nativeBannerInfo.banner_close_but_range, this.nativeBannerInfo.banner_close_but_range));
            this._closeBtn.getChildByName("Background").setContentSize(cc.size(this.nativeBannerInfo.banner_close_but_size, this.nativeBannerInfo.banner_close_but_size));
          }
          if (0 != this.nativeBannerInfo.st_banner_down_but_margin_top) {
            this._st_BtnDown_Widget.top = this.nativeBannerInfo.st_banner_down_but_margin_top;
            this._st_BtnDown_Widget.updateAlignment();
          }
          if (this.nativeBannerInfo.st_banner_down_but_show > 0) {
            this._st_BtnDown.active = true;
            2 === this.nativeBannerInfo.st_banner_down_but_show ? this._st_BtnDown.runAction(cc.sequence(cc.scaleTo(.3, 1.3), cc.scaleTo(.3, 1)).repeatForever()) : this._st_BtnDown.stopAllActions();
          } else {
            this._st_BtnDown.active = false;
            this._st_BtnDown.stopAllActions();
          }
        }
      };
      YZ_NativeBanner.prototype.onBtnClickHandler = function(event, data) {
        switch (event.target.name) {
         case "Btn_Close":
          this.node.active = false;
          PlatUtils_1.default.IsOPPO && Utils_1.utils.oppoTool.countBannerCloseCount();
          Utils_1.utils._bannerCloseTime = new Date().getTime();
          break;

         case "Btn_Download":
         case "bgMask":
          this._reportAdClick();
        }
      };
      YZ_NativeBanner.prototype._reportAdShow = function() {
        if (this._data && this._nativeAd) if (!this._data.isReportShow || PlatUtils_1.default.IsHuaWei) {
          YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_BANNER, EventAdInfo_1.YwAdStatus.SHOW_SUCCESS, new EventAdInfo_1.AdEventParameter(this._data.adId));
          this._data.isReportShow = true;
          Utils_1.utils.showLog("\u4e0a\u62a5\u539f\u751f\u5e7f\u544a\u6761\u5c55\u793a\uff01adId:" + this._data.adId);
          this._nativeAd.reportAdShow({
            adId: this._data.adId
          });
          Utils_1.utils.SendEvent("\u4e0a\u62a5\u539f\u751fBanner\u5e7f\u544a\u5c55\u793a,\u4f4d\u7f6e:" + this.nativeBannerInfo.location);
        } else Utils_1.utils.showLog("\u5f53\u524d\u5e7f\u544a\u5df2\u7ecf\u8fc7\u4e0a\u62a5\u5c55\u793a\uff01adId:" + this._data.adId, "\uff0c\u5f53\u524d\u4e0d\u505a\u4e0a\u62a5");
      };
      YZ_NativeBanner.prototype._reportAdClick = function() {
        if (this._data) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u539f\u751f\u5e7f\u544a\u6761\u70b9\u51fb! adId:" + this._data.adId);
          if (this._nativeAd) {
            if (!this._data.isReportClick || PlatUtils_1.default.IsHuaWei) {
              YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_BANNER, EventAdInfo_1.YwAdStatus.CLICK, new EventAdInfo_1.AdEventParameter(this._data.adId));
              this._data.isReportClick = true;
              this._nativeAd.reportAdClick({
                adId: this._data.adId,
                isAutoDownload: true
              });
              PlatUtils_1.default.IsHuaWei && this.downLoadAd();
            }
            this._data = null;
            if ("true" != this.nativeBannerInfo.banner_click_refresh || PlatUtils_1.default.IsHuaWei) {
              cc.game.targetOff(this);
              this.node.active = false;
            } else {
              Utils_1.utils.showLog("\u70b9\u51fb\u4e4b\u540e-\u5148\u9690\u85cf\u5e7f\u544a-\u518d\u5237\u65b0\u5e7f\u544a\u6761\uff01");
              Utils_1.utils.adManager.HideBanner(this.nativeBannerInfo.location);
              Utils_1.utils.adManager.ShowBanner(this.nativeBannerInfo.location, {
                isRefresh: true
              });
            }
          }
        }
      };
      YZ_NativeBanner.prototype.downLoadAd = function() {
        return;
        var resultCode;
      };
      YZ_NativeBanner = __decorate([ ccclass ], YZ_NativeBanner);
      return YZ_NativeBanner;
    }(cc.Component);
    exports.default = YZ_NativeBanner;
    cc._RF.pop();
  }, {
    "./CompatibleTool": "CompatibleTool",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YouWanSDK/EventAdInfo": "EventAdInfo",
    "./YouWanSDK/YouWanAnalytics": "YouWanAnalytics"
  } ],
  YZ_NativeInsert: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1d5251l+dNFU5/8GQ0IW26S", "YZ_NativeInsert");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var CompatibleTool_1 = require("./CompatibleTool");
    var YZ_Constant_1 = require("./YZ_Constant");
    var EventAdInfo_1 = require("./YouWanSDK/EventAdInfo");
    var YouWanAnalytics_1 = require("./YouWanSDK/YouWanAnalytics");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YZ_NativeInsert = function(_super) {
      __extends(YZ_NativeInsert, _super);
      function YZ_NativeInsert() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._panel = null;
        _this._sourceLable = null;
        _this._titleLabel = null;
        _this._desLabel = null;
        _this._icon = null;
        _this._mask = null;
        _this._btnLabel = null;
        _this._closeBtn = null;
        _this._img = null;
        _this._hideInstallBtn = null;
        _this._nativeAd = null;
        _this._data = null;
        _this._dataDirty = false;
        _this._btnDownLoad = null;
        _this._defaultCloseSize = 60;
        return _this;
      }
      Object.defineProperty(YZ_NativeInsert.prototype, "ServerConfig", {
        get: function() {
          return Utils_1.utils.ServerConfig;
        },
        enumerable: false,
        configurable: true
      });
      YZ_NativeInsert.prototype.onLoad = function() {
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        cc.game.addPersistRootNode(this.node);
        this._panel = this.node.getChildByName("Panel");
        this._icon = this._panel.getChildByName("Icon").getComponent(cc.Sprite);
        this._img = this._panel.getChildByName("Img").getComponent(cc.Sprite);
        this._titleLabel = this._panel.getChildByName("TitleLabel").getComponent(cc.Label);
        this._desLabel = this._panel.getChildByName("DesLabel").getComponent(cc.Label);
        this._mask = this.node.getChildByName("Mask");
        this._sourceLable = this._panel.getChildByName("Img").getChildByName("source").getComponent(cc.Label);
        this._btnDownLoad = this._panel.getChildByName("Btn_Download");
        this._btnLabel = this._btnDownLoad.getComponentInChildren(cc.Label);
        this._hideInstallBtn = this._panel.getChildByName("Btn_HideInstall");
        this._closeBtn = this._hideInstallBtn.getChildByName("Btn_Close");
        var self = this;
        var bg = this._panel.getChildByName("bg").getComponent(cc.Sprite);
        var bgUrl = Utils_1.utils.ServerConfig.native_intersititial_bg_img;
        bgUrl && !this.bgTexture && CompatibleTool_1.default.LoadRes(bgUrl, function(err, texture) {
          if (!err && cc.isValid(self) && self._panel) {
            var size = self._panel.getChildByName("bg").getContentSize();
            self.bgTexture = new cc.SpriteFrame(texture);
            bg.spriteFrame = self.bgTexture;
            self._panel.getChildByName("bg").setContentSize(size);
          }
        });
        var back = this._panel.getChildByName("Btn_Install").getChildByName("Background").getComponent(cc.Sprite);
        var backUrl = Utils_1.utils.ServerConfig.native_intersititial_btn_img;
        backUrl && !this.btnTexture && CompatibleTool_1.default.LoadRes(backUrl, function(err, texture) {
          if (!err && cc.isValid(self) && self._panel) {
            var size = self._panel.getChildByName("Btn_Install").getContentSize();
            self.btnTexture = new cc.SpriteFrame(texture);
            back.spriteFrame = self.btnTexture;
            self._panel.getChildByName("Btn_Install").setContentSize(size);
          }
        });
        var ratio = 1;
        if (cc.winSize.height < cc.winSize.width) {
          ratio = cc.winSize.width / 1920 * .7;
          this._panel.scale = ratio;
        } else {
          this._panel.getComponent(cc.Widget).isAlignBottom = true;
          this._panel.getComponent(cc.Widget).bottom = 378;
          this._panel.getComponent(cc.Widget).updateAlignment();
          ratio = cc.winSize.width / 1080;
          this._panel.scale = ratio;
        }
        PlatUtils_1.default.IsXiaoMi && (this._panel.getChildByName("Xm_Mask").active = true);
      };
      YZ_NativeInsert.prototype.onEnable = function() {
        var _this = this;
        if (PlatUtils_1.default.IsHuaWei) {
          Utils_1.utils.showLog("\u6ce8\u518c\u539f\u751f\u63d2\u5c4f\u76d1\u542c\u4e8b\u4ef6 >>>>>.");
          cc.game.targetOff(this);
          cc.game.on(cc.game.EVENT_SHOW, function() {
            console.log("HuaWeiOnShow >>>>>>");
            _this._reportAdShow();
          }, this);
        }
        if (PlatUtils_1.default.IsOPPO || PlatUtils_1.default.IsVIVO || PlatUtils_1.default.IsHuaWei || PlatUtils_1.default.IsXiaoMi) {
          this._panel.on(cc.Node.EventType.TOUCH_START, function(event) {
            _this._reportAdClick();
          }, this);
          cc.game.on(YZ_Constant_1.default.YZ_NativeAdClick, function() {
            _this._reportAdClick();
          }, this);
        }
      };
      YZ_NativeInsert.prototype.onDestroy = function() {
        if (PlatUtils_1.default.IsHuaWei) {
          cc.game.targetOff(this);
          Utils_1.utils.adManager.ShowBanner();
        }
      };
      YZ_NativeInsert.prototype.init = function(nativeAd, data) {
        this._nativeAd = nativeAd;
        this._data = data;
        this._dataDirty = true;
      };
      YZ_NativeInsert.prototype.update = function(dt) {
        if (this._data && this._dataDirty) {
          this._panel.active = true;
          this._mask.active = true;
          this._dataDirty = false;
          this._updateContent();
        }
        if (!this._data) {
          this._panel.active = false;
          this._mask.active = false;
        }
      };
      YZ_NativeInsert.prototype._updateContent = function() {
        var _this = this;
        if (this._data) {
          this._reportAdShow();
          Utils_1.utils.nativeInsertShowCount++;
          if (this.ServerConfig.first_interstitial_delayed_level_close) if (Utils_1.utils.nativeInsertShowCount > 3 && this.ServerConfig.interstitial_delayed_level_close) {
            Utils_1.utils.nativeInsertResizeCloseBtnShowCount++;
            if (Utils_1.utils.nativeInsertResizeCloseBtnShowCount % this.ServerConfig.interstitial_delayed_level_close == 0) {
              Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5173\u95ed\u6309\u94ae\u8bbe\u7f6e\u670d\u52a1\u5668\u914d\u7f6e\u5927\u5c0f" + this.ServerConfig.intersititia_close_but_size);
              var closeBtnSize = this.ServerConfig.intersititia_close_but_size ? this.ServerConfig.intersititia_close_but_size : this._defaultCloseSize;
              this._hideInstallBtn.setContentSize(cc.size(closeBtnSize, closeBtnSize));
            }
          } else {
            Utils_1.utils.showLog("\u539f\u751f\u63d2\u5c4f\u5173\u95ed\u6309\u94ae,\u4e0d\u6ee1\u8db3\u670d\u52a1\u5668\u6761\u4ef6\uff0c\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u5927\u5c0f\uff01");
            this._hideInstallBtn.setContentSize(cc.size(this._defaultCloseSize, this._defaultCloseSize));
          } else {
            var closeBtnSize = this.ServerConfig.intersititia_close_but_size ? this.ServerConfig.intersititia_close_but_size : this._defaultCloseSize;
            this._hideInstallBtn.setContentSize(cc.size(closeBtnSize, closeBtnSize));
          }
          this._closeBtn.getChildByName("Background").opacity = 255;
          this._hideInstallBtn.opacity = this.ServerConfig.intersititia_close_but_alpha ? this.ServerConfig.intersititia_close_but_alpha : 255;
          var closeBtnRange = this.ServerConfig.intersititia_close_but_range ? this.ServerConfig.intersititia_close_but_range : this._defaultCloseSize;
          this._closeBtn.setContentSize(cc.size(closeBtnRange, closeBtnRange));
          this._titleLabel.string = this._data.title ? this._data.title : "";
          this._desLabel.string = this._data.desc ? this._data.desc : "";
          this._btnLabel.string = this._data.clickBtnTxt ? this._data.clickBtnTxt : "\u67e5\u770b\u8be6\u60c5";
          if (this._data.imgUrlList && this._data.imgUrlList.length > 0) {
            this._titleLabel.node.active = true;
            this._icon.node.active = false;
            this._img.node.active = true;
            this._desLabel.node.active = true;
            CompatibleTool_1.default.LoadRes(this._data.imgUrlList[0], function(err, res) {
              Utils_1.utils.showLog("\u52a0\u8f7d\u56fe\u7247\u4fe1\u606f ...." + err);
              !err && cc.isValid(_this) && _this._img && (_this._img.spriteFrame = new cc.SpriteFrame(res));
            });
          } else if (PlatUtils_1.default.IsOPPO && this._data.iconUrlList && this._data.iconUrlList.length > 0) {
            this._titleLabel.node.active = true;
            this._icon.node.active = true;
            this._img.node.active = false;
            this._desLabel.node.active = true;
            CompatibleTool_1.default.LoadRes(this._data.iconUrlList[0], function(err, res) {
              !err && cc.isValid(_this) && _this._icon && (_this._icon.spriteFrame = new cc.SpriteFrame(res));
            });
          } else if ((PlatUtils_1.default.IsVIVO || PlatUtils_1.default.IsHuaWei) && this._data.icon) {
            this._titleLabel.node.active = true;
            this._icon.node.active = true;
            this._img.node.active = false;
            this._desLabel.node.active = true;
            CompatibleTool_1.default.LoadRes(this._data.icon, function(err, res) {
              !err && cc.isValid(_this) && _this._icon && (_this._icon.spriteFrame = new cc.SpriteFrame(res));
            });
          }
          this._hideInstallBtn.active = false;
          this._closeBtn.active = false;
          this.scheduleOnce(function() {
            _this._closeBtn.active = true;
            _this._hideInstallBtn.active = true;
          }, this.ServerConfig.intersititia_close_delay_time || 0);
          PlatUtils_1.default.IsHuaWei && (this._sourceLable.string = this._data.source ? this._data.source : "");
        }
      };
      YZ_NativeInsert.prototype.onBtnClickHandler = function(event, data) {
        console.log("event.target.name:", event.target.name);
        switch (event.target.name) {
         case "Btn_Close":
          this._panel.active = false;
          this._mask.active = false;
          break;

         case "Btn_HideInstall":
         case "Img":
         case "Btn_Install":
          this._reportAdClick();
          break;

         case "Btn_Download":
          if (Utils_1.utils.ServerConfig.native_intersititial_click_range && 2 == Utils_1.utils.ServerConfig.native_intersititial_click_range) {
            Utils_1.utils.showLog("\u670d\u52a1\u5668native_intersititial_click_range\u914d\u7f6e\u4e3a2\uff0c\u53ea\u80fd\u70b9\u51fb\u5b89\u88c5\u6309\u94ae\u7b97\u5b89\u88c5");
            return;
          }
          this._reportAdClick();
        }
      };
      YZ_NativeInsert.prototype._reportAdShow = function() {
        if (this._data && this._nativeAd && this._panel.active) {
          YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_INTERSITITIAL, EventAdInfo_1.YwAdStatus.SHOW_SUCCESS, new EventAdInfo_1.AdEventParameter(this._data.adId));
          Utils_1.utils.showLog("\u4e0a\u62a5\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a! adId:" + this._data.adId + " #active=" + this.node.active);
          this._nativeAd.reportAdShow({
            adId: this._data.adId
          });
        }
      };
      YZ_NativeInsert.prototype._reportAdClick = function() {
        if (this._data) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u70b9\u51fb! adId:" + this._data.adId);
          if (this._nativeAd) {
            YouWanAnalytics_1.default.EventAdWithObj(EventAdInfo_1.YwAdType.NATIVE_INTERSITITIAL, EventAdInfo_1.YwAdStatus.CLICK, new EventAdInfo_1.AdEventParameter(this._data.adId));
            this._nativeAd.reportAdClick({
              adId: this._data.adId
            });
            if (!this.ServerConfig.intersititial_click_close || "true" == this.ServerConfig.intersititial_click_close) {
              this._panel.active = false;
              this._mask.active = false;
            }
            this._closeBtn.active = true;
            this._hideInstallBtn.active = true;
            this._closeBtn.setContentSize(cc.size(this.ServerConfig.intersititia_close_but_range, this.ServerConfig.intersititia_close_but_range));
            PlatUtils_1.default.IsOPPO ? Utils_1.utils.oppoTool.countNativeInserClick() : PlatUtils_1.default.IsVIVO && Utils_1.utils.Tool_Vivo.countNativeInserClick();
            if (PlatUtils_1.default.IsHuaWei) {
              this.node.destroy();
              this.downLoadAd();
            }
          }
        }
      };
      YZ_NativeInsert.prototype.downLoadAd = function() {
        return;
        var resultCode;
      };
      YZ_NativeInsert = __decorate([ ccclass ], YZ_NativeInsert);
      return YZ_NativeInsert;
    }(cc.Component);
    exports.default = YZ_NativeInsert;
    cc._RF.pop();
  }, {
    "./CompatibleTool": "CompatibleTool",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YouWanSDK/EventAdInfo": "EventAdInfo",
    "./YouWanSDK/YouWanAnalytics": "YouWanAnalytics"
  } ],
  YZ_NativeItem: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4d6dayccIRMgY+T3fKuAWmH", "YZ_NativeItem");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var CompatibleTool_1 = require("./CompatibleTool");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YZ_NativeItem = function(_super) {
      __extends(YZ_NativeItem, _super);
      function YZ_NativeItem() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._nativeAdTiltle = null;
        _this._nativeAdIcon = null;
        _this._nativeAdDesc = null;
        _this._nativeAdImg = null;
        _this._closeBtn = null;
        _this._downBtn = null;
        _this._noImageView = null;
        _this._nativeAd = null;
        _this.isShow = false;
        _this.showType = 1;
        _this.params = null;
        _this.content = null;
        return _this;
      }
      YZ_NativeItem.prototype.onLoad = function() {
        var _this = this;
        this.content = this.node.children[0];
        this._noImageView = this.content.getChildByName("NoImageView");
        this._nativeAdTiltle = this._noImageView.getChildByName("title").getComponent(cc.Label);
        this._nativeAdIcon = this._noImageView.getChildByName("icon").getComponent(cc.Sprite);
        this._nativeAdDesc = this._noImageView.getChildByName("desc").getComponent(cc.Label);
        this._nativeAdImg = this.content.getChildByName("image").getComponent(cc.Sprite);
        this._closeBtn = this.content.getChildByName("closeBtn");
        if (this.params) {
          if (this.params.parent) {
            this.node.width = this.node.parent.width;
            this.node.height = this.node.parent.height;
          }
        } else Utils_1.utils.ServerConfig.st_native_ad_height && (this.node.height = Utils_1.utils.ServerConfig.st_native_ad_height);
        this.content.active = false;
        cc.game.on(YZ_Constant_1.default.YZ_NativeAdClick, function() {
          _this.reportAdClick();
        }, this);
      };
      YZ_NativeItem.prototype.onDisable = function() {
        cc.game.targetOff(this);
        this.node.destroy();
      };
      YZ_NativeItem.prototype.update = function() {
        if (this._nativeAd && !this.isShow) {
          this.isShow = true;
          this.showNativeAd();
        }
      };
      YZ_NativeItem.prototype.init = function(nativeObj) {
        Utils_1.utils.showLog("\u521d\u59cb\u5316\u5355\u4e2a\u539f\u751f\u5e7f\u544a>>>");
        this._nativeAd = nativeObj;
      };
      YZ_NativeItem.prototype.showNativeAd = function() {
        var _this = this;
        if (Utils_1.utils.ServerConfig.st_native_ad_is_hide_banner && "true" == Utils_1.utils.ServerConfig.st_native_ad_is_hide_banner) {
          Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u663e\u793a\u7ed3\u7b97\u539f\u751f\u5e7f\u544a\u540e\u9690\u85cfbanner >>>");
          Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Game);
        }
        Utils_1.utils.ServerConfig.st_native_ad_show_rec_banner && "true" == Utils_1.utils.ServerConfig.st_native_ad_show_rec_banner && Utils_1.utils.showRecBanner();
        var nativeData = this._nativeAd.data;
        var title = nativeData.title;
        var desc = nativeData.desc;
        if (title.length > 6) {
          title = title.slice(0, 6);
          title += "...";
        }
        if (desc.length > 18) {
          desc = desc.slice(0, 17);
          desc += "...";
        }
        this._nativeAdTiltle.string = title;
        this._nativeAdDesc.string = desc;
        if (nativeData.imgUrlList && nativeData.imgUrlList.length > 0) {
          this._noImageView.active = false;
          this._nativeAdImg.node.active = true;
          CompatibleTool_1.default.LoadRes(nativeData.imgUrlList[0], function(err, res) {
            if (!err && cc.isValid(_this) && _this._nativeAdImg) {
              _this._nativeAdImg.spriteFrame = new cc.SpriteFrame(res);
              _this._nativeAdImg.node.active = true;
              _this.content.active = true;
            }
          });
        } else if (PlatUtils_1.default.IsOPPO && nativeData.iconUrlList && nativeData.iconUrlList.length > 0) {
          this._nativeAdImg.node.active = false;
          this._noImageView.active = true;
          CompatibleTool_1.default.LoadRes(nativeData.iconUrlList[0], function(err, res) {
            if (!err && cc.isValid(_this) && _this._nativeAdIcon) {
              _this._nativeAdIcon.spriteFrame = new cc.SpriteFrame(res);
              _this.content.active = true;
            }
          });
        } else if (PlatUtils_1.default.IsVIVO && nativeData.icon) {
          this._nativeAdImg.node.active = false;
          this._noImageView.active = true;
          CompatibleTool_1.default.LoadRes(nativeData.icon, function(err, res) {
            if (!err && cc.isValid(_this) && _this._nativeAdIcon) {
              _this._nativeAdIcon.spriteFrame = new cc.SpriteFrame(res);
              _this.content.active = true;
            }
          });
        }
        this.node.active = true;
        this.reportAdShow();
        this.params && this.params.callBack && this.params.callBack();
      };
      YZ_NativeItem.prototype.onBtnClickHandler = function(event, data) {
        switch (event.target.name) {
         case "closeBtn":
          this.node.active = false;
          break;

         case "Btn_Download":
          this.reportAdClick();
        }
      };
      YZ_NativeItem.prototype.reportAdShow = function() {
        Utils_1.utils.showLog("reportAdShow");
        this._nativeAd && this._nativeAd.reportAdShow();
      };
      YZ_NativeItem.prototype.reportAdClick = function() {
        this._nativeAd ? this._nativeAd.reportAdClick() : Utils_1.utils.showLog("\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff01");
      };
      YZ_NativeItem = __decorate([ ccclass ], YZ_NativeItem);
      return YZ_NativeItem;
    }(cc.Component);
    exports.default = YZ_NativeItem;
    cc._RF.pop();
  }, {
    "./CompatibleTool": "CompatibleTool",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  YZ_NativeSplashView: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7c993lt1o1ElLWwtSylDE9T", "YZ_NativeSplashView");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CompatibleTool_1 = require("./CompatibleTool");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YZ_NativeSplashView = function(_super) {
      __extends(YZ_NativeSplashView, _super);
      function YZ_NativeSplashView() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._panel = null;
        _this._sourceLable = null;
        _this._titleLabel = null;
        _this._desLabel = null;
        _this._icon = null;
        _this._btnLabel = null;
        _this._img = null;
        _this._timeLabel = null;
        _this._nativeAd = null;
        _this._data = null;
        _this._dataDirty = false;
        _this._btnDownLoad = null;
        _this.ratio = 1;
        _this.canSkip = true;
        return _this;
      }
      Object.defineProperty(YZ_NativeSplashView.prototype, "ServerConfig", {
        get: function() {
          return Utils_1.utils.ServerConfig;
        },
        enumerable: false,
        configurable: true
      });
      YZ_NativeSplashView.prototype.onLoad = function() {
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        if (cc.winSize.height < cc.winSize.width) {
          this.ratio = cc.winSize.width / 1920 * .75;
          this._panel = this.node.getChildByName("LandscapePanel");
        } else {
          this.ratio = cc.winSize.width / 1080;
          this._panel = this.node.getChildByName("PortraitPanel");
        }
        this._panel.active = true;
        var canSkip = Utils_1.utils.getConfigByKey("native_splash_can_skip");
        "false" == canSkip && (this.canSkip = false);
        this._panel.scale = this.ratio;
        this._icon = this._panel.getChildByName("Icon").getComponent(cc.Sprite);
        this._img = this._panel.getChildByName("Img").getComponent(cc.Sprite);
        this._titleLabel = this._panel.getChildByName("TitleLabel").getComponent(cc.Label);
        this._desLabel = this._panel.getChildByName("DesLabel").getComponent(cc.Label);
        this._sourceLable = this._img.node.getChildByName("source").getComponent(cc.Label);
        this._btnDownLoad = this._panel.getChildByName("Btn_Download");
        this._btnLabel = this._btnDownLoad.getComponentInChildren(cc.Label);
        this._timeLabel = this._panel.getChildByName("time").children[0].getComponent(cc.Label);
        PlatUtils_1.default.IsHuaWei && qg.onShow(this._reportAdShow.bind(this));
        "true" == Utils_1.utils.getConfigByKey("native_splash_full_cilck") && (this._btnDownLoad.active = true);
      };
      YZ_NativeSplashView.prototype.onDestroy = function() {
        if (PlatUtils_1.default.IsHuaWei) {
          qg.offShow(this._reportAdShow);
          this._nativeAd.destroy();
          cc.director.emit("SplashViewOff");
        }
      };
      YZ_NativeSplashView.prototype.init = function(nativeAd, data) {
        this._nativeAd = nativeAd;
        this._data = data;
        this._dataDirty = true;
      };
      YZ_NativeSplashView.prototype.update = function(dt) {
        if (this._data && this._dataDirty) {
          this._panel.active = true;
          this._dataDirty = false;
          this._updateContent();
        }
        this._data || (this._panel.active = false);
      };
      YZ_NativeSplashView.prototype._updateContent = function() {
        var _this = this;
        if (this._data) {
          this._reportAdShow();
          PlatUtils_1.default.IsHuaWei && (this._data.icon = "");
          Utils_1.utils.showLog("data:", JSON.stringify(this._data));
          this._titleLabel.string = this._data.title ? this._data.title : "";
          this._desLabel.string = this._data.desc ? this._data.desc : "";
          this._panel.getChildByName("Btn_Install").getComponentInChildren(cc.Label).string = this._data.clickBtnTxt ? this._data.clickBtnTxt : "\u67e5\u770b\u8be6\u60c5";
          if (this._data.imgUrlList && this._data.imgUrlList.length > 0) {
            this._titleLabel.node.active = true;
            this._icon.node.active = false;
            this._img.node.active = true;
            this._desLabel.node.active = true;
            var t_1 = 5;
            var task_1 = setInterval(function() {
              t_1--;
              if (0 == t_1) _this._timeLabel.string = "\u8df3\u8fc7"; else if (-1 == t_1) {
                clearInterval(task_1);
                _this.node.destroy();
              } else _this._timeLabel.string = "\u70b9\u51fb\u8df3\u8fc7" + t_1 + "s";
            }, 1e3);
            Utils_1.utils.showLog("\u6709\u56fe\u7247\uff0c\u4f18\u5148\u663e\u793a\u56fe\u7247");
            CompatibleTool_1.default.LoadRes(this._data.imgUrlList[0], function(err, res) {
              Utils_1.utils.showLog("\u52a0\u8f7d\u56fe\u7247\u4fe1\u606f ...." + err);
              !err && cc.isValid(_this) && _this._img && (_this._img.spriteFrame = new cc.SpriteFrame(res));
            });
          } else if (PlatUtils_1.default.IsHuaWei && this._data.icon) {
            Utils_1.utils.showLog("\u6ca1\u6709\u56fe\u7247\uff0c\u663e\u793aicon");
            this._titleLabel.node.active = true;
            this._icon.node.active = true;
            this._img.node.active = false;
            this._desLabel.node.active = true;
            CompatibleTool_1.default.LoadRes(this._data.icon, function(err, res) {
              !err && cc.isValid(_this) && _this._icon && (_this._icon.spriteFrame = new cc.SpriteFrame(res));
            });
          } else Utils_1.utils.showLog("\u4ec0\u4e48\u90fd\u6ca1\u6709!!!");
          PlatUtils_1.default.IsHuaWei && (this._sourceLable.string = this._data.source ? this._data.source : "");
        }
      };
      YZ_NativeSplashView.prototype.onBtnClickHandler = function(event, data) {
        switch (event.target.name) {
         case "time":
          this.canSkip ? this.node.destroy() : "\u8df3\u8fc7" == this._timeLabel.string && this.node.destroy();
          break;

         case "Btn_Close":
          this.node.destroy();
          break;

         case "Img":
         case "Icon":
         case "Btn_Install":
         case "Btn_Download":
          this._reportAdClick();
        }
      };
      YZ_NativeSplashView.prototype._reportAdShow = function() {
        if (this._data && this._nativeAd && this._panel.active) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u539f\u751f\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a! adId:" + this._data.adId + " #active=" + this.node.active);
          this._nativeAd.reportAdShow({
            adId: this._data.adId
          });
        }
      };
      YZ_NativeSplashView.prototype._reportAdClick = function() {
        if (this._data) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u539f\u751f\u5f00\u5c4f\u5e7f\u544a\u70b9\u51fb! adId:" + this._data.adId);
          if (this._nativeAd) {
            this._nativeAd.reportAdClick({
              adId: this._data.adId
            });
            this._panel.active = false;
            PlatUtils_1.default.IsOPPO ? Utils_1.utils.oppoTool.countNativeInserClick() : PlatUtils_1.default.IsVIVO && Utils_1.utils.Tool_Vivo.countNativeInserClick();
            if (PlatUtils_1.default.IsHuaWei) {
              this.node.destroy();
              this.downLoadAd();
            }
          }
        }
      };
      YZ_NativeSplashView.prototype.downLoadAd = function() {
        return;
        var resultCode;
      };
      YZ_NativeSplashView = __decorate([ ccclass ], YZ_NativeSplashView);
      return YZ_NativeSplashView;
    }(cc.Component);
    exports.default = YZ_NativeSplashView;
    cc._RF.pop();
  }, {
    "./CompatibleTool": "CompatibleTool",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils"
  } ],
  YZ_RecommendGamesBanner: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "32806+THFFPQKdtQ7WAonI9", "YZ_RecommendGamesBanner");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var PlatUtils_1 = require("./PlatUtils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YZ_RecommendGamesBanner = function(_super) {
      __extends(YZ_RecommendGamesBanner, _super);
      function YZ_RecommendGamesBanner() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._listView = null;
        _this._isInit = false;
        _this.closeBtn = null;
        return _this;
      }
      YZ_RecommendGamesBanner.prototype.onLoad = function() {
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        this._listView = this.getComponentInChildren("YZ_ListView");
        this._listView.node.active = false;
        this.closeBtn = cc.find("bg/close", this.node);
      };
      YZ_RecommendGamesBanner.prototype.onEnable = function() {
        var _this = this;
        Utils_1.utils.registerServerInitEvent(function() {
          _this._initWidget();
          _this.closeBtn.on(cc.Node.EventType.TOUCH_START, function(event) {
            _this.node.destroy();
          });
        }, this);
      };
      YZ_RecommendGamesBanner.prototype.onDisable = function() {
        Utils_1.utils.unregisterServerInitEvent(this);
        this.closeBtn.targetOff(this);
      };
      YZ_RecommendGamesBanner.prototype._initWidget = function() {
        if (this._isInit) return;
        if (Utils_1.utils.isShowRecommondGamesBanner()) {
          var data = Utils_1.utils.getRecommondGameList();
          if (data) if (data.length > 0) if (data.length >= 6) {
            this._isInit = true;
            this._listView.init(data);
            this._listView.node.active = true;
            Utils_1.utils.postRecommentShowData(YZ_Constant_1.SubLocation.isYzBanner);
            if (PlatUtils_1.default.IsOPPO) {
              Utils_1.utils.oppoTool.countYzBannerShowCount();
              Utils_1.utils.adManager.hideKyxBanner();
            }
          } else cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u957f\u5ea6\u5c0f\u4e8e6"); else cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u957f\u5ea6\u4e3a0"); else cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u4e3anull!");
        } else this.node.destroy();
      };
      YZ_RecommendGamesBanner = __decorate([ ccclass ], YZ_RecommendGamesBanner);
      return YZ_RecommendGamesBanner;
    }(cc.Component);
    exports.default = YZ_RecommendGamesBanner;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  YZ_RecordWidget: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "70e24eWKbRDM7QiZpIr5ChZ", "YZ_RecordWidget");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YZ_RecordWidget = function(_super) {
      __extends(YZ_RecordWidget, _super);
      function YZ_RecordWidget() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._panel = null;
        _this._normalBtn = null;
        _this._actionBtn = null;
        _this._isRecording = false;
        _this._originScale = 1;
        return _this;
      }
      YZ_RecordWidget.prototype.onLoad = function() {
        this._panel = this.node.getChildByName("Panel");
        this._panel.active = false;
        var background = this._panel.getChildByName("Background");
        this._normalBtn = background.getChildByName("normalBtn");
        this._actionBtn = background.getChildByName("actionBtn");
        this._originScale = this._actionBtn.scale;
      };
      YZ_RecordWidget.prototype._onGameMessage = function(event) {
        switch (event.type) {
         case "YZ_RecordStart":
         case "YZ_RecordEnd":
          this._updateState();
        }
      };
      YZ_RecordWidget.prototype.onEnable = function() {
        var _this = this;
        cc.game.on("YZ_CommonMessage", this._onGameMessage, this);
        Utils_1.utils.registerServerInitEvent(function() {
          _this._panel.on(cc.Node.EventType.TOUCH_END, function(event) {
            event.stopPropagation();
            if (Utils_1.utils.isRecording) {
              Utils_1.utils.isSuccess = void 0;
              Utils_1.utils.cur_tool && void 0 != Utils_1.utils.cur_tool.isClickEnd && (Utils_1.utils.cur_tool.isClickEnd = true);
              Utils_1.utils.recordEnd();
            } else Utils_1.utils.recordStart();
          }, _this);
          _this._updateState();
          if (Utils_1.utils.isShowRecordWidget()) _this._panel.active = true; else {
            Utils_1.utils.showLog("\u4e0d\u652f\u6301\u5f55\u5c4f!");
            _this.node.destroy();
          }
        }, this);
        Utils_1.utils.cur_tool && void 0 != Utils_1.utils.cur_tool.isAutoShare && (Utils_1.utils.cur_tool.isAutoShare = true);
      };
      YZ_RecordWidget.prototype.onDisable = function() {
        cc.game.targetOff(this);
      };
      YZ_RecordWidget.prototype._updateState = function() {
        if (Utils_1.utils.isRecording) {
          this._normalBtn.active = false;
          this._actionBtn.active = true;
          this._actionBtn.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3, .8 * this._originScale), cc.scaleTo(.3, this._originScale))));
        } else {
          this._normalBtn.active = true;
          this._actionBtn.stopAllActions();
          this._actionBtn.active = false;
        }
      };
      YZ_RecordWidget = __decorate([ ccclass ], YZ_RecordWidget);
      return YZ_RecordWidget;
    }(cc.Component);
    exports.default = YZ_RecordWidget;
    cc._RF.pop();
  }, {
    "./Utils": "Utils"
  } ],
  YZ_ShakeNode: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e2425kaMhpN4aU6KcM8BiLX", "YZ_ShakeNode");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YZ_ShakeNode = function(_super) {
      __extends(YZ_ShakeNode, _super);
      function YZ_ShakeNode() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      YZ_ShakeNode.prototype.start = function() {
        this.schedule(this.shake, 3);
      };
      YZ_ShakeNode.prototype.shake = function() {
        var duration = .03;
        var action = cc.repeat(cc.sequence(cc.rotateTo(duration, 5), cc.rotateTo(duration, 0), cc.rotateTo(duration, -5), cc.rotateTo(duration, 0)), 5);
        this.node.runAction(action);
      };
      YZ_ShakeNode = __decorate([ ccclass ], YZ_ShakeNode);
      return YZ_ShakeNode;
    }(cc.Component);
    exports.default = YZ_ShakeNode;
    cc._RF.pop();
  }, {} ],
  YZ_ShortcutWidget: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8491fv6UfpAeK3G0lwwfFJo", "YZ_ShortcutWidget");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var CompatibleTool_1 = require("./CompatibleTool");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YZ_ShortcutWidget = function(_super) {
      __extends(YZ_ShortcutWidget, _super);
      function YZ_ShortcutWidget() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._panel = null;
        _this._handImg = null;
        _this._callback = null;
        return _this;
      }
      Object.defineProperty(YZ_ShortcutWidget.prototype, "Callback", {
        set: function(value) {
          this._callback = value;
        },
        enumerable: false,
        configurable: true
      });
      YZ_ShortcutWidget.prototype.onLoad = function() {
        this._panel = this.node.getChildByName("Panel");
        this._panel.active = false;
        this._handImg = cc.find("Panel/handImg", this.node);
        this._handImg.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.5, CompatibleTool_1.default.position(0, -50)), cc.moveBy(.5, CompatibleTool_1.default.position(0, 50)))));
      };
      YZ_ShortcutWidget.prototype.onEnable = function() {
        var _this = this;
        Utils_1.utils.registerServerInitEvent(function() {
          Utils_1.utils.isShowCreateShortcutWidget() ? _this._panel.active = true : _this.node.destroy();
        }, this);
      };
      YZ_ShortcutWidget.prototype.onDisable = function() {
        Utils_1.utils.unregisterServerInitEvent(this);
      };
      YZ_ShortcutWidget.prototype.onBtnClickHandler = function(event, data) {
        var _this = this;
        switch (event.target.name) {
         case "Btn_Shortcut":
          Utils_1.utils.canCreateShortcut() && Utils_1.utils.createShortcut(function(ret) {
            if (ret) {
              Utils_1.utils.showLog("\u5feb\u6377\u65b9\u5f0f\u521b\u5efa\u6210\u529f\uff01");
              _this._callback && _this._callback(true);
            } else {
              Utils_1.utils.showLog("\u5feb\u6377\u65b9\u5f0f\u521b\u5efa\u5931\u8d25\uff01");
              _this._callback && _this._callback(false);
            }
          });
        }
      };
      YZ_ShortcutWidget = __decorate([ ccclass ], YZ_ShortcutWidget);
      return YZ_ShortcutWidget;
    }(cc.Component);
    exports.default = YZ_ShortcutWidget;
    cc._RF.pop();
  }, {
    "./CompatibleTool": "CompatibleTool",
    "./Utils": "Utils"
  } ],
  YZ_StatementRecommentAd: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a1f40rCFtlOVJUTsMlC9yMj", "YZ_StatementRecommentAd");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var AldUtils_1 = require("./AldUtils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var List_1 = require("./List");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YZ_StatementRecommentAd = function(_super) {
      __extends(YZ_StatementRecommentAd, _super);
      function YZ_StatementRecommentAd() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._jumpList = null;
        _this._items = [];
        _this.listView = null;
        _this._pageItem = null;
        _this._pageRecItem = null;
        _this._recListNode = null;
        _this.nativeData = null;
        _this._nativeAd = null;
        _this.showNativeAd = true;
        _this.yzItem = null;
        _this._nativeIsShow = false;
        _this.autoScorll = false;
        return _this;
      }
      YZ_StatementRecommentAd.prototype.onLoad = function() {
        this._recListNode = this.node.getChildByName("RecList");
        this.listView = this._recListNode.getChildByName("ScrollView").getComponent(List_1.default);
        this._nativeAd = this.node.getChildByName("nativeAd");
        AldUtils_1.default.SendEvent("\u663e\u793a\u7ed3\u7b97\b\u63a8\u8350\u7ec4\u4ef6");
      };
      YZ_StatementRecommentAd.prototype.start = function() {
        if (this.showNativeAd) {
          this._recListNode.active = false;
          this.yzItem = this._nativeAd.getComponent("YZ_NativeItem");
          this.yzItem.showType = 1;
          Utils_1.utils.adManager.createNativeAd(null, this.yzItem);
          Utils_1.utils.showLog("\u4ea4\u53c9\u63a8\u5e7f\u8c03\u7528\u539f\u751f\u5e7f\u544a\u300a\u300a\u300a\u300a\u300a\u300a\u300a");
        } else {
          this._recListNode.active = true;
          this._jumpList = Utils_1.utils.getRecommondGameList();
          if (this._jumpList && this._jumpList.length > 0) {
            this._initWidget();
            this.listView.numItems = this._jumpList.length;
          } else {
            cc.warn("\u4ea4\u53c9\u63a8\u5e7f\u6570\u636e\u4e3anull, 6\u5143\u7d20\u4ea4\u53c9\u63a8\u5e7f\u7ec4\u4ef6\u4e0d\u663e\u793a!");
            this.node.destroy();
          }
        }
      };
      YZ_StatementRecommentAd.prototype.hideLastNode = function() {
        for (var i = 5; i > 2; i--) this._items[i].node.active = false;
      };
      YZ_StatementRecommentAd.prototype.update = function(dt) {
        if (this.yzItem && this.yzItem.content && this.yzItem.content.active && !this._nativeIsShow) {
          this._nativeIsShow = false;
          this._recListNode.active = false;
        }
        if (this.autoScorll && !this.listView.scrollView.isScrolling()) {
          this.listView.content.y += 150 * dt;
          this.listView._onScrolling();
        }
      };
      YZ_StatementRecommentAd.prototype.onListRender = function(item, idx) {
        var qcrossWidgetItem = item.getComponent("QCrossWidgetItem");
        qcrossWidgetItem._location = YZ_Constant_1.SubLocation.isStatement;
        qcrossWidgetItem.getComponent("QCrossWidgetItem").init(this._jumpList[idx]);
      };
      YZ_StatementRecommentAd.prototype._initWidget = function() {
        var _this = this;
        if (Utils_1.utils.ServerConfig.st_recomment_is_hide_banner && "true" == Utils_1.utils.ServerConfig.st_recomment_is_hide_banner) {
          Utils_1.utils.showLog("\u670d\u52a1\u5668\u914d\u7f6e\u663e\u793a\u7ed3\u7b97\u4e92\u63a8\u540e\u9690\u85cfbanner >>>");
          Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Game);
          Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Over);
        }
        this.scheduleOnce(function() {
          _this.autoScorll = true;
        }, 1);
        Utils_1.utils.postRecommentShowData(YZ_Constant_1.SubLocation.isStatement);
      };
      YZ_StatementRecommentAd = __decorate([ ccclass ], YZ_StatementRecommentAd);
      return YZ_StatementRecommentAd;
    }(cc.Component);
    exports.default = YZ_StatementRecommentAd;
    cc._RF.pop();
  }, {
    "./AldUtils": "AldUtils",
    "./List": "List",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  YZ_Tool_4399: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e9a1c/LeeFGVaaFV6tot5cB", "YZ_Tool_4399");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YZ_Tool_4399 = function() {
      function YZ_Tool_4399() {
        this._4399 = window.h5api;
        this._sysInfo = {};
        this._serverConfig = null;
      }
      Object.defineProperty(YZ_Tool_4399.prototype, "SysInfo", {
        get: function() {
          return this._sysInfo;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_4399.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_4399.prototype.init = function(data) {
        if (PlatUtils_1.default.Is4399) {
          Utils_1.utils.showLog("4399 h5 \u5e73\u53f0\u521d\u59cb\u5316\u5b8c\u6210 >>");
          Utils_1.utils.emitServerInitEvent();
        }
      };
      YZ_Tool_4399.prototype.share = function(callBack) {
        this._4399.share();
        callBack && callBack(true, "");
      };
      YZ_Tool_4399.prototype.showRecommend = function() {
        this._4399.showRecommend();
      };
      YZ_Tool_4399 = __decorate([ ccclass ], YZ_Tool_4399);
      return YZ_Tool_4399;
    }();
    exports.default = YZ_Tool_4399;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils"
  } ],
  YZ_Tool_Baidu: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d56dd0lh79AeZGOtNmRUU2Q", "YZ_Tool_Baidu");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_ServerUrl = "https://apps.youlesp.com/gss?";
    var POST_ServerUrl = "https://report.youletd.com/gss?";
    var ST_DefaultServerConfig = "";
    var YZ_Tool_Baidu = function() {
      function YZ_Tool_Baidu() {
        this._recorder = null;
        this._recommendationButton = null;
        this._videoPath = null;
        this._serverConfig = null;
        this._shareCallback = null;
        this.swan = window.swan;
        this._sysInfo = {};
        this._uid = "0";
        this._service_uid = "0";
        this._loginTime = 0;
        this._loginInterval = 30;
        this._reportLoginTime = 0;
        this._reportLoginInterval = 30;
        this.isReport = false;
      }
      Object.defineProperty(YZ_Tool_Baidu.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Baidu.prototype, "SysInfo", {
        get: function() {
          return this._sysInfo;
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_Baidu.prototype.gameVersion = function() {
        return Utils_1.utils.config.baiduconfig.version;
      };
      Object.defineProperty(YZ_Tool_Baidu.prototype, "uid", {
        get: function() {
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Baidu.prototype, "serviceId", {
        get: function() {
          if ("0" != this._service_uid) return this._service_uid;
          this.reportLogin();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_Baidu.prototype._login = function() {
        return __awaiter(this, void 0, void 0, function() {
          var curTime, interval, self;
          return __generator(this, function(_a) {
            curTime = new Date().getTime();
            interval = (curTime - this._loginTime) / 1e3;
            if (interval > 0 && interval < 30) {
              Utils_1.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a" + this._loginInterval + "\u79d2");
              return [ 2 ];
            }
            this._loginTime = curTime;
            self = this;
            Utils_1.utils.showLog("baidu\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0");
            this._uid = "0";
            return [ 2 ];
          });
        });
      };
      YZ_Tool_Baidu.prototype.reportLogin = function() {
        var _this = this;
        if (this.isReport) return;
        this.isReport = true;
        var self = this;
        var curTime = new Date().getTime();
        var interval = (curTime - self._reportLoginTime) / 1e3;
        console.log(curTime, curTime - self._reportLoginTime, interval);
        if (interval > 0 && interval < 30) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a" + self._reportLoginInterval + "\u79d2");
          return;
        }
        self._reportLoginTime = curTime;
        var method = "m=login";
        var url = ST_ServerUrl + method + "&device_data=0";
        Utils_1.utils.commomHttpRequest(url, function(ret, data) {
          if (ret) {
            if (data) {
              var result = JSON.parse(data);
              Utils_1.utils.showLog("data=" + data);
              Utils_1.utils.showLog("result=" + result);
              Utils_1.utils.showLog("result.uid=" + result.uid);
              if (result.uid) {
                self._service_uid = "" + result.uid;
                console.log("self._service_uid:" + self._service_uid);
                Utils_1.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid=" + self._service_uid);
                YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_SERVICE_UID, self._service_uid);
              }
            }
          } else Utils_1.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");
          _this.isReport = false;
        });
      };
      YZ_Tool_Baidu.prototype.init = function(data) {
        var _this = this;
        if (PlatUtils_1.default.IsBaidu) {
          if (data) {
            var configObj = JSON.parse(data);
            configObj && configObj.baidu && (ST_DefaultServerConfig = JSON.stringify(configObj.baidu));
          }
          this._service_uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_SERVICE_UID);
          this._service_uid = this._service_uid ? this._service_uid : "0";
          this._sysInfo = this.swan.getSystemInfoSync();
          this._sysInfo ? Utils_1.utils.showLog("\u767e\u5ea6\u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: ", JSON.stringify(this._sysInfo)) : Utils_1.utils.showLog("\u7cfb\u7edf\u4fe1\u606f\u83b7\u53d6\u5931\u8d25!");
          this._loadConfig();
          if (this.canRecord()) {
            this._recorder = this.swan.getVideoRecorderManager();
            if (this._recorder) {
              this._recorder.onStart(function(res) {
                Utils_1.utils.showLog("\u5f00\u59cb\u5f55\u5c4f\u56de\u8c03: ", res);
                Utils_1.utils.isRecording = true;
                cc.game.emit("YZ_CommonMessage", {
                  type: "YZ_RecordStart"
                });
              });
              this._recorder.onStop(function(res) {
                Utils_1.utils.showLog("\u7ed3\u675f\u5f55\u5c4f\u56de\u8c03: ", res.videoPath);
                Utils_1.utils.isRecording = false;
                _this._videoPath = res.videoPath;
                cc.game.emit("YZ_CommonMessage", {
                  type: "YZ_RecordEnd"
                });
              });
              this._recorder.onError(function(err) {
                Utils_1.utils.isRecording = false;
                if (err) {
                  Utils_1.utils.showLog("\u5f55\u5c4f\u51fa\u9519 : ", err.errCode, err.errMsg);
                  cc.game.emit("YZ_CommonMessage", {
                    type: "YZ_RecordEnd"
                  });
                }
              });
            }
          }
          this.swan.showShareMenu();
          this.swan.onShareAppMessage(function() {
            return _this._getShareInfo();
          });
        }
      };
      YZ_Tool_Baidu.prototype._loadConfig = function() {
        var _this = this;
        if (PlatUtils_1.default.IsBaidu) {
          var method = "m=g";
          Utils_1.utils.commomHttpRequest(ST_ServerUrl + method, function(ret, data) {
            if (ret) {
              Utils_1.utils.showLog("\u767e\u5ea6\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = ", data);
              if (data) {
                var result = JSON.parse(data);
                result ? Utils_1.utils.DebugLoacalConfig ? cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!") : _this._serverConfig = result : Utils_1.utils.showLog("\u767e\u5ea6\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
              }
            } else Utils_1.utils.showLog("\u767e\u5ea6\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
            if (_this._serverConfig) if (_this._serverConfig.is_local_pos_id && "false" == _this._serverConfig.is_local_pos_id) {
              Utils_1.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid");
              Utils_1.utils.config.baiduconfig.bannerId = _this._serverConfig.banner_pos_id;
              Utils_1.utils.config.baiduconfig.videoId = _this._serverConfig.video_pos_id;
            } else Utils_1.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID"); else _this._serverConfig = JSON.parse(ST_DefaultServerConfig);
            Utils_1.utils.emitServerInitEvent();
          });
        }
      };
      YZ_Tool_Baidu.prototype.showRecommendationButton = function(params) {
        var _this = this;
        var styleParams = params;
        if (PlatUtils_1.default.IsBaidu && this.canShowRecommendButton()) {
          false;
          Utils_1.utils.showLog("\u521b\u5efa\u5e76\u663e\u793a");
          this._recommendationButton = this.swan.createRecommendationButton({
            type: "list",
            style: {
              left: -300,
              top: -300
            }
          });
          if (this._recommendationButton) {
            this._recommendationButton.onLoad(function() {
              _this._recommendationButton.show();
              _this._setRecommendBtnStyle(_this._recommendationButton, styleParams);
            });
            this._recommendationButton.onError(function(err) {
              err && Utils_1.utils.showLog("\u4ea4\u53c9\u63a8\u5e7f\u6309\u94ae\u51fa\u9519 : ", err.errCode, err.errMsg);
            });
            this._recommendationButton.load();
          }
          return this._recommendationButton;
        }
        return null;
      };
      YZ_Tool_Baidu.prototype._setRecommendBtnStyle = function(btn, params) {
        if (btn) {
          var left = 0;
          var top = 0;
          if (params) {
            Utils_1.utils.showLog("params:", params);
            params.left ? left = params.left / cc.view.getDesignResolutionSize().width * this._sysInfo.screenWidth : params.right && (left = this._sysInfo.screenWidth - params.right / cc.view.getDesignResolutionSize().width * this._sysInfo.screenWidth - btn.style.width);
            params.top ? top = params.top / cc.view.getDesignResolutionSize().height * this._sysInfo.screenHeight : params.bottom && (top = this._sysInfo.screenHeight - params.bottom / cc.view.getDesignResolutionSize().height * this._sysInfo.screenHeight - btn.style.height);
          }
          Utils_1.utils.showLog("top:" + top + "; left:" + left);
          btn.style.top = top;
          btn.style.left = left;
        }
      };
      YZ_Tool_Baidu.prototype.hideRecommendationButton = function() {
        PlatUtils_1.default.IsBaidu && this.canShowRecommendButton() && this._recommendationButton && this._recommendationButton.hide();
      };
      YZ_Tool_Baidu.prototype.recordStart = function() {
        if (PlatUtils_1.default.IsBaidu && this.canRecord()) {
          Utils_1.utils.showLog("\u5f00\u59cb\u5f55\u5c4f");
          this._recorder && this._recorder.start({
            duration: 120
          });
        }
      };
      YZ_Tool_Baidu.prototype.recordEnd = function() {
        if (PlatUtils_1.default.IsBaidu && this.canRecord()) {
          Utils_1.utils.showLog("\u7ed3\u675f\u5f55\u5c4f");
          this._recorder && this._recorder.stop();
        }
      };
      YZ_Tool_Baidu.prototype.shareVideo = function() {
        if (PlatUtils_1.default.IsBaidu && this._videoPath) {
          var self_1 = this;
          this.swan.shareVideo({
            videoPath: this._videoPath,
            success: function() {
              Utils_1.utils.showLog("\u5206\u4eab\u6210\u529f");
              self_1._videoPath = "";
              self_1._shareCallback && self_1._shareCallback(true);
            },
            fail: function(res) {
              self_1._videoPath = "";
              Utils_1.utils.showLog("\u5206\u4eab\u5931\u8d25");
              self_1._shareCallback && self_1._shareCallback(false, "\u5206\u4eab\u5931\u8d25!");
            }
          });
        }
      };
      YZ_Tool_Baidu.prototype.shareImage = function() {
        PlatUtils_1.default.IsBaidu && this.swan.shareAppMessage(this._getShareInfo());
      };
      YZ_Tool_Baidu.prototype.share = function(callback) {
        if (PlatUtils_1.default.IsBaidu) {
          this._shareCallback = callback;
          this._videoPath ? this.shareVideo() : this.shareImage();
        }
      };
      YZ_Tool_Baidu.prototype._getShareInfo = function() {
        if (PlatUtils_1.default.IsBaidu) {
          var shareInfo = Utils_1.utils.getShareInfo();
          var self_2 = this;
          if (shareInfo) return {
            title: shareInfo.title,
            imageUrl: shareInfo.imageUrl,
            success: function(res) {
              self_2._shareCallback && self_2._shareCallback(true);
              Utils_1.utils.showLog("\u5206\u4eab\u6210\u529f!");
            },
            fail: function(err) {
              self_2._shareCallback && self_2._shareCallback(false, "\u5206\u4eab\u5931\u8d25!");
              Utils_1.utils.showLog("\u5206\u4eab\u5931\u8d25!");
            }
          };
        }
        return {};
      };
      YZ_Tool_Baidu.prototype.canRecord = function() {
        if (PlatUtils_1.default.IsBaidu) {
          if (this._sysInfo) return this._compareVersion(this._sysInfo.SDKVersion, "1.4.1") && PlatUtils_1.default.IsAndroid;
          return false;
        }
        return false;
      };
      YZ_Tool_Baidu.prototype.canShowRecommendButton = function() {
        if (PlatUtils_1.default.IsBaidu) {
          if (this._sysInfo) return this._compareVersion(this._sysInfo.SDKVersion, "1.5.2") && PlatUtils_1.default.IsAndroid;
          return false;
        }
        return false;
      };
      YZ_Tool_Baidu.prototype.canShowFavoriteGuide = function() {
        if (PlatUtils_1.default.IsBaidu) {
          if (this._sysInfo) return this._compareVersion(this._sysInfo.SDKVersion, "1.7.2");
          return false;
        }
        return false;
      };
      YZ_Tool_Baidu.prototype._compareVersion = function(first, second) {
        return parseInt(first.split(".").join("")) >= parseInt(second.split(".").join(""));
      };
      YZ_Tool_Baidu.prototype.navigateToMiniGame = function(pkgName, callback) {
        if (PlatUtils_1.default.IsBaidu) {
          var completeCallback_1 = callback;
          if (!pkgName) {
            Utils_1.utils.showLog("\u8df3\u8f6cID\u4e3anull");
            completeCallback_1 && completeCallback_1(false);
            return;
          }
          this.swan.navigateToMiniProgram({
            appKey: pkgName,
            path: "",
            extraData: {},
            success: function(res) {
              Utils_1.utils.showLog("\u8df3\u8f6c\u6210\u529f\uff01");
              completeCallback_1 && completeCallback_1(true);
            },
            fail: function(error) {
              Utils_1.utils.showLog("\u8df3\u8f6c\u5931\u8d25!");
              completeCallback_1 && completeCallback_1(false);
            }
          });
        }
      };
      YZ_Tool_Baidu.prototype.postData = function(otherGameAppId) {
        if (PlatUtils_1.default.IsBaidu) {
          var appid = Utils_1.utils.config.baiduconfig.appID;
          var uid = "0";
          var channel = "baidu";
          var method = "m=jump";
          var url = POST_ServerUrl + " + " + method + " + &app_id=" + appid + "&uid=" + uid + "&channel=" + channel + "&jump_app_id=" + otherGameAppId;
          Utils_1.utils.showLog("\u4e0a\u62a5\u6570\u636e, url=", url);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          });
        }
      };
      YZ_Tool_Baidu.prototype.getRecommondGameList = function() {
        if (PlatUtils_1.default.IsBaidu && Utils_1.utils.Tool_Baidu && Utils_1.utils.Tool_Baidu.ServerConfig) return Utils_1.utils.Tool_Baidu.ServerConfig.jump_list;
        return null;
      };
      YZ_Tool_Baidu.prototype.postLevel = function(level, status, levelName) {
        if (PlatUtils_1.default.IsBaidu) {
          var method = "m=rlevel";
          var url = POST_ServerUrl + method + "&level_id=" + level + "&level_name=" + encodeURI(levelName) + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Baidu.prototype.sendEvent = function(eventName) {
        if (PlatUtils_1.default.IsBaidu) {
          var method = "m=revent";
          var url = POST_ServerUrl + method + "&event=" + encodeURI(eventName);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01") : Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Baidu.prototype.showToast = function(msg) {
        PlatUtils_1.default.IsBaidu && swan.showToast({
          title: msg,
          icon: "none",
          duration: 2e3,
          success: function(res) {
            console.log("" + res);
          },
          fail: function(res) {
            console.log("showToast\u8c03\u7528\u5931\u8d25");
          }
        });
      };
      YZ_Tool_Baidu = __decorate([ ccclass ], YZ_Tool_Baidu);
      return YZ_Tool_Baidu;
    }();
    exports.default = YZ_Tool_Baidu;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  YZ_Tool_Bili: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "31682EOkrNLt67Wx9gIkGHK", "YZ_Tool_Bili");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YZ_Tool_Bili = function() {
      function YZ_Tool_Bili() {
        this._sysInfo = {};
        this._serverConfig = null;
      }
      Object.defineProperty(YZ_Tool_Bili.prototype, "SysInfo", {
        get: function() {
          return this._sysInfo;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Bili.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_Bili.prototype.init = function(data) {
        if (PlatUtils_1.default.IsBili) {
          Utils_1.utils.showLog("\u54d4\u54e9 \u5e73\u53f0\u521d\u59cb\u5316\u5b8c\u6210 >>");
          this.initSystemInfo();
          Utils_1.utils.emitServerInitEvent();
        }
      };
      YZ_Tool_Bili.prototype.share = function(callback) {
        void 0 === callback && (callback = null);
        bl.shareAppMessage({
          title: Utils_1.utils.config.otherconfig.shareTitle,
          imageUrl: Utils_1.utils.config.otherconfig.shareImgUrl,
          success: function() {
            Utils_1.utils.showLog("bili \u5206\u4eab\u6210\u529f\uff01");
            callback && callback(true);
          },
          fail: function() {
            Utils_1.utils.showLog("bili \u5206\u4eab\u5931\u8d25\uff01");
            callback && callback(false, "\u5206\u4eab\u5931\u8d25\uff01");
          }
        });
      };
      YZ_Tool_Bili.prototype.initSystemInfo = function() {
        PlatUtils_1.default.IsBili && (this._sysInfo = bl.getSystemInfoSync());
      };
      YZ_Tool_Bili = __decorate([ ccclass ], YZ_Tool_Bili);
      return YZ_Tool_Bili;
    }();
    exports.default = YZ_Tool_Bili;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils"
  } ],
  YZ_Tool_Broswer: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "50a6elLlt5J/6iLrubWYrAU", "YZ_Tool_Broswer");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var ST_ServerUrl = "http://apps.youlesp.com/aconfig?";
    var ST_DefaultServerConfig = "";
    var ST_NativeInsertAdClickTimes = "NativeInsertAdClickTimes";
    var ST_LastDateTime = "LastDateTime";
    var POST_ServerUrl = "https://report.youletd.com/gss?";
    var YZ_Tool_Broswer = function() {
      function YZ_Tool_Broswer() {
        this._serverConfig = null;
        this._nativeInsertAdClickTimes = 0;
        this._img_url = "app/editor/static/img/logo-with-text.png";
        this._shortcutCreated = false;
      }
      Object.defineProperty(YZ_Tool_Broswer.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Broswer.prototype, "NativeInsertAdClickTimes", {
        get: function() {
          return this._nativeInsertAdClickTimes;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Broswer.prototype, "ShortcutCreated", {
        get: function() {
          return this._shortcutCreated;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Broswer.prototype, "img_url", {
        get: function() {
          return window.location.href + this._img_url;
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_Broswer.prototype.getRecommondGameList = function() {
        return [ {
          id: "30213731",
          name: "\u6d4b\u8bd5\u4e00",
          appid: "com.yzxx.hcrttt.kyx.nearme.gamecenter",
          logo: this.img_url,
          icon: this.img_url
        }, {
          id: "30213731",
          name: "\u6d4b\u8bd5\u4e8c",
          appid: "com.yzxx.hcrttt.kyx.nearme.gamecenter",
          logo: this.img_url,
          icon: this.img_url
        }, {
          id: "30213731",
          name: "\u6d4b\u8bd5\u4e09",
          appid: "com.yzxx.hcrttt.kyx.nearme.gamecenter",
          logo: this.img_url,
          icon: this.img_url
        }, {
          id: "30213731",
          name: "\u6d4b\u8bd5\u56db",
          appid: "com.yzxx.hcrttt.kyx.nearme.gamecenter",
          logo: this.img_url,
          icon: this.img_url
        }, {
          id: "30213731",
          name: "\u6d4b\u8bd5\u4e94",
          appid: "com.yzxx.hcrttt.kyx.nearme.gamecenter",
          logo: this.img_url,
          icon: this.img_url
        }, {
          id: "30213731",
          name: "\u6d4b\u8bd5\u516d",
          appid: "com.yzxx.hcrttt.kyx.nearme.gamecenter",
          logo: this.img_url,
          icon: this.img_url
        }, {
          id: "30213731",
          name: "\u6d4b\u8bd5\u4e03",
          appid: "com.yzxx.hcrttt.kyx.nearme.gamecenter",
          logo: this.img_url,
          icon: this.img_url
        }, {
          id: "30213731",
          name: "\u6d4b\u8bd5\u516b",
          appid: "com.yzxx.hcrttt.kyx.nearme.gamecenter",
          logo: this.img_url,
          icon: this.img_url
        }, {
          id: "30213731",
          name: "\u6d4b\u8bd5\u4e5d",
          appid: "com.yzxx.hcrttt.kyx.nearme.gamecenter",
          logo: this.img_url,
          icon: this.img_url
        }, {
          id: "30213731",
          name: "\u6d4b\u8bd510",
          appid: "com.yzxx.hcrttt.kyx.nearme.gamecenter",
          logo: this.img_url,
          icon: this.img_url
        }, {
          id: "30213731",
          name: "\u6d4b\u8bd511",
          appid: "com.yzxx.hcrttt.kyx.nearme.gamecenter",
          logo: this.img_url,
          icon: this.img_url
        }, {
          id: "30213731",
          name: "\u6d4b\u8bd512",
          appid: "com.yzxx.hcrttt.kyx.nearme.gamecenter",
          logo: this.img_url,
          icon: this.img_url
        }, {
          id: "30213731",
          name: "\u6d4b\u8bd513",
          appid: "com.yzxx.hcrttt.kyx.nearme.gamecenter",
          logo: this.img_url,
          icon: this.img_url
        }, {
          id: "30213731",
          name: "\u6d4b\u8bd514",
          appid: "com.yzxx.hcrttt.kyx.nearme.gamecenter",
          logo: this.img_url,
          icon: this.img_url
        } ];
      };
      YZ_Tool_Broswer.prototype.init = function(data) {
        if (data) {
          var configObj = JSON.parse(data);
          configObj && configObj.oppo && (ST_DefaultServerConfig = JSON.stringify(configObj.oppo));
        }
        var self = this;
        var xhr = new XMLHttpRequest();
        xhr.open("GET", this.img_url);
        xhr.send();
        xhr.onreadystatechange = function() {
          if (4 == xhr.readyState && 200 == xhr.status) {
            console.log("\u6d4b\u8bd5\u56fe\u7247\u8def\u5f84\u6b63\u5e38");
            self._loadConfig();
          }
          if (4 == xhr.readyState && 404 == xhr.status) {
            console.log("\u6d4b\u8bd5\u56fe\u7247\u8def\u5f84\u4e0d\u5b58\u5728\u5207\u6362\u56fe\u7247\u8def\u5f84");
            self._img_url = "app/editor/static/preview-templates/splash.png";
            self._loadConfig();
          }
        };
        xhr.ontimeout = function() {
          console.log("\u6d4b\u8bd5\u56fe\u7247\u52a0\u8f7d\u8d85\u65f6\u5207\u6362\u56fe\u7247\u8def\u5f84");
          self._img_url = "app/editor/static/preview-templates/splash.png";
          self._loadConfig();
        };
        xhr.onerror = function(err) {
          console.log("\u6d4b\u8bd5\u56fe\u7247\u8def\u5f84\u5f02\u5e38\uff1a" + err + "\u5207\u6362\u56fe\u7247\u8def\u5f84");
          self._img_url = "app/editor/static/preview-templates/splash.png";
          self._loadConfig();
        };
      };
      YZ_Tool_Broswer.prototype._loadConfig = function() {
        this._serverConfig = JSON.parse(ST_DefaultServerConfig);
        this._serverConfig.icon_jump = 5;
        this._serverConfig.jump_list = this.getRecommondGameList();
        Utils_1.utils.emitServerInitEvent();
      };
      YZ_Tool_Broswer.prototype.sendEvent = function(eventName) {
        PlatUtils_1.default.IsTest && Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6 " + eventName);
      };
      YZ_Tool_Broswer.prototype.postLevel = function(level, status, levelName) {
        PlatUtils_1.default.IsTest && Utils_1.utils.showLog("\u5173\u5361" + level + "," + status);
      };
      YZ_Tool_Broswer.prototype.realNameAuth = function(code, name, callBack) {
        if (!Utils_1.utils._isConfigInit) {
          Utils_1.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return;
        }
        var method = "m=realNameAuth";
        var completeCallback = callBack;
        var xhr = new XMLHttpRequest();
        xhr.timeout = 6e3;
        var data = {};
        data.kyx = false;
        data.app_id = "6103b73b864a9558e6d65af8";
        data.channel = "m233";
        data.device_uid = 0;
        data.uid = "482501611";
        data.game_type = 2;
        data.device_data = "";
        data.game_version = "1.0.0";
        data.reqv = "";
        data.app_list = "";
        data.id_card = code;
        data.real_name = name;
        var requestData = JSON.stringify(data);
        var requestUrl = "https://apps.youlesp.com/gss?" + method + "&time_stamp=" + new Date().getTime() + "&json_data=" + Utils_1.utils.aesEncrypt(requestData);
        Utils_1.utils.showLog("\u670d\u52a1\u5668\u5730\u5740:" + requestUrl);
        xhr.open("GET", requestUrl);
        xhr.send();
        xhr.onreadystatechange = function() {
          Utils_1.utils.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=", xhr.readyState, "; status=", xhr.status);
          4 == xhr.readyState && (200 == xhr.status ? completeCallback && completeCallback(true, Utils_1.utils.aesDecrypt(xhr.responseText)) : completeCallback && completeCallback(false, ""));
          200 != xhr.status;
        };
        xhr.ontimeout = function() {
          Utils_1.utils.showLog("\u8bf7\u6c42\u8d85\u65f6!");
          completeCallback && completeCallback(false, "");
        };
        xhr.onerror = function(err) {
          completeCallback && completeCallback(false, "");
        };
      };
      return YZ_Tool_Broswer;
    }();
    exports.default = YZ_Tool_Broswer;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils"
  } ],
  YZ_Tool_Cocosplay: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "78b0a0l4K9L7IdiXn8LR/YS", "YZ_Tool_Cocosplay");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_DefaultServerConfig = "";
    var ST_ServerUrl = "http://apps.youlesp.com/gss?";
    var POST_ServerUrl = "http://report.youlesp.com/gss?";
    var QTT_ServerUrl = "https://newidea4-gamecenter-backend.1sapp.com/x/open/user/ticket?";
    var QTT_Report = "https://newidea4-gamecenter-backend.1sapp.com/x/open/report/round";
    var YZ_Tool_Cocosplay = function() {
      function YZ_Tool_Cocosplay() {
        this._sysInfo = {};
        this._serverConfig = null;
        this._shareCallback = null;
        this._isShare = false;
        this._uid = "0";
        this._service_uid = "0";
        this._loginTime = 0;
        this._loginInterval = 30;
        this._reportLoginTime = 0;
        this._reportLoginInterval = 30;
        this.isReport = false;
        this.nickName = "";
      }
      Object.defineProperty(YZ_Tool_Cocosplay.prototype, "SysInfo", {
        get: function() {
          return this._sysInfo;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Cocosplay.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Cocosplay.prototype, "uid", {
        get: function() {
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Cocosplay.prototype, "serviceId", {
        get: function() {
          if ("0" != this._service_uid) return this._service_uid;
          this.reportLogin();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_Cocosplay.prototype._login = function() {
        return __awaiter(this, void 0, void 0, function() {
          var curTime, interval, self;
          return __generator(this, function(_a) {
            curTime = new Date().getTime();
            interval = (curTime - this._loginTime) / 1e3;
            if (interval > 0 && interval < 30) {
              Utils_1.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a" + this._loginInterval + "\u79d2");
              return [ 2 ];
            }
            this._loginTime = curTime;
            self = this;
            Utils_1.utils.showLog("cocos\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0");
            this._uid = "0";
            return [ 2 ];
          });
        });
      };
      YZ_Tool_Cocosplay.prototype.reportLogin = function() {
        var _this = this;
        if (this.isReport) return;
        this.isReport = true;
        var self = this;
        var curTime = new Date().getTime();
        var interval = (curTime - self._reportLoginTime) / 1e3;
        if (interval > 0 && interval < 30) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a" + self._reportLoginInterval + "\u79d2");
          return;
        }
        self._reportLoginTime = curTime;
        var method = "m=login";
        var url = ST_ServerUrl + method + "&device_data=0";
        Utils_1.utils.commomHttpRequest(url, function(ret, data) {
          if (ret) {
            if (data) {
              var result = JSON.parse(data);
              Utils_1.utils.showLog("data=" + data);
              Utils_1.utils.showLog("result=" + result);
              Utils_1.utils.showLog("result.uid=" + result.uid);
              if (result.uid) {
                self._service_uid = "" + result.uid;
                console.log("self._service_uid:" + self._service_uid);
                Utils_1.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid=" + self._service_uid);
                YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_SERVICE_UID, self._service_uid);
              }
            }
          } else Utils_1.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");
          _this.isReport = false;
        });
      };
      YZ_Tool_Cocosplay.prototype.init = function(data) {
        var _this = this;
        if (PlatUtils_1.default.ISCocos) {
          GameSDK.setOnInitCB(function(param) {
            if (0 == param.error) {
              Utils_1.utils.showLog("\u521d\u59cb\u5316\u6210\u529f");
              _this._uid = param.userId;
              _this.nickName = param.nickName;
            }
          });
          Utils_1.utils.showLog("utils.config.cocosConfig.appID:" + Utils_1.utils.config.cocosConfig.appID);
          GameSDK.init(Utils_1.utils.config.cocosConfig.appID);
          AdSDK.init();
          if (data) {
            var configObj = JSON.parse(data);
            configObj && configObj.cocos && (ST_DefaultServerConfig = JSON.stringify(configObj.cocos));
          }
          this._service_uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_SERVICE_UID);
          this._service_uid = this._service_uid ? this._service_uid : "0";
          try {
            this._sysInfo = GameSDK.getSystemInfoSync();
            Utils_1.utils.showLog("cocos \u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: " + JSON.stringify(this.SysInfo));
          } catch (e) {
            Utils_1.utils.showLog("cocos \u5c0f\u6e38\u620f\u5e73\u53f0\u6570\u636e\u83b7\u53d6\u5931\u8d25!");
          }
          this._loadConfig();
        }
      };
      YZ_Tool_Cocosplay.prototype._loadConfig = function() {
        var _this = this;
        if (PlatUtils_1.default.ISCocos) {
          var method = "m=g";
          Utils_1.utils.commomHttpRequest(ST_ServerUrl + method, function(ret, data) {
            if (ret) {
              Utils_1.utils.showLog("cocos\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = " + data);
              if (data) {
                var result = JSON.parse(data);
                result ? Utils_1.utils.DebugLoacalConfig ? cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!") : _this._serverConfig = result : Utils_1.utils.showLog("cocos\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
              }
            } else Utils_1.utils.showLog("cocos\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
            if (_this._serverConfig) {
              if (_this._serverConfig.shares) {
                _this._serverConfig.shares.sy_title && (Utils_1.utils.config.otherconfig.shareTitle = _this._serverConfig.shares.sy_title);
                _this._serverConfig.shares.sy_img && (Utils_1.utils.config.otherconfig.shareImgUrl = _this._serverConfig.shares.sy_img);
              }
              _this._serverConfig.is_local_pos_id && "false" == _this._serverConfig.is_local_pos_id ? Utils_1.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid") : Utils_1.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID");
            } else _this._serverConfig = JSON.parse(ST_DefaultServerConfig);
            Utils_1.utils.emitServerInitEvent();
          });
        }
      };
      YZ_Tool_Cocosplay.prototype.getSystemInfo = function() {
        if (PlatUtils_1.default.ISCocos) return this._sysInfo;
      };
      YZ_Tool_Cocosplay.prototype.share = function(callback) {
        void 0 === callback && (callback = null);
      };
      YZ_Tool_Cocosplay.prototype.isOverMinVersion = function(minVersion) {
        var curVersion = this._sysInfo.SDKVersion;
        return this._compareVersion(curVersion, minVersion) >= 0;
      };
      YZ_Tool_Cocosplay.prototype._compareVersion = function(v1, v2) {
        if (!v1 || !v2) return -1;
        v1 = v1.split(".");
        v2 = v2.split(".");
        var len = Math.max(v1.length, v2.length);
        while (v1.length < len) v1.push("0");
        while (v2.length < len) v2.push("0");
        for (var i = 0; i < len; i++) {
          var num1 = parseInt(v1[i]);
          var num2 = parseInt(v2[i]);
          if (num1 > num2) return 1;
          if (num1 < num2) return -1;
        }
        return 0;
      };
      YZ_Tool_Cocosplay.prototype.postLevel = function(level, status, levelName) {
        if (PlatUtils_1.default.ISCocos) {
          var method = "m=rlevel";
          var url = POST_ServerUrl + method + "&level_id=" + level + "&level_name=" + encodeURI(levelName) + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Cocosplay = __decorate([ ccclass ], YZ_Tool_Cocosplay);
      return YZ_Tool_Cocosplay;
    }();
    exports.default = YZ_Tool_Cocosplay;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  YZ_Tool_Douyin: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "89709ZaetdOYJH13/E/pJCv", "YZ_Tool_Douyin");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_ServerUrl = "https://apps.youlesp.com/gss?";
    var POST_ServerUrl = "https://report.youletd.com/gss?";
    var ST_DefaultServerConfig = "";
    var YZ_Tool_Douyin = function() {
      function YZ_Tool_Douyin() {
        this._recorder = null;
        this._videoPath = null;
        this._shareCallback = null;
        this.recorderStarTime = 0;
        this.isAutoShare = true;
        this.isClickEnd = false;
        this.isNewsArticleLite = false;
        this.tt = window.tt;
        this._serverConfig = null;
        this._uid = "0";
        this._service_uid = "0";
        this._loginTime = 0;
        this._loginInterval = 30;
        this._reportLoginTime = 0;
        this._reportLoginInterval = 30;
        this.isReport = false;
        this._jumpIds = "";
        this._sysInfo = null;
        this.is_auto_share_video = false;
        this.recored_share_count = 0;
        this.appLaunchOptions = [];
      }
      Object.defineProperty(YZ_Tool_Douyin.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_Douyin.prototype.gameVersion = function() {
        return Utils_1.utils.config.douyinconfig.version;
      };
      Object.defineProperty(YZ_Tool_Douyin.prototype, "uid", {
        get: function() {
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Douyin.prototype, "serviceId", {
        get: function() {
          if ("0" != this._service_uid) return this._service_uid;
          this.reportLogin();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_Douyin.prototype._login = function() {
        return __awaiter(this, void 0, void 0, function() {
          var curTime, interval, self;
          return __generator(this, function(_a) {
            curTime = new Date().getTime();
            interval = (curTime - this._loginTime) / 1e3;
            if (interval > 0 && interval < 30) {
              Utils_1.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a" + this._loginInterval + "\u79d2");
              return [ 2 ];
            }
            this._loginTime = curTime;
            self = this;
            Utils_1.utils.showLog("douying\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0");
            this._uid = "0";
            return [ 2 ];
          });
        });
      };
      YZ_Tool_Douyin.prototype.login = function() {
        var _this = this;
        Utils_1.utils.showLog("douying login");
        tt.login({
          withRealNameAuthenticationInfo: true,
          success: function(_res) {
            Utils_1.utils.showLog("\u767b\u5f55\u6210\u529f");
            tt.getUserInfo({
              withRealNameAuthenticationInfo: true,
              success: function(res) {
                Utils_1.utils.showLog("getUserInfo \u8c03\u7528\u6210\u529f", res.userInfo);
                if (res.userInfo) if (res.userInfo.realNameAuthenticationStatus && "uncertified" == res.userInfo.realNameAuthenticationStatus) {
                  Utils_1.utils.showLog("getUserInfo \u7528\u6237\u672a\u8fdb\u884c\u5b9e\u540d\u5236\uff01");
                  _this.realNameAuth();
                } else if (res.userInfo.realNameAuthenticationStatus && "certified" == res.userInfo.realNameAuthenticationStatus) {
                  Utils_1.utils.showLog("getUserInfo \u7528\u6237\u5df2\u5b9e\u540d\u5236\uff01");
                  cc.game.emit(YZ_Constant_1.default.ST_LOGIN_SUCCESS);
                } else cc.game.emit(YZ_Constant_1.default.ST_LOGIN_FAIL);
              },
              fail: function(res) {
                Utils_1.utils.showLog("getUserInfo \u8c03\u7528\u5931\u8d25", res.errMsg);
              }
            });
          },
          fail: function() {
            cc.game.emit(YZ_Constant_1.default.ST_LOGIN_FAIL);
            _this.showToast("\u767b\u5f55\u5931\u8d25\uff01");
          }
        });
      };
      YZ_Tool_Douyin.prototype.realNameAuth = function() {
        var _this = this;
        Utils_1.utils.showLog("douying realNameAuth");
        tt.authenticateRealName({
          success: function(_res) {
            Utils_1.utils.showLog("\u7528\u6237\u5b9e\u540d\u8ba4\u8bc1\u6210\u529f");
            cc.game.emit(YZ_Constant_1.default.ST_LOGIN_SUCCESS);
          },
          fail: function(res) {
            _this.showToast("\u5b9e\u540d\u5236\u8ba4\u8bc1\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01");
            cc.game.emit(YZ_Constant_1.default.ST_LOGIN_FAIL);
            Utils_1.utils.showLog("\u7528\u6237\u5b9e\u540d\u8ba4\u8bc1\u5931\u8d25", res.errMsg);
          }
        });
      };
      YZ_Tool_Douyin.prototype.reportLogin = function() {
        var _this = this;
        if (this.isReport) return;
        this.isReport = true;
        var self = this;
        var curTime = new Date().getTime();
        var interval = (curTime - self._reportLoginTime) / 1e3;
        if (interval > 0 && interval < 30) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a" + self._reportLoginInterval + "\u79d2");
          return;
        }
        self._reportLoginTime = curTime;
        var method = "m=login";
        var url = ST_ServerUrl + method + "&device_data=0";
        Utils_1.utils.commomHttpRequest(url, function(ret, data) {
          if (ret) {
            if (data) {
              var result = JSON.parse(data);
              Utils_1.utils.showLog("data=" + data);
              Utils_1.utils.showLog("result=" + result);
              Utils_1.utils.showLog("result.uid=" + result.uid);
              if (result.uid) {
                self._service_uid = "" + result.uid;
                Utils_1.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid=" + self._service_uid);
                YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_SERVICE_UID, self._service_uid);
              }
            }
          } else Utils_1.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");
          _this.isReport = false;
        });
      };
      YZ_Tool_Douyin.prototype.init = function(data) {
        var _this = this;
        if (PlatUtils_1.default.IsDouyin) {
          if (data) {
            var configObj = JSON.parse(data);
            if (configObj && configObj.toutiao) {
              Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:" + JSON.stringify(configObj.toutiao));
              ST_DefaultServerConfig = JSON.stringify(configObj.toutiao);
            }
          }
          this._service_uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_SERVICE_UID);
          this._service_uid = this._service_uid ? this._service_uid : "0";
          this._sysInfo = this.tt.getSystemInfoSync();
          Utils_1.utils.showLog("\u6296\u97f3\u5e73\u53f0\u4fe1\u606f\uff1a" + JSON.stringify(this._sysInfo));
          this._sysInfo && this._sysInfo.appName && "news_article_lite" == this._sysInfo.appName && (this.isNewsArticleLite = true);
          this._loadConfig();
          var self_1 = this;
          this._recorder = this.tt.getGameRecorderManager();
          if (this._recorder) {
            this._recorder.onStart(function(res) {
              self_1._videoPath = "";
              _this.isClickEnd = false;
              _this.is_auto_share_video = false;
              Utils_1.utils.isRecording = true;
              console.log("\u5f55\u5c4f\u5f00\u59cb>>>");
              Utils_1.utils.showLog("\u5f55\u5c4f\u5f00\u59cb");
              _this.recorderStarTime = new Date().getTime();
              cc.game.emit("YZ_CommonMessage", {
                type: "YZ_RecordStart"
              });
            });
            this._recorder.onStop(function(res) {
              Utils_1.utils.showLog("\u5f55\u5c4f\u7ed3\u675f :" + res.videoPath);
              Utils_1.utils.isRecording = false;
              cc.game.emit("YZ_CommonMessage", {
                type: "YZ_RecordEnd"
              });
              var curTime = new Date().getTime();
              var interval = (curTime - _this.recorderStarTime) / 1e3;
              if (interval > 3) {
                self_1._videoPath = res.videoPath;
                Utils_1.utils.showLog("\u5f55\u5c4f\u65f6\u95f4\u5927\u4e8e3\u79d2", interval);
                if (_this.isAutoShare) {
                  if (_this.isClickEnd) {
                    _this.shareVideo();
                    _this._shareCallback = null;
                    _this.is_auto_share_video = true;
                  } else if (Utils_1.utils.checkResultShow(1)) {
                    Utils_1.utils.showLog("\u6ee1\u8db3\u81ea\u52a8\u5206\u4eab\u6761\u4ef6\uff0c\u5f39\u51fa\u5206\u4eab\u7a97\u53e3\uff01");
                    if (null == Utils_1.utils.rewardCloseFunc) {
                      Utils_1.utils.rewardValue = 0;
                      Utils_1.utils.showShareRecordPanel();
                    }
                  } else if (interval > 100 && null == Utils_1.utils.rewardCloseFunc) {
                    Utils_1.utils.rewardValue = 0;
                    Utils_1.utils.showShareRecordPanel();
                  }
                } else _this.isAutoShare = true;
              } else {
                _this.isClickEnd && _this.tt.showToast({
                  title: "\u5f55\u5c4f\u65f6\u95f4\u5c0f\u4e8e3\u79d2!",
                  icon: "fail",
                  duration: 2e3,
                  success: function(res) {
                    console.log("" + res);
                  },
                  fail: function(res) {
                    console.log("showToast\u8c03\u7528\u5931\u8d25");
                  }
                });
                self_1._videoPath = "";
                Utils_1.utils.showLog("\u5f55\u5c4f\u65f6\u95f4\u5c0f\u4e8e3\u79d2\uff0c\u5f55\u5f55\u5c4f\u5730\u5740\u7f6e\u7a7a\uff01");
              }
            });
          }
          this.tt.showShareMenu({
            withShareTicket: false
          });
          this.tt.onShareAppMessage(function(res) {
            return self_1._getShareInfo();
          });
          Utils_1.utils.registerServerInitEvent(function() {
            _this.ServerConfig.add_favorite && setTimeout(function() {
              Utils_1.utils.showLog("\u5ef6\u8fdf\u8c03\u7528\u6dfb\u52a0\u641c\u85cf!!");
              _this.showFavoriteGuide();
            }, 1e3 * _this.ServerConfig.add_favorite);
          }, this);
        }
      };
      YZ_Tool_Douyin.prototype.showFavoriteGuide = function() {
        this.tt.showFavoriteGuide ? this.tt.showFavoriteGuide({
          type: "bar",
          content: "\u4e00\u952e\u6dfb\u52a0\u5230\u6211\u7684\u5c0f\u7a0b\u5e8f",
          position: this.ServerConfig.favorite_type ? this.ServerConfig.favorite_type : "bottom",
          success: function(res) {
            Utils_1.utils.showLog("\u5f15\u5bfc\u7ec4\u4ef6\u5c55\u793a\u6210\u529f");
          },
          fail: function(res) {
            Utils_1.utils.showLog("\u5f15\u5bfc\u7ec4\u4ef6\u5c55\u793a\u5931\u8d25:ero=" + JSON.stringify(res));
          }
        }) : Utils_1.utils.showLog("\u5f53\u524d\u5934\u6761\u7248\u672c\u4e0d\u652f\u6301\u6dfb\u52a0\u6536\u85cf\uff01");
      };
      YZ_Tool_Douyin.prototype.loadJumpIds = function() {
        var _this = this;
        return new Promise(function(resolve, reject) {
          cc.loader.load("game.json", function(err, res) {
            if (!err) {
              res.ttNavigateToMiniGameAppIdList.forEach(function(element) {
                _this._jumpIds += element + ",";
              });
              _this._jumpIds.substring(0, _this._jumpIds.lastIndexOf(","));
              resolve();
            }
            reject(err);
          });
        });
      };
      YZ_Tool_Douyin.prototype._loadConfig = function() {
        var _this = this;
        if (PlatUtils_1.default.IsDouyin) {
          var method = "m=g";
          Utils_1.utils.commomHttpRequest(ST_ServerUrl + method + "&jump_id=" + this._jumpIds, function(ret, data) {
            if (ret && data) {
              Utils_1.utils.showLog("\u6296\u97f3\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = " + data);
              var result = JSON.parse(data);
              Utils_1.utils.DebugLoacalConfig ? Utils_1.utils.showLog("\u8c03\u8bd5\u6a21\u5f0f\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!") : _this._serverConfig = result;
            } else Utils_1.utils.showLog("\u6296\u97f3\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
            if (_this.ServerConfig) {
              if ("false" == _this.ServerConfig.is_local_pos_id) {
                Utils_1.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aID");
                Utils_1.utils.config.douyinconfig.bannerId = _this.ServerConfig.banner_pos_id;
                Utils_1.utils.config.douyinconfig.insertId = _this.ServerConfig.intersititia_pos_id;
                Utils_1.utils.config.douyinconfig.videoId = _this.ServerConfig.video_pos_id;
              }
              _this._serverConfig.shares && _this._serverConfig.shares.sy_title && (Utils_1.utils.config.otherconfig.shareTitle = _this._serverConfig.shares.sy_title);
              _this._serverConfig.shares && _this._serverConfig.shares.sy_img && (Utils_1.utils.config.otherconfig.shareImgUrl = _this._serverConfig.shares.sy_img);
            } else _this._serverConfig = JSON.parse(ST_DefaultServerConfig);
            Utils_1.utils.emitServerInitEvent();
          });
        }
      };
      YZ_Tool_Douyin.prototype.recordStart = function() {
        PlatUtils_1.default.IsDouyin && this._recorder && this._recorder.start({
          duration: this.ServerConfig.record_duration ? this.ServerConfig.record_duration : 120
        });
      };
      YZ_Tool_Douyin.prototype.recordEnd = function() {
        PlatUtils_1.default.IsDouyin && this._recorder.stop();
      };
      YZ_Tool_Douyin.prototype.share = function(callback) {
        if (PlatUtils_1.default.IsDouyin) {
          this._shareCallback = callback;
          this._videoPath && !Utils_1.utils.isRecording ? this.shareVideo() : this.shareImage();
        }
      };
      YZ_Tool_Douyin.prototype.shareVideo = function() {
        if (PlatUtils_1.default.IsDouyin && this._videoPath) {
          var self_2 = this;
          this.tt.shareAppMessage({
            channel: "video",
            extra: {
              videoPath: self_2._videoPath
            },
            success: function() {
              cc.log("\u89c6\u9891\u5206\u4eab\u6210\u529f!");
              self_2._shareCallback && self_2._shareCallback(true);
            },
            fail: function(e) {
              cc.log("\u89c6\u9891\u5206\u4eab\u5931\u8d25!", JSON.stringify(e));
              self_2._videoPath = "";
              var msg = "\u5206\u4eab\u5931\u8d25!";
              if (e && e.errMsg) {
                msg = e.errMsg;
                if (-1 != msg.indexOf("fail")) {
                  console.log(self_2._sysInfo);
                  msg = "XiGua" == self_2._sysInfo.appName ? "\u5206\u4eab\u5931\u8d25!" : "\u5206\u4eab\u5931\u8d25\uff0c\u5f55\u5c4f\u65f6\u95f4\u592a\u77ed\uff01";
                } else msg = "\u5206\u4eab\u5931\u8d25!";
              }
              self_2._shareCallback && self_2._shareCallback(false, msg);
              if (self_2.is_auto_share_video) {
                self_2.is_auto_share_video = false;
                self_2.tt.showToast({
                  title: msg,
                  icon: "fail",
                  duration: 2e3,
                  success: function(res) {
                    console.log("" + res);
                  },
                  fail: function(res) {
                    console.log("showToast\u8c03\u7528\u5931\u8d25");
                  }
                });
              }
            }
          });
        }
      };
      YZ_Tool_Douyin.prototype.shareImage = function() {
        if (PlatUtils_1.default.IsDouyin) {
          var shareInfo = Utils_1.utils.getShareInfo();
          Utils_1.utils.showLog("\u5206\u4eab\u56fe\u7247\uff1atitle:" + shareInfo.title + "; imageUrl:" + shareInfo.imageUrl);
          if (shareInfo) {
            var self_3 = this;
            this.tt.shareAppMessage({
              title: shareInfo.title,
              imageUrl: shareInfo.imageUrl,
              success: function() {
                Utils_1.utils.showLog("\u56fe\u7247\u5206\u4eab\u6210\u529f!");
                self_3._shareCallback && self_3._shareCallback(true);
              },
              fail: function(e) {
                Utils_1.utils.showLog("\u56fe\u7247\u5206\u4eab\u5931\u8d25!" + JSON.stringify(e));
                self_3._shareCallback && self_3._shareCallback(false);
              }
            });
          }
        }
      };
      YZ_Tool_Douyin.prototype.showMoreGamesButton = function(params) {
        if (PlatUtils_1.default.IsDouyin) {
          var left = 0;
          var top = 0;
          var width = 0;
          var height = 0;
          if (cc.view.getDesignResolutionSize().width < 1080) {
            width = 188 / 1080 * this._sysInfo.screenWidth;
            height = 223 / 1080 * this._sysInfo.screenWidth;
          } else {
            width = 188 / cc.view.getDesignResolutionSize().width * this._sysInfo.screenWidth;
            height = 223 / cc.view.getDesignResolutionSize().width * this._sysInfo.screenWidth;
          }
          if (params) {
            params.left ? left = params.left / cc.view.getDesignResolutionSize().width * this._sysInfo.screenWidth : params.right && (left = this._sysInfo.screenWidth - params.right / cc.view.getDesignResolutionSize().width * this._sysInfo.screenWidth - width);
            params.top ? top = params.top / cc.view.getDesignResolutionSize().height * this._sysInfo.screenHeight : params.bottom && (top = this._sysInfo.screenHeight - params.bottom / cc.view.getDesignResolutionSize().height * this._sysInfo.screenHeight - height);
          }
          Utils_1.utils.showLog("\u66f4\u591a\u6e38\u620f\u6309\u94ae\u53c2\u6570\uff1aleft:" + left + "; top:" + top + "; width:" + width + "; height:" + height);
          return this.tt.createMoreGamesButton({
            type: "image",
            image: "img/more_game.png",
            style: {
              left: left,
              top: top,
              width: width,
              height: height,
              lineHeight: 40,
              backgroundColor: "#ff0000",
              textColor: "#ffffff",
              textAlign: "center",
              fontSize: 16,
              borderRadius: 4,
              borderWidth: 0,
              borderColor: "#ff0000"
            },
            appLaunchOptions: [],
            onNavigateToMiniGame: function(res) {
              Utils_1.utils.showLog("\u8df3\u8f6c\u5176\u4ed6\u5c0f\u6e38\u620f" + res);
              res && 0 == res.errCode;
            }
          });
        }
      };
      YZ_Tool_Douyin.prototype._getShareInfo = function() {
        if (PlatUtils_1.default.IsDouyin) {
          var shareInfo = Utils_1.utils.getShareInfo();
          if (shareInfo) return {
            title: shareInfo.title,
            imageUrl: shareInfo.imageUrl,
            success: function(res) {
              Utils_1.utils.showLog("\u5206\u4eab\u6210\u529f!");
            },
            fail: function(err) {
              Utils_1.utils.showLog("\u5206\u4eab\u5931\u8d25!");
            }
          };
        }
        return {};
      };
      YZ_Tool_Douyin.prototype.isOverMiniVersion = function(miniVersion) {
        if (PlatUtils_1.default.IsDouyin && this._sysInfo && null != miniVersion) return this._compareVersion(this._sysInfo.SDKVersion, miniVersion);
        return false;
      };
      YZ_Tool_Douyin.prototype._compareVersion = function(first, second) {
        return parseInt(first.split(".").join("")) >= parseInt(second.split(".").join(""));
      };
      YZ_Tool_Douyin.prototype.isShowMoreGamesModal = function() {
        if (PlatUtils_1.default.IsAndroid && this.tt.showMoreGamesModal) return true;
        Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u663e\u793a\u6296\u97f3\u66f4\u591a\u6e38\u620f\u5f39\u7a97\uff01");
        return false;
      };
      YZ_Tool_Douyin.prototype.showMoreGamesModal = function() {
        PlatUtils_1.default.IsAndroid ? this.tt.showMoreGamesModal({
          appLaunchOptions: [],
          success: function(res) {
            console.log("success", res.errMsg);
          },
          fail: function(res) {
            console.log("fail", res.errMsg);
          }
        }) : Utils_1.utils.showMsg("\u5f53\u524d\u5e73\u53f0\u6682\u65f6\u4e0d\u652f\u6301\u8df3\u8f6c");
      };
      YZ_Tool_Douyin.prototype.getRecommondGameList = function() {
        if (PlatUtils_1.default.IsDouyin && this.ServerConfig) return this.ServerConfig.jump_list;
        return null;
      };
      YZ_Tool_Douyin.prototype.postLevel = function(level, status, levelName) {
        if (PlatUtils_1.default.IsDouyin) {
          var method = "m=rlevel";
          var url = POST_ServerUrl + method + "&level_id=" + level + "&level_name=" + encodeURI(levelName) + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Douyin.prototype.sendEvent = function(eventName) {
        if (PlatUtils_1.default.IsDouyin) {
          var method = "m=revent";
          var url = POST_ServerUrl + method + "&event=" + encodeURI(eventName);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01") : Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Douyin.prototype.showToast = function(msg) {
        PlatUtils_1.default.IsDouyin && tt.showToast({
          title: msg,
          icon: "none",
          duration: 2e3,
          success: function(res) {
            console.log("" + res);
          },
          fail: function(res) {
            console.log("showToast\u8c03\u7528\u5931\u8d25");
          }
        });
      };
      YZ_Tool_Douyin.prototype.GameExit = function() {
        tt.exitMiniProgram({
          success: function(res) {
            console.log("\u8c03\u7528\u6210\u529f", res.data);
          },
          fail: function(res) {
            console.log("\u8c03\u7528\u5931\u8d25", res.errMsg);
          }
        });
      };
      YZ_Tool_Douyin = __decorate([ ccclass ], YZ_Tool_Douyin);
      return YZ_Tool_Douyin;
    }();
    exports.default = YZ_Tool_Douyin;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  YZ_Tool_FaceBook: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "789d3SaOtJD+5GQDhT0yUOx", "YZ_Tool_FaceBook");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_ServerUrl = "https://apps.youlesp.com/gss?";
    var POST_ServerUrl = "https://report.youletd.com/gss?";
    var ST_DefaultServerConfig = "";
    var YZ_Tool_FaceBook = function() {
      function YZ_Tool_FaceBook() {
        this._sysInfo = null;
        this._serverConfig = null;
        this._uid = "0";
        this._service_uid = "0";
        this._loginTime = 0;
        this._loginInterval = 30;
        this._reportLoginTime = 0;
        this._reportLoginInterval = 30;
        this.isReport = false;
      }
      Object.defineProperty(YZ_Tool_FaceBook.prototype, "SysInfo", {
        get: function() {
          return this._sysInfo;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_FaceBook.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_FaceBook.prototype.gameVersion = function() {
        return Utils_1.utils.config.faceBookConfig.version;
      };
      Object.defineProperty(YZ_Tool_FaceBook.prototype, "uid", {
        get: function() {
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_FaceBook.prototype, "serviceId", {
        get: function() {
          if ("0" != this._service_uid) return this._service_uid;
          this.reportLogin();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_FaceBook.prototype._login = function() {
        return __awaiter(this, void 0, void 0, function() {
          var curTime, interval, self;
          return __generator(this, function(_a) {
            curTime = new Date().getTime();
            interval = (curTime - this._loginTime) / 1e3;
            if (interval > 0 && interval < this._loginInterval) {
              Utils_1.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a" + this._loginInterval + "\u79d2");
              return [ 2 ];
            }
            this._loginTime = curTime;
            self = this;
            Utils_1.utils.showLog("facebook\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0");
            this._uid = "0";
            this.reportLogin();
            return [ 2 ];
          });
        });
      };
      YZ_Tool_FaceBook.prototype.reportLogin = function() {
        var _this = this;
        if (this.isReport) return;
        this.isReport = true;
        var self = this;
        var curTime = new Date().getTime();
        var interval = (curTime - this._reportLoginTime) / 1e3;
        if (interval > 0 && interval < this._reportLoginInterval) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a" + this._reportLoginInterval + "\u79d2");
          return;
        }
        this._reportLoginTime = curTime;
        var method = "m=login";
        var url = ST_ServerUrl + method + "&device_data=" + encodeURI(JSON.stringify(this._sysInfo));
        Utils_1.utils.commomHttpRequest(url, function(ret, data) {
          if (ret) {
            if (data) {
              var result = JSON.parse(data);
              Utils_1.utils.showLog("data=" + data);
              Utils_1.utils.showLog("result=" + result);
              Utils_1.utils.showLog("result.uid=" + result.uid);
              if (result.uid) {
                self._service_uid = "" + result.uid;
                Utils_1.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid=" + self._service_uid);
                YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_SERVICE_UID, self._service_uid);
              }
            }
          } else Utils_1.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");
          _this.isReport = false;
        });
      };
      YZ_Tool_FaceBook.prototype.init = function(data) {
        Utils_1.utils.showLog("init faceBook");
        if (PlatUtils_1.default.IsFaceBook) {
          if (data) {
            var configObj = JSON.parse(data);
            configObj && configObj.facebook && (ST_DefaultServerConfig = JSON.stringify(configObj.facebook));
          }
          this._service_uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_SERVICE_UID);
          this._service_uid = this._service_uid ? this._service_uid : "0";
          this._loadConfig();
        }
      };
      YZ_Tool_FaceBook.prototype._loadConfig = function() {
        var _this = this;
        if (PlatUtils_1.default.IsFaceBook) {
          var method = "m=g";
          var url = ST_ServerUrl + method;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            if (ret) {
              Utils_1.utils.showLog("faceBook\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = " + data);
              if (data) {
                var result = JSON.parse(data);
                if (result) if (Utils_1.utils.DebugLoacalConfig) Utils_1.utils.showLog("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"); else {
                  _this._serverConfig = result;
                  _this._serverConfig.is_show_log_view && "true" == _this._serverConfig.is_show_log_view && (Utils_1.utils.showLogView = true);
                } else Utils_1.utils.showLog("faceBook\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
              }
            } else Utils_1.utils.showLog("facebook\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
            if (_this._serverConfig) if (_this._serverConfig.is_local_pos_id && "false" == _this._serverConfig.is_local_pos_id) {
              Utils_1.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid");
              Utils_1.utils.config.faceBookConfig.videoId = _this._serverConfig.video_pos_id || Utils_1.utils.config.faceBookConfig.videoId;
              Utils_1.utils.config.faceBookConfig.insertId = _this._serverConfig.intersititia_pos_id || Utils_1.utils.config.faceBookConfig.insertId;
              Utils_1.utils.config.faceBookConfig.bannerId = _this._serverConfig.banner_pos_id || Utils_1.utils.config.faceBookConfig.bannerId;
            } else Utils_1.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID"); else _this._serverConfig = JSON.parse(ST_DefaultServerConfig);
            Utils_1.utils.emitServerInitEvent();
          });
        }
      };
      YZ_Tool_FaceBook.prototype.isOverMiniVersion = function(miniVersion) {
        if (PlatUtils_1.default.IsFaceBook && this._sysInfo && this._sysInfo.platformVersionCode) return this._sysInfo.platformVersionCode >= miniVersion;
        return false;
      };
      YZ_Tool_FaceBook.prototype.postLevel = function(level, status, levelName) {
        if (PlatUtils_1.default.IsFaceBook) {
          var method = "m=rlevel";
          var url = POST_ServerUrl + method + "&level_id=" + level + "&level_name=" + encodeURI(levelName) + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_FaceBook.prototype.sendEvent = function(eventName) {
        if (PlatUtils_1.default.IsFaceBook) {
          var method = "m=revent";
          var url = POST_ServerUrl + method + "&event=" + encodeURI(eventName);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01") : Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_FaceBook = __decorate([ ccclass ], YZ_Tool_FaceBook);
      return YZ_Tool_FaceBook;
    }();
    exports.default = YZ_Tool_FaceBook;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  YZ_Tool_GoogleWeb: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d1a1e6qqmtF8b2CiqXLnmdD", "YZ_Tool_GoogleWeb");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var ST_ServerUrl = "http://apps.youlesp.com/aconfig?";
    var ST_DefaultServerConfig = "";
    var ST_NativeInsertAdClickTimes = "NativeInsertAdClickTimes";
    var ST_LastDateTime = "LastDateTime";
    var POST_ServerUrl = "https://report.youletd.com/gss?";
    var YZ_Tool_GoogleWeb = function() {
      function YZ_Tool_GoogleWeb() {
        this._serverConfig = null;
      }
      Object.defineProperty(YZ_Tool_GoogleWeb.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_GoogleWeb.prototype.init = function(data) {
        this._loadConfig();
      };
      YZ_Tool_GoogleWeb.prototype._loadConfig = function() {
        Utils_1.utils.emitServerInitEvent();
      };
      YZ_Tool_GoogleWeb.prototype.sendEvent = function(eventName) {};
      YZ_Tool_GoogleWeb.prototype.postLevel = function(level, status, levelName) {};
      return YZ_Tool_GoogleWeb;
    }();
    exports.default = YZ_Tool_GoogleWeb;
    cc._RF.pop();
  }, {
    "./Utils": "Utils"
  } ],
  YZ_Tool_Hago: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4ad1bMIfxJE77RoQPrXJJW4", "YZ_Tool_Hago");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_ServerUrl = "http://apps.youlesp.com/gss?";
    var POST_ServerUrl = "http://report.youlesp.com/gss?";
    var ST_DefaultServerConfig = "";
    var YZ_Tool_Hago = function() {
      function YZ_Tool_Hago() {
        this.hg = hg;
        this._sysInfo = null;
        this._serverConfig = null;
        this._uid = "0";
        this._service_uid = "0";
        this._loginTime = 0;
        this._loginInterval = 30;
        this._reportLoginTime = 0;
        this._reportLoginInterval = 30;
        this.isReport = false;
      }
      Object.defineProperty(YZ_Tool_Hago.prototype, "SysInfo", {
        get: function() {
          return this._sysInfo;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Hago.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_Hago.prototype.gameVersion = function() {
        return Utils_1.utils.config.hagoConfig.version;
      };
      Object.defineProperty(YZ_Tool_Hago.prototype, "uid", {
        get: function() {
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Hago.prototype, "serviceId", {
        get: function() {
          if ("0" != this._service_uid) return this._service_uid;
          this.reportLogin();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_Hago.prototype._login = function() {
        return __awaiter(this, void 0, void 0, function() {
          var curTime, interval, self;
          return __generator(this, function(_a) {
            curTime = new Date().getTime();
            interval = (curTime - this._loginTime) / 1e3;
            if (interval > 0 && interval < this._loginInterval) {
              Utils_1.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a" + this._loginInterval + "\u79d2");
              return [ 2 ];
            }
            this._loginTime = curTime;
            self = this;
            Utils_1.utils.showLog("vivo\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0");
            this._uid = "0";
            this.reportLogin();
            return [ 2 ];
          });
        });
      };
      YZ_Tool_Hago.prototype.reportLogin = function() {
        var _this = this;
        if (this.isReport) return;
        this.isReport = true;
        var self = this;
        var curTime = new Date().getTime();
        var interval = (curTime - this._reportLoginTime) / 1e3;
        if (interval > 0 && interval < this._reportLoginInterval) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a" + this._reportLoginInterval + "\u79d2");
          return;
        }
        this._reportLoginTime = curTime;
        var method = "m=login";
        var url = ST_ServerUrl + method + "&device_data=" + encodeURI(JSON.stringify(this._sysInfo));
        Utils_1.utils.commomHttpRequest(url, function(ret, data) {
          if (ret) {
            if (data) {
              var result = JSON.parse(data);
              Utils_1.utils.showLog("data=" + data);
              Utils_1.utils.showLog("result=" + result);
              Utils_1.utils.showLog("result.uid=" + result.uid);
              if (result.uid) {
                self._service_uid = "" + result.uid;
                Utils_1.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid=" + self._service_uid);
                YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_SERVICE_UID, self._service_uid);
              }
            }
          } else Utils_1.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");
          _this.isReport = false;
        });
      };
      YZ_Tool_Hago.prototype.init = function(data) {
        Utils_1.utils.showLog("init hago");
        if (PlatUtils_1.default.IsHago) {
          if (data) {
            var configObj = JSON.parse(data);
            configObj && configObj.hago && (ST_DefaultServerConfig = JSON.stringify(configObj.hago));
          }
          true;
          hg.initWebDebug({
            gameId: "yanshiceshi",
            user: 1,
            env: "Test",
            countryCode: "ID",
            language: "id",
            success: function(res) {
              console.log("hago start webdebug success");
            },
            fail: function(res) {
              console.log("hago start webdebug fail", res);
            }
          });
          this._sysInfo = this.hg.getSystemInfoSync();
          if (this._sysInfo) {
            Utils_1.utils.showLog("Hago \u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: " + JSON.stringify(this.SysInfo));
            "en-us" == this._sysInfo.language ? i18n.init("en") : "pt-br" == this._sysInfo.language ? i18n.init("pt") : i18n.init(this._sysInfo.language);
          }
          this._service_uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_SERVICE_UID);
          this._service_uid = this._service_uid ? this._service_uid : "0";
          this._loadConfig();
        }
      };
      YZ_Tool_Hago.prototype._loadConfig = function() {
        var _this = this;
        if (PlatUtils_1.default.IsHago) {
          var method = "m=g";
          var url = ST_ServerUrl + method;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            if (ret) {
              Utils_1.utils.showLog("Hago\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = " + data);
              if (data) {
                var result = JSON.parse(data);
                if (result) if (Utils_1.utils.DebugLoacalConfig) Utils_1.utils.showLog("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"); else {
                  _this._serverConfig = result;
                  _this._serverConfig.is_show_log_view && "true" == _this._serverConfig.is_show_log_view && (Utils_1.utils.showLogView = true);
                } else Utils_1.utils.showLog("Hago\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
              }
            } else Utils_1.utils.showLog("Hago\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
            if (_this._serverConfig) if (_this._serverConfig.is_local_pos_id && "false" == _this._serverConfig.is_local_pos_id) {
              Utils_1.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid");
              Utils_1.utils.config.hagoConfig.videoId = _this._serverConfig.video_pos_id;
            } else Utils_1.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID"); else _this._serverConfig = JSON.parse(ST_DefaultServerConfig);
            Utils_1.utils.emitServerInitEvent();
          });
        }
      };
      YZ_Tool_Hago.prototype.isOverMiniVersion = function(miniVersion) {
        if (PlatUtils_1.default.IsHago && this._sysInfo && this._sysInfo.platformVersionCode) return this._sysInfo.platformVersionCode >= miniVersion;
        return false;
      };
      YZ_Tool_Hago.prototype.postLevel = function(level, status, levelName) {
        if (PlatUtils_1.default.IsHago) {
          var method = "m=rlevel";
          var url = POST_ServerUrl + method + "&level_id=" + level + "&level_name=" + encodeURI(levelName) + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Hago.prototype.sendEvent = function(eventName) {
        if (PlatUtils_1.default.IsHago) {
          var method = "m=revent";
          var url = POST_ServerUrl + method + "&event=" + encodeURI(eventName);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01") : Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Hago = __decorate([ ccclass ], YZ_Tool_Hago);
      return YZ_Tool_Hago;
    }();
    exports.default = YZ_Tool_Hago;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  YZ_Tool_HuaWei: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7a4893Gs+9OpLSK3fRFXNCD", "YZ_Tool_HuaWei");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var uma = require("./UMengSDK/quickGame/uma.min.js");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_DefaultServerConfig = "";
    var ST_ServerUrl = "http://apps.youlesp.com/gss?";
    var POST_ServerUrl = "http://report.youlesp.com/gss?";
    var ST_NativeInsertAdClickTimes = "NativeInsertAdClickTimes";
    var ST_LastDateTime = "LastDateTime";
    var YZ_Tool_HuaWei = function() {
      function YZ_Tool_HuaWei() {
        this.qg = window.qg;
        this._sysInfo = null;
        this._serverConfig = null;
        this._nativeInsertAdClickTimes = 0;
        this._shortcutCreated = false;
        this._uid = "0";
        this._service_uid = "0";
        this._loginTime = 0;
        this._loginInterval = 30;
        this._reportLoginTime = 0;
        this._reportLoginInterval = 30;
        this.isReport = false;
        this._source = "";
        this._luanchType = "";
        this._luanchData = "";
        this.isReportActive = false;
        this.yz_conversion_type = "";
        this.passCount = 0;
        this.playCount = 0;
        this._is_login = false;
        this._isShowLogin = false;
        this._loging = false;
        this.isRequestLogin = false;
      }
      Object.defineProperty(YZ_Tool_HuaWei.prototype, "SysInfo", {
        get: function() {
          return this._sysInfo;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_HuaWei.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_HuaWei.prototype, "NativeInsertAdClickTimes", {
        get: function() {
          return this._nativeInsertAdClickTimes;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_HuaWei.prototype, "ShortcutCreated", {
        get: function() {
          return this._shortcutCreated;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_HuaWei.prototype, "uid", {
        get: function() {
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_HuaWei.prototype, "serviceId", {
        get: function() {
          if ("0" != this._service_uid) return this._service_uid;
          this.reportLogin();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_HuaWei.prototype._login = function() {
        return __awaiter(this, void 0, void 0, function() {
          var curTime, interval, self;
          return __generator(this, function(_a) {
            curTime = new Date().getTime();
            interval = (curTime - this._loginTime) / 1e3;
            if (interval > 0 && interval < this._loginInterval) {
              Utils_1.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a" + this._loginInterval + "\u79d2");
              return [ 2 ];
            }
            this._loginTime = curTime;
            self = this;
            this._uid = "0";
            this.reportLogin();
            return [ 2 ];
          });
        });
      };
      YZ_Tool_HuaWei.prototype.reportLogin = function() {
        var _this = this;
        if (this.isReport) return;
        this.isReport = true;
        var self = this;
        var curTime = new Date().getTime();
        var interval = (curTime - this._reportLoginTime) / 1e3;
        if (interval > 0 && interval < this._reportLoginInterval) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a" + this._reportLoginInterval + "\u79d2");
          return;
        }
        this._reportLoginTime = curTime;
        var method = "m=login";
        var url = ST_ServerUrl + method + "&device_data=" + encodeURI(JSON.stringify(this._sysInfo));
        Utils_1.utils.commomHttpRequest(url, function(ret, data) {
          if (ret) {
            if (data) {
              var result = JSON.parse(data);
              Utils_1.utils.showLog("data=" + data);
              Utils_1.utils.showLog("result=" + result);
              Utils_1.utils.showLog("result.uid=" + result.uid);
              if (result.uid) {
                self._service_uid = "" + result.uid;
                Utils_1.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid=" + self._service_uid);
                YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_SERVICE_UID, self._service_uid);
                "activate" == _this.yz_conversion_type && self.reportUserActive();
                if ("login" == _this.yz_conversion_type && _this._is_login) {
                  Utils_1.utils.showLog("\u7528\u6237\u5b8c\u6210\u767b\u9646\u884c\u4e3a!");
                  _this.reportUserActive();
                }
              }
            }
          } else Utils_1.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");
          _this.isReport = false;
        });
      };
      YZ_Tool_HuaWei.prototype.reportUserActive = function() {
        Utils_1.utils.showLog("\u4e0a\u62a5\u7528\u6237\u6fc0\u6d3b\uff01\uff01");
        if (!this.isReportActive) {
          this.isReportActive = true;
          this.reportAttributedEvent(YZ_Constant_1.AttributedType.Active, YZ_Constant_1.AttributedKey.Active, YZ_Constant_1.AttributedValue.Active);
        }
      };
      YZ_Tool_HuaWei.prototype.init = function(data) {
        if (PlatUtils_1.default.IsHuaWei) {
          this.umaInit();
          if (data) {
            var configObj = JSON.parse(data);
            configObj && configObj.huawei && (ST_DefaultServerConfig = JSON.stringify(configObj.huawei));
          }
          this._service_uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_SERVICE_UID);
          this._service_uid = this._service_uid ? this._service_uid : "0";
          this._sysInfo = this.qg.getSystemInfoSync();
          this._sysInfo && Utils_1.utils.showLog("huawei \u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: " + JSON.stringify(this.SysInfo));
          var options = this.qg.getLaunchOptionsSync();
          this._luanchData = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_LUANCH_DATA);
          this._luanchType = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_LUANCH_TYPE);
          if (this._luanchData && this._luanchType) {
            Utils_1.utils.showLog("\u83b7\u53d6\u5230\u672c\u5730\u7f13\u5b58\u6570\u636e\u542f\u52a8\u7c7b\u578b\uff1a" + this._luanchType);
            Utils_1.utils.showLog("\u83b7\u53d6\u5230\u672c\u5730\u7f13\u5b58\u6570\u636e\u542f\u52a8\u53c2\u6570\uff1a" + this._luanchData);
          } else if (options) try {
            if (options.referrerInfo && "{}" != JSON.stringify(options.referrerInfo)) {
              var referrerInfo = options.referrerInfo;
              Utils_1.utils.showLog("\u83b7\u53d6\u5230\u5c0f\u7a0b\u5e8f\u542f\u52a8\u6765\u6e90\u4fe1\u606f\uff1a" + JSON.stringify(referrerInfo));
              this._luanchType = referrerInfo.type;
              YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_LUANCH_TYPE, this._luanchType);
            }
            if (options.query && "{}" != JSON.stringify(options.query)) {
              var query = JSON.parse(options.query);
              var queryData = JSON.stringify(query);
              this._luanchData = queryData;
              this.yz_conversion_type = query.yz_conversion_type;
              YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_LUANCH_DATA, this._luanchData);
              Utils_1.utils.showLog("\u83b7\u53d6\u5230\u5c0f\u7a0b\u5e8f\u542f\u52a8\u53c2\u6570\uff1a" + queryData + " \u56de\u4f20\u7c7b\u578b\uff1a" + this.yz_conversion_type);
            }
          } catch (erro) {
            Utils_1.utils.showLog("\u83b7\u53d6\u5230\u5c0f\u7a0b\u5e8f\u542f\u52a8\u53c2\u6570\u5f02\u5e38");
          }
          this._loadConfig();
          this._nativeInsertAdClickTimes = YZ_LocalStorage_1.default.getItem(ST_NativeInsertAdClickTimes);
          var day = YZ_LocalStorage_1.default.getItem(ST_LastDateTime);
          var curDate = new Date();
          if (day != curDate.toDateString()) {
            this._nativeInsertAdClickTimes = 0;
            YZ_LocalStorage_1.default.setItem(ST_NativeInsertAdClickTimes, 0);
          }
        }
      };
      YZ_Tool_HuaWei.prototype._loadConfig = function() {
        var _this = this;
        if (PlatUtils_1.default.IsHuaWei) {
          var method = "m=g";
          Utils_1.utils.commomHttpRequest(ST_ServerUrl + method, function(ret, data) {
            if (ret) {
              Utils_1.utils.showLog("Huawei\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = " + data);
              if (data) {
                var result = JSON.parse(data);
                if (result) if (Utils_1.utils.DebugLoacalConfig) Utils_1.utils.showLog("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"); else {
                  _this._serverConfig = result;
                  _this._serverConfig.is_show_log_view && "true" == _this._serverConfig.is_show_log_view && (Utils_1.utils.showLogView = true);
                } else Utils_1.utils.showLog("Huawei\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
              }
            } else Utils_1.utils.showLog("Huawei\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
            if (_this._serverConfig) {
              if (_this._serverConfig.is_local_pos_id && "false" == _this._serverConfig.is_local_pos_id) {
                Utils_1.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid");
                Utils_1.utils.config.huaweiConfig.bannerId = _this._serverConfig.banner_pos_id;
                Utils_1.utils.config.huaweiConfig.insertId = _this._serverConfig.intersititia_pos_id;
                Utils_1.utils.config.huaweiConfig.videoId = _this._serverConfig.video_pos_id;
                Utils_1.utils.config.huaweiConfig.nativeInsertIds = _this.ServerConfig.native_intersititial_pos_id;
                Utils_1.utils.config.huaweiConfig.nativeBannerIds = _this.ServerConfig.native_banner_pos_id;
                Utils_1.utils.config.huaweiConfig.nativeTryGameIds = _this.ServerConfig.native_trygame_pos_id;
                Utils_1.utils.config.huaweiConfig.nativeSplashId = _this.ServerConfig.native_splash_id;
              } else Utils_1.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID");
              if (_this.ServerConfig.native_banner_configs) for (var i = 0; i < _this.ServerConfig.native_banner_configs.length; i++) {
                Utils_1.utils.showLog("\u83b7\u53d6\u5230\u539f\u751f\u5e7f\u544a\u914d\u7f6e:" + _this.ServerConfig.native_banner_configs[i].location, ">>>>", JSON.stringify(_this.ServerConfig.native_banner_configs[i]));
                Utils_1.utils.config.huaweiConfig.setNativeBannerInfo(_this.ServerConfig.native_banner_configs[i].location, _this.ServerConfig.native_banner_configs[i]);
              }
              if (_this.ServerConfig.yz_conversion_type) {
                _this.yz_conversion_type = _this.ServerConfig.yz_conversion_type;
                Utils_1.utils.showLog("\u56de\u4f20\u7c7b\u578b\uff1a" + _this.yz_conversion_type);
              }
              _this.ServerConfig.is_login && "false" == _this.ServerConfig.is_login && (_this._is_login = true);
              _this._isShowLogin = true;
              _this.isRequestLogin && _this.login();
            } else _this._serverConfig = JSON.parse(ST_DefaultServerConfig);
            cc.director.emit("IsDataInit");
            Utils_1.utils.emitServerInitEvent();
          });
        }
      };
      YZ_Tool_HuaWei.prototype.isOverMiniVersion = function(miniVersion) {
        if (PlatUtils_1.default.IsHuaWei && this._sysInfo && this._sysInfo.platformVersionCode) return this._sysInfo.platformVersionCode >= miniVersion;
        return false;
      };
      YZ_Tool_HuaWei.prototype.createShortcut = function(callback) {
        var callbackFunc = callback;
        if (PlatUtils_1.default.IsHuaWei && this.canCreateShortcut()) {
          var self_1 = this;
          self_1.qg.installShortcut({
            success: function() {
              Utils_1.utils.showLog("\u684c\u9762\u56fe\u6807\u521b\u5efa\u6210\u529f\uff01");
              self_1._shortcutCreated = true;
              callbackFunc && callbackFunc(true);
            },
            fail: function(err) {
              self_1._shortcutCreated = true;
              cc.log("vivo\u521b\u5efa\u5931\u8d25err" + err);
              callbackFunc && callbackFunc(false);
            },
            complete: function() {}
          });
        } else {
          cc.log("\u4e0d\u80fd\u521b\u5efa");
          callbackFunc && callbackFunc(false);
        }
      };
      YZ_Tool_HuaWei.prototype.canCreateShortcut = function() {
        if (PlatUtils_1.default.IsHuaWei) return this.isOverMiniVersion("1041");
        return false;
      };
      YZ_Tool_HuaWei.prototype.countNativeInserClick = function() {
        this._nativeInsertAdClickTimes++;
        YZ_LocalStorage_1.default.setItem(ST_NativeInsertAdClickTimes, this._nativeInsertAdClickTimes);
      };
      YZ_Tool_HuaWei.prototype.share = function(callback) {
        if (!this.isOverMiniVersion("1052")) {
          callback && callback(false, "\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301");
          return;
        }
        this.qg.share();
        callback && callback(true);
        return;
      };
      YZ_Tool_HuaWei.prototype.checkHasShortCut = function(callBack) {
        var _this = this;
        this.qg.hasShortcutInstalled({
          success: function(res) {
            Utils_1.utils.showLog("\u68c0\u6d4b\u684c\u9762\u5feb\u6377\u65b9\u5f0f\u662f\u5426\u5df2\u7ecf\u521b\u5efa\u8fc7: result=", res);
            if (false == res) {
              _this._shortcutCreated = false;
              callBack && callBack(false);
            } else {
              _this._shortcutCreated = true;
              callBack && callBack(true);
            }
          },
          fail: function() {
            Utils_1.utils.showLog("\u68c0\u6d4b\u5931\u8d25\uff01");
          },
          complete: function() {
            Utils_1.utils.showLog("\u68c0\u6d4b\u5b8c\u6210\uff01");
          }
        });
      };
      YZ_Tool_HuaWei.prototype.postLevel = function(level, status, levelName) {
        if (PlatUtils_1.default.IsHuaWei) {
          if ("subscribe" == this.yz_conversion_type) {
            Utils_1.utils.showLog("\u7528\u6237\u5b8c\u6210\u67d0\u9879\u670d\u52a1/\u9891\u9053\u8ba2\u9605\u884c\u4e3a");
            this.reportUserActive();
          }
          if (status == YZ_Constant_1.LevelStatus.GameWin) {
            this.passCount++;
            this.passCount === Utils_1.utils.getConfigByKey("pass_level_count_active") && this.reportAttributedEvent(YZ_Constant_1.AttributedType.GameAddiction, YZ_Constant_1.AttributedKey.GameAddiction, YZ_Constant_1.AttributedValue.PassLevelCountAction);
          } else if (status === YZ_Constant_1.LevelStatus.GameStart) {
            this.playCount++;
            this.playCount == Utils_1.utils.getConfigByKey("play_level_count_active") && this.reportAttributedEvent(YZ_Constant_1.AttributedType.GameAddiction, YZ_Constant_1.AttributedKey.GameAddiction, YZ_Constant_1.AttributedValue.PlayLevelCountAction);
          }
          var method = "m=rlevel";
          var url = POST_ServerUrl + method + "&level_id=" + level + "&level_name=" + encodeURI(levelName) + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_HuaWei.prototype.sendEvent = function(eventName) {
        if (PlatUtils_1.default.IsHuaWei) {
          var method = "m=revent";
          var url = POST_ServerUrl + method + "&event=" + encodeURI(eventName);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01") : Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_HuaWei.prototype.showToast = function(msg) {
        PlatUtils_1.default.IsHuaWei && qg.showToast({
          message: msg,
          duration: 2e3
        });
      };
      YZ_Tool_HuaWei.prototype.reportAttributedEvent = function(eventType, eventKey, eventValue) {
        if ("deeplink" != this._luanchType) {
          Utils_1.utils.showLog("luanchType=" + this._luanchType + ",\u4e0d\u8fdb\u884c\u5f52\u56e0\u4e0a\u62a5");
          return;
        }
        Utils_1.utils.showLog("\u4e0a\u62a5\u5f52\u56e0\u4e8b\u4ef6\uff1a  #eventType=" + eventType + "#eventKey=" + eventKey + "#eventValue=" + eventValue);
        if (eventType == YZ_Constant_1.AttributedType.Active && YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_IS_REPORT_USER_ACTIVE)) {
          Utils_1.utils.showLog("\u7528\u6237\u5df2\u7ecf\u4e0a\u62a5\u8fc7\u6fc0\u6d3b\uff0c\u4e0d\u518d\u8fdb\u884c\u6fc0\u6d3b\u4e0a\u62a5\uff01");
          return;
        }
        if (eventType == YZ_Constant_1.AttributedType.GameAddiction && YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_IS_REPORT_GAME_ADDICTION)) {
          Utils_1.utils.showLog("\u7528\u6237\u5df2\u7ecf\u4e0a\u62a5\u8fc7\u5173\u952e\u884c\u4e3a\uff0c\u4e0d\u518d\u8fdb\u884c\u6fc0\u6d3b\u4e0a\u62a5\uff01");
          return;
        }
        var xhr = new XMLHttpRequest();
        xhr.timeout = 15e3;
        var data = {};
        data.app_id = Utils_1.utils.config.huaweiConfig.appID;
        data.channel = "huawei_kyx";
        data.uid = this._service_uid;
        data.event_type = eventType;
        data.event_key = eventKey;
        data.event_value = eventValue;
        data.app_version = Utils_1.utils.config.huaweiConfig.version;
        data.luanchDate = encodeURI(this._luanchData);
        Utils_1.utils.showLog("\u5f52\u56e0\u8bf7\u6c42\u53c2\u6570:" + JSON.stringify(data));
        var requestData = JSON.stringify(data);
        Utils_1.utils.showLog("\u5f52\u56e0 > json_data=" + Utils_1.utils.aesEncrypt(requestData));
        var requestUrl = "https://track.youletd.com/wechatcounterpart/dockingreturn?json=" + Utils_1.utils.aesEncrypt(requestData) + "&time_stamp=" + new Date().getTime();
        Utils_1.utils.showLog("\u5f52\u56e0\u670d\u52a1\u5668\u5730\u5740:" + requestUrl);
        xhr.open("GET", requestUrl);
        xhr.send();
        xhr.onreadystatechange = function() {
          Utils_1.utils.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=", xhr.readyState, "; status=", xhr.status);
          if (4 == xhr.readyState) if (200 == xhr.status) {
            eventType == YZ_Constant_1.AttributedType.Active && YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_IS_REPORT_USER_ACTIVE, "true");
            eventType == YZ_Constant_1.AttributedType.GameAddiction && YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_IS_REPORT_GAME_ADDICTION, "true");
            Utils_1.utils.showLog("\u5f52\u56e0\u4e0a\u62a5\u6210\u529f\uff1a", xhr.responseText);
          } else Utils_1.utils.showLog("\u5f52\u56e0\u4e0a\u62a5\u5931\u8d25\uff01");
        };
        xhr.ontimeout = function() {
          Utils_1.utils.showLog("\u5f52\u56e0\u8bf7\u6c42\u8d85\u65f6!");
        };
        xhr.onerror = function(err) {
          Utils_1.utils.showLog("\u5f52\u56e0\u8bf7\u6c42\u5931\u8d25!");
        };
      };
      YZ_Tool_HuaWei.prototype.GameExit = function() {
        if (PlatUtils_1.default.IsHuaWei) {
          Utils_1.utils.showLog("GameExit");
          try {
            qg.exitApplication({
              success: function() {
                console.log("exitApplication success");
              },
              fail: function() {
                console.log("exitApplication fail");
              },
              complete: function() {
                console.log("exitApplication complete");
              }
            });
          } catch (error) {
            cc.log(error);
          }
        }
      };
      YZ_Tool_HuaWei.prototype.login = function() {
        var _this = this;
        Utils_1.utils.showLog("huawei login");
        this.isRequestLogin = true;
        if (!this._isShowLogin || this._loging) return;
        this._loging = true;
        if (this._is_login) {
          this._loging = false;
          this.showToast("\u767b\u5f55\u6210\u529f\uff01");
          cc.game.emit(YZ_Constant_1.default.ST_LOGIN_SUCCESS);
          Utils_1.utils.showLog("\u5df2\u7ecf\u767b\u5f55\u8fc7\u4e0d\u518d\u91cd\u65b0\u767b\u5f55\uff01");
          "login" == this.yz_conversion_type && this.reportUserActive();
          return;
        }
        this.qg.gameLogin({
          forceLogin: 1,
          appid: Utils_1.utils.config.huaweiConfig.appID,
          success: function(data) {
            _this._loging = false;
            _this.showToast("\u767b\u5f55\u6210\u529f\uff01");
            cc.game.emit(YZ_Constant_1.default.ST_LOGIN_SUCCESS);
            Utils_1.utils.showLog("Game login success:" + data);
            _this._is_login = true;
            if ("login" == _this.yz_conversion_type) {
              Utils_1.utils.showLog("\u7528\u6237\u5b8c\u6210\u767b\u9646\u884c\u4e3a!");
              _this.reportUserActive();
            }
          },
          fail: function(data, code) {
            _this._loging = false;
            _this.showToast("\u767b\u5f55\u5931\u8d25\uff01");
            cc.game.emit(YZ_Constant_1.default.ST_LOGIN_FAIL);
            Utils_1.utils.showLog("Game login fail:" + data + ", code:" + code);
          }
        });
        this.isRequestLogin = false;
      };
      YZ_Tool_HuaWei.prototype.umaInit = function() {
        if (!this.checkUmeng()) {
          Utils_1.utils.showLog("\u53cb\u76dfID\u672a\u914d\u7f6e\uff0c\u4e0d\u6267\u884c\u53cb\u76df\u521d\u59cb\u5316>>>>");
          return;
        }
        Utils_1.utils.showLog("umeng init #id=" + Utils_1.utils.config.huaweiConfig.umengId);
        uma.init({
          appKey: Utils_1.utils.config.huaweiConfig.umengId,
          useOpenid: false,
          debug: true
        });
      };
      YZ_Tool_HuaWei.prototype.umaOnStart = function(levelID) {
        if (!this.checkUmeng()) return;
        qg.uma.stage.onStart({
          stageId: levelID,
          stageName: "\u7b2c" + levelID + "\u5173"
        });
      };
      YZ_Tool_HuaWei.prototype.checkUmeng = function() {
        if (!Utils_1.utils.config.huaweiConfig.umengId) return false;
        return true;
      };
      YZ_Tool_HuaWei.prototype.umaReportedLevel = function(levelID, event) {
        if (!this.checkUmeng()) return;
        qg.uma.stage.onEnd({
          stageId: levelID,
          stageName: "\u7b2c" + levelID + "\u5173",
          event: event
        });
      };
      YZ_Tool_HuaWei.prototype.umaTrackEvent = function(eventId, params) {
        if (!this.checkUmeng()) return;
        qg.uma.trackEvent(eventId, params);
      };
      YZ_Tool_HuaWei = __decorate([ ccclass ], YZ_Tool_HuaWei);
      return YZ_Tool_HuaWei;
    }();
    exports.default = YZ_Tool_HuaWei;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./UMengSDK/quickGame/uma.min.js": "uma.min",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  YZ_Tool_IOS: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b78fctBdVZLkqQe7msmCH01", "YZ_Tool_IOS");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_DefaultServerConfig = "";
    var ST_ServerUrl = "https://apps.youlesp.com/gss?";
    var POST_ServerUrl = "https://report.youletd.com/gss?";
    var YZ_Tool_IOS = function() {
      function YZ_Tool_IOS() {
        this.className = "JNIHelper";
        this._serverConfig = null;
        this._uid = "0";
        this._service_uid = "0";
        this.moreGameShowType = 0;
        this.showGameExitDialogType = 0;
        this.appList = "";
        this._reportLoginTime = 0;
        this._reportLoginInterval = 30;
        this.isReport = false;
        this._gameExitDialogNode = null;
        this.deviceInfo = "";
      }
      Object.defineProperty(YZ_Tool_IOS.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_IOS.prototype.gameVersion = function() {
        return Utils_1.utils.config.nativeIoSConfig.version;
      };
      Object.defineProperty(YZ_Tool_IOS.prototype, "uid", {
        get: function() {
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_IOS.prototype, "serviceId", {
        get: function() {
          if ("0" != this._service_uid) return this._service_uid;
          this.reportLogin();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_IOS.prototype.reportLogin = function() {
        var _this = this;
        if (this.isReport) return;
        this.isReport = true;
        var self = this;
        var curTime = new Date().getTime();
        var interval = (curTime - this._reportLoginTime) / 1e3;
        if (interval > 0 && interval < this._reportLoginInterval) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a" + this._reportLoginInterval + "\u79d2");
          return;
        }
        this._reportLoginTime = curTime;
        var method = "m=login";
        var url = ST_ServerUrl + method + "&device_data=" + encodeURI(this.deviceInfo);
        Utils_1.utils.commomHttpRequest(url, function(ret, data) {
          if (ret) {
            if (data) {
              var result = JSON.parse(data);
              Utils_1.utils.showLog("data=" + data);
              Utils_1.utils.showLog("result=" + result);
              Utils_1.utils.showLog("result.uid=" + result.uid);
              if (result.uid) {
                self._service_uid = "" + result.uid;
                Utils_1.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid=" + self._service_uid);
                YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_SERVICE_UID, self._service_uid);
              }
            }
          } else Utils_1.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");
          _this.isReport = false;
        });
      };
      YZ_Tool_IOS.prototype.init = function(data) {
        if (PlatUtils_1.default.IsNativeIOS) {
          if (data) {
            var configObj = JSON.parse(data);
            if (configObj && configObj.ios) {
              Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:" + JSON.stringify(configObj.ios));
              ST_DefaultServerConfig = JSON.stringify(configObj.ios);
            }
          }
          this._service_uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_SERVICE_UID);
          this._service_uid = this._service_uid ? this._service_uid : "0";
          this._loadConfig();
        }
      };
      YZ_Tool_IOS.prototype.showGameExitDialog = function() {
        if (!Utils_1.utils._isConfigInit) {
          Utils_1.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (this._gameExitDialogNode && cc.isValid(this._gameExitDialogNode)) {
          Utils_1.utils.showLog("\u9000\u51fa\u7a97\u53e3\u8fd8\u5728\u3002");
          return;
        }
        if (Utils_1.utils.config.otherconfig.gameExitDialog) {
          var node = cc.instantiate(Utils_1.utils.config.otherconfig.gameExitDialog);
          if (node) {
            this._gameExitDialogNode && cc.isValid(this._gameExitDialogNode) && this._gameExitDialogNode.destroy();
            this._gameExitDialogNode = node;
            this._gameExitDialogNode.group = "default";
            cc.director.getScene().addChild(this._gameExitDialogNode, 9999);
          }
        } else Utils_1.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 GameExitDialog, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c !");
      };
      YZ_Tool_IOS.prototype.GameExit = function() {
        if (PlatUtils_1.default.IsNativeIOS) {
          cc.log("AdAgentNative GameExit");
          try {
            jsb.reflection.callStaticMethod(this.className, "gameExit");
          } catch (error) {
            cc.log(error);
          }
        }
      };
      YZ_Tool_IOS.prototype.getMoreGameShowType = function() {
        try {
          this.moreGameShowType = jsb.reflection.callStaticMethod(this.className, "getMoreGameShowType", "()I");
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
      };
      YZ_Tool_IOS.prototype.getDeviceInfo = function() {
        try {
          this.deviceInfo = jsb.reflection.callStaticMethod(this.className, "getDeviceInfo", "()Ljava/lang/String;");
          Utils_1.utils.showLog("\u83b7\u53d6\u539f\u751f\u5e73\u53f0\u624b\u673a\u8bbe\u5907\u4fe1\u606f\uff1a" + this.deviceInfo);
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
      };
      YZ_Tool_IOS.prototype.showMoreGames = function() {
        if (PlatUtils_1.default.IsNativeIOS) {
          Utils_1.utils.showLog("AdAgentNative showMoreGame");
          try {
            jsb.reflection.callStaticMethod(this.className, "showNativeMoreGame", "()V");
          } catch (error) {
            cc.log(error);
          }
        }
      };
      YZ_Tool_IOS.prototype._loadConfig = function() {
        var _this = this;
        if (PlatUtils_1.default.IsNativeIOS) {
          var method = "m=g";
          Utils_1.utils.commomHttpRequest(ST_ServerUrl + method, function(ret, data) {
            if (ret) {
              Utils_1.utils.showLog("\u539f\u751fIOS\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = " + data);
              if (data) {
                var result = JSON.parse(data);
                if (result) if (Utils_1.utils.DebugLoacalConfig) Utils_1.utils.showLog("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"); else {
                  _this._serverConfig = result;
                  _this._serverConfig.is_show_log_view && "true" == _this._serverConfig.is_show_log_view && (Utils_1.utils.showLogView = true);
                } else Utils_1.utils.showLog("\u539f\u751f\u5b89\u5353\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
              }
            } else Utils_1.utils.showLog("\u539f\u751f\u5b89\u5353\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
            if (_this._serverConfig) if (_this._serverConfig.is_local_pos_id && "false" == _this._serverConfig.is_local_pos_id) {
              Utils_1.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid");
              Utils_1.utils.config.nativeIoSConfig.bannerId = _this._serverConfig.banner_pos_id;
              Utils_1.utils.config.nativeIoSConfig.insertId = _this._serverConfig.intersititia_pos_id;
              Utils_1.utils.config.nativeIoSConfig.videoId = _this._serverConfig.video_pos_id;
            } else {
              _this._serverConfig.video_pos_id = Utils_1.utils.config.nativeIoSConfig.videoId;
              _this._serverConfig.banner_pos_id = Utils_1.utils.config.nativeIoSConfig.bannerId;
              _this._serverConfig.intersititia_pos_id = Utils_1.utils.config.nativeIoSConfig.insertId;
              Utils_1.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID");
            } else _this._serverConfig = JSON.parse(ST_DefaultServerConfig);
            Utils_1.utils.showLog("\u6267\u884cIOS >>> \u521d\u59cb\u5316");
            jsb.reflection.callStaticMethod(_this.className, "init:", JSON.stringify(_this._serverConfig));
            Utils_1.utils.emitServerInitEvent();
          });
        }
      };
      YZ_Tool_IOS.prototype.commomHttpRequest = function(url, callback) {
        if (!Utils_1.utils._isConfigInit) {
          Utils_1.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return;
        }
        var completeCallback = callback;
        var xhr = new XMLHttpRequest();
        xhr.timeout = 6e3;
        var requestUrl = url + "&kyx=false&app_id=" + Utils_1.utils.config.nativeAndroidConfig.appID + "&channel=" + Utils_1.utils.config.nativeAndroidConfig.channel + "&device_uid=" + Utils_1.utils.Tool_Native.uid + "&uid=" + Utils_1.utils.Tool_Native.serviceId + "&game_type=2&time_stamp=" + new Date().getTime();
        Utils_1.utils.showLog("\u670d\u52a1\u5668\u5730\u5740:" + requestUrl);
        xhr.open("POST", requestUrl);
        xhr.send("app_list=" + this.appList);
        xhr.onreadystatechange = function() {
          Utils_1.utils.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=", xhr.readyState, "; status=", xhr.status);
          4 == xhr.readyState && 200 == xhr.status && completeCallback && completeCallback(true, xhr.responseText);
          200 != xhr.status && completeCallback && completeCallback(false, "");
        };
        xhr.ontimeout = function() {
          Utils_1.utils.showLog("\u8bf7\u6c42\u8d85\u65f6!");
          completeCallback && completeCallback(false, "");
        };
        xhr.onerror = function(err) {
          completeCallback && completeCallback(false, "");
        };
      };
      YZ_Tool_IOS.prototype.setLocalConfig = function(data) {
        try {
          Utils_1.utils.showLog("\u8bbe\u7f6e\u539f\u751f\u5ba2\u6237\u7aef\u6570\u636e\u6570\u636e" + data);
          jsb.reflection.callStaticMethod(this.className, "setLocalConfig", "(Ljava/lang/String;)V", data);
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
      };
      YZ_Tool_IOS.prototype.getNativeData = function() {
        var data = "";
        try {
          data = jsb.reflection.callStaticMethod(this.className, "getLocalConfig");
          Utils_1.utils.showLog("\u83b7\u53d6\u539f\u751f\u5ba2\u6237\u7aef\u6570\u636e\u6570\u636e : " + data);
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
        return data;
      };
      YZ_Tool_IOS.prototype.navigateToGame = function(appId, callback, path) {
        if (PlatUtils_1.default.IsNativeIOS) try {
          jsb.reflection.callStaticMethod(this.className, "navigateToGame:", appId);
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
      };
      YZ_Tool_IOS.prototype.getRecommondGameList = function() {
        if (PlatUtils_1.default.IsNativeIOS && Utils_1.utils.Tool_IOS && Utils_1.utils.Tool_IOS.ServerConfig) return Utils_1.utils.Tool_IOS.ServerConfig.jump_list;
        return null;
      };
      YZ_Tool_IOS.prototype.postLevel = function(level, status, levelName) {
        if (PlatUtils_1.default.IsNativeIOS) {
          var method = "m=rlevel";
          var url = POST_ServerUrl + method + "&level_id=" + level + "&level_name=" + encodeURI(levelName) + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_IOS.prototype.sendEvent = function(eventName) {
        if (PlatUtils_1.default.IsNativeIOS) {
          var method = "m=revent";
          var url = POST_ServerUrl + method + "&event=" + encodeURI(eventName);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01") : Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_IOS.prototype.showToast = function(msg) {
        if (PlatUtils_1.default.IsNativeIOS) {
          console.log("showToast >>>>>");
          jsb.reflection.callStaticMethod(this.className, "showToast:", msg);
        }
      };
      YZ_Tool_IOS.prototype.realNameAuth = function(code, name, callBack) {
        if (!Utils_1.utils._isConfigInit) {
          Utils_1.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return;
        }
        var method = "m=realNameAuth";
        var completeCallback = callBack;
        var xhr = new XMLHttpRequest();
        xhr.timeout = 15e3;
        var requestUrl = "https://apps.youlesp.com/gss?" + method + "&time_stamp=" + new Date().getTime();
        var data = {};
        data.kyx = false;
        data.app_id = Utils_1.utils.config.nativeIoSConfig.appID;
        data.channel = "ios";
        data.device_uid = this.uid;
        data.uid = this.serviceId;
        data.game_type = 2;
        data.device_data = this.deviceInfo;
        data.game_version = Utils_1.utils.config.nativeIoSConfig.version;
        data.reqv = YZ_Constant_1.default.SERVER_VERSION;
        data.app_list = this.appList;
        data.id_card = code;
        data.real_name = name;
        Utils_1.utils.showLog("\u670d\u52a1\u5668\u5730\u5740:" + requestUrl);
        Utils_1.utils.showLog("\u8bf7\u6c42\u53c2\u6570:" + JSON.stringify(data));
        var requestData = JSON.stringify(data);
        xhr.open("POST", requestUrl);
        xhr.send("json_data=" + Utils_1.utils.aesEncrypt(requestData));
        Utils_1.utils.showLog("json_data=:" + Utils_1.utils.aesEncrypt(requestData));
        xhr.onreadystatechange = function() {
          Utils_1.utils.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=", xhr.readyState, "; status=", xhr.status);
          4 == xhr.readyState && (200 == xhr.status ? completeCallback && completeCallback(true, Utils_1.utils.aesDecrypt(xhr.responseText)) : completeCallback && completeCallback(false, ""));
          200 != xhr.status;
        };
        xhr.ontimeout = function() {
          Utils_1.utils.showLog("\u8bf7\u6c42\u8d85\u65f6!");
          completeCallback && completeCallback(false, "");
        };
        xhr.onerror = function(err) {
          completeCallback && completeCallback(false, "");
        };
      };
      YZ_Tool_IOS = __decorate([ ccclass ], YZ_Tool_IOS);
      return YZ_Tool_IOS;
    }();
    exports.default = YZ_Tool_IOS;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  YZ_Tool_Kwai: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8a530Okg5dP5L+U8tqkTRVh", "YZ_Tool_Kwai");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_ServerUrl = "http://apps.youlesp.com/gss?";
    var POST_ServerUrl = "http://report.youlesp.com/gss?";
    var ST_DefaultServerConfig = "";
    var YZ_Tool_Kwai = function() {
      function YZ_Tool_Kwai() {
        this._recorder = null;
        this._videoPath = null;
        this._shareCallback = null;
        this.recorderStarTime = 0;
        this.isAutoShare = true;
        this.isClickEnd = false;
        this._serverConfig = null;
        this._sysInfo = {};
        this._uid = "0";
        this._service_uid = "0";
        this._loginTime = 0;
        this._loginInterval = 30;
        this._reportLoginTime = 0;
        this._reportLoginInterval = 30;
        this.isReport = false;
        this.kwaigame = kwaigame;
        this._canShowRecord = false;
      }
      Object.defineProperty(YZ_Tool_Kwai.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Kwai.prototype, "SysInfo", {
        get: function() {
          return this._sysInfo;
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_Kwai.prototype.gameVersion = function() {
        return Utils_1.utils.config.kwaiConfig.version;
      };
      Object.defineProperty(YZ_Tool_Kwai.prototype, "uid", {
        get: function() {
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Kwai.prototype, "serviceId", {
        get: function() {
          if ("0" != this._service_uid) return this._service_uid;
          this.reportLogin();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_Kwai.prototype._login = function() {
        return __awaiter(this, void 0, void 0, function() {
          var curTime, interval, self;
          return __generator(this, function(_a) {
            curTime = new Date().getTime();
            interval = (curTime - this._loginTime) / 1e3;
            if (interval > 0 && interval < 30) {
              Utils_1.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a" + this._loginInterval + "\u79d2");
              return [ 2 ];
            }
            this._loginTime = curTime;
            self = this;
            Utils_1.utils.showLog("baidu\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0");
            this._uid = "0";
            return [ 2 ];
          });
        });
      };
      YZ_Tool_Kwai.prototype.reportLogin = function() {
        var _this = this;
        if (this.isReport) return;
        this.isReport = true;
        var self = this;
        var curTime = new Date().getTime();
        var interval = (curTime - self._reportLoginTime) / 1e3;
        if (interval > 0 && interval < 30) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a" + self._reportLoginInterval + "\u79d2");
          return;
        }
        self._reportLoginTime = curTime;
        var method = "m=login";
        var url = ST_ServerUrl + method + "&device_data=0";
        Utils_1.utils.commomHttpRequest(url, function(ret, data) {
          if (ret) {
            if (data) {
              var result = JSON.parse(data);
              Utils_1.utils.showLog("data=" + data);
              Utils_1.utils.showLog("result=" + result);
              Utils_1.utils.showLog("result.uid=" + result.uid);
              if (result.uid) {
                self._service_uid = "" + result.uid;
                Utils_1.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid=" + self._service_uid);
                YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_SERVICE_UID, self._service_uid);
              }
            }
          } else Utils_1.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");
          _this.isReport = false;
        });
      };
      YZ_Tool_Kwai.prototype.init = function(data) {
        if (PlatUtils_1.default.IsKwai) {
          if (data) {
            var configObj = JSON.parse(data);
            if (configObj && configObj.kwai) {
              Utils_1.utils.showLog("\u672c\u5730\u914d\u7f6e\u6570\u636e:" + JSON.stringify(configObj.kwai));
              ST_DefaultServerConfig = JSON.stringify(configObj.kwai);
            }
          }
          this._service_uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_SERVICE_UID);
          this._service_uid = this._service_uid ? this._service_uid : "0";
          this._loadConfig();
          this.initRecord();
        }
      };
      YZ_Tool_Kwai.prototype.readyGo = function() {
        this.kwaigame.readyGo();
      };
      YZ_Tool_Kwai.prototype._loadConfig = function() {
        var _this = this;
        if (PlatUtils_1.default.IsKwai) {
          var method = "m=g";
          Utils_1.utils.commomHttpRequest(ST_ServerUrl + method, function(ret, data) {
            if (ret) {
              Utils_1.utils.showLog("\u5feb\u624b\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = ", data);
              if (data) {
                var result = JSON.parse(data);
                result ? Utils_1.utils.DebugLoacalConfig ? cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!") : _this._serverConfig = result : Utils_1.utils.showLog("\u5feb\u624b\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
              }
            } else Utils_1.utils.showLog("\u5feb\u624b\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
            if (_this._serverConfig) {
              _this._serverConfig.shares && _this._serverConfig.shares.sy_title && (Utils_1.utils.config.otherconfig.shareTitle = _this._serverConfig.shares.sy_title);
              _this._serverConfig.shares && _this._serverConfig.shares.sy_img && (Utils_1.utils.config.otherconfig.shareImgUrl = _this._serverConfig.shares.sy_img);
              if (_this._serverConfig.is_local_pos_id && "false" == _this._serverConfig.is_local_pos_id) {
                Utils_1.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid");
                Utils_1.utils.config.kwaiConfig.videoId = _this._serverConfig.video_pos_id;
                Utils_1.utils.config.kwaiConfig.insertId = _this._serverConfig.intersititia_pos_id || Utils_1.utils.config.kwaiConfig.insertId;
              } else Utils_1.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID");
            } else _this._serverConfig = JSON.parse(ST_DefaultServerConfig);
            Utils_1.utils.emitServerInitEvent();
          });
        }
      };
      YZ_Tool_Kwai.prototype.initRecord = function() {
        var _this = this;
        if (!this.checkCanShowRecored()) {
          Utils_1.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u5f55\u5c4f\u7ec4\u4ef6\uff01");
          return;
        }
        this._recorder = this.kwaigame.createMediaRecorder();
        if (this._recorder) {
          this._recorder.init({
            callback: function(error) {
              if (error) {
                Utils_1.utils.showLog("\u5f55\u5c4f\u521d\u59cb\u5316\u5931\u8d25: " + JSON.stringify(error));
                _this._recorder = null;
                return;
              }
              Utils_1.utils.showLog("\u5f55\u5c4f\u521d\u59cb\u5316\u6210\u529f");
            }
          });
          this._recorder.onError({
            listener: function(error) {
              Utils_1.utils.isRecording = false;
              cc.game.emit("YZ_CommonMessage", {
                type: "YZ_RecordEnd"
              });
              Utils_1.utils.showLog("\u5f55\u5c4f\u7ec8\u6b62: " + JSON.stringify(error));
            }
          });
        }
      };
      YZ_Tool_Kwai.prototype.share = function(callback) {
        if (PlatUtils_1.default.IsKwai) {
          this._shareCallback = callback;
          this.recorderStarTime > 0 ? this.shareVideo() : this.shareImage();
        }
      };
      YZ_Tool_Kwai.prototype.checkCanShowRecored = function() {
        return this.kwaigame.isSupport(this.kwaigame.Support.features.Recorder);
      };
      YZ_Tool_Kwai.prototype.shareVideo = function() {
        var _this = this;
        if (this._recorder) {
          if (!this._canShowRecord) {
            this._shareCallback && this._shareCallback(false, "\u5f55\u5c4f\u65f6\u95f4\u4e0d\u8db3!");
            return;
          }
          this._recorder.publishVideo({
            callback: function(error) {
              if (error) {
                Utils_1.utils.showLog("\u5206\u4eab\u5f55\u5c4f\u5931\u8d25: " + JSON.stringify(error));
                _this._shareCallback && _this._shareCallback(false, "\u5206\u4eab\u5f55\u5c4f\u5931\u8d25!");
                return;
              }
              _this._canShowRecord = false;
              Utils_1.utils.showLog("\u5206\u4eab\u5f55\u5c4f\u6210\u529f");
              _this._shareCallback && _this._shareCallback(true, "\u5206\u4eab\u5f55\u5c4f\u6210\u529f!");
            }
          });
        } else {
          this.checkCanShowRecored() ? Utils_1.utils.showLog("\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301\u5f55\u5c4f\u7ec4\u4ef6\uff01") : Utils_1.utils.showLog("\u5f55\u5c4f\u521d\u59cb\u5316\u5931\u8d25\uff01");
          this._shareCallback && this._shareCallback(false, "\u5206\u4eab\u5f55\u5c4f\u5931\u8d25!");
        }
      };
      YZ_Tool_Kwai.prototype.recordStart = function() {
        var _this = this;
        this._recorder && this._recorder.start({
          callback: function(error) {
            if (error) {
              Utils_1.utils.isRecording = false;
              Utils_1.utils.showLog("\u5f00\u59cb\u5f55\u5c4f\u5931\u8d25: " + JSON.stringify(error));
              return;
            }
            _this._canShowRecord = false;
            Utils_1.utils.isRecording = true;
            _this.recorderStarTime = new Date().getTime();
            cc.game.emit("YZ_CommonMessage", {
              type: "YZ_RecordStart"
            });
            Utils_1.utils.showLog("\u5f00\u59cb\u5f55\u5c4f\u6210\u529f");
          }
        });
      };
      YZ_Tool_Kwai.prototype.recordEnd = function() {
        var _this = this;
        this._recorder && this._recorder.stop({
          callback: function(error) {
            Utils_1.utils.isRecording = false;
            cc.game.emit("YZ_CommonMessage", {
              type: "YZ_RecordEnd"
            });
            _this._canShowRecord = false;
            if (error) {
              Utils_1.utils.showLog("\u505c\u6b62\u5f55\u5c4f\u5931\u8d25: " + JSON.stringify(error));
              return;
            }
            Utils_1.utils.showLog("\u505c\u6b62\u5f55\u5c4f\u6210\u529f");
            var curTime = new Date().getTime();
            var interval = (curTime - _this.recorderStarTime) / 1e3;
            if (interval > 3) {
              _this._canShowRecord = true;
              Utils_1.utils.showLog("\u5f55\u5c4f\u65f6\u95f4\u5927\u4e8e3\u79d2", interval, " isClickEnd=", _this.isClickEnd);
              if (_this.isAutoShare) {
                if (_this.isClickEnd) {
                  _this.shareVideo();
                  _this._shareCallback = null;
                } else if (Utils_1.utils.checkResultShow(1)) {
                  Utils_1.utils.showLog("\u6ee1\u8db3\u81ea\u52a8\u5206\u4eab\u6761\u4ef6\uff0c\u5f39\u51fa\u5206\u4eab\u7a97\u53e3\uff01");
                  if (null == Utils_1.utils.rewardCloseFunc) {
                    Utils_1.utils.rewardValue = 0;
                    Utils_1.utils.showShareRecordPanel();
                  }
                } else if (interval > 100 && null == Utils_1.utils.rewardCloseFunc) {
                  Utils_1.utils.rewardValue = 0;
                  Utils_1.utils.showShareRecordPanel();
                }
              } else _this.isAutoShare = true;
            } else {
              _this.isClickEnd;
              Utils_1.utils.showLog("\u5f55\u5c4f\u65f6\u95f4\u5c0f\u4e8e3\u79d2\uff0c\u5f55\u5f55\u5c4f\u5730\u5740\u7f6e\u7a7a\uff01");
            }
          }
        });
      };
      YZ_Tool_Kwai.prototype.shareImage = function() {
        this.kwaigame.shareToMsg(this._getShareInfo());
      };
      YZ_Tool_Kwai.prototype._getShareInfo = function() {
        var _this = this;
        var params = {};
        params.title = Utils_1.utils.config.otherconfig.shareTitle;
        params.desc = Utils_1.utils.config.otherconfig.shareDesc ? Utils_1.utils.config.otherconfig.shareDesc : Utils_1.utils.config.otherconfig.shareTitle;
        params.iconUrl = Utils_1.utils.config.otherconfig.shareIcon ? Utils_1.utils.config.otherconfig.shareIcon : Utils_1.utils.config.otherconfig.shareImgUrl;
        params.imageUrl = Utils_1.utils.config.otherconfig.shareImgUrl;
        params.extension = {
          isShare: "share"
        };
        params.response = function(result) {
          Utils_1.utils.showLog("\u5206\u4eab\u5b8c\u6210: " + JSON.stringify(result));
          _this._shareCallback && _this._shareCallback(true, "\u5206\u4eab\u6210\u529f!");
        };
        return params;
      };
      YZ_Tool_Kwai.prototype.postLevel = function(level, status, levelName) {
        if (PlatUtils_1.default.IsKwai) {
          var method = "m=rlevel";
          var url = POST_ServerUrl + method + "&level_id=" + level + "&level_name=" + encodeURI(levelName) + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Kwai.prototype.sendEvent = function(eventName) {
        if (PlatUtils_1.default.IsKwai) {
          var method = "m=revent";
          var url = POST_ServerUrl + method + "&event=" + encodeURI(eventName);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01") : Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Kwai.prototype._compareVersion = function(first, second) {
        return parseInt(first.split(".").join("")) >= parseInt(second.split(".").join(""));
      };
      YZ_Tool_Kwai = __decorate([ ccclass ], YZ_Tool_Kwai);
      return YZ_Tool_Kwai;
    }();
    exports.default = YZ_Tool_Kwai;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  YZ_Tool_Native: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "60a05J5l1dBI6a10/Es1IiB", "YZ_Tool_Native");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_DefaultServerConfig = "";
    var ST_ServerUrl = "http://apps.youlesp.com/gss?";
    var POST_ServerUrl = "http://report.youlesp.com/gss?";
    var YZ_Tool_Native = function() {
      function YZ_Tool_Native() {
        this.className = "";
        this._serverConfig = null;
        this._uid = "0";
        this._service_uid = "0";
        this.moreGameShowType = 0;
        this.showGameExitDialogType = 0;
        this.appList = "";
        this._reportLoginTime = 0;
        this._reportLoginInterval = 30;
        this.isReport = false;
        this._gameExitDialogNode = null;
        this.deviceInfo = "";
        this._reloadTimes = 6;
        this._curloadTimes = 0;
      }
      Object.defineProperty(YZ_Tool_Native.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_Native.prototype.gameVersion = function() {
        return Utils_1.utils.config.nativeAndroidConfig.version;
      };
      Object.defineProperty(YZ_Tool_Native.prototype, "uid", {
        get: function() {
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Native.prototype, "serviceId", {
        get: function() {
          if ("0" != this._service_uid) return this._service_uid;
          this.reportLogin();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_Native.prototype.reportLogin = function() {
        var _this = this;
        if (this.isReport) return;
        this.isReport = true;
        var self = this;
        var curTime = new Date().getTime();
        var interval = (curTime - this._reportLoginTime) / 1e3;
        if (interval > 0 && interval < this._reportLoginInterval) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a" + this._reportLoginInterval + "\u79d2");
          return;
        }
        this._reportLoginTime = curTime;
        var method = "m=loginv2";
        var url = ST_ServerUrl + method + "&device_data=" + encodeURI(this.deviceInfo);
        Utils_1.utils.commomHttpRequest(url, function(ret, data) {
          if (ret) {
            if (data) {
              var result = JSON.parse(data);
              Utils_1.utils.showLog(result);
              if (result.uid) {
                self._service_uid = "" + result.uid;
                Utils_1.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid=" + self._service_uid);
                YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_SERVICE_UID, self._service_uid);
              }
              if (result.config) {
                _this._serverConfig = Utils_1.utils.aesDecrypt(result.config);
                _this.setLocalConfig(JSON.stringify(_this._serverConfig));
              }
            }
          } else Utils_1.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");
          _this.isReport = false;
        });
      };
      YZ_Tool_Native.prototype.init = function() {
        var _this = this;
        if (PlatUtils_1.default.IsNativeAndroid) {
          ST_DefaultServerConfig = this.getNativeData();
          if (!ST_DefaultServerConfig) {
            Utils_1.utils.showLog("\u6ca1\u6709\u83b7\u53d6\u5230\u672c\u5730\u6570\u636e\uff0c\u7ec4\u4ef6\u521d\u59cb\u5316\u5931\u8d25\uff01");
            return;
          }
          var data = JSON.parse(ST_DefaultServerConfig);
          this.deviceInfo = data.device_info;
          this.moreGameShowType = data.more_game_type;
          this.showGameExitDialogType = data.show_game_exit_dialog;
          this.appList = data.app_list;
          this._service_uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_SERVICE_UID);
          this._service_uid = this._service_uid ? this._service_uid : "0";
          this._loadConfig();
          PlatUtils_1.default.IsNativeAndroid && cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, function(event) {
            event.keyCode != cc.macro.KEY.escape && event.keyCode != cc.macro.KEY.back || PlatUtils_1.default.IsNativeAndroid && (1 == _this.showGameExitDialogType ? _this.showGameExitDialog() : _this.GameExit());
          }, this);
        }
      };
      YZ_Tool_Native.prototype.showGameExitDialog = function() {
        if (!Utils_1.utils._isConfigInit) {
          Utils_1.utils.showLog("warn:\u7ec4\u4ef6\u914d\u7f6e\u672a\u521d\u59cb\u5316!");
          return null;
        }
        if (this._gameExitDialogNode && cc.isValid(this._gameExitDialogNode)) {
          Utils_1.utils.showLog("\u9000\u51fa\u7a97\u53e3\u8fd8\u5728\u3002");
          return;
        }
        if (Utils_1.utils.config.otherconfig.gameExitDialog) {
          var node = cc.instantiate(Utils_1.utils.config.otherconfig.gameExitDialog);
          if (node) {
            this._gameExitDialogNode && cc.isValid(this._gameExitDialogNode) && this._gameExitDialogNode.destroy();
            this._gameExitDialogNode = node;
            this._gameExitDialogNode.group = "default";
            cc.director.getScene().addChild(this._gameExitDialogNode, 9999);
          }
        } else Utils_1.utils.showLog("warn:\u672a\u627e\u5230\u9884\u5236\u4f53 GameExitDialog, \u8bf7\u67e5\u770bCommonUtils\u7ec4\u4ef6\u4e0a\u662f\u5426\u8d4b\u503c !");
      };
      YZ_Tool_Native.prototype.GameExit = function() {
        if (PlatUtils_1.default.IsNativeAndroid) {
          cc.log("AdAgentNative GameExit");
          try {
            jsb.reflection.callStaticMethod(this.jniClassName, "gameExit", "()V");
          } catch (error) {
            cc.log(error);
          }
        }
      };
      YZ_Tool_Native.prototype.getMoreGameShowType = function() {
        try {
          this.moreGameShowType = jsb.reflection.callStaticMethod(this.jniClassName, "getMoreGameShowType", "()I");
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
      };
      YZ_Tool_Native.prototype.getDeviceInfo = function() {
        try {
          this.deviceInfo = jsb.reflection.callStaticMethod(this.jniClassName, "getDeviceInfo", "()Ljava/lang/String;");
          Utils_1.utils.showLog("\u83b7\u53d6\u539f\u751f\u5e73\u53f0\u624b\u673a\u8bbe\u5907\u4fe1\u606f\uff1a" + this.deviceInfo);
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
      };
      YZ_Tool_Native.prototype.showMoreGames = function() {
        if (PlatUtils_1.default.IsNativeAndroid) {
          Utils_1.utils.showLog("AdAgentNative showMoreGame");
          try {
            jsb.reflection.callStaticMethod(this.jniClassName, "showNativeMoreGame", "()V");
          } catch (error) {
            cc.log(error);
          }
        }
      };
      YZ_Tool_Native.prototype._loadConfig = function() {
        var _this = this;
        if (PlatUtils_1.default.IsNativeAndroid) {
          var method = "m=g&device_data=" + encodeURI(this.deviceInfo) + "&real_name_auth=" + Utils_1.utils.getRealNameAuthLocalData();
          this.commomHttpRequest(ST_ServerUrl + method, function(ret, data) {
            _this._curloadTimes++;
            var recall = false;
            if (ret) {
              Utils_1.utils.showLog("\u539f\u751f\u5b89\u5353\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = " + data);
              if (data) {
                var result = JSON.parse(data);
                if (result) if (Utils_1.utils.DebugLoacalConfig) Utils_1.utils.showLog("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"); else {
                  _this._serverConfig = result;
                  _this._serverConfig.is_show_log_view && "true" == _this._serverConfig.is_show_log_view && (Utils_1.utils.showLogView = true);
                  result.more_game_type && (_this.moreGameShowType = result.more_game_type);
                  result.show_game_exit_dialog && (_this.showGameExitDialogType = result.show_game_exit_dialog);
                } else Utils_1.utils.showLog("\u539f\u751f\u5b89\u5353\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
              }
            } else {
              Utils_1.utils.showLog("\u539f\u751f\u5b89\u5353\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25\uff01");
              if (_this._curloadTimes < _this._reloadTimes) {
                Utils_1.utils.showLog("\u8bf7\u6c42\u5f02\u5e38\uff0c\u91cd\u65b0\u62c9\u53d6\u914d\u7f6e!");
                recall = true;
              }
            }
            _this._serverConfig ? _this._serverConfig.is_local_pos_id && "false" == _this._serverConfig.is_local_pos_id ? Utils_1.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid") : Utils_1.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID") : _this._serverConfig = JSON.parse(ST_DefaultServerConfig);
            if (recall) _this._loadConfig(); else if (!recall || _this._curloadTimes >= _this._reloadTimes) {
              _this.setLocalConfig(JSON.stringify(_this._serverConfig));
              Utils_1.utils.emitServerInitEvent();
            }
          });
        }
      };
      YZ_Tool_Native.prototype.commomHttpRequest = function(url, callback) {
        if (!Utils_1.utils._isConfigInit) {
          Utils_1.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return;
        }
        var completeCallback = callback;
        var xhr = new XMLHttpRequest();
        xhr.timeout = 6e3;
        var requestUrl = url + "&kyx=false&app_id=" + Utils_1.utils.config.nativeAndroidConfig.appID + "&channel=" + Utils_1.utils.config.nativeAndroidConfig.channel + "&device_uid=" + Utils_1.utils.Tool_Native.uid + "&uid=" + Utils_1.utils.Tool_Native.serviceId + "&game_type=2&time_stamp=" + new Date().getTime() + "&game_version=" + Utils_1.utils.config.nativeAndroidConfig.version + "&reqv=" + YZ_Constant_1.default.SERVER_VERSION;
        Utils_1.utils.showLog("\u670d\u52a1\u5668\u5730\u5740:" + requestUrl);
        xhr.open("POST", requestUrl);
        xhr.send("app_list=" + this.appList);
        xhr.onreadystatechange = function() {
          Utils_1.utils.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=", xhr.readyState, "; status=", xhr.status);
          4 == xhr.readyState && (200 == xhr.status ? completeCallback && completeCallback(true, Utils_1.utils.aesDecrypt(xhr.responseText)) : completeCallback && completeCallback(false, ""));
          200 != xhr.status;
        };
        xhr.ontimeout = function() {
          Utils_1.utils.showLog("\u8bf7\u6c42\u8d85\u65f6!");
          completeCallback && completeCallback(false, "");
        };
        xhr.onerror = function(err) {
          completeCallback && completeCallback(false, "");
        };
      };
      YZ_Tool_Native.prototype.setLocalConfig = function(data) {
        try {
          Utils_1.utils.showLog("\u8bbe\u7f6e\u539f\u751f\u5ba2\u6237\u7aef\u6570\u636e\u6570\u636e" + data);
          jsb.reflection.callStaticMethod(this.jniClassName, "setLocalConfig", "(Ljava/lang/String;)V", data);
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
      };
      YZ_Tool_Native.prototype.getNativeData = function() {
        var data = "";
        try {
          data = jsb.reflection.callStaticMethod(this.jniClassName, "getLocalConfig", "()Ljava/lang/String;");
          Utils_1.utils.showLog("\u83b7\u53d6\u539f\u751f\u5ba2\u6237\u7aef\u6570\u636e\u6570\u636e : " + data);
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
        return data;
      };
      YZ_Tool_Native.prototype.navigateToGame = function(jsonData, callback, path) {
        if (PlatUtils_1.default.IsNativeAndroid) try {
          jsb.reflection.callStaticMethod(this.jniClassName, "navigateToGame", "(Ljava/lang/String;)V", jsonData);
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
      };
      Object.defineProperty(YZ_Tool_Native.prototype, "jniClassName", {
        get: function() {
          if (this.className) return this.className;
          try {
            this.className = jsb.reflection.callStaticMethod("aa.b.c.a", "a", "()Ljava/lang/String;");
          } catch (error) {}
          return this.className;
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_Native.prototype.getRecommondGameList = function() {
        if (PlatUtils_1.default.IsNativeAndroid && Utils_1.utils.Tool_Native && Utils_1.utils.Tool_Native.ServerConfig) return Utils_1.utils.Tool_Native.ServerConfig.jump_list;
        return null;
      };
      YZ_Tool_Native.prototype.postLevel = function(level, status, levelName) {
        if (PlatUtils_1.default.IsNativeAndroid) {
          var method = "m=rlevel";
          var url = POST_ServerUrl + method + "&level_id=" + level + "&level_name=" + encodeURI(levelName) + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Native.prototype.postRecommentShowData = function(location) {
        if (PlatUtils_1.default.IsNativeAndroid) {
          var method = "m=rjumpshow";
          var url = ST_ServerUrl + method + "&location=" + location;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u4e0a\u62a5\u4e92\u63a8\u7ec4\u4ef6\u663e\u793a\u4f4d\u7f6e\u6210\u529f\uff01") : Utils_1.utils.showLog("\u4e0a\u62a5\u4e92\u63a8\u7ec4\u4ef6\u663e\u793a\u4f4d\u7f6e\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Native.prototype.postDataByLocation = function(otherGameAppId, location, status) {
        void 0 === status && (status = 0);
        if (PlatUtils_1.default.IsNativeAndroid) {
          var method = "m=rjump";
          var url = POST_ServerUrl + method + "&jump_app_id=" + otherGameAppId + "&location=" + location + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f") : Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Native.prototype.sendEvent = function(eventName) {
        if (PlatUtils_1.default.IsNativeAndroid) {
          var method = "m=revent";
          var url = POST_ServerUrl + method + "&event=" + encodeURI(eventName);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01") : Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Native.prototype.sendEventNew = function(eventName, eventId, eventData, isCallBack) {
        var _this = this;
        void 0 === eventId && (eventId = "default");
        void 0 === isCallBack && (isCallBack = true);
        if (PlatUtils_1.default.IsNativeAndroid) {
          var method = "m=reventv2";
          var url = POST_ServerUrl + method + "&event=" + encodeURI(eventName) + "&event_id=" + eventId;
          eventData && (url += "&event_data=" + encodeURI(eventData));
          Utils_1.utils.showLog("\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u4e0a\u62a5URL\uff1a" + url);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            if (ret) {
              Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01");
              isCallBack && _this.callBackToEvent(data);
            } else {
              Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01");
              isCallBack && _this.callBackToEvent("false");
            }
          });
        }
      };
      YZ_Tool_Native.prototype.sendEventV3 = function(eventName, eventId, eventData) {
        var _this = this;
        void 0 === eventId && (eventId = "default");
        if (PlatUtils_1.default.IsNativeAndroid) {
          var method = "m=reventv2";
          var url = POST_ServerUrl + method + "&event=" + encodeURI(eventName) + "&event_id=" + eventId;
          eventData && (url += "&event_data=" + encodeURI(eventData));
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            if (ret) {
              Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01");
              _this.callBackToEvent(data);
            } else {
              Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01");
              _this.callBackToEvent("false");
            }
          });
        }
      };
      YZ_Tool_Native.prototype.callBackToEvent = function(result) {
        if (PlatUtils_1.default.IsNativeAndroid) try {
          jsb.reflection.callStaticMethod(this.jniClassName, "callBackToEvent", "(Ljava/lang/String;)V", result);
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
      };
      YZ_Tool_Native.prototype.showToast = function(msg) {
        if (PlatUtils_1.default.IsNativeAndroid) try {
          jsb.reflection.callStaticMethod(this.jniClassName, "showToast", "(Ljava/lang/String;)V", msg);
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
      };
      YZ_Tool_Native.prototype.showPrivacyAgreement = function() {
        try {
          jsb.reflection.callStaticMethod(this.jniClassName, "showPrivacyAgreement", "()V");
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
      };
      YZ_Tool_Native.prototype.showRealNameAuthPanel = function(parmes) {
        try {
          jsb.reflection.callStaticMethod(this.jniClassName, "showRealNameAuthPanel", "(Ljava/lang/String;)V", parmes);
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
      };
      YZ_Tool_Native.prototype.realNameAuthResult = function(parmes) {
        try {
          jsb.reflection.callStaticMethod(this.jniClassName, "realNameAuthResult", "(Ljava/lang/String;)V", parmes);
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
      };
      YZ_Tool_Native.prototype.realNameAuth = function(code, name, callBack) {
        if (!Utils_1.utils._isConfigInit) {
          Utils_1.utils.showLog("warn:\u672c\u5730\u6570\u636e\u672a\u521d\u59cb\u5316!");
          return;
        }
        var method = "m=realNameAuth";
        var completeCallback = callBack;
        var xhr = new XMLHttpRequest();
        xhr.timeout = 15e3;
        var requestUrl = "https://apps.youlesp.com/gss?" + method + "&time_stamp=" + new Date().getTime();
        var data = {};
        data.kyx = false;
        data.app_id = Utils_1.utils.config.nativeAndroidConfig.appID;
        data.channel = Utils_1.utils.config.nativeAndroidConfig.channel;
        data.device_uid = Utils_1.utils.Tool_Native.uid;
        data.uid = Utils_1.utils.Tool_Native.serviceId;
        data.game_type = 2;
        data.device_data = this.deviceInfo;
        data.game_version = Utils_1.utils.config.nativeAndroidConfig.version;
        data.reqv = YZ_Constant_1.default.SERVER_VERSION;
        data.app_list = this.appList;
        data.id_card = code;
        data.real_name = name;
        Utils_1.utils.showLog("\u670d\u52a1\u5668\u5730\u5740:" + requestUrl);
        Utils_1.utils.showLog("\u8bf7\u6c42\u53c2\u6570:" + JSON.stringify(data));
        var requestData = JSON.stringify(data);
        xhr.open("POST", requestUrl);
        xhr.send("json_data=" + Utils_1.utils.aesEncrypt(requestData));
        Utils_1.utils.showLog("json_data=:" + Utils_1.utils.aesEncrypt(requestData));
        xhr.onreadystatechange = function() {
          Utils_1.utils.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=", xhr.readyState, "; status=", xhr.status);
          4 == xhr.readyState && (200 == xhr.status ? completeCallback && completeCallback(true, Utils_1.utils.aesDecrypt(xhr.responseText)) : completeCallback && completeCallback(false, ""));
          200 != xhr.status;
        };
        xhr.ontimeout = function() {
          Utils_1.utils.showLog("\u8bf7\u6c42\u8d85\u65f6!");
          completeCallback && completeCallback(false, "");
        };
        xhr.onerror = function(err) {
          completeCallback && completeCallback(false, "");
        };
      };
      YZ_Tool_Native.prototype.umaOnStart = function(levelID) {
        if (!this.checkUmeng()) return;
        this.umaTrackEvent("level", "um_plus_game_level", {
          game_level: levelID,
          game_states: "0"
        });
      };
      YZ_Tool_Native.prototype.checkUmeng = function() {
        return true;
      };
      YZ_Tool_Native.prototype.umaReportedLevel = function(levelID, event) {
        if (!this.checkUmeng()) return;
        var status = 1;
        event == YZ_Constant_1.LevelStatus.GameFail && (status = -1);
        this.umaTrackEvent("level", "um_plus_game_level", {
          game_level: levelID,
          game_states: "" + status
        });
      };
      YZ_Tool_Native.prototype.umaTrackEvent = function(eventType, eventId, params) {
        void 0 === eventType && (eventType = "custom");
        if (!this.checkUmeng()) return;
        try {
          params && (params = JSON.stringify(params));
          jsb.reflection.callStaticMethod(this.jniClassName, "umaTrackEvent", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", eventType, eventId, params);
        } catch (error) {
          Utils_1.utils.showLog(error);
        }
      };
      YZ_Tool_Native = __decorate([ ccclass ], YZ_Tool_Native);
      return YZ_Tool_Native;
    }();
    exports.default = YZ_Tool_Native;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  YZ_Tool_Oppo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "45157YJvkRH65MMXKEo3sat", "YZ_Tool_Oppo");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YouWanAnalytics_1 = require("./YouWanSDK/YouWanAnalytics");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var uma = require("./UMengSDK/quickGame/uma.min.js");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_ServerUrl = "http://apps.youlesp.com/gss?";
    var POST_ServerUrl = "http://report.youlesp.com/gss?";
    var ST_DefaultServerConfig = "";
    var ST_NativeInsertAdClickTimes = "NativeInsertAdClickTimes";
    var ST_LastDateTime = "LastDateTime";
    var ST_InsertAdShowCounts = "NativeInsertAdShowCount";
    var ST_BannerAdCloseCounts = "ST_BannerAdCloseCounts";
    var ST_YZBannerShowCounts = "YZBannerShowCounts";
    var YZ_Tool_Oppo = function() {
      function YZ_Tool_Oppo() {
        this.qg = qg;
        this._sysInfo = null;
        this._source = "";
        this._serverConfig = null;
        this._nativeInsertAdClickTimes = 0;
        this._insertAdShowCounts = 0;
        this._bannerAdCloseCounts = 0;
        this._yzBannerShowCounts = 0;
        this._shortcutCreated = false;
        this._uid = "0";
        this._service_uid = 0;
        this._device_id = "";
        this._uuid = "";
        this._yw_uid = -1;
        this._reloadTimes = 6;
        this._curloadTimes = 0;
        this._loginTime = 0;
        this._loginInterval = 30;
        this.isGetDeviceId = true;
        this._reportLoginTime = 0;
        this._reportLoginInterval = 30;
        this.isReport = false;
        this._rec_is_banner = false;
        this._rec_game_banner = null;
        this._rec_game_portal = null;
        this._gameDrawerAd = null;
        this.isReportDevice = false;
      }
      Object.defineProperty(YZ_Tool_Oppo.prototype, "SysInfo", {
        get: function() {
          return this._sysInfo;
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_Oppo.prototype.gameVersion = function() {
        return Utils_1.utils.config.oppoconfig.version;
      };
      Object.defineProperty(YZ_Tool_Oppo.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Oppo.prototype, "NativeInsertAdClickTimes", {
        get: function() {
          return this._nativeInsertAdClickTimes;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Oppo.prototype, "insertAdShowCounts", {
        get: function() {
          return this._insertAdShowCounts;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Oppo.prototype, "bannerAdCloseCounts", {
        get: function() {
          return this._bannerAdCloseCounts;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Oppo.prototype, "yzBannerShowCounts", {
        get: function() {
          return this._yzBannerShowCounts;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Oppo.prototype, "ShortcutCreated", {
        get: function() {
          return this._shortcutCreated;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Oppo.prototype, "uid", {
        get: function() {
          if ("0" != this._uid) return this._uid;
          this._login();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Oppo.prototype, "serviceId", {
        get: function() {
          if (0 != this._service_uid) return this._service_uid;
          this.reportLogin();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_Oppo.prototype.init = function(data) {
        var _this = this;
        if (PlatUtils_1.default.IsOPPO) {
          this.umaInit();
          this._sysInfo = qg.getSystemInfoSync();
          this.SysInfo && Utils_1.utils.showLog("OPPO \u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: " + JSON.stringify(this.SysInfo));
          if (data) {
            var configObj = JSON.parse(data);
            configObj && configObj.oppo && (ST_DefaultServerConfig = JSON.stringify(configObj.oppo));
          }
          this._yw_uid = parseInt(YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_YOUWAN_UID, "-1"));
          this._device_id = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_DEVICE_ID);
          this._device_id || cc.game.on(YZ_Constant_1.default.YZ_PrivacyClose, function() {
            _this.initDeviceId();
          }, this);
          if (this.isOverMiniVersion("1050")) {
            var options = qg.getLaunchOptionsSync();
            options && console.log("options>>>", JSON.stringify(options));
            if (options && options.referrerInfo && options.referrerInfo.package) {
              Utils_1.utils.showLog("\u83b7\u53d6\u5230\u5c0f\u7a0b\u5e8f\u542f\u52a8\u6765\u6e90\uff1a" + options.referrerInfo.package);
              this._source = options.referrerInfo.package;
            }
          } else Utils_1.utils.showLog("\u5c0f\u7a0b\u5e8f\u7248\u672c\u4f4e\u4e8e1050\uff0c\u83b7\u53d6\u4e0d\u5230\u5c0f\u7a0b\u5e8f\u542f\u52a8\u6765\u6e90\uff01");
          this._login();
          var appId = Utils_1.utils.config.oppoconfig.appID + "_";
          this._nativeInsertAdClickTimes = YZ_LocalStorage_1.default.getItem(appId + ST_NativeInsertAdClickTimes);
          this._insertAdShowCounts = YZ_LocalStorage_1.default.getItem(appId + ST_InsertAdShowCounts);
          this._bannerAdCloseCounts = YZ_LocalStorage_1.default.getItem(appId + ST_BannerAdCloseCounts);
          this._yzBannerShowCounts = YZ_LocalStorage_1.default.getItem(appId + ST_YZBannerShowCounts);
          var day = YZ_LocalStorage_1.default.getItem(appId + ST_LastDateTime);
          var curDate = new Date();
          if (day != curDate.toDateString()) {
            this._nativeInsertAdClickTimes = 0;
            this._insertAdShowCounts = 0;
            this._bannerAdCloseCounts = 0;
            this._yzBannerShowCounts = 0;
            YZ_LocalStorage_1.default.setItem(appId + ST_YZBannerShowCounts, 0);
            YZ_LocalStorage_1.default.setItem(appId + ST_NativeInsertAdClickTimes, 0);
            YZ_LocalStorage_1.default.setItem(appId + ST_InsertAdShowCounts, 0);
            YZ_LocalStorage_1.default.setItem(appId + ST_LastDateTime, curDate.toDateString());
            YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_GET_DEVICE_ID, "0");
          }
          Utils_1.utils.registerServerInitEvent(function() {
            _this.isOverMiniVersion("1044") && _this.checkHasShortCut(function(res) {
              if (!res && Utils_1.utils.ServerConfig && Utils_1.utils.ServerConfig.start_auto_create_short_cut_time) {
                Utils_1.utils.showLog("\u7ec4\u4ef6\u521d\u59cb\u5316\u6210\u529f\uff0c" + Utils_1.utils.ServerConfig.start_auto_create_short_cut_time + "\u79d2\u540e\u5f39\u51fa\u81ea\u52a8\u521b\u5efa\u684c\u9762\uff01");
                Utils_1.utils.SendEvent("\u7ec4\u4ef6\u521d\u59cb\u5316\u6210\u529f\uff0c\u5f39\u51fa\u81ea\u52a8\u521b\u5efa\u684c\u9762\uff01");
                setTimeout(function() {
                  _this.createShortcut(function(res) {
                    res ? Utils_1.utils.showLog("\u81ea\u52a8\u521b\u5efa\u684c\u9762\u6210\u529f\uff01") : Utils_1.utils.showLog("\u81ea\u52a8\u521b\u5efa\u684c\u9762\u5931\u8d25\uff01");
                  });
                }, 1e3 * Utils_1.utils.ServerConfig.start_auto_create_short_cut_time);
              }
            });
          }, this);
        }
        this._loadConfig();
      };
      YZ_Tool_Oppo.prototype._saveConfig = function(data) {};
      YZ_Tool_Oppo.prototype._loadConfig = function() {
        var _this = this;
        if (PlatUtils_1.default.IsOPPO) {
          var method = "m=g&device_data=" + encodeURI(JSON.stringify(this._sysInfo));
          Utils_1.utils.commomHttpRequest(ST_ServerUrl + method, function(ret, data) {
            _this._curloadTimes++;
            var recall = false;
            Utils_1.utils.showLog("\u7b2c" + _this._curloadTimes + "\u6b21\u62c9\u53d6\u670d\u52a1\u5668\u914d\u7f6e!");
            if (ret) {
              Utils_1.utils.showLog("OPPO\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = " + data);
              if (data) {
                var result = JSON.parse(data);
                if (result) if (Utils_1.utils.DebugLoacalConfig) cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"); else {
                  _this._serverConfig = result;
                  _this._serverConfig.is_show_log_view && "true" == _this._serverConfig.is_show_log_view && (Utils_1.utils.showLogView = true);
                } else Utils_1.utils.showLog("OPPO\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
              }
            } else {
              Utils_1.utils.showLog("OPPO\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
              if (_this._curloadTimes < _this._reloadTimes) {
                Utils_1.utils.showLog("\u91cd\u65b0\u62c9\u53d6\u914d\u7f6e!");
                recall = true;
              }
            }
            if (_this._serverConfig) {
              if (1 == _this._curloadTimes) {
                if (_this._serverConfig.is_local_pos_id && "false" == _this._serverConfig.is_local_pos_id) {
                  Utils_1.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid");
                  Utils_1.utils.config.oppoconfig.bannerId = _this.ServerConfig.banner_pos_id;
                  Utils_1.utils.config.oppoconfig.insertId = _this.ServerConfig.intersititia_pos_id;
                  Utils_1.utils.config.oppoconfig.videoId = _this.ServerConfig.video_pos_id;
                  Utils_1.utils.config.oppoconfig.nativeInsertIds = _this.ServerConfig.native_intersititial_pos_id;
                  Utils_1.utils.config.oppoconfig.nativeBannerIds = _this.ServerConfig.native_banner_pos_id;
                  Utils_1.utils.config.oppoconfig.nativeTryGameIds = _this.ServerConfig.native_trygame_pos_id;
                  Utils_1.utils.config.oppoconfig.recGameBannerId = _this.ServerConfig.rec_game_banner_id;
                  Utils_1.utils.config.oppoconfig.recPortalId = _this.ServerConfig.rec_portal_id;
                  Utils_1.utils.config.oppoconfig.recGameDrawerId = _this.ServerConfig.rec_game_drawer_id || Utils_1.utils.config.oppoconfig.recGameDrawerId;
                  Utils_1.utils.config.oppoconfig.nativeSingleAdIds = _this.ServerConfig.native_single_pos_id || Utils_1.utils.config.oppoconfig.nativeSingleAdIds;
                  Utils_1.utils.config.oppoconfig.intersitialAdConfigs = _this.ServerConfig.intersitial_configs || Utils_1.utils.config.oppoconfig.intersitialAdConfigs;
                  Utils_1.utils.config.oppoconfig.bannerAdConfigs = _this.ServerConfig.banner_configs || Utils_1.utils.config.oppoconfig.bannerAdConfigs;
                } else Utils_1.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID");
                _this.ServerConfig.get_device_id && "false" == _this.ServerConfig.get_device_id && (_this.isGetDeviceId = false);
                if (_this.ServerConfig.native_banner_configs) for (var i = 0; i < _this.ServerConfig.native_banner_configs.length; i++) {
                  Utils_1.utils.showLog("\u83b7\u53d6\u5230\u539f\u751f\u5e7f\u544a\u914d\u7f6e:" + _this.ServerConfig.native_banner_configs[i].location, ">>>>", JSON.stringify(_this.ServerConfig.native_banner_configs[i]));
                  Utils_1.utils.config.oppoconfig.setNativeBannerInfo(_this.ServerConfig.native_banner_configs[i].location, _this.ServerConfig.native_banner_configs[i]);
                }
              }
            } else _this._serverConfig = JSON.parse(ST_DefaultServerConfig);
            1 == _this._curloadTimes && Utils_1.utils.emitServerInitEvent();
            recall && _this._loadConfig();
          });
        }
      };
      YZ_Tool_Oppo.prototype.isOverMiniVersion = function(miniVersion) {
        if (PlatUtils_1.default.IsOPPO && this._sysInfo) {
          Utils_1.utils.showLog("curPlatVersion = " + this._sysInfo.platformVersion + "miniVersion = " + miniVersion + (this._sysInfo.platformVersion >= miniVersion));
          return this._sysInfo.platformVersion >= miniVersion;
        }
        return false;
      };
      YZ_Tool_Oppo.prototype.checkHasShortCut = function(callBack) {
        var _this = this;
        this.qg.hasShortcutInstalled({
          success: function(res) {
            Utils_1.utils.showLog("\u68c0\u6d4b\u684c\u9762\u5feb\u6377\u65b9\u5f0f\u662f\u5426\u5df2\u7ecf\u521b\u5efa\u8fc7: result=", res);
            if (false == res) {
              _this._shortcutCreated = false;
              callBack && callBack(false);
            } else {
              _this._shortcutCreated = true;
              callBack && callBack(true);
            }
          },
          fail: function() {
            Utils_1.utils.showLog("\u68c0\u6d4b\u5931\u8d25\uff01");
          },
          complete: function() {
            Utils_1.utils.showLog("\u68c0\u6d4b\u5b8c\u6210\uff01");
          }
        });
      };
      YZ_Tool_Oppo.prototype.hideDefaultLoadingPage = function() {
        PlatUtils_1.default.IsOPPO && qg.loadingComplete({
          complete: function(res) {}
        });
      };
      YZ_Tool_Oppo.prototype.countNativeInserClick = function() {
        this._nativeInsertAdClickTimes++;
        YZ_LocalStorage_1.default.setItem(Utils_1.utils.config.oppoconfig.appID + "_" + ST_NativeInsertAdClickTimes, this._nativeInsertAdClickTimes);
      };
      YZ_Tool_Oppo.prototype.countInserShowCount = function() {
        this._insertAdShowCounts++;
        YZ_LocalStorage_1.default.setItem(Utils_1.utils.config.oppoconfig.appID + "_" + ST_InsertAdShowCounts, this._insertAdShowCounts);
      };
      YZ_Tool_Oppo.prototype.countBannerCloseCount = function() {
        this._bannerAdCloseCounts++;
        YZ_LocalStorage_1.default.setItem(Utils_1.utils.config.oppoconfig.appID + "_" + ST_BannerAdCloseCounts, this._bannerAdCloseCounts);
      };
      YZ_Tool_Oppo.prototype.countYzBannerShowCount = function() {
        this._yzBannerShowCounts++;
        YZ_LocalStorage_1.default.setItem(Utils_1.utils.config.oppoconfig.appID + "_" + ST_YZBannerShowCounts, this._yzBannerShowCounts);
      };
      YZ_Tool_Oppo.prototype.navigateToMiniGame = function(pkgName, callback) {
        if (PlatUtils_1.default.IsOPPO) {
          var completeCallback_1 = callback;
          qg.navigateToMiniGame({
            pkgName: pkgName,
            success: function() {
              Utils_1.utils.showLog("\u8df3\u8f6c\u6210\u529f\uff01");
              completeCallback_1 && completeCallback_1(true);
            },
            fail: function(res) {
              Utils_1.utils.showLog("\u8df3\u8f6c\u5931\u8d25\uff01");
              completeCallback_1 && completeCallback_1(false);
            }
          });
        }
      };
      YZ_Tool_Oppo.prototype.canCreateShortcut = function() {
        if (PlatUtils_1.default.IsOPPO) return this.isOverMiniVersion("1040");
        return false;
      };
      YZ_Tool_Oppo.prototype.createShortcut = function(callback) {
        if (PlatUtils_1.default.IsOPPO) {
          var callbackFunc_1 = callback;
          var self_1 = this;
          qg.installShortcut({
            success: function() {
              Utils_1.utils.showLog("\u684c\u9762\u56fe\u6807\u521b\u5efa\u6210\u529f\uff01");
              self_1._shortcutCreated = true;
              callbackFunc_1 && callbackFunc_1(true);
            },
            fail: function(err) {
              Utils_1.utils.showLog("createShortcut >>>fail");
              callbackFunc_1 && callbackFunc_1(false);
            },
            complete: function() {
              Utils_1.utils.showLog("createShortcut >>>complete");
            }
          });
        }
      };
      YZ_Tool_Oppo.prototype.postData = function(otherGameAppId) {
        if (PlatUtils_1.default.IsOPPO) {
          var method = "m=rjump";
          var url = POST_ServerUrl + method + "&jump_app_id=" + otherGameAppId;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Oppo.prototype.postGameSourece = function(source) {
        if (PlatUtils_1.default.IsOPPO) {
          var appid = Utils_1.utils.config.oppoconfig.appID;
          var uid = this._uid;
          var channel = Utils_1.utils.config.oppoconfig.channel ? Utils_1.utils.config.oppoconfig.channel.toLowerCase() : "oppo";
          var url = POST_ServerUrl + "kyx=true&app_id=" + appid + "&channel=" + channel + "&uid=" + this._uid + "&source=" + source;
          Utils_1.utils.showLog("\u4e0a\u62a5\u6e38\u620f\u6765\u6e90\u6570\u636e, url=" + url);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Oppo.prototype._login = function() {
        var _this = this;
        var curTime = new Date().getTime();
        var interval = (curTime - this._loginTime) / 1e3;
        if (interval > 0 && interval < this._loginInterval) {
          Utils_1.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a" + this._loginInterval + "\u79d2");
          return;
        }
        this._loginTime = curTime;
        var self = this;
        this._uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_UID);
        this._uid = this._uid ? this._uid : "0";
        this._service_uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_SERVICE_UID);
        this._service_uid = this._service_uid ? this._service_uid : 0;
        Utils_1.utils.showLog("\u83b7\u53d6\u672c\u5730\u4fdd\u5b58\u7684uid=" + this._uid + "\uff0c\u670d\u52a1\u5668UID=" + this._service_uid);
        if ("0" == this._uid) if (this.isOverMiniVersion("1040")) qg.login({
          success: function(res) {
            if (res.data.uid) {
              self._uid = "" + res.data.uid;
              Utils_1.utils.showLog("\u767b\u5f55\u6210\u529f! uid=" + self._uid);
              YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_UID, self._uid);
            }
          },
          fail: function(res) {
            Utils_1.utils.showLog("\u767b\u5f55\u5931\u8d25!");
          },
          complete: function() {
            _this.reportLogin();
          }
        }); else {
          Utils_1.utils.showLog("\u5feb\u6e38\u620f\u5e73\u53f0\u7248\u672c\u4f4e\u4e8e1040\uff0c\u65e0\u6cd5\u767b\u5f55\u53d6UID\uff0c\u76f4\u63a5\u83b7\u53d6\u670d\u52a1\u5668ID");
          this.reportLogin();
        } else {
          var ysxy = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.YZ_GAME_YSXY);
          ysxy && this.initDeviceId();
        }
      };
      YZ_Tool_Oppo.prototype.initDeviceId = function() {
        var _this = this;
        Utils_1.utils.showLog("oppo initDeviceId!  #isGetDeviceId=" + this.isGetDeviceId);
        var todayIsGet = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_GET_DEVICE_ID, "0");
        if (this.isGetDeviceId && qg.getDeviceId && 0 == todayIsGet) {
          YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_GET_DEVICE_ID, "1");
          qg.getDeviceId({
            success: function(data) {
              Utils_1.utils.showLog("getDeviceId success: deviceId=" + data.deviceId);
              _this._device_id = data.deviceId;
              YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_DEVICE_ID, data.deviceId);
              _this.reportDevice();
            },
            fail: function(data, code) {
              Utils_1.utils.showLog("getDeviceId fail, code = " + code);
            }
          });
        } else this.reportDevice();
      };
      YZ_Tool_Oppo.prototype.reportLogin = function() {
        return __awaiter(this, void 0, void 0, function() {
          var self, curTime, interval, method, url;
          var _this = this;
          return __generator(this, function(_a) {
            Utils_1.utils.showLog("reportLogin >>>>>>>>>>>");
            if (this.isReport) return [ 2 ];
            this.isReport = true;
            self = this;
            curTime = new Date().getTime();
            interval = (curTime - this._reportLoginTime) / 1e3;
            if (interval > 0 && interval < this._reportLoginInterval) {
              Utils_1.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a" + this._reportLoginInterval + "\u79d2");
              return [ 2 ];
            }
            this._reportLoginTime = curTime;
            method = "m=login";
            url = ST_ServerUrl + method + "&device_data=" + encodeURI(JSON.stringify(this._sysInfo));
            Utils_1.utils.commomHttpRequest(url, function(ret, data) {
              if (ret && data) {
                var result = JSON.parse(data);
                if (result.uid) {
                  self._service_uid = result.uid;
                  Utils_1.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid=" + self._service_uid);
                  YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_SERVICE_UID, self._service_uid);
                }
              }
              _this.isReport = false;
            });
            return [ 2 ];
          });
        });
      };
      YZ_Tool_Oppo.prototype.getRecommondGameList = function() {
        if (PlatUtils_1.default.IsOPPO && Utils_1.utils.oppoTool && Utils_1.utils.oppoTool.ServerConfig) return Utils_1.utils.oppoTool.ServerConfig.jump_list;
        return null;
      };
      YZ_Tool_Oppo.prototype.showMsg = function(msg) {
        PlatUtils_1.default.IsOPPO && qg.showToast({
          title: "" + msg,
          icon: "none",
          duration: 2e3
        });
      };
      YZ_Tool_Oppo.prototype.showToast = function(msg) {
        PlatUtils_1.default.IsOPPO && qg.showToast({
          title: msg,
          icon: "none",
          duration: 2e3
        });
      };
      YZ_Tool_Oppo.prototype.postDataByLocation = function(otherGameAppId, location, status) {
        void 0 === status && (status = 0);
        if (PlatUtils_1.default.IsOPPO) {
          var method = "m=rjump";
          var url = POST_ServerUrl + method + "&jump_app_id=" + otherGameAppId + "&location=" + location + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            if (ret) {
              var result = JSON.parse(data);
              Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f");
              result && result.jump_list && result.jump_list.length > 0 && (Utils_1.utils.oppoTool.ServerConfig.jump_list = result.jump_list);
            } else Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Oppo.prototype.postRecommentShowData = function(location) {
        if (PlatUtils_1.default.IsOPPO) {
          var method = "m=rjumpshow";
          var url = POST_ServerUrl + method + "&location=" + location;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Oppo.prototype.postLevel = function(level, status, levelName) {
        if (PlatUtils_1.default.IsOPPO) {
          var method = "m=rlevelv3";
          var url = POST_ServerUrl + method + "&level_id=" + level + "&level_name=" + encodeURI(levelName) + "&status=" + status;
          status == YZ_Constant_1.LevelStatus.GameStart && (url += "&device_data=" + encodeURI(JSON.stringify(this._sysInfo)));
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
            if (!ret || status != YZ_Constant_1.LevelStatus.GameStart) return;
            if (ret && status == YZ_Constant_1.LevelStatus.GameStart) {
              Utils_1.utils.showLog("OPPO\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = " + data);
              if (data) {
                var result = JSON.parse(data);
                if (result) if (Utils_1.utils.DebugLoacalConfig) cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"); else {
                  this._serverConfig = result;
                  this._serverConfig.is_show_log_view && "true" == this._serverConfig.is_show_log_view && (Utils_1.utils.showLogView = true);
                } else Utils_1.utils.showLog("OPPO\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
              }
            } else Utils_1.utils.showLog("OPPO\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
            if (this._serverConfig) {
              if (1 == this._curloadTimes) {
                if (this._serverConfig.is_local_pos_id && "false" == this._serverConfig.is_local_pos_id) {
                  Utils_1.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid 22");
                  Utils_1.utils.config.oppoconfig.bannerId = this.ServerConfig.banner_pos_id;
                  Utils_1.utils.config.oppoconfig.insertId = this.ServerConfig.intersititia_pos_id;
                  Utils_1.utils.config.oppoconfig.videoId = this.ServerConfig.video_pos_id;
                  Utils_1.utils.config.oppoconfig.nativeInsertIds = this.ServerConfig.native_intersititial_pos_id;
                  Utils_1.utils.config.oppoconfig.nativeBannerIds = this.ServerConfig.native_banner_pos_id;
                  Utils_1.utils.config.oppoconfig.nativeTryGameIds = this.ServerConfig.native_trygame_pos_id;
                  Utils_1.utils.config.oppoconfig.recGameBannerId = this.ServerConfig.rec_game_banner_id;
                  Utils_1.utils.config.oppoconfig.recPortalId = this.ServerConfig.rec_portal_id;
                  Utils_1.utils.config.oppoconfig.intersitialAdConfigs = this.ServerConfig.intersitial_configs || Utils_1.utils.config.oppoconfig.intersitialAdConfigs;
                  Utils_1.utils.config.oppoconfig.bannerAdConfigs = this.ServerConfig.banner_configs || Utils_1.utils.config.oppoconfig.bannerAdConfigs;
                } else Utils_1.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID");
                if (this.ServerConfig.native_banner_configs) {
                  Utils_1.utils.config.oppoconfig.nativeBannerInfos.length = 0;
                  for (var i = 0; i < this.ServerConfig.native_banner_configs.length; i++) {
                    Utils_1.utils.showLog("\u83b7\u53d6\u5230\u539f\u751f\u5e7f\u544a\u914d\u7f6e:" + this.ServerConfig.native_banner_configs[i].location, ">>>>", JSON.stringify(this.ServerConfig.native_banner_configs[i]));
                    Utils_1.utils.config.oppoconfig.setNativeBannerInfo(this.ServerConfig.native_banner_configs[i].location, this.ServerConfig.native_banner_configs[i]);
                  }
                }
              }
            } else this._serverConfig = JSON.parse(ST_DefaultServerConfig);
          }.bind(this));
        }
      };
      YZ_Tool_Oppo.prototype.canShowRecommend = function() {
        if (this.isOverMiniVersion("1076")) return true;
        return false;
      };
      YZ_Tool_Oppo.prototype.canShowNewRecommend = function() {
        if (this.isOverMiniVersion("1090")) return true;
        return false;
      };
      YZ_Tool_Oppo.prototype.showOppoRecBanner = function(location) {
        var _this = this;
        if (!this.canShowRecommend()) {
          Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u663e\u793a\u5b98\u65b9\u4e92\u63a8\uff01");
          return false;
        }
        if (Utils_1.utils.config.oppoconfig.recGameBannerId) {
          this._rec_is_banner = true;
          this._rec_game_banner && this.hideOppoRecBanner();
          this._rec_game_banner = this.qg.createGameBannerAd({
            adUnitId: Utils_1.utils.config.oppoconfig.recGameBannerId
          });
          this._rec_game_banner.onLoad(function() {
            Utils_1.utils.showLog("\u4e92\u63a8banner\u52a0\u8f7d\u6210\u529f!");
          });
          this._rec_game_banner.onError(function(err) {
            Utils_1.utils.showLog("\u4e92\u63a8banner\u52a0\u8f7d\u5f02\u5e38!", err.errCode + "," + err.errMsg);
            _this._rec_game_banner.destroy();
            _this._rec_game_banner = null;
          });
          this._rec_game_banner.show().then(function() {
            _this.showRecHideNativeAd();
            Utils_1.utils.showLog("\u4e92\u63a8banner\u5c55\u793a\u6210\u529f\uff01");
            location && Utils_1.utils.SendEvent("\u4e92\u63a8Banner\u5c55\u793a\u6210\u529f\uff0c\u4f4d\u7f6e\uff1a" + location);
          }).catch(function(error) {
            Utils_1.utils.showLog("\u4e92\u63a8banner\u5c55\u793a\u5931\u8d25:" + error.errCode + "," + error.errMsg);
          });
        } else Utils_1.utils.showLog("OPPO \u4e92\u63a8banner ID\u672a\u914d\u7f6e\uff01");
      };
      YZ_Tool_Oppo.prototype.showRecHideNativeAd = function() {
        if (this.ServerConfig && this.ServerConfig.show_rec_hide_native_ad && "false" == this.ServerConfig.show_rec_hide_native_ad) {
          Utils_1.utils.showLog("\u4e92\u63a8\u5c55\u793a\u6210\u529f\u4e4b\u540e\u4e0d\u6267\u884c\u9690\u85cf\u539f\u751f\u5e7f\u544a");
          return;
        }
        Utils_1.utils.adManager.HideBanner(0);
        Utils_1.utils.adManager.HideSingleNativeAd();
        Utils_1.utils.adManager.hideNativeTryGameWidget();
        Utils_1.utils.showLog("\u4e92\u63a8\u5c55\u793a\u6210\u529f\u4e4b\u540e\u9690\u85cf\u539f\u751f\u5e7f\u544a");
      };
      YZ_Tool_Oppo.prototype.showOppoNewRecBanner = function(params) {
        var _this = this;
        void 0 === params && (params = null);
        if (!this.canShowNewRecommend()) {
          Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u663e\u793a\u5b98\u65b9\u65b0\u4e92\u63a8Banner\uff01");
          return false;
        }
        if (Utils_1.utils.config.oppoconfig.recGameBannerId) {
          this._rec_is_banner = false;
          this._rec_game_banner && this.hideOppoRecBanner();
          var style = {};
          if (params) if ("vertical" === params.orientation) {
            void 0 != params.left ? style.left = params.left / cc.winSize.width * this.SysInfo.screenWidth : void 0 != params.right && (style.left = this.SysInfo.screenWidth - 155 - params.right / cc.winSize.width * this.SysInfo.screenWidth);
            void 0 != params.bottom ? style.top = this.SysInfo.screenHeight - 720 - params.bottom / cc.winSize.height * this.SysInfo.screenHeight : style.top = params.top / cc.winSize.height * this.SysInfo.screenHeight;
          } else {
            void 0 != params.left ? style.left = params.left / cc.winSize.width * this.SysInfo.screenWidth : void 0 != params.right && (style.left = this.SysInfo.screenWidth - 720 - params.right / cc.winSize.width * this.SysInfo.screenWidth);
            void 0 != params.bottom ? style.top = this.SysInfo.screenHeight - 200 - params.bottom / cc.winSize.height * this.SysInfo.screenHeight : style.top = params.top / cc.winSize.height * this.SysInfo.screenHeight;
          }
          style.orientation = params.orientation ? params.orientation : "horizontal";
          Utils_1.utils.showLog("rec banner style>>>>>", JSON.stringify(style));
          this._rec_game_banner = this.qg.createGameBannerAd({
            adUnitId: Utils_1.utils.config.oppoconfig.recGameBannerId,
            style: style
          });
          this._rec_game_banner.onLoad(function() {
            Utils_1.utils.showLog("\u4e92\u63a8banner\u52a0\u8f7d\u6210\u529f!");
          });
          this._rec_game_banner.onError(function(err) {
            Utils_1.utils.showLog("\u4e92\u63a8banner\u52a0\u8f7d\u5f02\u5e38!", err.errCode + "," + err.errMsg);
            _this._rec_game_banner.destroy();
            _this._rec_game_banner = null;
          });
          this._rec_game_banner.show().then(function() {
            _this.showRecHideNativeAd();
            Utils_1.utils.showLog("\u4e92\u63a8banner\u5c55\u793a\u6210\u529f\uff01");
            location && Utils_1.utils.SendEvent("\u4e92\u63a8Banner\u5c55\u793a\u6210\u529f\uff0c\u4f4d\u7f6e\uff1a" + location);
          }).catch(function(error) {
            Utils_1.utils.showLog("\u4e92\u63a8banner\u5c55\u793a\u5931\u8d25:" + error.errCode + "," + error.errMsg);
          });
        } else Utils_1.utils.showLog("OPPO \u4e92\u63a8banner ID\u672a\u914d\u7f6e\uff01");
      };
      YZ_Tool_Oppo.prototype.hideOppoRecBanner = function(callBack) {
        var _this = this;
        if (this._rec_game_banner) {
          this._rec_game_banner.destroy().then(function() {
            callBack && callBack();
            Utils_1.utils.showLog("OPPO \u4e92\u63a8banner \u9690\u85cf\u6210\u529f\uff01");
          }).catch(function(error) {
            Utils_1.utils.showLog("OPPO \u4e92\u63a8banner \u9690\u85cf\u5931\u8d25:" + error.errCode + "," + error.errMsg);
            _this._rec_game_banner.hide();
          });
          this._rec_game_banner = null;
        }
      };
      YZ_Tool_Oppo.prototype.showOppoGamePortal = function() {
        var _this = this;
        if (!this.canShowRecommend()) {
          Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u663e\u793a\u5b98\u65b9\u4e92\u63a8\uff01");
          return false;
        }
        if (!Utils_1.utils.adManager.checkShowAdTime()) {
          Utils_1.utils.showLog("\u663e\u793a\u5e7f\u544a\u6761\u65f6\u95f4\u672a\u8fbe\u9650\u5236\uff01");
          return;
        }
        if (Utils_1.utils.config.oppoconfig.recPortalId) if (this._rec_game_portal) this._rec_game_portal.load().then(function() {
          _this.showRecHideNativeAd();
          Utils_1.utils.showLog("\u4e5d\u5bab\u683c\u4e92\u63a8\u52a0\u8f7d\u6210\u529f\uff01");
        }).catch(function(error) {
          _this._rec_game_portal.destroy();
          _this._rec_game_portal = null;
          Utils_1.utils.showLog("\u4e5d\u5bab\u683c\u4e92\u63a8\u52a0\u8f7d\u5931\u8d25:" + error.errCode + "," + error.errMsg);
        }); else {
          this._rec_game_portal = this.qg.createGamePortalAd({
            adUnitId: Utils_1.utils.config.oppoconfig.recPortalId
          });
          this._rec_game_portal.load().then(function() {
            _this.showRecHideNativeAd();
            Utils_1.utils.showLog("\u4e5d\u5bab\u683c\u4e92\u63a8\u52a0\u8f7d\u6210\u529f\uff01");
          }).catch(function(error) {
            _this._rec_game_portal.destroy();
            _this._rec_game_portal = null;
            Utils_1.utils.showLog("\u4e5d\u5bab\u683c\u4e92\u63a8\u52a0\u8f7d\u5931\u8d25:" + error.errCode + "," + error.errMsg);
          });
          this._rec_game_portal.onLoad(function() {
            Utils_1.utils.showLog("\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u52a0\u8f7d\u6210\u529f");
            _this._rec_game_portal.show().then(function() {
              Utils_1.utils.showLog("\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a-\u663e\u793a\u6210\u529f\uff01");
            }).catch(function(error) {
              _this._rec_game_portal.destroy();
              _this._rec_game_portal = null;
              Utils_1.utils.showLog("\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a-\u663e\u793a\u5931\u8d25:" + error.errCode + "," + error.errMsg);
            });
          });
          this._rec_game_portal.onClose(function() {
            Utils_1.utils.showLog("\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u5173\u95ed");
          });
        } else Utils_1.utils.showLog("OPPO \u4e92\u63a8\u4e5d\u5bab\u683c ID\u672a\u914d\u7f6e\uff01");
      };
      YZ_Tool_Oppo.prototype.sendEvent = function(eventName) {
        if (PlatUtils_1.default.IsOPPO) {
          var method = "m=revent";
          var url = POST_ServerUrl + method + "&event=" + encodeURI(eventName);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01") : Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Oppo.prototype.showGameDrawerAd = function(params) {
        var _this = this;
        if (!Utils_1.utils.config.oppoconfig.recGameDrawerId) {
          Utils_1.utils.showLog("\u670d\u52a1\u5668\u6ca1\u6709\u914d\u7f6e\u4e92\u63a8\u62bd\u5c49\u6837\u5f0f\u7684ID\uff0c\u8bf7\u53cd\u9988\u7ed9\u8fd0\u8425\uff01");
          return;
        }
        if (this.canShowNewRecommend()) {
          this._gameDrawerAd && this.hideGameDrawerAd();
          var style = {};
          void 0 != params.bottom ? style.top = this.SysInfo.screenHeight - 490 - params.bottom / cc.winSize.height * this.SysInfo.screenHeight : style.top = params.top / cc.winSize.height * this.SysInfo.screenHeight;
          Utils_1.utils.showLog(" rec game drawer style >>>" + JSON.stringify(style));
          this._gameDrawerAd = this.qg.createGameDrawerAd({
            adUnitId: Utils_1.utils.config.oppoconfig.recGameDrawerId,
            style: style
          });
          this._gameDrawerAd.onShow(function() {
            Utils_1.utils.showLog("showGameDrawerAd success");
            this.showRecHideNativeAd();
          });
          this._gameDrawerAd.show().then(function() {
            Utils_1.utils.showLog("showGameDrawerAd success");
            _this.showRecHideNativeAd();
          }).catch(function(error) {
            Utils_1.utils.showLog("showGameDrawerAd fail with:" + error.errCode + "," + error.errMsg);
          });
        } else Utils_1.utils.showLog("\u5feb\u5e94\u7528\u5e73\u53f0\u7248\u672c\u53f7\u4f4e\u4e8e1090\uff0c\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API");
      };
      YZ_Tool_Oppo.prototype.hideGameDrawerAd = function(callBack) {
        if (this._gameDrawerAd) {
          this._gameDrawerAd.destroy().then(function() {
            callBack && callBack();
            Utils_1.utils.showLog("hideGameDrawerAd success");
          }).catch(function(error) {
            Utils_1.utils.showLog("hideGameDrawerAd fail with:" + error.errCode + "," + error.errMsg);
            this._gameDrawerAd.hide();
          });
          this._gameDrawerAd = null;
        }
      };
      YZ_Tool_Oppo.prototype.umaInit = function() {
        if (!this.checkUmeng()) {
          Utils_1.utils.showLog("\u53cb\u76dfID\u672a\u914d\u7f6e\uff0c\u4e0d\u6267\u884c\u53cb\u76df\u521d\u59cb\u5316>>>>");
          return;
        }
        uma.init({
          appKey: Utils_1.utils.config.oppoconfig.umengId,
          useOpenid: false,
          debug: true
        });
      };
      YZ_Tool_Oppo.prototype.umaOnStart = function(levelID) {
        if (!this.checkUmeng()) return;
        qg.uma.stage.onStart({
          stageId: levelID,
          stageName: "\u7b2c" + levelID + "\u5173"
        });
      };
      YZ_Tool_Oppo.prototype.checkUmeng = function() {
        if (!Utils_1.utils.config.oppoconfig.umengId) return false;
        return true;
      };
      YZ_Tool_Oppo.prototype.umaReportedLevel = function(levelID, event) {
        if (!this.checkUmeng()) return;
        qg.uma.stage.onEnd({
          stageId: levelID,
          stageName: "\u7b2c" + levelID + "\u5173",
          event: event
        });
      };
      YZ_Tool_Oppo.prototype.umaTrackEvent = function(eventId, params) {
        if (!this.checkUmeng()) return;
        qg.uma.trackEvent(eventId, params);
      };
      YZ_Tool_Oppo.prototype.GameExit = function() {
        if (PlatUtils_1.default.IsOPPO) {
          Utils_1.utils.showLog("tool oppo GameExit");
          try {
            qg.exitApplication({
              success: function() {
                console.log("\u9000\u51fa\u6210\u529f\uff01");
              },
              fail: function() {
                console.log("\u9000\u51fa\u5931\u8d25\uff01");
              },
              complete: function() {
                console.log("\u9000\u51fa\u6267\u884c\u5b8c\u6210\uff01");
              }
            });
          } catch (error) {
            cc.log("GameExit erro:", JSON.stringify(error));
          }
        }
      };
      YZ_Tool_Oppo.prototype.reportDevice = function() {
        var _this = this;
        if (this.isReportDevice) return;
        this.isReportDevice = true;
        YouWanAnalytics_1.default.login(function(res) {
          _this.isReportDevice = false;
        });
      };
      YZ_Tool_Oppo = __decorate([ ccclass ], YZ_Tool_Oppo);
      return YZ_Tool_Oppo;
    }();
    exports.default = YZ_Tool_Oppo;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./UMengSDK/quickGame/uma.min.js": "uma.min",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage",
    "./YouWanSDK/YouWanAnalytics": "YouWanAnalytics"
  } ],
  YZ_Tool_QQ: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a73e9wwNNVCyra8sZ9EPiRC", "YZ_Tool_QQ");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_ServerUrl = "https://apps.youlesp.com/gss?";
    var POST_ServerUrl = "https://report.youletd.com/gss?";
    var ST_DefaultServerConfig = "";
    var YZ_Tool_QQ = function() {
      function YZ_Tool_QQ() {
        this._serverConfig = null;
        this._sysInfo = {};
        this._shortcutCreated = false;
        this._shareCallback = null;
        this._isShare = false;
        this._uid = "0";
        this._service_uid = "0";
        this._loginTime = 0;
        this._loginInterval = 30;
        this._reportLoginTime = 0;
        this._reportLoginInterval = 30;
        this.isReport = false;
      }
      Object.defineProperty(YZ_Tool_QQ.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_QQ.prototype, "SysInfo", {
        get: function() {
          return this._sysInfo;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_QQ.prototype, "ShortcutCreated", {
        get: function() {
          return this._shortcutCreated;
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_QQ.prototype.gameVersion = function() {
        return Utils_1.utils.config.qqconfig.version;
      };
      Object.defineProperty(YZ_Tool_QQ.prototype, "uid", {
        get: function() {
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_QQ.prototype, "serviceId", {
        get: function() {
          if ("0" != this._service_uid) return this._service_uid;
          this.reportLogin();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_QQ.prototype._login = function() {
        return __awaiter(this, void 0, void 0, function() {
          var curTime, interval, self;
          return __generator(this, function(_a) {
            curTime = new Date().getTime();
            interval = (curTime - this._loginTime) / 1e3;
            if (interval > 0 && interval < 30) {
              Utils_1.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a" + this._loginInterval + "\u79d2");
              return [ 2 ];
            }
            this._loginTime = curTime;
            self = this;
            Utils_1.utils.showLog("qq\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0");
            this._uid = "0";
            return [ 2 ];
          });
        });
      };
      YZ_Tool_QQ.prototype.reportLogin = function() {
        var _this = this;
        if (this.isReport) return;
        this.isReport = true;
        var self = this;
        var curTime = new Date().getTime();
        var interval = (curTime - self._reportLoginTime) / 1e3;
        if (interval > 0 && interval < 30) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a" + self._reportLoginInterval + "\u79d2");
          return;
        }
        self._reportLoginTime = curTime;
        var method = "m=login";
        var url = ST_ServerUrl + method + "&device_data=0";
        Utils_1.utils.commomHttpRequest(url, function(ret, data) {
          if (ret) {
            if (data) {
              var result = JSON.parse(data);
              Utils_1.utils.showLog("data=" + data);
              Utils_1.utils.showLog("result=" + result);
              Utils_1.utils.showLog("result.uid=" + result.uid);
              if (result.uid) {
                self._service_uid = "" + result.uid;
                console.log("self._service_uid:" + self._service_uid);
                Utils_1.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid=" + self._service_uid);
                YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_SERVICE_UID, self._service_uid);
              }
            }
          } else Utils_1.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");
          _this.isReport = false;
        });
      };
      YZ_Tool_QQ.prototype.init = function(data) {
        var _this = this;
        if (PlatUtils_1.default.IsQQ) {
          if (data) {
            var configObj = JSON.parse(data);
            configObj && configObj.qq && (ST_DefaultServerConfig = JSON.stringify(configObj.qq));
          }
          this._service_uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_SERVICE_UID);
          this._service_uid = this._service_uid ? this._service_uid : "0";
          try {
            this._sysInfo = qq.getSystemInfoSync();
            Utils_1.utils.showLog("QQ \u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: ", JSON.stringify(this.SysInfo));
          } catch (e) {
            Utils_1.utils.showLog("QQ \u5c0f\u6e38\u620f\u5e73\u53f0\u6570\u636e\u83b7\u53d6\u5931\u8d25!");
          }
          this._loadConfig();
          qq.showShareMenu();
          qq.onShareAppMessage(this._getShareInfo.bind(this));
          qq.onShow(function(res) {
            Utils_1.utils.showLog("OnShow: ", res);
            if (_this._isShare) {
              _this._isShare = false;
              _this._shareCallback && _this._shareCallback(true, "\u5206\u4eab\u6210\u529f!");
            }
          });
          Utils_1.utils.registerServerInitEvent(function() {
            if (_this.canCreateShortcut() && Utils_1.utils.ServerConfig && Utils_1.utils.ServerConfig.start_auto_create_short_cut_time) {
              Utils_1.utils.SendEvent("\u7ec4\u4ef6\u521d\u59cb\u5316\u6210\u529f\uff0c\u5f39\u51fa\u81ea\u52a8\u521b\u5efa\u684c\u9762\uff01");
              Utils_1.utils.showLog("\u7ec4\u4ef6\u521d\u59cb\u5316\u6210\u529f\uff0c" + Utils_1.utils.ServerConfig.start_auto_create_short_cut_time + "\u79d2\u540e\u5f39\u51fa\u81ea\u52a8\u521b\u5efa\u684c\u9762\uff01");
              setTimeout(function() {
                _this.createShortcut(function(res) {
                  res ? Utils_1.utils.showLog("\u81ea\u52a8\u521b\u5efa\u684c\u9762\u6210\u529f\uff01") : Utils_1.utils.showLog("\u81ea\u52a8\u521b\u5efa\u684c\u9762\u5931\u8d25\uff01");
                });
              }, 1e3 * Utils_1.utils.ServerConfig.start_auto_create_short_cut_time);
            }
            if (Utils_1.utils.ServerConfig && Utils_1.utils.ServerConfig.auto_add_favorites && "true" == Utils_1.utils.ServerConfig.auto_add_favorites) {
              Utils_1.utils.showLog("\u81ea\u52a8\u6dfb\u52a0\u5230\u641c\u85cf");
              _this.addFavorites();
            }
            Utils_1.utils.showLog("\u7ec4\u4ef6\u521d\u59cb\u5316\u5b8c\u6210,\u9a8c\u8bc1\u662f\u5426\u767b\u9646\uff01", Utils_1.utils.ServerConfig.add_recent_color_sign);
            Utils_1.utils.ServerConfig && Utils_1.utils.ServerConfig.add_recent_color_sign && (1 == Utils_1.utils.ServerConfig.add_recent_color_sign ? _this.addColorSign() : qq.checkSession({
              success: function() {
                Utils_1.utils.showLog("session_key \u672a\u8fc7\u671f\uff0c\u5e76\u4e14\u5728\u672c\u751f\u547d\u5468\u671f\u4e00\u76f4\u6709\u6548");
                _this.addRecentColorSign();
              },
              fail: function() {
                qq.login({
                  success: function(res) {
                    if (res.code) {
                      Utils_1.utils.showLog("\u767b\u5f55\u6210\u529f\uff01");
                      _this.addRecentColorSign();
                    } else Utils_1.utils.showLog("\u767b\u5f55\u5931\u8d25\uff01" + res.errMsg);
                  }
                });
              }
            }));
          }, this);
        }
      };
      YZ_Tool_QQ.prototype.addRecentColorSign = function() {
        Utils_1.utils.showLog("\u8c03\u7528\u6dfb\u52a0\u5f69\u7b7e>>>>>>>");
        qq.addRecentColorSign({
          query: "a=1&b=2",
          success: function(res) {
            Utils_1.utils.showLog("addRecentColorSign success: ", res);
          },
          fail: function(err) {
            Utils_1.utils.showLog("addRecentColorSign fail: ", err);
          },
          complete: function(res) {
            Utils_1.utils.showLog("addRecentColorSign complete: ", res);
          }
        });
      };
      YZ_Tool_QQ.prototype._loadConfig = function() {
        var _this = this;
        if (PlatUtils_1.default.IsQQ) {
          var method = "m=g";
          Utils_1.utils.commomHttpRequest(ST_ServerUrl + method, function(ret, data) {
            if (ret) {
              Utils_1.utils.showLog("QQ\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = ", data);
              if (data) {
                var result = JSON.parse(data);
                result ? Utils_1.utils.DebugLoacalConfig ? cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!") : _this._serverConfig = result : Utils_1.utils.showLog("QQ\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
              }
            } else Utils_1.utils.showLog("QQ\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
            if (_this._serverConfig) {
              if (_this._serverConfig.shares) {
                _this._serverConfig.shares.sy_title && (Utils_1.utils.config.otherconfig.shareTitle = _this._serverConfig.shares.sy_title);
                _this._serverConfig.shares.sy_img && (Utils_1.utils.config.otherconfig.shareImgUrl = _this._serverConfig.shares.sy_img);
              }
              if (_this._serverConfig.is_local_pos_id && "false" == _this._serverConfig.is_local_pos_id) {
                Utils_1.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid");
                Utils_1.utils.config.qqconfig.bannerId = _this._serverConfig.banner_pos_id;
                Utils_1.utils.config.qqconfig.insertId = _this._serverConfig.intersititia_pos_id;
                Utils_1.utils.config.qqconfig.videoId = _this._serverConfig.video_pos_id;
                Utils_1.utils.config.qqconfig.boxId = _this._serverConfig.box_pos_id;
                Utils_1.utils.config.qqconfig.bannerBoxId = _this._serverConfig.banner_box_pos_id;
              } else Utils_1.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID");
            } else _this._serverConfig = JSON.parse(ST_DefaultServerConfig);
            Utils_1.utils.emitServerInitEvent();
          });
        }
      };
      YZ_Tool_QQ.prototype.getSystemInfo = function() {
        if (PlatUtils_1.default.IsQQ) return this._sysInfo;
      };
      YZ_Tool_QQ.prototype.share = function(callback) {
        void 0 === callback && (callback = null);
        if (PlatUtils_1.default.IsQQ) {
          this._shareCallback = callback;
          this._isShare = true;
          qq.shareAppMessage(this._getShareInfo());
        }
      };
      YZ_Tool_QQ.prototype.postData = function(otherGameAppId) {
        if (PlatUtils_1.default.IsQQ) {
          var appid = Utils_1.utils.config.qqconfig.appID;
          var uid = "0";
          var channel = "qq";
          var url = "https://apps.youlesp.com/gs?m=jump&app_id=" + appid + "&uid=" + uid + "&channel=" + channel + "&jump_app_id=" + otherGameAppId;
          Utils_1.utils.showLog("\u4e0a\u62a5\u6570\u636e, url=", url);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          });
        }
      };
      YZ_Tool_QQ.prototype._getShareInfo = function() {
        if (PlatUtils_1.default.IsQQ) return {
          title: Utils_1.utils.config.otherconfig.shareTitle,
          imageUrl: Utils_1.utils.config.otherconfig.shareImgUrl
        };
        return {};
      };
      YZ_Tool_QQ.prototype.isOverMinVersion = function(minVersion) {
        var curVersion = this._sysInfo.SDKVersion;
        return this._compareVersion(curVersion, minVersion) >= 0;
      };
      YZ_Tool_QQ.prototype._compareVersion = function(v1, v2) {
        if (!v1 || !v2) return -1;
        v1 = v1.split(".");
        v2 = v2.split(".");
        var len = Math.max(v1.length, v2.length);
        while (v1.length < len) v1.push("0");
        while (v2.length < len) v2.push("0");
        for (var i = 0; i < len; i++) {
          var num1 = parseInt(v1[i]);
          var num2 = parseInt(v2[i]);
          if (num1 > num2) return 1;
          if (num1 < num2) return -1;
        }
        return 0;
      };
      YZ_Tool_QQ.prototype.postLevel = function(level, status, levelName) {
        if (PlatUtils_1.default.IsQQ) {
          if (status == YZ_Constant_1.LevelStatus.GameWin) {
            if (this.ServerConfig.rankey) {
              var postKey = this.ServerConfig.rankey ? this.ServerConfig.rankey : "ranklevel";
              var postValue = level;
              qq.setUserCloudStorage({
                KVDataList: [ {
                  key: postKey,
                  value: postValue
                } ],
                success: function(res) {
                  Utils_1.utils.showLog("\u5173\u5361\u8bb0\u5f55\u6210\u529f");
                },
                fail: function(res) {
                  Utils_1.utils.showLog("\u5173\u5361\u8bb0\u5f55\u5931\u8d25");
                },
                complete: function(res) {
                  Utils_1.utils.showLog("\u5173\u5361\u8bb0\u5f55\u8c03\u7528\u5b8c\u6210");
                }
              });
            }
            var interval = this.ServerConfig.subscribe_interval;
            if (interval) try {
              parseInt(level) % interval == 0 && qq.subscribeAppMsg({
                subscribe: true,
                success: function(res) {
                  Utils_1.utils.showLog("----\u6dfb\u52a0\u8ba2\u9605\u6d88\u606f----\u6210\u529f", res);
                },
                fail: function(res) {
                  Utils_1.utils.showLog("----\u6dfb\u52a0\u8ba2\u9605\u6d88\u606f----\u5931\u8d25", res);
                }
              });
            } catch (error) {
              Utils_1.utils.showLog("----\u6dfb\u52a0\u8ba2\u9605\u6d88\u606f----\u5f02\u5e38");
            }
          }
          var method = "m=rlevel";
          var url = POST_ServerUrl + method + "&level_id=" + level + "&level_name=" + encodeURI(levelName) + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_QQ.prototype.sendEvent = function(eventName) {
        if (PlatUtils_1.default.IsQQ) {
          var method = "m=revent";
          var url = POST_ServerUrl + method + "&event=" + encodeURI(eventName);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01") : Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_QQ.prototype.showToast = function(msg) {
        PlatUtils_1.default.IsQQ && qq.showToast({
          title: msg,
          icon: "none",
          duration: 2e3
        });
      };
      YZ_Tool_QQ.prototype.canCreateShortcut = function() {
        console.log("canCreateShortcut ", this.isOverMinVersion("1.7.1"));
        if (PlatUtils_1.default.IsQQ && PlatUtils_1.default.IsAndroid) return this.isOverMinVersion("1.7.1");
        return false;
      };
      YZ_Tool_QQ.prototype.createShortcut = function(callback) {
        var _this = this;
        var callbackFunc = callback;
        if (PlatUtils_1.default.IsQQ && this.canCreateShortcut()) qq.saveAppToDesktop({
          success: function() {
            Utils_1.utils.showLog("\u684c\u9762\u56fe\u6807\u521b\u5efa\u6210\u529f\uff01");
            _this._shortcutCreated = true;
            callbackFunc && callbackFunc(true);
          },
          fail: function(err) {
            Utils_1.utils.showLog("qq\u521b\u5efa\u684c\u9762\u5931\u8d25err" + err);
            callbackFunc && callbackFunc(false);
          },
          complete: function() {}
        }); else {
          Utils_1.utils.showLog("\u5f53\u524d\u5e73\u53f0\u7248\u672c\u4e0d\u652f\u6301\u521b\u5efa\u684c\u9762");
          callbackFunc && callbackFunc(false);
        }
      };
      YZ_Tool_QQ.prototype.addFavorites = function() {
        Utils_1.utils.showLog("addFavorites >>>>");
        var fav = YZ_LocalStorage_1.default.getItem("qq_favorites");
        if ("1" == fav) {
          Utils_1.utils.showLog("had addToFavorites");
          return;
        }
        var title = "\u597d\u6e38\u620f\u54e6";
        var img = "";
        if (Utils_1.utils.config.otherconfig) {
          Utils_1.utils.config.otherconfig.shareTitle && (title = Utils_1.utils.config.otherconfig.shareTitle);
          Utils_1.utils.config.otherconfig.shareImgUrl && (img = Utils_1.utils.config.otherconfig.shareImgUrl);
        }
        qq.addToFavorites({
          title: title,
          imageUrl: img,
          query: "a=1&b=2",
          success: function(res) {
            Utils_1.utils.showLog("addToFavorites success", res);
            YZ_LocalStorage_1.default.setItem("qq_favorites", "1");
          },
          fail: function(err) {
            Utils_1.utils.showLog("addToFavorites fail", err);
          },
          complete: function(res) {
            Utils_1.utils.showLog("addToFavorites info", res);
          }
        });
      };
      YZ_Tool_QQ.prototype.addColorSign = function() {
        qq.addColorSign({
          success: function(res) {
            Utils_1.utils.showLog("addColorSign success", res);
          },
          fail: function(err) {
            Utils_1.utils.showLog("addColorSign fail", err);
          },
          complete: function(res) {
            Utils_1.utils.showLog("addColorSign info", res);
          }
        });
      };
      YZ_Tool_QQ.prototype.GameExit = function() {
        if (PlatUtils_1.default.IsQQ) {
          Utils_1.utils.showLog("tool qq GameExit");
          try {
            qq.exitMiniProgram();
          } catch (error) {
            cc.log(error);
          }
        }
      };
      YZ_Tool_QQ = __decorate([ ccclass ], YZ_Tool_QQ);
      return YZ_Tool_QQ;
    }();
    exports.default = YZ_Tool_QQ;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  YZ_Tool_QTT: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "22febPJ0XROobrXFFsoOvDe", "YZ_Tool_QTT");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.QTT_REPORT_TYPE = void 0;
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_DefaultServerConfig = "";
    var ST_ServerUrl = "http://apps.youlesp.com/gss?";
    var POST_ServerUrl = "http://report.youlesp.com/gss?";
    var md5 = require("./md5.js");
    var QTT_ServerUrl = "https://newidea4-gamecenter-backend.1sapp.com/x/open/user/ticket?";
    var QTT_Report = "https://newidea4-gamecenter-backend.1sapp.com/x/open/report/round";
    var YZ_Tool_QTT = function() {
      function YZ_Tool_QTT() {
        this.platForm = "";
        this.qttGame = window.qttGame;
        this._serverConfig = null;
        this.ticket = "";
        this._ip = "192.168.0.1";
        this._sign = "";
        this.serverPath = "http://apps.youlesp.com/gss?";
        this._uid = "0";
        this._service_uid = "0";
        this._loginTime = 0;
        this._loginInterval = 30;
        this._reportLoginTime = 0;
        this._reportLoginInterval = 30;
        this.isReport = false;
        this.iframe = null;
        this.form = null;
        this._isReady = false;
        this._isLogin = false;
        this._isLoad = false;
        this._isStart = false;
      }
      Object.defineProperty(YZ_Tool_QTT.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_QTT.prototype, "uid", {
        get: function() {
          if ("0" != this._service_uid) return this._uid;
          this._login();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_QTT.prototype, "serviceId", {
        get: function() {
          if ("0" != this._service_uid) return this._service_uid;
          this.reportLogin();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_QTT.prototype._login = function() {
        return __awaiter(this, void 0, void 0, function() {
          var curTime, interval, self, url, xhr;
          return __generator(this, function(_a) {
            curTime = new Date().getTime();
            interval = (curTime - this._loginTime) / 1e3;
            if (interval > 0 && interval < 30) {
              Utils_1.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a" + this._loginInterval + "\u79d2");
              return [ 2 ];
            }
            this._loginTime = curTime;
            self = this;
            Utils_1.utils.showLog("qtt\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0");
            this._uid = "0";
            url = this.getUrl();
            console.log("qtt\u83b7\u53d6\u7528\u6237\u7684\u5730\u5740\u4e3a\uff1a" + url);
            xhr = new XMLHttpRequest();
            xhr.timeout = 6e3;
            xhr.open("get", url);
            xhr.send();
            xhr.onreadystatechange = function() {
              Utils_1.utils.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=", xhr.readyState, "; status=", xhr.status);
              if (4 == xhr.readyState && 200 == xhr.status) {
                console.log("\u8bf7\u6c42\u6210\u529f");
                console.log(xhr.responseText);
                var msg = xhr.responseText;
                var result = JSON.parse(msg);
                console.log(result);
                Utils_1.utils.showLog("\u83b7\u53d6\u6570\u636e\u6210\u529f1");
                self._uid = result.data.open_id;
                self.postServerData(QTT_REPORT_TYPE.ready);
                YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_UID, self._uid);
                console.log(self._uid);
              }
              200 != xhr.status;
            };
            xhr.ontimeout = function() {
              Utils_1.utils.showLog("\u8bf7\u6c42\u8d85\u65f6!");
            };
            xhr.onerror = function(err) {
              Utils_1.utils.showLog("\u8bf7\u6c42\u51fa\u9519! err=", JSON.stringify(err));
            };
            return [ 2 ];
          });
        });
      };
      YZ_Tool_QTT.prototype.reportLogin = function() {
        var _this = this;
        if (this.isReport) return;
        this.isReport = true;
        var self = this;
        var curTime = new Date().getTime();
        var interval = (curTime - self._reportLoginTime) / 1e3;
        if (interval > 0 && interval < 30) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a" + self._reportLoginInterval + "\u79d2");
          return;
        }
        self._reportLoginTime = curTime;
        var method = "m=login";
        var url = ST_ServerUrl + method + "&device_data=0";
        Utils_1.utils.commomHttpRequest(url, function(ret, data) {
          if (ret) {
            if (data) {
              var result = JSON.parse(data);
              Utils_1.utils.showLog("data=" + data);
              Utils_1.utils.showLog("result=" + result);
              Utils_1.utils.showLog("result.uid=" + result.uid);
              result.ip && (_this._ip = result.ip);
              if (result.uid) {
                self._service_uid = "" + result.uid;
                Utils_1.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid=" + self._service_uid);
                YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_SERVICE_UID, self._service_uid);
              }
            }
          } else Utils_1.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");
          _this.isReport = false;
        });
      };
      YZ_Tool_QTT.prototype.init = function(data) {
        var _this = this;
        Utils_1.utils.showLog("qtt \u521d\u59cb\u5316>>", data);
        if (data) {
          var configObj = JSON.parse(data);
          configObj && configObj.qutoutiao && (ST_DefaultServerConfig = JSON.stringify(configObj.qutoutiao));
        }
        cc.game.on(QTT_REPORT_TYPE.ready, function() {
          _this.postServerData(QTT_REPORT_TYPE.login);
        }, this);
        cc.game.on(QTT_REPORT_TYPE.login, function() {
          _this.postServerData(QTT_REPORT_TYPE.load);
        }, this);
        this._uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_UID);
        this._uid = this._uid ? this._uid : "0";
        this.postServerData(QTT_REPORT_TYPE.ready);
        this._service_uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_SERVICE_UID);
        this._service_uid = this._service_uid ? this._service_uid : "0";
        this.platForm = this.GetRequest("platform");
        this.ticket = this.GetRequest("ticket");
        this.ticket && this.platForm;
        this.loadServerData();
      };
      YZ_Tool_QTT.prototype.postGameOverData = function(level) {
        if (PlatUtils_1.default.IsQTT) {
          this.qttGame.completeTask();
          this.qttGame.userInfo({
            role: "\u8da3\u5934\u6761",
            region: "\u533a\u57df1",
            level: level,
            ce: "1000000",
            round: "1",
            revenue: "100000",
            extend_info: {
              age: "18"
            }
          });
        }
        var time = Math.floor(new Date().getTime() / 1e3);
        var values = {
          app_id: Utils_1.utils.config.qttconfig.appID,
          open_id: this.uid,
          ip: this._ip,
          round: level,
          game_time: time
        };
        this.getSign(values);
        var formData = new FormData();
        formData.append("app_id", values.app_id);
        formData.append("open_id", values.open_id);
        formData.append("ip", values.ip);
        formData.append("round", values.round);
        formData.append("game_time", values.game_time);
        formData.append("sign", this._sign);
        this.post(values);
      };
      YZ_Tool_QTT.prototype.post = function(values) {
        this.form ? this.form.innerHTML = "" : this.form = document.createElement("form");
        this.iframe || (this.iframe = document.createElement("iframe"));
        this.form.action = QTT_Report;
        this.form.enctype = "application/x-www-form-urlencoded";
        this.form.method = "post";
        this.iframe.name = "form";
        this.iframe.id = "form";
        this.form.target = "form";
        for (var item in values) {
          var opt = document.createElement("textarea");
          opt.name = item;
          opt.value = values[item];
          this.form.appendChild(opt);
        }
        document.body.appendChild(this.iframe);
        this.iframe.appendChild(this.form);
        this.form.submit();
      };
      YZ_Tool_QTT.prototype.getUserInfo = function() {
        this.qttGame.getUserInfo(Utils_1.utils.config.qttconfig.appKey, Utils_1.utils.config.qttconfig.appID, this.ticket, this.platForm).then(function(res) {
          Utils_1.utils.showLog("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u6210\u529f #userInfo=", JSON.stringify(res));
        }).catch(function(err) {});
      };
      YZ_Tool_QTT.prototype.GetRequest = function(key) {
        var url = location.search;
        var theRequest = new Object();
        if (-1 != url.indexOf("?")) {
          var str = url.substr(1);
          var strs = str.split("&");
          for (var i = 0; i < strs.length; i++) theRequest[strs[i].split("=")[0]] = unescape(strs[i].split("=")[1]);
        }
        var value = theRequest[key];
        return value;
      };
      YZ_Tool_QTT.prototype.loadServerData = function() {
        var _this = this;
        if (!this.uid) {
          cc.error("\u7528\u6237ID\u4e3a\u7a7a>>>");
          this._uid = "0";
        }
        var method = "m=g";
        Utils_1.utils.commomHttpRequest(ST_ServerUrl + method, function(ret, data) {
          Utils_1.utils.showLog("loadServerUserdate #ret=", ret, " #data=", data);
          if (ret) if (data) {
            Utils_1.utils.showLog("qtt\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = ", data);
            var result = JSON.parse(data);
            if (result) if (Utils_1.utils.DebugLoacalConfig) cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"); else {
              _this._serverConfig = result;
              if (_this._serverConfig.is_show_log_view && "true" == _this._serverConfig.is_show_log_view) {
                Utils_1.utils.showLogView = true;
                Utils_1.utils.showLog();
              }
            } else Utils_1.utils.showLog("qtt\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
          } else Utils_1.utils.showLog("qtt\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
          if (_this._serverConfig) if (_this._serverConfig.is_local_pos_id && "false" == _this._serverConfig.is_local_pos_id) {
            Utils_1.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid");
            Utils_1.utils.showLog("\u8da3\u5934\u6761\u6ca1\u6709\u5e7f\u544aid");
          } else Utils_1.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID"); else _this._serverConfig = JSON.parse(ST_DefaultServerConfig);
          Utils_1.utils.emitServerInitEvent();
        });
      };
      YZ_Tool_QTT.prototype.postLevel = function(level, status, levelName) {
        if (PlatUtils_1.default.IsQTT) {
          var method = "m=rlevel";
          var url = POST_ServerUrl + method + "&level_id=" + level + "&level_name=" + encodeURI(levelName) + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
          status == YZ_Constant_1.LevelStatus.GameStart && this.postServerData(QTT_REPORT_TYPE.start);
          status == YZ_Constant_1.LevelStatus.GameWin && this.postGameOverData(Number(level));
        }
      };
      YZ_Tool_QTT.prototype.getSign = function(values) {
        var s = this.sign(values);
        values.sign = s;
        this.checkSign(values);
        this._sign = s;
      };
      YZ_Tool_QTT.prototype.getUrl = function() {
        var params = this.getParams();
        var values = {
          app_id: Utils_1.utils.config.qttconfig.appID,
          platform: params.platform,
          ticket: params.ticket,
          time: Math.floor(new Date().getTime() / 1e3)
        };
        var s = this.sign(values);
        values.sign = s;
        this._sign = s;
        return QTT_ServerUrl + "app_id=" + values.app_id + "&platform=" + params.platform + "&ticket=" + params.ticket + "&time=" + values.time + "&sign=" + values.sign;
      };
      YZ_Tool_QTT.prototype.getParams = function() {
        var url = window.location.href;
        var paramArr = url.split("&");
        var platform;
        var ticket;
        paramArr.forEach(function(str) {
          -1 != str.indexOf("platform") && (platform = str.split("=")[1]);
          -1 != str.indexOf("ticket") && (ticket = str.split("=")[1]);
        });
        return {
          platform: platform,
          ticket: ticket
        };
      };
      YZ_Tool_QTT.prototype.sign = function(values) {
        delete values.sign;
        values.app_key = Utils_1.utils.config.qttconfig.appKey;
        var keysArr = [];
        for (var key in values) keysArr.push(key);
        keysArr.sort();
        var keys = "";
        keysArr.forEach(function(e) {
          keys += e;
          keys += values[e];
        });
        console.log("\u539f\u4e32\uff1a" + keys);
        delete values.app_key;
        var sign = md5(keys);
        return sign;
      };
      YZ_Tool_QTT.prototype.checkSign = function(values) {
        var sign1 = values.sign;
        if (!sign1) {
          console.log("sign error");
          return false;
        }
        var sign2 = this.sign(values);
        if (sign1 !== sign2) {
          console.log("sign error");
          return false;
        }
        console.log("ok");
        return true;
      };
      YZ_Tool_QTT.prototype.postServerData = function(type, info) {
        console.log("\u8da3\u5934\u6761\u6570\u636e\u4e0a\u62a5\uff1a" + type, this._uid);
        if (!this.uid && "0" != this._uid) {
          cc.error("\u7528\u6237ID\u4e0d\u5b58\u5728 ,\u4e0d\u4e0a\u62a5\u6570\u636e>>>");
          return;
        }
        switch (type) {
         case QTT_REPORT_TYPE.ready:
          if (this._isReady) {
            console.log("\u5df2\u7ecf\u4e0a\u4f20\u8fc7\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6bd5\u4e8b\u4ef6");
            return;
          }
          break;

         case QTT_REPORT_TYPE.login:
          if (this._isLogin) {
            console.log("\u4ee5\u53ca\u4e0a\u4f20\u8fc7\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6bd5\u4e8b\u4ef6");
            return;
          }
          break;

         case QTT_REPORT_TYPE.load:
          if (this._isLoad) {
            console.log("\u4ee5\u53ca\u4e0a\u4f20\u8fc7\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6bd5\u4e8b\u4ef6");
            return;
          }
          break;

         case QTT_REPORT_TYPE.start:
          if (this._isStart) {
            console.log("\u4ee5\u53ca\u4e0a\u4f20\u8fc7\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6bd5\u4e8b\u4ef6");
            return;
          }
        }
        var app_id = Utils_1.utils.config.qttconfig.appID;
        var game_name = Utils_1.utils.config.qttconfig.gamename;
        var extend_info = info || {};
        if (this.qttGame && this.qttGame.reportData) {
          switch (type) {
           case QTT_REPORT_TYPE.ready:
            this._isReady = true;
            break;

           case QTT_REPORT_TYPE.login:
            this._isLogin = true;
            break;

           case QTT_REPORT_TYPE.load:
            this._isLoad = true;
            break;

           case QTT_REPORT_TYPE.start:
            this._isStart = true;
          }
          this.qttGame.reportData({
            type: type,
            open_id: this.uid,
            app_id: app_id,
            game_name: game_name,
            extend_info: extend_info
          });
          console.log("\u8da3\u5934\u6761\u6210\u529f\u53d1\u9001\u4e8b\u4ef6\uff1a" + type);
          cc.game.emit(type);
        } else {
          var self_1 = this;
          console.log("\u8da3\u5934\u6761\u53d1\u9001\uff1a" + type + "\u5931\u8d25");
          setTimeout(function() {
            self_1.postServerData(type, info);
          }, 100);
        }
      };
      YZ_Tool_QTT.prototype.sendEvent = function(eventName) {
        if (PlatUtils_1.default.IsQTT) {
          var method = "m=revent";
          var url = POST_ServerUrl + method + "&event=" + encodeURI(eventName);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01") : Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_QTT = __decorate([ ccclass ], YZ_Tool_QTT);
      return YZ_Tool_QTT;
    }();
    exports.default = YZ_Tool_QTT;
    var QTT_REPORT_TYPE;
    (function(QTT_REPORT_TYPE) {
      QTT_REPORT_TYPE["ready"] = "ready";
      QTT_REPORT_TYPE["login"] = "login";
      QTT_REPORT_TYPE["load"] = "load";
      QTT_REPORT_TYPE["start"] = "start";
      QTT_REPORT_TYPE["newRole"] = "newRole";
      QTT_REPORT_TYPE["newUser"] = "newUser";
      QTT_REPORT_TYPE["upgrade"] = "upgrade";
      QTT_REPORT_TYPE["userInfo"] = "userInfo";
      QTT_REPORT_TYPE["abnormal"] = "abnormal";
    })(QTT_REPORT_TYPE = exports.QTT_REPORT_TYPE || (exports.QTT_REPORT_TYPE = {}));
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage",
    "./md5.js": "md5"
  } ],
  YZ_Tool_UC: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "908fa2v3cZJL7agUZVt0aZX", "YZ_Tool_UC");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_DefaultServerConfig = "";
    var ST_ServerUrl = "http://apps.youlesp.com/gss?";
    var POST_ServerUrl = "http://report.youlesp.com/gss?";
    var QTT_ServerUrl = "https://newidea4-gamecenter-backend.1sapp.com/x/open/user/ticket?";
    var QTT_Report = "https://newidea4-gamecenter-backend.1sapp.com/x/open/report/round";
    var YZ_Tool_UC = function() {
      function YZ_Tool_UC() {
        this.uc = window.uc;
        this._sysInfo = {};
        this._serverConfig = null;
        this._shareCallback = null;
        this._isShare = false;
        this._uid = "0";
        this._service_uid = "0";
        this._loginTime = 0;
        this._loginInterval = 30;
        this._reportLoginTime = 0;
        this._reportLoginInterval = 30;
        this.isReport = false;
      }
      Object.defineProperty(YZ_Tool_UC.prototype, "SysInfo", {
        get: function() {
          return this._sysInfo;
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_UC.prototype.gameVersion = function() {
        return Utils_1.utils.config.ucConfig.version;
      };
      Object.defineProperty(YZ_Tool_UC.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_UC.prototype, "uid", {
        get: function() {
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_UC.prototype, "serviceId", {
        get: function() {
          if ("0" != this._service_uid) return this._service_uid;
          this.reportLogin();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_UC.prototype._login = function() {
        return __awaiter(this, void 0, void 0, function() {
          var curTime, interval, self;
          return __generator(this, function(_a) {
            curTime = new Date().getTime();
            interval = (curTime - this._loginTime) / 1e3;
            if (interval > 0 && interval < 30) {
              Utils_1.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a" + this._loginInterval + "\u79d2");
              return [ 2 ];
            }
            this._loginTime = curTime;
            self = this;
            Utils_1.utils.showLog("uc\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0");
            this._uid = "0";
            return [ 2 ];
          });
        });
      };
      YZ_Tool_UC.prototype.reportLogin = function() {
        var _this = this;
        if (this.isReport) return;
        this.isReport = true;
        var self = this;
        var curTime = new Date().getTime();
        var interval = (curTime - self._reportLoginTime) / 1e3;
        if (interval > 0 && interval < 30) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a" + self._reportLoginInterval + "\u79d2");
          return;
        }
        self._reportLoginTime = curTime;
        var method = "m=login";
        var url = ST_ServerUrl + method + "&device_data=0";
        Utils_1.utils.commomHttpRequest(url, function(ret, data) {
          if (ret) {
            if (data) {
              var result = JSON.parse(data);
              Utils_1.utils.showLog("data=" + data);
              Utils_1.utils.showLog("result=" + result);
              Utils_1.utils.showLog("result.uid=" + result.uid);
              if (result.uid) {
                self._service_uid = "" + result.uid;
                console.log("self._service_uid:" + self._service_uid);
                Utils_1.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid=" + self._service_uid);
                YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_SERVICE_UID, self._service_uid);
              }
            }
          } else Utils_1.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");
          _this.isReport = false;
        });
      };
      YZ_Tool_UC.prototype.init = function(data) {
        if (PlatUtils_1.default.ISUC) {
          if (data) {
            var configObj = JSON.parse(data);
            configObj && configObj.uc && (ST_DefaultServerConfig = JSON.stringify(configObj.uc));
          }
          this._service_uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_SERVICE_UID);
          this._service_uid = this._service_uid ? this._service_uid : "0";
          try {
            this._sysInfo = this.uc.getSystemInfoSync();
            if ("string" === typeof this._sysInfo) try {
              this._sysInfo = JSON.parse(this._sysInfo);
            } catch (e) {}
            Utils_1.utils.showLog("uc \u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: " + JSON.stringify(this.SysInfo));
          } catch (e) {
            Utils_1.utils.showLog("uc \u5c0f\u6e38\u620f\u5e73\u53f0\u6570\u636e\u83b7\u53d6\u5931\u8d25!");
          }
          this._loadConfig();
        }
      };
      YZ_Tool_UC.prototype._loadConfig = function() {
        var _this = this;
        if (PlatUtils_1.default.ISUC) {
          var method = "m=g";
          Utils_1.utils.commomHttpRequest(ST_ServerUrl + method, function(ret, data) {
            if (ret) {
              Utils_1.utils.showLog("uc\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = " + data);
              if (data) {
                var result = JSON.parse(data);
                if (result) if (Utils_1.utils.DebugLoacalConfig) cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"); else {
                  _this._serverConfig = result;
                  _this._serverConfig.is_show_log_view && "true" == _this._serverConfig.is_show_log_view && (Utils_1.utils.showLogView = true);
                } else Utils_1.utils.showLog("uc\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
              }
            } else Utils_1.utils.showLog("uc\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
            if (_this._serverConfig) {
              if (_this._serverConfig.shares) {
                _this._serverConfig.shares.sy_title && (Utils_1.utils.config.otherconfig.shareTitle = _this._serverConfig.shares.sy_title);
                _this._serverConfig.shares.sy_img && (Utils_1.utils.config.otherconfig.shareImgUrl = _this._serverConfig.shares.sy_img);
              }
            } else _this._serverConfig = JSON.parse(ST_DefaultServerConfig);
            Utils_1.utils.emitServerInitEvent();
          });
        }
      };
      YZ_Tool_UC.prototype.getSystemInfo = function() {
        if (PlatUtils_1.default.ISUC) return this._sysInfo;
      };
      YZ_Tool_UC.prototype.share = function(callback) {
        void 0 === callback && (callback = null);
        if (PlatUtils_1.default.ISUC) {
          this._shareCallback = callback;
          this._isShare = true;
          var getShareInfo = {
            title: Utils_1.utils.config.otherconfig.shareTitle,
            imageUrl: Utils_1.utils.config.otherconfig.shareImgUrl,
            success: this._shareCallback,
            fail: this._shareCallback
          };
          this.uc.shareAppMessage(getShareInfo);
        }
      };
      YZ_Tool_UC.prototype.isOverMinVersion = function(minVersion) {
        var curVersion = this._sysInfo.SDKVersion;
        return this._compareVersion(curVersion, minVersion) >= 0;
      };
      YZ_Tool_UC.prototype._compareVersion = function(v1, v2) {
        if (!v1 || !v2) return -1;
        v1 = v1.split(".");
        v2 = v2.split(".");
        var len = Math.max(v1.length, v2.length);
        while (v1.length < len) v1.push("0");
        while (v2.length < len) v2.push("0");
        for (var i = 0; i < len; i++) {
          var num1 = parseInt(v1[i]);
          var num2 = parseInt(v2[i]);
          if (num1 > num2) return 1;
          if (num1 < num2) return -1;
        }
        return 0;
      };
      YZ_Tool_UC.prototype.postLevel = function(level, status, levelName) {
        if (PlatUtils_1.default.ISUC) {
          var method = "m=rlevel";
          var url = POST_ServerUrl + method + "&level_id=" + level + "&level_name=" + encodeURI(levelName) + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_UC.prototype.sendEvent = function(eventName) {
        if (PlatUtils_1.default.ISUC) {
          var method = "m=revent";
          var url = POST_ServerUrl + method + "&event=" + encodeURI(eventName);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01") : Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_UC = __decorate([ ccclass ], YZ_Tool_UC);
      return YZ_Tool_UC;
    }();
    exports.default = YZ_Tool_UC;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  YZ_Tool_Vivo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1dff8tBGB9Mvb2SYUr4tUpV", "YZ_Tool_Vivo");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var uma = require("./UMengSDK/quickGame/uma.min.js");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_DefaultServerConfig = "";
    var ST_ServerUrl = "http://apps.youlesp.com/gss?";
    var POST_ServerUrl = "http://report.youlesp.com/gss?";
    var ST_NativeInsertAdClickTimes = "NativeInsertAdClickTimes";
    var ST_LastDateTime = "LastDateTime";
    var YZ_Tool_Vivo = function() {
      function YZ_Tool_Vivo() {
        this.qg = window.qg;
        this._sysInfo = null;
        this._serverConfig = null;
        this._nativeInsertAdClickTimes = 0;
        this._shortcutCreated = false;
        this._uid = "0";
        this._service_uid = "0";
        this._loginTime = 0;
        this._loginInterval = 30;
        this._reportLoginTime = 0;
        this._reportLoginInterval = 30;
        this.isReport = false;
        this._source = "";
        this._rec_game_banner = null;
        this._rec_game_portal = null;
      }
      Object.defineProperty(YZ_Tool_Vivo.prototype, "SysInfo", {
        get: function() {
          return this._sysInfo;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Vivo.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Vivo.prototype, "NativeInsertAdClickTimes", {
        get: function() {
          return this._nativeInsertAdClickTimes;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Vivo.prototype, "ShortcutCreated", {
        get: function() {
          return this._shortcutCreated;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Vivo.prototype, "uid", {
        get: function() {
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Vivo.prototype, "serviceId", {
        get: function() {
          if ("0" != this._service_uid) return this._service_uid;
          this.reportLogin();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_Vivo.prototype._login = function() {
        return __awaiter(this, void 0, void 0, function() {
          var curTime, interval, self;
          return __generator(this, function(_a) {
            curTime = new Date().getTime();
            interval = (curTime - this._loginTime) / 1e3;
            if (interval > 0 && interval < this._loginInterval) {
              Utils_1.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a" + this._loginInterval + "\u79d2");
              return [ 2 ];
            }
            this._loginTime = curTime;
            self = this;
            Utils_1.utils.showLog("vivo\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0");
            this._uid = "0";
            this.reportLogin();
            return [ 2 ];
          });
        });
      };
      YZ_Tool_Vivo.prototype.reportLogin = function() {
        var _this = this;
        if (this.isReport) return;
        this.isReport = true;
        var self = this;
        var curTime = new Date().getTime();
        var interval = (curTime - this._reportLoginTime) / 1e3;
        if (interval > 0 && interval < this._reportLoginInterval) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a" + this._reportLoginInterval + "\u79d2");
          return;
        }
        this._reportLoginTime = curTime;
        var method = "m=login";
        var url = ST_ServerUrl + method + "&device_data=" + encodeURI(JSON.stringify(this._sysInfo));
        Utils_1.utils.commomHttpRequest(url, function(ret, data) {
          if (ret) {
            if (data) {
              var result = JSON.parse(data);
              Utils_1.utils.showLog("data=" + data);
              Utils_1.utils.showLog("result=" + result);
              Utils_1.utils.showLog("result.uid=" + result.uid);
              if (result.uid) {
                self._service_uid = "" + result.uid;
                Utils_1.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid=" + self._service_uid);
                YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_SERVICE_UID, self._service_uid);
              }
            }
          } else Utils_1.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");
          _this.isReport = false;
        });
      };
      YZ_Tool_Vivo.prototype.init = function(data) {
        var _this = this;
        if (PlatUtils_1.default.IsVIVO) {
          this.umaInit();
          qg.isStartupByShortcut({
            success: function(status) {
              if (status) {
                Utils_1.utils.showLog("\u901a\u8fc7\u684c\u9762\u56fe\u6807\u542f\u52a8\u5e94\u7528");
                _this._source = "shortCut";
              } else Utils_1.utils.showLog("\u4e0d\u662f\u901a\u8fc7\u684c\u9762\u56fe\u6807\u542f\u52a8\u5e94\u7528");
            }
          });
          if (data) {
            var configObj = JSON.parse(data);
            configObj && configObj.vivo && (ST_DefaultServerConfig = JSON.stringify(configObj.vivo));
          }
          this._service_uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_SERVICE_UID);
          this._service_uid = this._service_uid ? this._service_uid : "0";
          this._sysInfo = this.qg.getSystemInfoSync();
          this._sysInfo && Utils_1.utils.showLog("VIVO \u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: " + JSON.stringify(this.SysInfo));
          this._loadConfig();
          this._nativeInsertAdClickTimes = YZ_LocalStorage_1.default.getItem(ST_NativeInsertAdClickTimes);
          var day = YZ_LocalStorage_1.default.getItem(ST_LastDateTime);
          var curDate = new Date();
          if (day != curDate.toDateString()) {
            this._nativeInsertAdClickTimes = 0;
            YZ_LocalStorage_1.default.setItem(ST_NativeInsertAdClickTimes, 0);
          }
          this.isOverMiniVersion("1041") && Utils_1.utils.registerServerInitEvent(function() {
            _this.checkHasShortCut(function(res) {
              if (!res && Utils_1.utils.ServerConfig && Utils_1.utils.ServerConfig.start_auto_create_short_cut_time) {
                Utils_1.utils.SendEvent("\u7ec4\u4ef6\u521d\u59cb\u5316\u6210\u529f\uff0c\u5f39\u51fa\u81ea\u52a8\u521b\u5efa\u684c\u9762\uff01");
                Utils_1.utils.showLog("\u7ec4\u4ef6\u521d\u59cb\u5316\u6210\u529f\uff0c" + Utils_1.utils.ServerConfig.start_auto_create_short_cut_time + "\u79d2\u540e\u5f39\u51fa\u81ea\u52a8\u521b\u5efa\u684c\u9762\uff01");
                setTimeout(function() {
                  _this.createShortcut(function(res) {
                    res ? Utils_1.utils.showLog("\u81ea\u52a8\u521b\u5efa\u684c\u9762\u6210\u529f\uff01") : Utils_1.utils.showLog("\u81ea\u52a8\u521b\u5efa\u684c\u9762\u5931\u8d25\uff01");
                  });
                }, 1e3 * Utils_1.utils.ServerConfig.start_auto_create_short_cut_time);
              }
            });
          }, this);
        }
      };
      YZ_Tool_Vivo.prototype._buildServerUrl = function() {
        if (PlatUtils_1.default.IsVIVO) {
          var url = "";
          Utils_1.utils.config.vivoconfig && Utils_1.utils.config.vivoconfig.appID ? url = ST_ServerUrl + "kyx=true&app_id=" + Utils_1.utils.config.vivoconfig.appID.trim() + "&channel=vivo" : Utils_1.utils.showLog("VIVO APPID\u914d\u7f6e\u51fa\u9519\uff01");
          return url;
        }
        return null;
      };
      YZ_Tool_Vivo.prototype._loadConfig = function() {
        var _this = this;
        if (PlatUtils_1.default.IsVIVO) {
          var method = "m=g";
          Utils_1.utils.commomHttpRequest(ST_ServerUrl + method, function(ret, data) {
            if (ret) {
              Utils_1.utils.showLog("VIVO\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = " + data);
              if (data) {
                var result = JSON.parse(data);
                if (result) if (Utils_1.utils.DebugLoacalConfig) Utils_1.utils.showLog("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"); else {
                  _this._serverConfig = result;
                  _this._serverConfig.is_show_log_view && "true" == _this._serverConfig.is_show_log_view && (Utils_1.utils.showLogView = true);
                } else Utils_1.utils.showLog("VIVO\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
              }
            } else Utils_1.utils.showLog("VIVO\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
            if (_this._serverConfig) {
              if (_this._serverConfig.is_local_pos_id && "false" == _this._serverConfig.is_local_pos_id) {
                Utils_1.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid");
                Utils_1.utils.config.vivoconfig.bannerId = _this._serverConfig.banner_pos_id;
                Utils_1.utils.config.vivoconfig.insertId = _this._serverConfig.intersititia_pos_id;
                Utils_1.utils.config.vivoconfig.videoId = _this._serverConfig.video_pos_id;
                Utils_1.utils.config.vivoconfig.nativeInsertIds = _this.ServerConfig.native_intersititial_pos_id;
                Utils_1.utils.config.vivoconfig.nativeBannerIds = _this.ServerConfig.native_banner_pos_id;
                Utils_1.utils.config.vivoconfig.nativeTryGameIds = _this.ServerConfig.native_trygame_pos_id;
                Utils_1.utils.config.vivoconfig.recGameBannerId = _this.ServerConfig.rec_game_banner_id;
                Utils_1.utils.config.vivoconfig.recPortalId = _this.ServerConfig.rec_portal_id;
                Utils_1.utils.config.vivoconfig.nativeSingleAdIds = _this.ServerConfig.native_single_pos_id || Utils_1.utils.config.vivoconfig.nativeSingleAdIds;
              } else Utils_1.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID");
              if (_this.ServerConfig.native_banner_configs) for (var i = 0; i < _this.ServerConfig.native_banner_configs.length; i++) {
                Utils_1.utils.showLog("\u83b7\u53d6\u5230\u539f\u751f\u5e7f\u544a\u914d\u7f6e:" + _this.ServerConfig.native_banner_configs[i].location, ">>>>", JSON.stringify(_this.ServerConfig.native_banner_configs[i]));
                Utils_1.utils.config.vivoconfig.setNativeBannerInfo(_this.ServerConfig.native_banner_configs[i].location, _this.ServerConfig.native_banner_configs[i]);
              }
              if (_this.ServerConfig.native_customad_configs) for (var i = 0; i < _this.ServerConfig.native_customad_configs.length; i++) {
                Utils_1.utils.showLog("\u83b7\u53d6\u5230\u539f\u751f\u6a21\u7248\u5e7f\u544a\u914d\u7f6e:" + _this.ServerConfig.native_customad_configs[i].location, ">>>>", JSON.stringify(_this.ServerConfig.native_customad_configs[i]));
                Utils_1.utils.config.vivoconfig.setCustomAdInfo(_this.ServerConfig.native_customad_configs[i].location, _this.ServerConfig.native_customad_configs[i]);
              }
            } else _this._serverConfig = JSON.parse(ST_DefaultServerConfig);
            Utils_1.utils.emitServerInitEvent();
          });
        }
      };
      YZ_Tool_Vivo.prototype.isOverMiniVersion = function(miniVersion) {
        if (PlatUtils_1.default.IsVIVO && this._sysInfo && this._sysInfo.platformVersionCode) return this._sysInfo.platformVersionCode >= miniVersion;
        return false;
      };
      YZ_Tool_Vivo.prototype.createShortcut = function(callback) {
        var callbackFunc = callback;
        if (PlatUtils_1.default.IsVIVO && this.canCreateShortcut()) {
          var self_1 = this;
          self_1.qg.installShortcut({
            success: function() {
              Utils_1.utils.showLog("\u684c\u9762\u56fe\u6807\u521b\u5efa\u6210\u529f\uff01");
              self_1._shortcutCreated = true;
              callbackFunc && callbackFunc(true);
            },
            fail: function(err) {
              self_1._shortcutCreated = true;
              cc.log("vivo\u521b\u5efa\u5931\u8d25err" + err);
              callbackFunc && callbackFunc(false);
            },
            complete: function() {}
          });
        } else {
          cc.log("\u4e0d\u80fd\u521b\u5efa");
          callbackFunc && callbackFunc(false);
        }
      };
      YZ_Tool_Vivo.prototype.canCreateShortcut = function() {
        if (PlatUtils_1.default.IsVIVO) return this.isOverMiniVersion("1041");
        return false;
      };
      YZ_Tool_Vivo.prototype.countNativeInserClick = function() {
        this._nativeInsertAdClickTimes++;
        YZ_LocalStorage_1.default.setItem(ST_NativeInsertAdClickTimes, this._nativeInsertAdClickTimes);
      };
      YZ_Tool_Vivo.prototype.share = function(callback) {
        if (!this.isOverMiniVersion("1052")) {
          callback && callback(false, "\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301");
          return;
        }
        this.qg.share();
        callback && callback(true);
        return;
      };
      YZ_Tool_Vivo.prototype.checkHasShortCut = function(callBack) {
        var _this = this;
        this.qg.hasShortcutInstalled({
          success: function(res) {
            Utils_1.utils.showLog("\u68c0\u6d4b\u684c\u9762\u5feb\u6377\u65b9\u5f0f\u662f\u5426\u5df2\u7ecf\u521b\u5efa\u8fc7: result=", res);
            if (false == res) {
              _this._shortcutCreated = false;
              callBack && callBack(false);
            } else {
              _this._shortcutCreated = true;
              callBack && callBack(true);
            }
          },
          fail: function() {
            Utils_1.utils.showLog("\u68c0\u6d4b\u5931\u8d25\uff01");
          },
          complete: function() {
            Utils_1.utils.showLog("\u68c0\u6d4b\u5b8c\u6210\uff01");
          }
        });
      };
      YZ_Tool_Vivo.prototype.postLevel = function(level, status, levelName) {
        if (PlatUtils_1.default.IsVIVO) {
          var method = "m=rlevel";
          var url = POST_ServerUrl + method + "&level_id=" + level + "&level_name=" + encodeURI(levelName) + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Vivo.prototype.sendEvent = function(eventName) {
        if (PlatUtils_1.default.IsVIVO) {
          var method = "m=revent";
          var url = POST_ServerUrl + method + "&event=" + encodeURI(eventName);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01") : Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Vivo.prototype.showToast = function(msg) {
        PlatUtils_1.default.IsVIVO && qg.showToast({
          message: msg,
          duration: 2e3
        });
      };
      YZ_Tool_Vivo.prototype.canShowRecommend = function() {
        if (this.qg.createBoxBannerAd && this.qg.createBoxPortalAd) return true;
        return false;
      };
      YZ_Tool_Vivo.prototype.showRecBanner = function(location) {
        var _this = this;
        if (!this.canShowRecommend()) {
          Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u663e\u793a\u5b98\u65b9\u4e92\u63a8\uff01");
          return false;
        }
        if (Utils_1.utils.config.vivoconfig.recGameBannerId) if (this._rec_game_banner) this._rec_game_banner.show().then(function() {
          Utils_1.utils.showLog("\u4e92\u63a8banner\u5c55\u793a\u6210\u529f\uff01");
          location && Utils_1.utils.SendEvent("\u4e92\u63a8Banner\u5c55\u793a\u6210\u529f\uff0c\u4f4d\u7f6e\uff1a" + location);
        }).catch(function(error) {
          Utils_1.utils.showLog("\u4e92\u63a8banner\u5c55\u793a\u5931\u8d25:" + error.errCode + "," + error.errMsg);
        }); else {
          this._rec_game_banner = this.qg.createBoxBannerAd({
            adUnitId: Utils_1.utils.config.vivoconfig.recGameBannerId
          });
          this._rec_game_banner.onLoad(function() {
            Utils_1.utils.showLog("\u4e92\u63a8banner\u52a0\u8f7d\u6210\u529f!");
          });
          this._rec_game_banner.show().then(function() {
            Utils_1.utils.showLog("\u4e92\u63a8banner\u5c55\u793a\u6210\u529f\uff01");
          }).catch(function(error) {
            Utils_1.utils.showLog("\u4e92\u63a8banner\u5c55\u793a\u5931\u8d25:" + error.errCode + "," + error.errMsg);
          });
          this._rec_game_banner.onError(function(err) {
            Utils_1.utils.showLog("\u4e92\u63a8banner\u52a0\u8f7d\u5f02\u5e38!", err.errCode + "," + err.errMsg);
            _this._rec_game_banner.destroy();
            _this._rec_game_banner = null;
          });
        } else Utils_1.utils.showLog("VIVO \u4e92\u63a8banner ID\u672a\u914d\u7f6e\uff01");
      };
      YZ_Tool_Vivo.prototype.hideRecBanner = function() {
        var _this = this;
        this._rec_game_banner && this._rec_game_banner.hide().then(function() {
          Utils_1.utils.showLog("VIVO \u4e92\u63a8banner \u9690\u85cf\u6210\u529f\uff01");
        }).catch(function(error) {
          Utils_1.utils.showLog("VIVO \u4e92\u63a8banner \u9690\u85cf\u5931\u8d25:" + error.errCode + "," + error.errMsg);
          _this._rec_game_banner.destroy();
          _this._rec_game_banner = null;
        });
      };
      YZ_Tool_Vivo.prototype.showGamePortal = function(top) {
        var _this = this;
        void 0 === top && (top = 200);
        if (!this.canShowRecommend()) {
          Utils_1.utils.showLog("\u5f53\u524d\u7248\u672c\u4e0d\u652f\u6301\u663e\u793a\u5b98\u65b9\u4e92\u63a8\uff01");
          return false;
        }
        if (Utils_1.utils.config.vivoconfig.recPortalId) {
          this._rec_game_portal && this.hideGamePortal();
          this._rec_game_portal = this.qg.createBoxPortalAd({
            posId: Utils_1.utils.config.vivoconfig.recPortalId,
            image: "",
            marginTop: top / cc.winSize.height * this.SysInfo.screenHeight
          });
          this._rec_game_portal.onError(function(err) {
            Utils_1.utils.showLog("\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25", JSON.stringify(err));
          });
          this._rec_game_portal.onClose(function() {
            Utils_1.utils.showLog("close _rec_game_portal");
            if (_this._rec_game_portal.isDestroyed) return;
            _this._rec_game_portal.show();
          });
          this._rec_game_portal.show().then(function() {
            Utils_1.utils.showLog("show success _rec_game_portal");
          });
        } else Utils_1.utils.showLog("VIVO \u4e92\u63a8\u4e5d\u5bab\u683c ID\u672a\u914d\u7f6e\uff01");
      };
      YZ_Tool_Vivo.prototype.hideGamePortal = function() {
        this._rec_game_portal && this._rec_game_portal.hide().then(function() {
          Utils_1.utils.showLog("hideGamePortal success");
        }).catch(function(error) {
          Utils_1.utils.showLog("hideGamePortal fail with:" + error.errCode + "," + error.errMsg);
        });
      };
      YZ_Tool_Vivo.prototype.umaInit = function() {
        if (!this.checkUmeng()) {
          Utils_1.utils.showLog("\u53cb\u76dfID\u672a\u914d\u7f6e\uff0c\u4e0d\u6267\u884c\u53cb\u76df\u521d\u59cb\u5316>>>>");
          return;
        }
        uma.init({
          appKey: Utils_1.utils.config.vivoconfig.umengId,
          useOpenid: false,
          debug: true
        });
      };
      YZ_Tool_Vivo.prototype.umaOnStart = function(levelID) {
        if (!this.checkUmeng()) return;
        qg.uma.stage.onStart({
          stageId: levelID,
          stageName: "\u7b2c" + levelID + "\u5173"
        });
      };
      YZ_Tool_Vivo.prototype.checkUmeng = function() {
        if (!Utils_1.utils.config.vivoconfig.umengId) return false;
        return true;
      };
      YZ_Tool_Vivo.prototype.umaReportedLevel = function(levelID, event) {
        if (!this.checkUmeng()) return;
        qg.uma.stage.onEnd({
          stageId: levelID,
          stageName: "\u7b2c" + levelID + "\u5173",
          event: event
        });
      };
      YZ_Tool_Vivo.prototype.umaTrackEvent = function(eventId, params) {
        if (!this.checkUmeng()) return;
        qg.uma.trackEvent(eventId, params);
      };
      YZ_Tool_Vivo = __decorate([ ccclass ], YZ_Tool_Vivo);
      return YZ_Tool_Vivo;
    }();
    exports.default = YZ_Tool_Vivo;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./UMengSDK/quickGame/uma.min.js": "uma.min",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  YZ_Tool_Wifi: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "63487/lBO1JVpZpP8G/P+T8", "YZ_Tool_Wifi");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_ServerUrl = "http://apps.youlesp.com/gss?";
    var POST_ServerUrl = "http://report.youlesp.com/gss?";
    var ST_DefaultServerConfig = "";
    var YZ_Tool_WiFi = function() {
      function YZ_Tool_WiFi() {
        this._serverConfig = null;
        this._sysInfo = {};
        this._uid = "0";
        this._service_uid = "0";
        this._loginTime = 0;
        this._loginInterval = 30;
        this._reportLoginTime = 0;
        this._reportLoginInterval = 30;
        this.isReport = false;
      }
      Object.defineProperty(YZ_Tool_WiFi.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_WiFi.prototype, "SysInfo", {
        get: function() {
          return this._sysInfo;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_WiFi.prototype, "uid", {
        get: function() {
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_WiFi.prototype.gameVersion = function() {
        return Utils_1.utils.config.wifiConfig.version;
      };
      Object.defineProperty(YZ_Tool_WiFi.prototype, "serviceId", {
        get: function() {
          if ("0" != this._service_uid) return this._service_uid;
          this.reportLogin();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_WiFi.prototype._login = function() {
        return __awaiter(this, void 0, void 0, function() {
          var curTime, interval, self;
          return __generator(this, function(_a) {
            curTime = new Date().getTime();
            interval = (curTime - this._loginTime) / 1e3;
            if (interval > 0 && interval < 30) {
              Utils_1.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a" + this._loginInterval + "\u79d2");
              return [ 2 ];
            }
            this._loginTime = curTime;
            self = this;
            Utils_1.utils.showLog("qq\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0");
            this._uid = "0";
            return [ 2 ];
          });
        });
      };
      YZ_Tool_WiFi.prototype.reportLogin = function() {
        var _this = this;
        if (this.isReport) return;
        this.isReport = true;
        var self = this;
        var curTime = new Date().getTime();
        var interval = (curTime - self._reportLoginTime) / 1e3;
        if (interval > 0 && interval < 30) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a" + self._reportLoginInterval + "\u79d2");
          return;
        }
        self._reportLoginTime = curTime;
        var method = "m=login";
        var url = ST_ServerUrl + method + "&device_data=0";
        Utils_1.utils.commomHttpRequest(url, function(ret, data) {
          if (ret) {
            if (data) {
              var result = JSON.parse(data);
              Utils_1.utils.showLog("data=" + data);
              Utils_1.utils.showLog("result=" + result);
              Utils_1.utils.showLog("result.uid=" + result.uid);
              if (result.uid) {
                self._service_uid = "" + result.uid;
                console.log("self._service_uid:" + self._service_uid);
                Utils_1.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid=" + self._service_uid);
                YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_SERVICE_UID, self._service_uid);
              }
            }
          } else Utils_1.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");
          _this.isReport = false;
        });
      };
      YZ_Tool_WiFi.prototype.init = function(data) {
        if (PlatUtils_1.default.IsWiFi) {
          if (data) {
            var configObj = JSON.parse(data);
            configObj && configObj.wifi && (ST_DefaultServerConfig = JSON.stringify(configObj.wifi));
          }
          this._service_uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_SERVICE_UID);
          this._service_uid = this._service_uid ? this._service_uid : "0";
          try {
            this._sysInfo = wuji.getSystemInfoSync();
            Utils_1.utils.showLog("\u8fde\u5c1a \u5c0f\u6e38\u620f\u5e73\u53f0\u4fe1\u606f: ", JSON.stringify(this.SysInfo));
          } catch (e) {
            Utils_1.utils.showLog("\u8fde\u5c1a \u5c0f\u6e38\u620f\u5e73\u53f0\u6570\u636e\u83b7\u53d6\u5931\u8d25!");
          }
          this._loadConfig();
        }
      };
      YZ_Tool_WiFi.prototype._loadConfig = function() {
        var _this = this;
        if (PlatUtils_1.default.IsWiFi) {
          var method = "m=g";
          Utils_1.utils.commomHttpRequest(ST_ServerUrl + method, function(ret, data) {
            if (ret) {
              Utils_1.utils.showLog("\u8fde\u5c1a\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = ", data);
              if (data) {
                var result = JSON.parse(data);
                result ? Utils_1.utils.DebugLoacalConfig ? cc.warn("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!") : _this._serverConfig = result : Utils_1.utils.showLog("\u8fde\u5c1a\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
              }
            } else Utils_1.utils.showLog("\u8fde\u5c1a\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
            _this._serverConfig || (_this._serverConfig = JSON.parse(ST_DefaultServerConfig));
            Utils_1.utils.emitServerInitEvent();
          });
        }
      };
      YZ_Tool_WiFi.prototype.getSystemInfo = function() {
        if (PlatUtils_1.default.IsWiFi) return this._sysInfo;
      };
      YZ_Tool_WiFi.prototype.postData = function(otherGameAppId) {
        if (PlatUtils_1.default.IsWiFi) {
          var appid = Utils_1.utils.config.wifiConfig.appID;
          var uid = "0";
          var channel = "qq";
          var url = "http://apps.youlesp.com/gs?m=jump&app_id=" + appid + "&uid=" + uid + "&channel=" + channel + "&jump_app_id=" + otherGameAppId;
          Utils_1.utils.showLog("\u4e0a\u62a5\u6570\u636e, url=", url);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          });
        }
      };
      YZ_Tool_WiFi.prototype.isOverMinVersion = function(minVersion) {
        var curVersion = this._sysInfo.SDKVersion;
        return this._compareVersion(curVersion, minVersion) >= 0;
      };
      YZ_Tool_WiFi.prototype._compareVersion = function(v1, v2) {
        if (!v1 || !v2) return -1;
        v1 = v1.split(".");
        v2 = v2.split(".");
        var len = Math.max(v1.length, v2.length);
        while (v1.length < len) v1.push("0");
        while (v2.length < len) v2.push("0");
        for (var i = 0; i < len; i++) {
          var num1 = parseInt(v1[i]);
          var num2 = parseInt(v2[i]);
          if (num1 > num2) return 1;
          if (num1 < num2) return -1;
        }
        return 0;
      };
      YZ_Tool_WiFi.prototype.postLevel = function(level, status, levelName) {
        if (PlatUtils_1.default.IsWiFi) {
          var method = "m=rlevel";
          var url = POST_ServerUrl + method + "&level_id=" + level + "&level_name=" + encodeURI(levelName) + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_WiFi.prototype.sendEvent = function(eventName) {
        if (PlatUtils_1.default.IsWiFi) {
          var method = "m=revent";
          var url = POST_ServerUrl + method + "&event=" + encodeURI(eventName);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01") : Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_WiFi.prototype.showToast = function(msg) {
        PlatUtils_1.default.IsWiFi && wuji.showToast({
          title: msg,
          icon: "none",
          duration: 2e3
        });
      };
      YZ_Tool_WiFi = __decorate([ ccclass ], YZ_Tool_WiFi);
      return YZ_Tool_WiFi;
    }();
    exports.default = YZ_Tool_WiFi;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  YZ_Tool_Xiaomi: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6d424x/eXlC8Je3WUcyH/u4", "YZ_Tool_Xiaomi");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var __generator = this && this.__generator || function(thisArg, body) {
      var _ = {
        label: 0,
        sent: function() {
          if (1 & t[0]) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      }, f, y, t, g;
      return g = {
        next: verb(0),
        throw: verb(1),
        return: verb(2)
      }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
        return this;
      }), g;
      function verb(n) {
        return function(v) {
          return step([ n, v ]);
        };
      }
      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
          if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
          0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          (y = 0, t) && (op = [ 2 & op[0], t.value ]);
          switch (op[0]) {
           case 0:
           case 1:
            t = op;
            break;

           case 4:
            _.label++;
            return {
              value: op[1],
              done: false
            };

           case 5:
            _.label++;
            y = op[1];
            op = [ 0 ];
            continue;

           case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;

           default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
              _ = 0;
              continue;
            }
            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (6 === op[0] && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            t[2] && _.ops.pop();
            _.trys.pop();
            continue;
          }
          op = body.call(thisArg, _);
        } catch (e) {
          op = [ 6, e ];
          y = 0;
        } finally {
          f = t = 0;
        }
        if (5 & op[0]) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_ServerUrl = "http://apps.youlesp.com/gss?";
    var POST_ServerUrl = "http://report.youlesp.com/gss?";
    var ST_DefaultServerConfig = "";
    var ST_NativeInsertAdClickTimes = "NativeInsertAdClickTimes";
    var ST_LastDateTime = "LastDateTime";
    var ST_InsertAdShowCounts = "NativeInsertAdShowCount";
    var ST_BannerAdCloseCounts = "ST_BannerAdCloseCounts";
    var ST_YZBannerShowCounts = "YZBannerShowCounts";
    var YZ_Tool_Xiaomi = function() {
      function YZ_Tool_Xiaomi() {
        this._sysInfo = null;
        this._serverConfig = null;
        this._nativeInsertAdClickTimes = 0;
        this._insertAdShowCounts = 0;
        this._bannerAdCloseCounts = 0;
        this._yzBannerShowCounts = 0;
        this._uid = "0";
        this._service_uid = "0";
        this._loginTime = 0;
        this._loginInterval = 30;
        this._reportLoginTime = 0;
        this._reportLoginInterval = 30;
        this.isReport = false;
      }
      Object.defineProperty(YZ_Tool_Xiaomi.prototype, "SysInfo", {
        get: function() {
          return this._sysInfo || {};
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Xiaomi.prototype, "ServerConfig", {
        get: function() {
          return this._serverConfig;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Xiaomi.prototype, "NativeInsertAdClickTimes", {
        get: function() {
          return this._nativeInsertAdClickTimes;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Xiaomi.prototype, "insertAdShowCounts", {
        get: function() {
          return this._insertAdShowCounts;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Xiaomi.prototype, "bannerAdCloseCounts", {
        get: function() {
          return this._bannerAdCloseCounts;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Xiaomi.prototype, "yzBannerShowCounts", {
        get: function() {
          return this._yzBannerShowCounts;
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Xiaomi.prototype, "uid", {
        get: function() {
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Tool_Xiaomi.prototype, "serviceId", {
        get: function() {
          if ("0" != this._service_uid) return this._service_uid;
          this.reportLogin();
          return "0";
        },
        enumerable: false,
        configurable: true
      });
      YZ_Tool_Xiaomi.prototype._login = function() {
        return __awaiter(this, void 0, void 0, function() {
          var curTime, interval, self;
          return __generator(this, function(_a) {
            curTime = new Date().getTime();
            interval = (curTime - this._loginTime) / 1e3;
            if (interval > 0 && interval < this._loginInterval) {
              Utils_1.utils.showLog("\u767b\u5f55\u8bf7\u6c42\u95f4\u9694\u5c0f\u4e8e\uff1a" + this._loginInterval + "\u79d2");
              return [ 2 ];
            }
            this._loginTime = curTime;
            self = this;
            Utils_1.utils.showLog("vivo\u6682\u65f6\u4e0d\u83b7\u53d6uid\uff0cuid\u5168\u90e8\u4e3a0");
            this._uid = "0";
            this.reportLogin();
            return [ 2 ];
          });
        });
      };
      YZ_Tool_Xiaomi.prototype.countNativeInserClick = function() {
        this._nativeInsertAdClickTimes++;
        YZ_LocalStorage_1.default.setItem(Utils_1.utils.config.xiaomiConfig.appID + "_" + ST_NativeInsertAdClickTimes, this._nativeInsertAdClickTimes);
      };
      YZ_Tool_Xiaomi.prototype.countInserShowCount = function() {
        this._insertAdShowCounts++;
        YZ_LocalStorage_1.default.setItem(Utils_1.utils.config.xiaomiConfig.appID + "_" + ST_InsertAdShowCounts, this._insertAdShowCounts);
      };
      YZ_Tool_Xiaomi.prototype.countBannerCloseCount = function() {
        this._bannerAdCloseCounts++;
        YZ_LocalStorage_1.default.setItem(Utils_1.utils.config.xiaomiConfig.appID + "_" + ST_BannerAdCloseCounts, this._bannerAdCloseCounts);
      };
      YZ_Tool_Xiaomi.prototype.countYzBannerShowCount = function() {
        this._yzBannerShowCounts++;
        YZ_LocalStorage_1.default.setItem(Utils_1.utils.config.xiaomiConfig.appID + "_" + ST_YZBannerShowCounts, this._yzBannerShowCounts);
      };
      YZ_Tool_Xiaomi.prototype.reportLogin = function() {
        var _this = this;
        if (this.isReport) return;
        this.isReport = true;
        var self = this;
        var curTime = new Date().getTime();
        var interval = (curTime - this._reportLoginTime) / 1e3;
        if (interval > 0 && interval < this._reportLoginInterval) {
          Utils_1.utils.showLog("\u4e0a\u62a5\u767b\u5f55\u83b7\u53d6UID\u5c0f\u4e8e\uff1a" + this._reportLoginInterval + "\u79d2");
          return;
        }
        this._reportLoginTime = curTime;
        var method = "m=login";
        var url = ST_ServerUrl + method + "&device_data=" + encodeURI(JSON.stringify(this._sysInfo));
        Utils_1.utils.commomHttpRequest(url, function(ret, data) {
          if (ret) {
            if (data) {
              var result = JSON.parse(data);
              Utils_1.utils.showLog("data=" + data);
              Utils_1.utils.showLog("result=" + result);
              Utils_1.utils.showLog("result.uid=" + result.uid);
              if (result.uid) {
                self._service_uid = "" + result.uid;
                Utils_1.utils.showLog("\u670d\u52a1\u5668\u8bf7\u6c42\u767b\u5f55\u6210\u529f! _service_uid=" + self._service_uid);
                YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_SERVICE_UID, self._service_uid);
              }
            }
          } else Utils_1.utils.showLog("\u83b7\u53d6\u6570\u636e\u5931\u8d251");
          _this.isReport = false;
        });
      };
      YZ_Tool_Xiaomi.prototype.init = function(data) {
        if (PlatUtils_1.default.IsXiaoMi) {
          if (data) {
            var configObj = JSON.parse(data);
            configObj && configObj.xiaomi && (ST_DefaultServerConfig = JSON.stringify(configObj.xiaomi));
          }
          this._service_uid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_SERVICE_UID);
          this._service_uid = this._service_uid ? this._service_uid : "0";
          if (qg.getUpdateManager) {
            var updateManager_1 = qg.getUpdateManager();
            updateManager_1.onCheckForUpdate(function(res) {
              Utils_1.utils.showLog("onCheckForUpdate", res.hasUpdate);
            });
            updateManager_1.onUpdateReady(function() {
              updateManager_1.applyUpdate();
            });
            updateManager_1.onUpdateFailed(function() {
              Utils_1.utils.showMsg("\u81ea\u52a8\u66f4\u65b0\u5931\u8d25\uff0c\u8bf7\u624b\u52a8\u91cd\u542f\u6e38\u620f\uff01");
            });
          }
          this.getSystemInfo();
          this._loadConfig();
        }
      };
      YZ_Tool_Xiaomi.prototype._loadConfig = function() {
        var _this = this;
        if (PlatUtils_1.default.IsXiaoMi) {
          var method = "m=g";
          var url = ST_ServerUrl + method;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            if (ret) {
              Utils_1.utils.showLog("\u5c0f\u7c73\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u6210\u529f: data = " + data);
              if (data) {
                var result = JSON.parse(data);
                if (result) if (Utils_1.utils.DebugLoacalConfig) Utils_1.utils.showLog("\u5f00\u542f\u4e86\u672c\u5730\u6570\u636e\u6d4b\u8bd5\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e!"); else {
                  _this._serverConfig = result;
                  _this._serverConfig.is_show_log_view && "true" == _this._serverConfig.is_show_log_view && (Utils_1.utils.showLogView = true);
                } else Utils_1.utils.showLog("\u5c0f\u7c73\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u4e0d\u662f\u5408\u6cd5\u7684JSON\u6570\u636e, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
              }
            } else Utils_1.utils.showLog("\u5c0f\u7c73\u670d\u52a1\u5668\u914d\u7f6e\u6570\u636e\u83b7\u53d6\u5931\u8d25, \u4f7f\u7528\u672c\u5730\u914d\u7f6e!");
            if (_this._serverConfig) {
              if (_this._serverConfig.is_local_pos_id && "false" == _this._serverConfig.is_local_pos_id) {
                Utils_1.utils.showLog("\u4f7f\u7528\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u5e7f\u544aid");
                Utils_1.utils.config.xiaomiConfig.insertId = _this._serverConfig.intersititia_pos_id;
                Utils_1.utils.config.xiaomiConfig.videoId = _this._serverConfig.video_pos_id;
                Utils_1.utils.config.xiaomiConfig.nativeInsertIds = _this.ServerConfig.native_intersititial_pos_id;
                Utils_1.utils.config.xiaomiConfig.nativeBannerIds = _this.ServerConfig.native_banner_pos_id;
                Utils_1.utils.config.xiaomiConfig.nativeTryGameIds = _this.ServerConfig.native_trygame_pos_id;
                Utils_1.utils.config.xiaomiConfig.bannerId = _this._serverConfig.banner_pos_id;
              } else Utils_1.utils.showLog("\u4f7f\u7528\u672c\u5730\u914d\u7f6e\u7684\u5e7f\u544aID");
              if (_this.ServerConfig.native_banner_configs) for (var i = 0; i < _this.ServerConfig.native_banner_configs.length; i++) {
                Utils_1.utils.showLog("\u83b7\u53d6\u5230\u539f\u751f\u5e7f\u544a\u914d\u7f6e:" + _this.ServerConfig.native_banner_configs[i].location, ">>>>", JSON.stringify(_this.ServerConfig.native_banner_configs[i]));
                Utils_1.utils.config.xiaomiConfig.setNativeBannerInfo(_this.ServerConfig.native_banner_configs[i].location, _this.ServerConfig.native_banner_configs[i]);
              }
            } else _this._serverConfig = JSON.parse(ST_DefaultServerConfig);
            Utils_1.utils.emitServerInitEvent();
          });
        }
      };
      YZ_Tool_Xiaomi.prototype.isOverMiniVersion = function(miniVersion) {
        if (PlatUtils_1.default.IsXiaoMi && this._sysInfo && this._sysInfo.platformVersionCode) return this._sysInfo.platformVersionCode >= miniVersion;
        return false;
      };
      YZ_Tool_Xiaomi.prototype.postLevel = function(level, status, levelName) {
        if (PlatUtils_1.default.IsXiaoMi) {
          var method = "m=rlevel";
          var url = POST_ServerUrl + method + "&level_id=" + level + "&level_name=" + encodeURI(levelName) + "&status=" + status;
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u6210\u529f\uff01") : Utils_1.utils.showLog("\u5173\u5361\u6570\u636e\u4e0a\u62a5\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Xiaomi.prototype.sendEvent = function(eventName) {
        if (PlatUtils_1.default.IsXiaoMi) {
          var method = "m=revent";
          var url = POST_ServerUrl + method + "&event=" + encodeURI(eventName);
          Utils_1.utils.commomHttpRequest(url, function(ret, data) {
            ret ? Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u6210\u529f\uff01") : Utils_1.utils.showLog("\u4e0a\u62a5\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5931\u8d25\uff01");
          }.bind(this));
        }
      };
      YZ_Tool_Xiaomi.prototype.getSystemInfo = function() {
        if (PlatUtils_1.default.IsXiaoMi) {
          this._sysInfo = qg.getSystemInfoSync();
          Utils_1.utils.showLog("\u83b7\u53d6\u7cfb\u7edf\u4fe1\u606f\u6210\u529f\uff1a" + JSON.stringify(this._sysInfo));
        }
      };
      YZ_Tool_Xiaomi.prototype.GameExit = function() {
        PlatUtils_1.default.IsXiaoMi && qg.exitApplication({
          success: function() {
            Utils_1.utils.showLog("exit Game success");
          },
          fail: function() {
            Utils_1.utils.showLog("exit Game fail");
          }
        });
      };
      YZ_Tool_Xiaomi = __decorate([ ccclass ], YZ_Tool_Xiaomi);
      return YZ_Tool_Xiaomi;
    }();
    exports.default = YZ_Tool_Xiaomi;
    cc._RF.pop();
  }, {
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  YZ_Turntable: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "51051Ce0K5D5bDuItdfCQ7T", "YZ_Turntable");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var CompatibleTool_1 = require("./CompatibleTool");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ST_TurntableCounts = "turntable_counts";
    var ST_TurntableTimes = "turntable_times";
    var YZ_Turntable = function(_super) {
      __extends(YZ_Turntable, _super);
      function YZ_Turntable() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.spinBtn = null;
        _this.wheelSp = null;
        _this.greaSprite = null;
        _this.firstSpriteFrame = null;
        _this.secondSpriteFrame = null;
        _this.lastSpriteFrame = null;
        _this.effectAudio = null;
        _this.panel = null;
        _this.videoIcon = null;
        _this.spriteDouble = null;
        _this.spritePass = null;
        _this.tirpNode = null;
        _this.checked = null;
        _this.closeBtn = null;
        _this.videoBtn = null;
        _this.resultMsg = null;
        _this.turnCountLbl = null;
        _this.luckBox = null;
        _this.countBar = null;
        _this.normalBtn = null;
        _this.normalCloseBtn = null;
        _this.topCloseBtn = null;
        _this.maxSpeed = 12;
        _this.duration = 3;
        _this.acc = .1;
        _this.targetID = 0;
        _this.springback = false;
        _this.wheelState = 0;
        _this.curSpeed = 0;
        _this.spinTime = 0;
        _this.gearNum = 8;
        _this.defaultAngle = .5;
        _this.gearAngle = 360 / _this.gearNum;
        _this.finalAngle = 0;
        _this.effectFlag = 0;
        _this.audioID = 0;
        _this.decAngle = 0;
        _this._turntableCount = 0;
        _this._turntablePlayCount = 0;
        _this.luckBoxCount = 4;
        _this._updateProgress = false;
        _this._progress = 0;
        _this.defaultProgress = 1e-8;
        _this.rewardCallFunc = null;
        _this.gearInfo = [ 200, 100, 300, 400, 800, 500, 1e3, 4e3 ];
        return _this;
      }
      Object.defineProperty(YZ_Turntable.prototype, "turntableCount", {
        get: function() {
          return this._turntableCount;
        },
        set: function(count) {
          this._turntableCount = count;
          YZ_LocalStorage_1.default.setItem(ST_TurntableTimes, new Date().toDateString());
          YZ_LocalStorage_1.default.setItem(ST_TurntableCounts, this._turntableCount);
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(YZ_Turntable.prototype, "turntablePlayCount", {
        get: function() {
          return this._turntablePlayCount;
        },
        set: function(count) {
          var _this = this;
          if (this.luckBoxCount - count == 0) {
            this.luckBox.node.active = true;
            count = 0;
            this.countBar.progress = this.defaultProgress;
            this.luckBox.setAnimation(1, "dakai", false);
            this.scheduleOnce(function() {
              Utils_1.utils.SendEvent("\u8f6c\u76d8\u62bd\u5956\u83b7\u53d6\u7d2f\u8ba14\u6b21\u5927\u5956\uff01");
              _this.showMsg(_this.gearInfo[7]);
              if (_this.rewardCallFunc) {
                var result = new YZ_Constant_1.YZ_Reward();
                result.rewardValue = _this.gearInfo[7];
                _this.rewardCallFunc(result);
              }
            }, .6);
            this.scheduleOnce(function() {
              _this.luckBox.setAnimation(1, "kd", false);
            }, 2);
            this.scheduleOnce(function() {
              _this.luckBox.node.runAction(cc.sequence(cc.scaleTo(.2, .8), cc.callFunc(function() {
                _this.luckBox.node.active = false;
                _this.luckBox.node.scale = 2;
              })));
            }, 4);
          }
          this._turntablePlayCount = count;
          YZ_LocalStorage_1.default.setItem("turntablePlayCount", this._turntablePlayCount);
          this._progress = count / this.luckBoxCount;
          this.turnCountLbl.string = this.luckBoxCount - count + "";
          this.turnCountLbl.node.runAction(cc.sequence(cc.scaleTo(.3, 1.8), cc.scaleTo(.3, 1)));
        },
        enumerable: false,
        configurable: true
      });
      YZ_Turntable.prototype.init = function(closeCallFunc, rewardCallFunc, gearInfo, gearImagePath) {
        var _this = this;
        this.rewardCallFunc = rewardCallFunc;
        gearInfo.length > 0 && (this.gearInfo = gearInfo);
        if (gearImagePath) {
          Utils_1.utils.showLog("\u914d\u7f6e\u4e3a\u670d\u52a1\u5668\u7684\u5956\u52b1\u56fe\u7247\uff1a", gearImagePath);
          CompatibleTool_1.default.LoadRes(gearImagePath, function(err, res) {
            !err && cc.isValid(_this) && _this.greaSprite && (_this.greaSprite.spriteFrame = new cc.SpriteFrame(res));
          });
        }
      };
      YZ_Turntable.prototype.onLoad = function() {
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        this.wheelSp.node.rotation = this.defaultAngle;
        Utils_1.utils.SendEvent("\u8f6c\u76d8\u62bd\u5956-\u663e\u793a\u6210\u529f\uff01");
        this.initCount();
        if (this.turntableCount <= 0) {
          this.normalBtn.active = false;
          this.videoBtn.active = true;
          this.normalCloseBtn.active = true;
          Utils_1.utils.showScaleAction(this.videoBtn, null, false, false);
        } else {
          this.normalCloseBtn.active = false;
          Utils_1.utils.showScaleAction(this.normalBtn, null, false, false);
        }
        Utils_1.utils.showSkipBtn(this.closeBtn, true);
        this.rewardCallFunc = Utils_1.utils.rewardCallFunc;
        cc.winSize.height < cc.winSize.width ? Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Game) : Utils_1.utils.adManager.ShowBanner(YZ_Constant_1.BannerLocation.Game);
      };
      YZ_Turntable.prototype.startTurnTable = function() {
        var _this = this;
        if (0 !== this.wheelState) return;
        if (this.turntableCount <= 0) {
          if (this.checked.active || this.spinBtn.active) {
            Utils_1.utils.adManager.ShowVideo(function(ret, msg) {
              if (ret) {
                _this.turntableCount = 1;
                _this.startTurnTable();
                Utils_1.utils.SendEvent("\u8f6c\u76d8\u62bd\u5956\u83b7\u53d6\u5956\u52b1-\u6210\u529f\uff01");
              } else {
                Utils_1.utils.showMsg("\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u53ef\u4ee5\u83b7\u53d6\u4e00\u6b21\u62bd\u5956\u673a\u4f1a\uff01");
                Utils_1.utils.SendEvent("\u8f6c\u76d8\u62bd\u5956\u89c6\u9891\u64ad\u653e-\u5931\u8d25\uff01");
                _this.onClose();
              }
            });
            return;
          }
          this.onClose();
          return;
        }
        this.turntableCount = 0;
        this.targetID = this.getTargetId();
        this.decAngle = 720;
        this.wheelState = 1;
        this.curSpeed = 0;
        this.spinTime = 0;
      };
      YZ_Turntable.prototype.onCheck = function() {
        this.checked.active = !this.checked.active;
        this.spritePass.active = !this.checked.active;
        this.spriteDouble.active = this.checked.active;
        this.videoIcon.active = this.checked.active;
      };
      YZ_Turntable.prototype.onClose = function() {
        var _this = this;
        this.panel.runAction(cc.sequence(cc.scaleTo(.3, 0).easing(cc.easeBackIn()), cc.callFunc(function() {
          _this.node.destroy();
        })));
      };
      YZ_Turntable.prototype.onEnable = function() {
        this.panel.scale = 0;
        var ratio = 1;
        ratio = cc.winSize.height < cc.winSize.width ? .6 : cc.winSize.width / 1080;
        this.panel.runAction(cc.scaleTo(.3, ratio).easing(cc.easeBackOut()));
      };
      YZ_Turntable.prototype.onDestroy = function() {
        if (Utils_1.utils.turnTablePanelCloseFunc) {
          Utils_1.utils.turnTablePanelCloseFunc();
          Utils_1.utils.turnTablePanelCloseFunc = null;
        } else {
          Utils_1.utils.rewardCloseFunc && Utils_1.utils.rewardCloseFunc();
          Utils_1.utils.rewardCloseFunc = null;
        }
        Utils_1.utils.adManager.HideBanner(YZ_Constant_1.BannerLocation.Game);
      };
      YZ_Turntable.prototype.checkBtnSpriteFrame = function() {
        if (this.turntableCount <= 0) {
          this.normalBtn.active = false;
          this.videoBtn.active = true;
          this.normalCloseBtn.active = true;
          Utils_1.utils.showScaleAction(this.videoBtn, null, false, false);
        } else this.normalCloseBtn.active = false;
      };
      YZ_Turntable.prototype.initCount = function() {
        var turntableCount = YZ_LocalStorage_1.default.getItem(ST_TurntableCounts);
        var day = YZ_LocalStorage_1.default.getItem(ST_TurntableTimes);
        var curDate = new Date();
        day != curDate.toDateString() ? this.turntableCount = 1 : this._turntableCount = turntableCount;
        this.countBar.progress = this.defaultProgress;
        this.turntablePlayCount = YZ_LocalStorage_1.default.getItem("turntablePlayCount") ? YZ_LocalStorage_1.default.getItem("turntablePlayCount") : 0;
        this.countBar.progress = this.turntablePlayCount / this.luckBoxCount;
        Utils_1.utils.showLog("\u5f53\u524d\u5269\u4f59\u62bd\u5956\u6b21\u6570\uff1a", this.turntableCount);
      };
      YZ_Turntable.prototype.test = function() {
        if (0 !== this.wheelState) return;
        this.targetID = this.getTargetId();
        cc.log("\u7ed3\u679c\uff1a", this.targetID);
        this.decAngle = 720;
        this.wheelState = 1;
        this.curSpeed = 0;
        this.spinTime = 0;
      };
      YZ_Turntable.prototype.getTargetId = function() {
        var ranNum = Math.random();
        var n = Math.random() / 4;
        var result = 0;
        ranNum < .01 ? result = 1 : ranNum < .04 ? result = .9 : ranNum < .1 ? result = .5 : ranNum < .2 ? result = .7 : ranNum < 1 && (result = .1 * Math.floor(4 * Math.random()));
        return Math.floor(8 * result);
      };
      YZ_Turntable.prototype.showMsg = function(gold) {
        var msg = cc.instantiate(this.resultMsg);
        cc.find("kuang/goldLbl", msg).getComponent(cc.Label).string = "" + gold;
        msg.active = true;
        msg.scale = .3;
        this.node.addChild(msg);
        msg.runAction(cc.scaleTo(.3, this.panel.scale).easing(cc.easeBackOut()));
        this.scheduleOnce(function() {
          msg.destroy();
          msg.removeFromParent();
        }, 1.2);
      };
      YZ_Turntable.prototype.showRes = function() {
        var _this = this;
        this.showMsg(this.gearInfo[this.targetID]);
        this.scheduleOnce(function() {
          _this.turntablePlayCount++;
        }, 1);
        if (this.rewardCallFunc) {
          var result = new YZ_Constant_1.YZ_Reward();
          result.rewardValue = this.gearInfo[this.targetID];
          this.rewardCallFunc(result);
        }
        this.checkBtnSpriteFrame();
      };
      YZ_Turntable.prototype.update = function(dt) {
        this.countBar.progress < this._progress && (this.countBar.progress += dt);
        if (0 === this.wheelState) return;
        this.effectFlag += this.curSpeed;
        if (this.effectFlag >= this.gearAngle) {
          this.audioID = cc.audioEngine.playEffect(this.effectAudio, false);
          this.effectFlag = 0;
        }
        if (1 == this.wheelState) {
          this.spinTime += dt;
          this.wheelSp.node.rotation = this.wheelSp.node.rotation + this.curSpeed;
          if (this.curSpeed <= this.maxSpeed) this.curSpeed += this.acc; else {
            if (this.spinTime < this.duration) return;
            this.finalAngle = 360 - this.targetID * this.gearAngle + this.defaultAngle;
            this.maxSpeed = this.curSpeed;
            this.springback && (this.finalAngle += this.gearAngle);
            this.wheelSp.node.rotation = this.finalAngle;
            this.wheelState = 2;
          }
        } else if (2 == this.wheelState) {
          var curRo = this.wheelSp.node.rotation;
          var hadRo = curRo - this.finalAngle;
          this.curSpeed = this.maxSpeed * ((this.decAngle - hadRo) / this.decAngle) + .2;
          this.wheelSp.node.rotation = curRo + this.curSpeed;
          if (this.decAngle - hadRo <= 0) {
            this.wheelState = 0;
            this.wheelSp.node.rotation = this.finalAngle;
            if (this.springback) {
              var act = cc.rotateBy(.6, -this.gearAngle);
              var seq = cc.sequence(cc.delayTime(.2), act, cc.callFunc(this.showRes, this));
              this.wheelSp.node.runAction(seq);
            } else this.showRes();
          }
        }
      };
      __decorate([ property(cc.Node) ], YZ_Turntable.prototype, "spinBtn", void 0);
      __decorate([ property(cc.Sprite) ], YZ_Turntable.prototype, "wheelSp", void 0);
      __decorate([ property(cc.Sprite) ], YZ_Turntable.prototype, "greaSprite", void 0);
      __decorate([ property(cc.SpriteFrame) ], YZ_Turntable.prototype, "firstSpriteFrame", void 0);
      __decorate([ property(cc.SpriteFrame) ], YZ_Turntable.prototype, "secondSpriteFrame", void 0);
      __decorate([ property(cc.SpriteFrame) ], YZ_Turntable.prototype, "lastSpriteFrame", void 0);
      __decorate([ property({
        type: cc.AudioClip
      }) ], YZ_Turntable.prototype, "effectAudio", void 0);
      __decorate([ property(cc.Node) ], YZ_Turntable.prototype, "panel", void 0);
      __decorate([ property(cc.Node) ], YZ_Turntable.prototype, "videoIcon", void 0);
      __decorate([ property(cc.Node) ], YZ_Turntable.prototype, "spriteDouble", void 0);
      __decorate([ property(cc.Node) ], YZ_Turntable.prototype, "spritePass", void 0);
      __decorate([ property(cc.Node) ], YZ_Turntable.prototype, "tirpNode", void 0);
      __decorate([ property(cc.Node) ], YZ_Turntable.prototype, "checked", void 0);
      __decorate([ property(cc.Node) ], YZ_Turntable.prototype, "closeBtn", void 0);
      __decorate([ property(cc.Node) ], YZ_Turntable.prototype, "videoBtn", void 0);
      __decorate([ property(cc.Node) ], YZ_Turntable.prototype, "resultMsg", void 0);
      __decorate([ property(cc.Label) ], YZ_Turntable.prototype, "turnCountLbl", void 0);
      __decorate([ property(sp.Skeleton) ], YZ_Turntable.prototype, "luckBox", void 0);
      __decorate([ property(cc.ProgressBar) ], YZ_Turntable.prototype, "countBar", void 0);
      __decorate([ property(cc.Node) ], YZ_Turntable.prototype, "normalBtn", void 0);
      __decorate([ property(cc.Node) ], YZ_Turntable.prototype, "normalCloseBtn", void 0);
      __decorate([ property(cc.Node) ], YZ_Turntable.prototype, "topCloseBtn", void 0);
      YZ_Turntable = __decorate([ ccclass ], YZ_Turntable);
      return YZ_Turntable;
    }(cc.Component);
    exports.default = YZ_Turntable;
    cc._RF.pop();
  }, {
    "./CompatibleTool": "CompatibleTool",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  YouWanAnalytics: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "cf318034rlIIL7zgdSzzaJ/", "YouWanAnalytics");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("../PlatUtils");
    var Utils_1 = require("../Utils");
    var YZ_Constant_1 = require("../YZ_Constant");
    var YZ_LocalStorage_1 = require("../YZ_LocalStorage");
    var EventAdInfo_1 = require("./EventAdInfo");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YouWanAnalytics = function() {
      function YouWanAnalytics() {}
      Object.defineProperty(YouWanAnalytics, "_yw_uid", {
        get: function() {
          return parseInt(YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_YOUWAN_UID, "-1"));
        },
        enumerable: false,
        configurable: true
      });
      YouWanAnalytics.login = function(callBackFunc) {
        var _this = this;
        if (!Utils_1.utils.config.otherconfig.yw_app_id) {
          this.showLog("yw_app_id \u672a\u914d\u7f6e\uff0c\u4e0d\u8fdb\u884c\u4e0a\u62a5\uff01");
          return;
        }
        var data = {};
        this.getDeviceInfo(data);
        this.getStaticParame(data);
        this.connect(this.LOGIN_URL, data, function(res, data) {
          if (res) {
            _this.showLog("\u767b\u5f55\u6210\u529f! >>result:" + JSON.stringify(data) + " #uid=" + data.uid);
            YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.ST_YOUWAN_UID, data.uid);
          } else _this.showLog("\u767b\u5f55\u5931\u8d25!");
          callBackFunc && callBackFunc(res, data);
        });
      };
      YouWanAnalytics.EventAd = function(adType, adStatus) {
        var _this = this;
        if (!Utils_1.utils.config.otherconfig.yw_app_id) {
          this.showLog("yw_app_id \u672a\u914d\u7f6e\uff0c\u4e0d\u8fdb\u884c\u4e0a\u62a5\uff01");
          return;
        }
        if (!PlatUtils_1.default.IsOPPO) return;
        var adInfo = new EventAdInfo_1.default(adType, adStatus);
        var data = {};
        this.getStaticParame(data);
        data.ad_data = [];
        data.ad_data[0] = adInfo.toJsonData();
        this.connect(this.EVENT_AD_URL, data, function(res) {
          res ? _this.showLog("\u4e0a\u62a5\u5e7f\u544a\u4e8b\u4ef6\u6210\u529f:" + JSON.stringify(adInfo.toJsonData())) : _this.showLog("\u4e0a\u62a5\u5e7f\u544a\u4e8b\u4ef6\u5931\u8d25:" + JSON.stringify(adInfo.toJsonData()));
        });
      };
      YouWanAnalytics.EventAdWithObj = function(adType, adStatus, adEventParameter) {
        var _this = this;
        if (!Utils_1.utils.config.otherconfig.yw_app_id) {
          this.showLog("yw_app_id \u672a\u914d\u7f6e\uff0c\u4e0d\u8fdb\u884c\u4e0a\u62a5\uff01");
          return;
        }
        if (!PlatUtils_1.default.IsOPPO) return;
        var adInfo = new EventAdInfo_1.default(adType, adStatus, adEventParameter);
        var data = {};
        this.getStaticParame(data);
        data.ad_data = [];
        data.ad_data[0] = adInfo.toJsonData();
        this.connect(this.EVENT_AD_URL, data, function(res) {
          res ? _this.showLog("\u4e0a\u62a5\u5e7f\u544a\u4e8b\u4ef6\u6210\u529f:" + JSON.stringify(adInfo.toJsonData())) : _this.showLog("\u4e0a\u62a5\u5e7f\u544a\u4e8b\u4ef6\u5931\u8d25:" + JSON.stringify(adInfo.toJsonData()));
        });
      };
      YouWanAnalytics.getStaticParame = function(data) {
        data.app_id = Utils_1.utils.config.otherconfig.yw_app_id;
        data.sdk_version = Utils_1.utils.utilsVersion;
        data.app_type = 1;
        -1 != this._yw_uid && (data.uid = this._yw_uid);
        data.country = "CN";
        data.uuid = YZ_LocalStorage_1.default.getItem(YZ_Constant_1.default.ST_UUID, "") || Utils_1.utils.generateUUID();
        if (PlatUtils_1.default.IsOPPO) {
          data.channel = "oppo";
          data.app_version = Utils_1.utils.config.oppoconfig.version;
        }
      };
      YouWanAnalytics.getDeviceInfo = function(data) {
        var systemInfo = {};
        if (PlatUtils_1.default.IsOPPO) {
          systemInfo = Utils_1.utils.oppoTool.SysInfo;
          data.pkg = Utils_1.utils.config.oppoconfig.packageName;
          data.device_id = Utils_1.utils.oppoTool._device_id;
          data.kernel_version = systemInfo.platformVersionCode;
          data.device_model = systemInfo.model;
          data.device_manufactory = systemInfo.brand;
          data.screen_height = systemInfo.screenHeight;
          data.screen_width = systemInfo.screenWidth;
          data.language = systemInfo.language;
          data.os = "Android";
          systemInfo.system.indexOf(" ") > -1 ? data.os_version_release = systemInfo.system.substr(systemInfo.system.indexOf(" ") + 1) : data.os_version_release = systemInfo.system;
        }
      };
      YouWanAnalytics.connect = function(url, parame, callBackFunc) {
        var _this = this;
        var xhr = new XMLHttpRequest();
        xhr.timeout = 6e3;
        xhr.open("POST", url + "?time_stamp=" + new Date().getTime());
        xhr.send("data=" + JSON.stringify(parame));
        this.showLog("connect\uff1a#url=" + url);
        this.showLog("connect\uff1a #parame==" + JSON.stringify(parame));
        xhr.onreadystatechange = function() {
          _this.showLog("\u8bf7\u6c42\u72b6\u6001\u6539\u53d8, reaedyState=", xhr.readyState, "; status=", xhr.status + " ; responseText=", xhr.responseText);
          if (4 == xhr.readyState) if (200 == xhr.status) {
            if (xhr.responseText) try {
              var result = JSON.parse(xhr.responseText);
              0 == result.code ? callBackFunc && callBackFunc(true, result.data || "") : callBackFunc && callBackFunc(false);
            } catch (error) {
              _this.showLog("connect erro\uff1a#msg=" + error);
            }
          } else {
            _this.showLog("connect erro\uff1a #parame==" + JSON.stringify(parame));
            callBackFunc && callBackFunc(false);
          }
        };
        xhr.ontimeout = function() {
          _this.showLog("connect timeout!");
          callBackFunc && callBackFunc(false);
        };
        xhr.onerror = function() {
          _this.showLog("connect onerror!");
          callBackFunc && callBackFunc(false);
        };
      };
      YouWanAnalytics.showLog = function(msg) {
        var any = [];
        for (var _i = 1; _i < arguments.length; _i++) any[_i - 1] = arguments[_i];
        Utils_1.utils.showLog("[YouWan] --- " + msg, any);
      };
      YouWanAnalytics.LOGIN_URL = "http://as.youlesp.com/as/login";
      YouWanAnalytics.EVENT_AD_URL = "http://e.youlesp.com/ae/ad";
      YouWanAnalytics = __decorate([ ccclass ], YouWanAnalytics);
      return YouWanAnalytics;
    }();
    exports.default = YouWanAnalytics;
    cc._RF.pop();
  }, {
    "../PlatUtils": "PlatUtils",
    "../Utils": "Utils",
    "../YZ_Constant": "YZ_Constant",
    "../YZ_LocalStorage": "YZ_LocalStorage",
    "./EventAdInfo": "EventAdInfo"
  } ],
  YzCustomAdPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3913b/5d+JET5bTvhP+7Ou3", "YzCustomAdPanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YzCustomAdPanel = function(_super) {
      __extends(YzCustomAdPanel, _super);
      function YzCustomAdPanel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.exitBtn = null;
        _this.closeCallFunc = null;
        _this.closeCount = 1;
        _this.closeBtnClickCount = 0;
        return _this;
      }
      YzCustomAdPanel.prototype.onLoad = function() {
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        Utils_1.utils.adManager.showCustomAd({
          location: 100
        });
        var ratio = 0;
        ratio = cc.winSize.height < cc.winSize.width ? cc.winSize.width / 1920 * .75 : cc.winSize.width / 1080;
        Utils_1.utils.getConfigByKey("custom_panel_close_count") && (this.closeCount = Utils_1.utils.getConfigByKey("custom_panel_close_count"));
        cc.find("Panel", this.node).scale = ratio;
        this.exitBtn.runAction(cc.fadeIn(3));
      };
      YzCustomAdPanel.prototype.onExitBtnClickListener = function() {
        Utils_1.utils.showLog("\u9000\u51fa\u6e38\u620f\u6a21\u7248\u5f39\u7a97\uff01");
        this.closeBtnClickCount++;
        if (this.closeCount == this.closeBtnClickCount) {
          cc.director.emit("CloseCustomADPanel");
          this.node.destroy();
          Utils_1.utils.adManager.hideCustomAd({
            location: 100
          });
          this.closeCallFunc && this.closeCallFunc();
        }
      };
      __decorate([ property({
        type: cc.Node
      }) ], YzCustomAdPanel.prototype, "exitBtn", void 0);
      YzCustomAdPanel = __decorate([ ccclass ], YzCustomAdPanel);
      return YzCustomAdPanel;
    }(cc.Component);
    exports.default = YzCustomAdPanel;
    cc._RF.pop();
  }, {
    "./Utils": "Utils"
  } ],
  YzLoginPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8cae4S0CzlIDZZOb48XMdWd", "YzLoginPanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YzLoginPanel = function(_super) {
      __extends(YzLoginPanel, _super);
      function YzLoginPanel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.ratio = 1;
        _this.okBtn = null;
        _this.successFunc = null;
        _this.failFunc = null;
        return _this;
      }
      YzLoginPanel.prototype.onLoad = function() {
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        var panel = cc.find("Panel", this.node);
        this.okBtn = cc.find("OKBtn", panel);
        cc.winSize.height < cc.winSize.width ? this.ratio = cc.winSize.width / 1920 * .75 : this.ratio = cc.winSize.width / 1080;
        cc.find("Panel", this.node).scale = this.ratio;
      };
      YzLoginPanel.prototype.onDestroy = function() {
        cc.game.targetOff(this);
      };
      YzLoginPanel.prototype.onOKClickListener = function() {
        var _this = this;
        this.okBtn.getComponent(cc.Button).interactable = false;
        var successFunc = function() {
          Utils_1.utils.showLog("\u767b\u5f55\u6210\u529f\uff01");
          _this.successFunc && _this.successFunc();
          _this.node.destroy();
        };
        var failFunc = function(result) {
          _this.failFunc && _this.failFunc();
          _this.okBtn.getComponent(cc.Button).interactable = true;
        };
        cc.game.targetOff(this);
        cc.game.on(YZ_Constant_1.default.ST_LOGIN_SUCCESS, successFunc, this);
        cc.game.on(YZ_Constant_1.default.ST_LOGIN_FAIL, failFunc, this);
        Utils_1.utils.login(null, null);
      };
      YzLoginPanel.prototype.onCloseClickListener = function() {
        Utils_1.utils.GameExit();
      };
      YzLoginPanel = __decorate([ ccclass ], YzLoginPanel);
      return YzLoginPanel;
    }(cc.Component);
    exports.default = YzLoginPanel;
    cc._RF.pop();
  }, {
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant"
  } ],
  YzRealNameAuthPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "48ce4dCA2JKc6UIPzo4VU0e", "YzRealNameAuthPanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var Utils_1 = require("./Utils");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YzRealNameAuthPanel = function(_super) {
      __extends(YzRealNameAuthPanel, _super);
      function YzRealNameAuthPanel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.edit_real_name = null;
        _this.edit_id_card = null;
        _this.realNameAuthPanel = null;
        _this.msgNode = null;
        _this.exitPanel = null;
        _this.toVerifyPanel = null;
        _this.offLinePanel = null;
        _this.edit_default_color = null;
        _this._isOffLine = false;
        _this.realNameAuthLandscapePanel = null;
        _this.regName = /^[\u4e00-\u9fa5]{2,4}$/;
        _this.regIdNo = /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;
        _this._clickTime = 0;
        return _this;
      }
      YzRealNameAuthPanel.prototype.onLoad = function() {
        Utils_1.utils.otherConfig && Utils_1.utils.otherConfig.group && (this.node.group = Utils_1.utils.otherConfig.group);
        var ratio = 0;
        if (cc.winSize.height < cc.winSize.width) {
          this.realNameAuthPanel = cc.find("Panel/RealNameAuthLandscapePanel", this.node);
          ratio = cc.winSize.width / 1920 * .75;
        } else {
          this.realNameAuthPanel = cc.find("Panel/RealNameAuthPanel", this.node);
          ratio = cc.winSize.width / 1080;
        }
        this.exitPanel = cc.find("Panel/ExitPanel", this.node);
        this.toVerifyPanel = cc.find("Panel/ToVerifyPanel", this.node);
        this.offLinePanel = cc.find("Panel/OfflinePanel", this.node);
        this.edit_id_card = this.realNameAuthPanel.getChildByName("editIdCard").getComponent(cc.EditBox);
        this.edit_real_name = this.realNameAuthPanel.getChildByName("editRealName").getComponent(cc.EditBox);
        this.msgNode = cc.find("Panel/MsgNode", this.node);
        this.edit_default_color = this.edit_real_name.fontColor;
        null == this.edit_default_color && (this.edit_default_color = new cc.Color(0, 0, 0, 63));
        cc.find("Panel", this.node).scale = ratio;
        this._isOffLine ? this.showOfferLine() : this.realNameAuthPanel.active = true;
      };
      YzRealNameAuthPanel.prototype.start = function() {};
      YzRealNameAuthPanel.prototype.onDestroy = function() {
        Utils_1.utils.emitRealNameAuthCloseEvent();
      };
      YzRealNameAuthPanel.prototype.onExitBtnClickListener = function() {
        Utils_1.utils.showLog("\u9000\u51fa\u6e38\u620f\uff01");
        Utils_1.utils.GameExit();
      };
      YzRealNameAuthPanel.prototype.onBackAuthBtnClickListener = function() {
        this.toVerifyPanel.active = false;
        this.exitPanel.active = false;
        this.realNameAuthPanel.active = true;
      };
      YzRealNameAuthPanel.prototype.showExitPanel = function() {
        this.toVerifyPanel.active = false;
        this.realNameAuthPanel.active = false;
        this.offLinePanel.active = false;
        this.exitPanel.active = true;
      };
      YzRealNameAuthPanel.prototype.showOfferLine = function() {
        this.toVerifyPanel.active = false;
        this.exitPanel.active = false;
        this.realNameAuthPanel.active = false;
        this.offLinePanel.active = true;
      };
      YzRealNameAuthPanel.prototype.onPostBtnClickListener = function() {
        var _this = this;
        var nowTime = new Date().getTime();
        if ((nowTime - this._clickTime) / 1e3 < 2) {
          this.showMsg("\u8bf7\u52ff\u9891\u7e41\u63d0\u4ea4\uff01");
          return;
        }
        this._clickTime = nowTime;
        if (!this.regName.test(this.edit_real_name.string)) {
          this.showMsg("\u771f\u5b9e\u59d3\u540d\u586b\u5199\u6709\u8bef!");
          this.edit_real_name.fontColor = cc.Color.RED;
          this.edit_real_name.setFocus();
          return false;
        }
        this.edit_real_name.fontColor = this.edit_default_color;
        if (!this.regIdNo.test(this.edit_id_card.string)) {
          this.edit_id_card.fontColor = cc.Color.RED;
          this.showMsg("\u8eab\u4efd\u8bc1\u53f7\u586b\u5199\u6709\u8bef!");
          this.edit_id_card.setFocus();
          return false;
        }
        this.edit_id_card.fontColor = this.edit_default_color;
        Utils_1.utils.realNameAuth(this.edit_id_card.string, this.edit_real_name.string, function(res, result) {
          Utils_1.utils.showLog("\u5b9e\u540d\u8ba4\u8bc1\u7ed3\u675f\uff1a#result=" + JSON.stringify(result));
          if (res) if (result) {
            var res_1 = JSON.parse(result);
            switch (res_1.code) {
             case 1:
              _this.showMsg(res_1.msg);
              break;

             case 0:
              "0" == res_1.nonage ? Utils_1.utils.setRealNameAuthLocalData("2") : Utils_1.utils.setRealNameAuthLocalData("1");
              Utils_1.utils._isRealNameAuth = true;
              res_1.msg && _this.showMsg(res_1.msg);
              _this.scheduleOnce(function() {
                _this.node.destroy();
              }, .5);
              break;

             case 2:
              Utils_1.utils.setRealNameAuthLocalData("2");
              _this.showOfferLine();
            }
          } else _this.showMsg("\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u63d0\u4ea4\u9a8c\u8bc1\uff01"); else _this.showMsg("\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u63d0\u4ea4\u9a8c\u8bc1\uff01");
        });
      };
      YzRealNameAuthPanel.prototype.showMsg = function(str) {
        var msgNode = cc.instantiate(this.msgNode);
        msgNode.getChildByName("msgLabel").getComponent(cc.Label).string = "" + str;
        this.node.addChild(msgNode, cc.macro.MAX_ZINDEX);
        msgNode.active = true;
        msgNode.runAction(cc.sequence(cc.delayTime(.8), cc.moveBy(.3, cc.v2(0, 80)), cc.callFunc(function() {
          msgNode.destroy();
        })));
      };
      YzRealNameAuthPanel = __decorate([ ccclass ], YzRealNameAuthPanel);
      return YzRealNameAuthPanel;
    }(cc.Component);
    exports.default = YzRealNameAuthPanel;
    cc._RF.pop();
  }, {
    "./Utils": "Utils"
  } ],
  YzUserPrivacyPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d0717GZecVL5p3tNcXpk9rY", "YzUserPrivacyPanel");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CompatibleTool_1 = require("./CompatibleTool");
    var PlatUtils_1 = require("./PlatUtils");
    var Utils_1 = require("./Utils");
    var YZ_Constant_1 = require("./YZ_Constant");
    var YZ_LocalStorage_1 = require("./YZ_LocalStorage");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var YzUserPrivacyPanel = function(_super) {
      __extends(YzUserPrivacyPanel, _super);
      function YzUserPrivacyPanel() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._userPrivacyInfo = null;
        _this._checkExit = null;
        _this._mainPanel = null;
        _this._userPrivacyDesc = null;
        _this.showDesc = false;
        _this.ratio = 1;
        _this.imgCount = 7;
        _this.scale = 1.5;
        _this.imgPath = "http://xcx.youletd.com/xcx/h5/privacyImg/";
        _this.companyInfoNode = null;
        _this.is_btn_jump_desc = false;
        return _this;
      }
      YzUserPrivacyPanel.prototype.onLoad = function() {
        (PlatUtils_1.default.IsWechat || PlatUtils_1.default.IsQQ || PlatUtils_1.default.IsDouyin || PlatUtils_1.default.IsBaidu) && (this.imgPath = "https://xcx.youletd.com/xcx/h5/privacyImg/");
        this._userPrivacyInfo = cc.find("PrivacyDesc", this.node);
        this._checkExit = cc.find("CheckPanel", this.node);
        this._mainPanel = cc.find("Panel", this.node);
        if (this.showDesc) {
          this._mainPanel.active = false;
          this._checkExit.active = false;
          this._userPrivacyInfo.getComponent(cc.ScrollView).content.getChildByName("choiseNode").active = false;
          this.showDescPanel();
        }
        if (cc.winSize.height < cc.winSize.width) {
          this.ratio = cc.winSize.width / 1920 * .75;
          this.imgCount = 5;
          this.imgPath += "h_";
          this.scale = 1.4;
        } else {
          this.ratio = cc.winSize.width / 1080;
          this.imgPath += "p_";
        }
        this._mainPanel.scale = this.ratio;
        this._checkExit.scale = this.ratio;
        this._userPrivacyInfo.getComponent(cc.ScrollView).content.getChildByName("choiseNode").scale = this.ratio;
        this._userPrivacyInfo.getChildByName("view").getChildByName("closeImg").scale = this.ratio;
        this._userPrivacyInfo.getChildByName("view").getChildByName("LaodingLabel").scale = this.ratio;
        this.companyInfoNode = this._userPrivacyInfo.getComponent(cc.ScrollView).content.getChildByName("ContactInfo");
        var subject = "\u6df1\u5733\u5e02\u4f18\u667a\u4fe1\u606f\u6280\u672f\u6709\u9650\u516c\u53f8";
        var contact = "\u8054\u7cfb\u90ae\u7bb1\uff1ayouzhixx@163.com";
        if (Utils_1.utils.ServerConfig.company) {
          subject = Utils_1.utils.ServerConfig.company.subject;
          contact = Utils_1.utils.ServerConfig.company.contact;
        }
        this.companyInfoNode.getChildByName("subject").getComponent(cc.Label).string = subject;
        this.companyInfoNode.getChildByName("contact").getComponent(cc.Label).string = contact;
      };
      YzUserPrivacyPanel.prototype.onOKClickListener = function() {
        YZ_LocalStorage_1.default.setItem(YZ_Constant_1.default.YZ_GAME_YSXY, "isOK");
        this.node.destroy();
        Utils_1.utils.emitPrivacyCloseEvent();
      };
      YzUserPrivacyPanel.prototype.onCloseClickListener = function() {
        if (PlatUtils_1.default.IsHuaWei) {
          Utils_1.utils.GameExit();
          return;
        }
        if (this._checkExit.active && (PlatUtils_1.default.IsQQ || PlatUtils_1.default.IsOPPO || PlatUtils_1.default.IsXiaoMi)) {
          Utils_1.utils.GameExit();
          return;
        }
        this._checkExit.active = !this._checkExit.active;
        this._mainPanel.active = !this._mainPanel.active;
      };
      YzUserPrivacyPanel.prototype.onClosePrivacyDesc = function() {
        if (this.showDesc) this.node.destroy(); else {
          this._userPrivacyInfo.active = false;
          var childs = this._userPrivacyInfo.getComponent(cc.ScrollView).content.children;
          for (var i = 0; i < childs.length; i++) childs[i].active = false;
        }
      };
      YzUserPrivacyPanel.prototype.onJumpDescBtnClickListner = function() {
        this.is_btn_jump_desc = true;
        this.showDescPanel();
      };
      YzUserPrivacyPanel.prototype.showDescPanel = function() {
        var _this = this;
        this._userPrivacyInfo.active = true;
        this._userPrivacyInfo.getChildByName("view").getChildByName("LaodingLabel").active = true;
        this.scheduleOnce(function() {
          var p = new cc.Node();
          p.addComponent(cc.Sprite);
          var _loop_1 = function(i) {
            var p_1 = new cc.Node();
            p_1.addComponent(cc.Sprite);
            _this._userPrivacyInfo.getComponent(cc.ScrollView).content.addChild(p_1);
            CompatibleTool_1.default.LoadRes(_this.imgPath + i + ".png", function(err, res) {
              if (!err && cc.isValid(_this)) {
                p_1.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(res);
                p_1.height *= _this.scale * _this.ratio;
                p_1.width *= _this.scale * _this.ratio;
                i >= 1 && (_this._userPrivacyInfo.getChildByName("view").getChildByName("LaodingLabel").active = false);
                if (i >= _this.imgCount) {
                  _this.companyInfoNode.zIndex = _this.imgCount;
                  _this.companyInfoNode.active = true;
                  if (_this.is_btn_jump_desc) {
                    _this._userPrivacyInfo.getComponent(cc.ScrollView).content.getChildByName("choiseNode").zIndex = _this.imgCount + 1;
                    _this._userPrivacyInfo.getComponent(cc.ScrollView).content.getChildByName("choiseNode").active = true;
                  }
                }
              } else Utils_1.utils.showMsg("\u9690\u79c1\u534f\u8bae\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u5173\u95ed\u7a97\u53e3\u91cd\u65b0\u6253\u5f00");
            });
          };
          for (var i = 1; i <= _this.imgCount; i++) _loop_1(i);
        }, .5);
      };
      YzUserPrivacyPanel = __decorate([ ccclass ], YzUserPrivacyPanel);
      return YzUserPrivacyPanel;
    }(cc.Component);
    exports.default = YzUserPrivacyPanel;
    cc._RF.pop();
  }, {
    "./CompatibleTool": "CompatibleTool",
    "./PlatUtils": "PlatUtils",
    "./Utils": "Utils",
    "./YZ_Constant": "YZ_Constant",
    "./YZ_LocalStorage": "YZ_LocalStorage"
  } ],
  ZombieBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4f9b3rBNdNPy6WqLrNu03ZA", "ZombieBase");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("../../common-plugin/Scripts/PlatUtils");
    var CocosZ_1 = require("../Framework/CocosZ");
    var Constant_1 = require("../Framework/Constant");
    var gameDate_1 = require("../Game/gameDate");
    var gameMgr_1 = require("../Game/gameMgr");
    var person_1 = require("../Game/person");
    var UpgradeMgr_1 = require("../Game/UpgradeMgr");
    var bullet_1 = require("./bullet");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var AtkType;
    (function(AtkType) {
      AtkType[AtkType["front"] = 0] = "front";
      AtkType[AtkType["area"] = 1] = "area";
      AtkType[AtkType["charge"] = 2] = "charge";
      AtkType[AtkType["range"] = 3] = "range";
    })(AtkType || (AtkType = {}));
    var ZombieBase = function(_super) {
      __extends(ZombieBase, _super);
      function ZombieBase() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.zombieId = 0;
        _this.bullet_prefab = null;
        _this.sp_hongzhaquan = null;
        _this.audio_attack1 = null;
        _this.audio_attack2 = null;
        _this.audio_hart = null;
        _this.audio_die = null;
        _this.isBoss = false;
        _this._aniLayer = null;
        _this._spAni = null;
        _this._divToPlayer = cc.Vec2.ZERO;
        _this._time = -1;
        _this._canColor = true;
        _this._canAtk = true;
        return _this;
      }
      ZombieBase.prototype.onLoad = function() {
        var _this = this;
        this.id = 94;
        if (gameDate_1.default.ZombieMess[this.zombieId]) {
          this.totleHp = gameDate_1.default.ZombieMess[this.zombieId].hp;
          this.atkNum = gameDate_1.default.ZombieMess[this.zombieId].atk;
          this.atkRange = gameDate_1.default.ZombieMess[this.zombieId].atkRange;
          this.MoveSpeed = gameDate_1.default.ZombieMess[this.zombieId].speed;
          PlatUtils_1.default.IsOPPO && (this.MoveSpeed /= 2);
        }
        this.isBoss ? this.node.scale = 1 : this.node.scale = .8;
        this.rig = this.node.getComponent(cc.RigidBody);
        this.rig && (this.rig.linearDamping = .2);
        this._aniLayer = this.node.getChildByName("aniLayer");
        this._aniLayer && (this._spAni = this._aniLayer.getChildByName("ani").getComponent(sp.Skeleton));
        if (this._spAni) {
          this._spAni.setStartListener(function() {
            _this.startListenerCall();
          });
          this._spAni.setCompleteListener(function() {
            _this.endListenerCall();
          });
        }
      };
      ZombieBase.prototype.onDestroy = function() {
        cc.game.targetOff(this);
      };
      ZombieBase.prototype.start = function() {};
      ZombieBase.prototype.initNode = function() {
        var _this = this;
        gameMgr_1.gameMgr && gameMgr_1.gameMgr.setMapTs.checkNode(this.node, true);
        cc.game.on(Constant_1.default.E_GAME_LOGIC, this._onGameMessageHandler, this);
        gameMgr_1.gameMgr.zombieCurNum++;
        this.node.stopAllActions();
        this.node.zIndex = Constant_1.ZindexLayer.zindex_zombie + this.zombieId;
        this.node.opacity = 255;
        this.atkDir = cc.Vec2.ZERO;
        this.curHp = this.totleHp;
        this.isDeath = false;
        this.isAtk = false;
        this._canAtk = true;
        this.canMoveDir = true;
        this.canMove = true;
        if (this._spAni && this._spAni.isValid) {
          this._spAni.node.scaleX = Math.abs(this._spAni.node.scaleX);
          this._spAni.node.opacity = 255;
          this._spAni.node.color = cc.Color.WHITE;
          if (this.isBoss) {
            this._spAni.setAnimation(0, "spawn", false);
            this.scheduleOnce(function() {
              var boxCollider = _this.node.getComponent(cc.BoxCollider);
              boxCollider && (boxCollider.enabled = true);
            }, 2);
          } else {
            this._spAni.setAnimation(0, "idle", true);
            var boxCollider = this.node.getComponent(cc.BoxCollider);
            boxCollider && (boxCollider.enabled = true);
          }
        }
        if (this.sp_hongzhaquan) {
          this.sp_hongzhaquan.node.setParent(this.node.parent);
          this.sp_hongzhaquan.node.zIndex = Constant_1.ZindexLayer.zinedx_floorTip;
          this.sp_hongzhaquan.setCompleteListener(function() {
            _this.sp_hongzhaquan && _this.sp_hongzhaquan.isValid && (_this.sp_hongzhaquan.node.active = false);
          });
        }
        if (this.isBoss) {
          cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
            type: Constant_1.default.E_Commonzombie_Destory
          });
          gameMgr_1.gameMgr && gameMgr_1.gameMgr.showBossHp(1);
          this.node.getChildByName("boos") && (this.node.getChildByName("boos").active = true);
        }
      };
      ZombieBase.prototype.putNodePool = function() {
        cc.game.targetOff(this);
        if (this.isBoss) {
          this.node.getChildByName("boos") && (this.node.getChildByName("boos").active = false);
          if (gameMgr_1.gameMgr) {
            gameMgr_1.gameMgr && gameMgr_1.gameMgr.showBossHp(0);
            if (gameMgr_1.gameMgr.boss_border && cc.isValid(gameMgr_1.gameMgr.boss_border)) {
              gameMgr_1.gameMgr.boss_border.destroy();
              gameMgr_1.gameMgr.boss_border = null;
            }
          }
          this.isBoss = false;
        }
        if (this.sp_hongzhaquan && this.sp_hongzhaquan.isValid) {
          this.sp_hongzhaquan.node.setParent(this.node);
          this.sp_hongzhaquan.node.active = false;
        }
        gameMgr_1.gameMgr.zombieCurNum--;
        gameMgr_1.gameMgr && gameMgr_1.gameMgr.isValid && gameMgr_1.gameMgr.nodePut(this.node.name, this.node);
      };
      ZombieBase.prototype.startListenerCall = function() {
        var _this = this;
        if (this._spAni.animation.includes("spawn")) {
          this._spAni.timeScale = .4;
          this.scheduleOnce(function() {
            _this._spAni.timeScale = 1;
          }, 1);
          this.canMoveDir = false;
          var fromPos = this.node.getPosition();
          var toPos = gameMgr_1.gameMgr.playerTs.node.getPosition();
          var div = toPos.subSelf(fromPos);
          this._spAni.node.scaleX = (div.x > 0 ? 1 : -1) * Math.abs(this._spAni.node.scaleX);
        } else if (this._spAni.animation.includes("attack")) {
          this.isAtk = true;
          this.canMoveDir = false;
          if ([ 8, 9, 18 ].includes(this.zombieId) && "attack2" == this._spAni.animation) {
            this.speedRate *= 2.5;
            this.udpateRBody(this.moveDir);
            this.scheduleOnce(function() {
              _this.speedRate /= 2.5;
              _this.moveDir = cc.Vec2.ZERO;
              _this.udpateRBody(_this.moveDir);
            }, .2);
          } else if ([ 10, 11, 12, 13 ].includes(this.zombieId) && "attack2" == this._spAni.animation) {
            this.speedRate *= 3;
            this.udpateRBody(this.moveDir);
            this.scheduleOnce(function() {
              _this.speedRate /= 3;
              _this.moveDir = cc.Vec2.ZERO;
              _this.udpateRBody(_this.moveDir);
            }, .2);
          } else if ([ 14, 19 ].includes(this.zombieId) && this._spAni.animation.includes("attack")) {
            this.speedRate *= 3;
            this.udpateRBody(this.moveDir);
            this.scheduleOnce(function() {
              _this.speedRate /= 3;
              _this.moveDir = cc.Vec2.ZERO;
              _this.udpateRBody(_this.moveDir);
            }, .2);
          } else if (15 == this.zombieId && "attack" == this._spAni.animation) {
            this.speedRate *= 3;
            this.udpateRBody(this.moveDir);
            this.scheduleOnce(function() {
              _this.speedRate /= 3;
              _this.moveDir = cc.Vec2.ZERO;
              _this.udpateRBody(_this.moveDir);
            }, .4);
          } else if (16 == this.zombieId && "attack" == this._spAni.animation) {
            this.speedRate *= 2;
            this.udpateRBody(this.moveDir);
            this.scheduleOnce(function() {
              _this.speedRate /= 2;
              _this.moveDir = cc.Vec2.ZERO;
              _this.udpateRBody(_this.moveDir);
            }, .3);
          } else if (17 == this.zombieId && this._spAni.animation.includes("attack")) {
            this.speedRate *= 2;
            this.udpateRBody(this.moveDir);
            this.scheduleOnce(function() {
              _this.speedRate /= 2;
              _this.moveDir = cc.Vec2.ZERO;
              _this.udpateRBody(_this.moveDir);
            }, .3);
          } else {
            this.moveDir = cc.Vec2.ZERO;
            this.udpateRBody(this.moveDir);
          }
        } else this._spAni.animation.includes("jump_up") && (this.canMoveDir = false);
      };
      ZombieBase.prototype.endListenerCall = function() {
        if (this._spAni.animation.includes("spawn")) {
          this._spAni.setAnimation(0, "idle", true);
          this.canMoveDir = true;
          this.updateMove();
          this.updatePerson();
          this.udpateRBody(this.moveDir);
        } else if (this._spAni.animation.includes("attack")) {
          this._spAni.setAnimation(0, "idle", true);
          this.isAtk = false;
          this.canMoveDir = true;
          this.updateMove();
          this.updatePerson();
          this.udpateRBody(this.moveDir);
          this.atkDir = cc.Vec2.ZERO;
        } else if (this._spAni.animation.includes("jump_down")) {
          this._spAni.setAnimation(0, "idle", true);
          this.canMoveDir = true;
          this.moveDir = cc.Vec2.ZERO;
          this.udpateRBody(this.moveDir);
        }
      };
      ZombieBase.prototype._onGameMessageHandler = function(event) {
        var _this = this;
        switch (event.type) {
         case Constant_1.default.E_Allzombie_Destory:
          this.hart(9999999, null, null, true, true, cc.Color.WHITE, true);
          break;

         case Constant_1.default.E_Commonzombie_Destory:
          this.isBoss || cc.tween(this.node).to(.3, {
            opacity: 1
          }, {
            easing: "fade"
          }).call(function() {
            _this.putNodePool();
          }).start();
        }
      };
      ZombieBase.prototype.lateUpdate = function(dt) {
        if (this.isDeath || CocosZ_1.cocosz.isPause || !gameMgr_1.gameMgr.isGameStart || gameMgr_1.gameMgr.isWin || gameMgr_1.gameMgr.isFail) {
          this.udpateRBody(cc.Vec2.ZERO);
          return;
        }
        this._time++;
        if (this._time % 15 == 0) {
          if (this._time % 30 == 0) {
            this.updateDiv();
            this.updateMove();
          }
          this.updateAtk();
          this.updateAni();
          this.updatePerson();
          this.udpateRBody(this.moveDir);
        }
      };
      ZombieBase.prototype.updateDiv = function() {
        var fromPos = this.node.getPosition();
        var toPos = gameMgr_1.gameMgr.playerTs.node.getPosition();
        this._divToPlayer = toPos.subSelf(fromPos);
        !this.isBoss && this._divToPlayer.mag() > cc.winSize.height / 2 / gameMgr_1.gameMgr.mainCamera.zoomRatio && this.putNodePool();
      };
      ZombieBase.prototype.updateMove = function() {
        if (this.rig.type == cc.RigidBodyType.Dynamic && this.canMove && this.canMoveDir && gameMgr_1.gameMgr.playerTs) if (gameMgr_1.gameMgr.playerTs.isDeath) this._divToPlayer.mag() < (this.isBoss ? 800 : 1500) ? this.moveDir = this._divToPlayer.normalize().negSelf() : this.moveDir = cc.v2(this._divToPlayer.normalize()).rotateSelf(2 * Math.PI * Math.random()); else if (3 == this.zombieId && Math.random() < .2) {
          if (!this._spAni.animation.includes("jump")) {
            this._spAni.setAnimation(0, "jump_up", false);
            this._spAni.addAnimation(0, "jump_down", false);
            this.moveDir = this._divToPlayer.normalize();
          }
        } else this._divToPlayer.mag() >= .8 * this.atkRange ? this.moveDir = cc.v2(this._divToPlayer.normalize()).rotateSelf(Math.PI / 2 * (.5 - Math.random())) : this.moveDir = cc.Vec2.ZERO;
      };
      ZombieBase.prototype.updateAtk = function() {
        if (this.canAtk()) if (gameMgr_1.gameMgr.playerTs && !gameMgr_1.gameMgr.playerTs.isDeath) if (this._divToPlayer.mag() < this.atkRange) {
          this.atkDir = this._divToPlayer.normalize();
          this.atk();
        } else switch (this.zombieId) {
         case 8:
         case 9:
         case 10:
         case 11:
         case 12:
         case 13:
         case 18:
          if (this._divToPlayer.mag() < 600 && Math.random() < .1 * (this.isBoss ? 2 : 1)) {
            this.atkDir = this._divToPlayer.normalize();
            this.moveDir = this._divToPlayer.normalize();
            this.atk("attack2");
          }
          break;

         case 14:
         case 16:
         case 19:
         case 15:
          if (this._divToPlayer.mag() < 800 && Math.random() < .1 * (this.isBoss ? 2 : 1)) {
            this.atkDir = this._divToPlayer.normalize();
            this.moveDir = this._divToPlayer.normalize();
            this.atk("attack");
          }
          break;

         case 16:
          if (this._divToPlayer.mag() < 600 && Math.random() < .1 * (this.isBoss ? 2 : 1)) {
            this.atkDir = this._divToPlayer.normalize();
            this.moveDir = this._divToPlayer.normalize();
            this.atk("attack");
          }
          break;

         case 17:
          if (this._divToPlayer.mag() < 600 && Math.random() < .15 * (this.isBoss ? 2 : 1)) {
            this.atkDir = this._divToPlayer.normalize();
            this.moveDir = this._divToPlayer.normalize();
            this.atk();
          }
          break;

         case 20:
          if (this._divToPlayer.mag() < 600) {
            if (Math.random() < .15 * (this.isBoss ? 2 : 1)) {
              this.atkDir = this._divToPlayer.normalize();
              this.moveDir = this._divToPlayer.normalize();
              this.atk("attack");
            }
          } else this.sp_hongzhaquan.isValid && !this.sp_hongzhaquan.node.active && this._divToPlayer.mag() > 800 && this.atk("bullet_chui");
        } else this.atkDir = cc.Vec2.ZERO; else ;
      };
      ZombieBase.prototype.updateAni = function() {
        false == this.isDeath ? 0 == this._spAni.timeScale || this._spAni.animation.includes("spawn") || this._spAni.animation.includes("attack") || this._spAni.animation.includes("jump") || (this.moveDir && this.moveDir.mag() ? 17 == this.zombieId ? !this._spAni.animation.includes("wing") && this._spAni.setAnimation(0, "wing", true) : !this._spAni.animation.includes("run") && this._spAni.setAnimation(0, "run", true) : !this._spAni.animation.includes("idle") && this._spAni.setAnimation(0, "idle", true)) : this._spAni && this._spAni.skeletonData && this._spAni.skeletonData.skeletonJson.animations["die"] && !this._spAni.animation.includes("die") && this._spAni.setAnimation(0, "die", false);
      };
      ZombieBase.prototype.updatePerson = function() {
        var dir = null;
        this.atkDir && this.atkDir.mag() ? dir = this.atkDir : this.moveDir && this.moveDir.mag() && (dir = this.moveDir);
        dir && (this._spAni.node.scaleX = Math.abs(this._spAni.node.scaleX) * (dir.x > 0 ? 1 : -1));
      };
      ZombieBase.prototype.udpateRBody = function(dir, isMust) {
        void 0 === isMust && (isMust = false);
        this.rig.type == cc.RigidBodyType.Dynamic && (this.canMove || isMust) && (dir && !dir.equals(cc.Vec2.ZERO) ? this.rig.linearVelocity = dir.mul(Math.floor(this.MoveSpeed * this.speedRate * (1 - .2 * Math.random()))) : this.rig.linearVelocity = cc.Vec2.ZERO);
      };
      ZombieBase.prototype.atk = function(aniName) {
        var _this = this;
        void 0 === aniName && (aniName = "");
        var atkType = AtkType.front;
        var atkRange = this.atkRange;
        var atkTime = 0;
        var bulletTime = 2;
        var clip = this.audio_attack1;
        switch (this.zombieId) {
         case 0:
         case 1:
          if (Math.random() < .5) aniName = "attack"; else {
            aniName = "attack2";
            clip = this.audio_attack2;
          }
          atkTime = .3;
          break;

         case 2:
         case 3:
          aniName = "attack1";
          atkTime = .3;
          break;

         case 4:
          aniName = "attack";
          atkTime = .3;
          break;

         case 5:
         case 6:
          aniName = "attack";
          atkTime = 4;
          atkType = AtkType.range;
          bulletTime = 2;
          this._canAtk = false;
          break;

         case 7:
          break;

         case 8:
         case 18:
          if ("attack2" == aniName) {
            aniName = "attack2";
            atkRange = 300;
            atkTime = .3;
            atkType = AtkType.area;
            clip = this.audio_attack2;
          } else {
            aniName = "attack";
            atkRange = 350;
            atkTime = .3;
          }
          break;

         case 9:
          if ("attack2" == aniName) {
            aniName = "attack2";
            atkRange = 450;
            atkTime = .3;
            clip = this.audio_attack2;
          } else {
            aniName = "attack";
            atkRange = 350;
            atkTime = .3;
          }
          break;

         case 10:
          if ("attack2" == aniName) {
            aniName = "attack2";
            atkRange = 200;
            atkTime = .3;
            clip = this.audio_attack2;
          } else {
            aniName = "attack";
            atkRange = 200;
            atkTime = .3;
          }
          break;

         case 11:
         case 12:
         case 13:
          if ("attack2" == aniName) {
            aniName = "attack2";
            atkRange = 250;
            atkTime = .3;
            clip = this.audio_attack2;
          } else {
            aniName = "attack";
            atkRange = 250;
            atkTime = .3;
          }
          break;

         case 14:
         case 19:
          if (Math.random() < .6) {
            aniName = "attack";
            atkRange = 350;
            atkTime = .3;
            atkType = AtkType.charge;
            clip = this.audio_attack1;
          } else {
            aniName = "attack2";
            atkRange = 350;
            atkTime = .3;
            clip = this.audio_attack2;
          }
          break;

         case 15:
          if ("attack" == aniName) {
            aniName = "attack";
            atkRange = 250;
            atkTime = .3;
            atkType = AtkType.charge;
          } else {
            aniName = "attack2";
            atkRange = 400;
            atkTime = .3;
          }
          break;

         case 16:
          if ("attack" == aniName || Math.random() < .4) {
            aniName = "attack";
            atkRange = 450;
            atkTime = .3;
            atkType = AtkType.area;
          } else {
            aniName = "attack2";
            atkRange = 300;
            atkTime = .3;
          }
          break;

         case 17:
          if (Math.random() < .5) {
            aniName = "attack";
            atkRange = 200;
            atkTime = .3;
          } else {
            aniName = "attack2";
            atkRange = 200;
            atkTime = .3;
            atkType = AtkType.charge;
          }
          break;

         case 20:
          if ("bullet_chui" == aniName) {
            atkType = AtkType.range;
            aniName = "attack2";
            bulletTime = 1.5;
          } else if ("attack" == aniName) {
            aniName = "attack";
            atkRange = 500;
            atkTime = .3;
          } else {
            aniName = "attack2";
            atkRange = 300;
            atkTime = .3;
          }
        }
        aniName && this._spAni.setAnimation(0, aniName, false);
        clip && clip.isValid && gameMgr_1.gameMgr.playClip(clip, this.node, .5);
        var call = function() {
          if (gameMgr_1.gameMgr.playerTs && !gameMgr_1.gameMgr.playerTs.isDeath) {
            var fromPos = _this.node.getPosition();
            var toPos = gameMgr_1.gameMgr.playerTs.node.getPosition();
            var div = toPos.subSelf(fromPos);
            if (div.mag() < atkRange) if (atkType == AtkType.front) (div.mag() < 200 || div.x * _this._spAni.node.scale > 0 && Math.abs(div.y / div.x) < 1.4) && gameMgr_1.gameMgr.playerTs.hart(1, _this.node, div.normalizeSelf(), true); else if (atkType === AtkType.charge) {
              gameMgr_1.gameMgr.playerTs.hart(1, _this.node, div.normalizeSelf(), true);
              _this.unschedule(call);
            } else gameMgr_1.gameMgr.playerTs.hart(1, _this.node, div.normalizeSelf(), true);
          }
        };
        if (atkType == AtkType.front || atkType == AtkType.area) this.scheduleOnce(call, atkTime); else if (atkType == AtkType.charge) this.schedule(call, 0, 15); else if (atkType == AtkType.range) {
          var pos_from = this.node.getPosition();
          var pos_to_1 = gameMgr_1.gameMgr.playerTs.node.getPosition();
          var p2 = cc.v2((pos_from.x + pos_to_1.x) / 2, pos_from.y + 1500);
          if (this.bullet_prefab) {
            var bullet_2 = cc.instantiate(this.bullet_prefab);
            var ts_1 = bullet_2.getComponent(bullet_1.default);
            ts_1.id = this.id;
            ts_1.atker = this.node;
            ts_1.atk = this.atkNum;
            ts_1.isAngle = true;
            bullet_2.setPosition(pos_from);
            bullet_2.zIndex = Constant_1.ZindexLayer.zindex_bullet_sky;
            bullet_2.parent = this.node.parent;
            cc.tween(bullet_2).call(function() {
              if (_this.sp_hongzhaquan && _this.sp_hongzhaquan.isValid) {
                _this.sp_hongzhaquan.node.active = true;
                _this.sp_hongzhaquan.node.setPosition(pos_to_1);
                _this.sp_hongzhaquan.setAnimation(0, "animation", false);
              }
            }).bezierTo(bulletTime, pos_from, p2, pos_to_1).call(function() {
              if (ts_1.boomEffect) {
                var boom = cc.instantiate(ts_1.boomEffect);
                boom.parent = ts_1.node.parent;
                boom.setPosition(ts_1.node.getPosition());
                var curBullet = boom.getComponent(bullet_1.default);
                curBullet.atk = ts_1.atk;
                curBullet.atker = ts_1.atker;
                curBullet.id = ts_1.id;
                gameMgr_1.gameMgr.playEffect("explo", boom);
                if (ts_1.hitEffect) {
                  var pos = bullet_2.getPosition();
                  var node = cc.instantiate(ts_1.hitEffect);
                  node.parent = bullet_2.parent;
                  node.setPosition(pos);
                  node.zIndex = Constant_1.ZindexLayer.zindex_effect_hit;
                }
              }
              bullet_2.destroy();
            }).start();
            this.scheduleOnce(function() {
              _this._canAtk = true;
            }, atkTime);
          }
        }
      };
      ZombieBase.prototype.hart = function(atkNum, from, dir, isAudio, isEmit, labelColor, isMust) {
        var _this = this;
        void 0 === isAudio && (isAudio = true);
        void 0 === isEmit && (isEmit = true);
        void 0 === isMust && (isMust = false);
        if (this.isDeath) return;
        if (false == isMust && CocosZ_1.cocosz.isPause) return;
        dir && dir.mag() > 3 && dir.normalizeSelf().mulSelf(3);
        atkNum = (1 - this.damageReduction) * atkNum;
        gameMgr_1.gameMgr.showRoleTip(this.node, Math.min(this.HP, atkNum).toFixed(0), labelColor);
        this.HP -= atkNum;
        this.isBoss && gameMgr_1.gameMgr && gameMgr_1.gameMgr.showBossHp(this.HP / this.totleHp);
        if (!this.isAttackedEffect && this._spAni && this._spAni.node && this._spAni.node.isValid) {
          this.isAttackedEffect = true;
          isAudio && this.audio_hart && gameMgr_1.gameMgr.playClip(this.audio_hart, this.node, .5);
          cc.tween(this._aniLayer).to(.1, {
            scale: .7
          }, {
            easing: "sineIn"
          }).to(.1, {
            scale: 1
          }, {
            easing: "sineOut"
          }).call(function() {
            _this.isAttackedEffect = false;
          }).start();
          this._canColor && cc.tween(this._spAni.node).to(.1, {
            color: new cc.Color(0, 0, 0, 255)
          }).to(.1, {
            color: cc.Color.WHITE
          }).start();
          if (this.rig.type == cc.RigidBodyType.Dynamic && dir && this.canMove && this.canMoveDir) {
            this.canMove = false;
            this.scheduleOnce(function() {
              _this.canMove = true;
            }, .1);
            var div = dir.mulSelf(400 * dir.mag()).addSelf(this.rig.linearVelocity);
            var maxDiv = this.isBoss ? 100 : 300;
            div.mag() > maxDiv && div.normalizeSelf().mulSelf(maxDiv);
            this.rig.linearVelocity = div;
          }
        }
        if (this.HP <= 0) {
          this.death();
          cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
            type: Constant_1.default.E_Zombie_Death,
            node: this.node,
            from: from
          });
        } else from && isEmit && cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
          type: Constant_1.default.E_Zombie_Hart,
          node: this.node
        });
      };
      ZombieBase.prototype.death = function() {
        var _this = this;
        this.isAtk = false;
        this.isDeath = true;
        this._spAni.timeScale = 1;
        this.node.getComponents(cc.Collider).forEach(function(v) {
          return v.enabled = false;
        });
        cc.tween(this._spAni.node).to(1, {
          opacity: 0
        }).start();
        this.audio_die && gameMgr_1.gameMgr.playClip(this.audio_die, null, .2);
        this.updateAni();
        if (this.zombieId < 8) {
          var pre = CocosZ_1.cocosz.resMgr.getRes("effect_death", cc.Prefab);
          if (pre) {
            var effect_death = cc.instantiate(pre);
            effect_death.zIndex = Constant_1.ZindexLayer.zinedx_floorSkill;
            effect_death.setPosition(this.node.position);
            effect_death.setParent(this.node.parent);
          }
        }
        this.creatItem();
        this.scheduleOnce(function() {
          _this.putNodePool();
        }, 2);
      };
      ZombieBase.prototype.creatItem = function() {
        if (gameMgr_1.gameMgr.isWin || gameMgr_1.gameMgr.isFail) return;
        if (UpgradeMgr_1.upgradeMgr && UpgradeMgr_1.upgradeMgr.isValid) {
          var count = this.zombieId < 8 ? 1 : 10;
          for (var i = 0; i < count; i++) {
            var pos = this.node.getPosition();
            i > 0 && pos.addSelf(cc.v2(20 * i, 0).rotateSelf(2 * Math.PI * Math.random()));
            UpgradeMgr_1.upgradeMgr.createJingyan(pos);
          }
        }
      };
      ZombieBase.prototype.frozenStart = function() {
        this._canColor = false;
        this._spAni.node.stopAllActions();
        this._spAni.node.color = cc.Color.BLUE;
        this._spAni && (this._spAni.timeScale = 0);
        this.isAtk = false;
        this.canMoveDir = false;
        this.moveDir = cc.Vec2.ZERO;
        this.udpateRBody(this.moveDir, true);
      };
      ZombieBase.prototype.frozenEnd = function() {
        if (!this.isDeath) {
          this._canColor = true;
          this._spAni.node.color = cc.Color.WHITE;
          if (this._spAni) {
            this._spAni.timeScale = 1;
            this._spAni.setAnimation(0, "idle", true);
          }
          this.canMoveDir = true;
          this.isAtk = false;
          this.atkDir = cc.Vec2.ZERO;
          this.updateMove();
          this.updatePerson();
          this.udpateRBody(this.moveDir);
        }
      };
      ZombieBase.prototype.fire_start = function() {
        this._canColor = false;
        this._spAni.node.stopAllActions();
        this._spAni.node.color = cc.Color.RED;
      };
      ZombieBase.prototype.fire_end = function() {
        this._canColor = true;
        this._spAni.node.color = cc.Color.WHITE;
      };
      ZombieBase.prototype.canAtk = function() {
        if (!this._canAtk || this.isAtk || 0 == this._spAni.timeScale || this._spAni.animation.includes("spawn") || this._spAni.animation.includes("jump")) return false;
        return true;
      };
      __decorate([ property({
        tooltip: "\u50f5\u5c38id"
      }) ], ZombieBase.prototype, "zombieId", void 0);
      __decorate([ property({
        type: cc.Prefab,
        tooltip: "\u5b50\u5f39\u9884\u5236\u4f53",
        visible: function() {
          return [ 5, 6, 20 ].includes(this.zombieId);
        }
      }) ], ZombieBase.prototype, "bullet_prefab", void 0);
      __decorate([ property({
        type: sp.Skeleton,
        tooltip: "\u8b66\u544a\u5708",
        visible: function() {
          return [ 5, 6, 20 ].includes(this.zombieId);
        }
      }) ], ZombieBase.prototype, "sp_hongzhaquan", void 0);
      __decorate([ property({
        type: cc.AudioClip,
        tooltip: "\u653b\u51fb\u97f3\u65481"
      }) ], ZombieBase.prototype, "audio_attack1", void 0);
      __decorate([ property({
        type: cc.AudioClip,
        tooltip: "\u653b\u51fb\u97f3\u65482"
      }) ], ZombieBase.prototype, "audio_attack2", void 0);
      __decorate([ property({
        type: cc.AudioClip,
        tooltip: "\u53d7\u4f24\u97f3\u6548"
      }) ], ZombieBase.prototype, "audio_hart", void 0);
      __decorate([ property({
        type: cc.AudioClip,
        tooltip: "\u6b7b\u4ea1\u97f3\u6548"
      }) ], ZombieBase.prototype, "audio_die", void 0);
      ZombieBase = __decorate([ ccclass ], ZombieBase);
      return ZombieBase;
    }(person_1.default);
    exports.default = ZombieBase;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/PlatUtils": "PlatUtils",
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "../Game/UpgradeMgr": "UpgradeMgr",
    "../Game/gameDate": "gameDate",
    "../Game/gameMgr": "gameMgr",
    "../Game/person": "person",
    "./bullet": "bullet"
  } ],
  ani: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9dc96Ec8p5F1pk+wC5O4y90", "ani");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CocosZ_1 = require("../Framework/CocosZ");
    var gameDate_1 = require("./gameDate");
    var weapon_1 = require("./weapon");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executeInEditMode = _a.executeInEditMode, playOnFocus = _a.playOnFocus;
    var Ani = function(_super) {
      __extends(Ani, _super);
      function Ani() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.times = 10;
        _this.aniNodeArr = [];
        _this._btnAdd = false;
        _this._btnStop = false;
        _this._btnDaiji = false;
        _this._btnRun = false;
        _this._btnAtk = false;
        _this._btnAtk2 = false;
        _this._btnDeath = false;
        _this.handLeft = null;
        _this.body = null;
        _this.leg = null;
        _this.handRight = null;
        _this.head = null;
        _this.weapon = null;
        _this.aniNode = null;
        _this._t = 0;
        _this._index = 0;
        _this._isLoop = false;
        _this._aniArr = [];
        return _this;
      }
      Object.defineProperty(Ani.prototype, "btnAdd", {
        get: function() {
          return this._btnAdd;
        },
        set: function(v) {
          var _this = this;
          this.aniNodeArr = [];
          this.node.children.forEach(function(n) {
            _this.aniNodeArr.push(n);
          });
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Ani.prototype, "btnStop", {
        get: function() {
          return this._btnStop;
        },
        set: function(v) {
          this._btnStop = false;
          this.stopAni();
          this.aniNodeArr.forEach(function(node) {
            node.opacity = 255;
          }, null);
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Ani.prototype, "btnDaiji", {
        get: function() {
          return this._btnDaiji;
        },
        set: function(v) {
          this._btnDaiji = false;
          this.addAni("daiji", false);
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Ani.prototype, "btnRun", {
        get: function() {
          return this._btnRun;
        },
        set: function(v) {
          this._btnRun = false;
          this.addAni("run", false);
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Ani.prototype, "btnAtk", {
        get: function() {
          return this._btnAtk;
        },
        set: function(v) {
          this._btnAtk = false;
          this.addAni("atk", false);
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Ani.prototype, "btnAtk2", {
        get: function() {
          return this._btnAtk2;
        },
        set: function(v) {
          this._btnAtk2 = false;
          this.addAni("atk2", false);
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Ani.prototype, "btnDeath", {
        get: function() {
          return this._btnAtk2;
        },
        set: function(v) {
          this._btnDeath = false;
          this.addAni("death", false);
        },
        enumerable: false,
        configurable: true
      });
      Ani.prototype.onLoad = function() {
        this.handLeft = cc.find("handLeft", this.node);
        this.body = cc.find("body", this.node);
        this.leg = cc.find("leg", this.node);
        this.handRight = cc.find("handRight", this.node);
        this.head = cc.find("head", this.node);
        this.weapon = cc.find("weapon", this.node);
      };
      Ani.prototype.start = function() {};
      Ani.prototype.setAni = function(name, isLoop) {
        void 0 === isLoop && (isLoop = false);
        this._aniArr = [];
        this.playAni(name, isLoop);
      };
      Ani.prototype.addAni = function(name, isLoop) {
        this.aniNode ? this._aniArr.push({
          name: name,
          isLoop: isLoop
        }) : this.playAni(name, isLoop);
      };
      Ani.prototype.stopAni = function() {
        this._aniArr = [];
        this.aniNode = null;
      };
      Ani.prototype.includeAni = function(name) {
        var r = false;
        this.aniNodeArr.forEach(function(n) {
          n.name == name && (r = true);
        });
        return r;
      };
      Ani.prototype.isAni = function(name) {
        return !(!this.aniNode || !(!name || name && this.aniNode.name.includes(name)));
      };
      Ani.prototype.playAni = function(name, isLoop) {
        var _this = this;
        void 0 === isLoop && (isLoop = false);
        this.aniNode = null;
        this._index = 0;
        this._t = 0;
        this.aniNodeArr.forEach(function(child) {
          if (child.name == name) {
            child.active = true;
            child.opacity = 255;
            _this.aniNode = child;
          } else {
            child.active = true;
            child.opacity = 0;
          }
        });
        this._isLoop = isLoop;
        this.aniNode || cc.log("\u52a8\u753b\u4e0d\u5b58\u5728\uff1a" + name);
      };
      Ani.prototype.lateUpdate = function() {
        var _this = this;
        if (this.aniNode && this.aniNode.isValid) {
          if (this._t % this.times == 0) {
            this._t = 0;
            this.aniNode.children.forEach(function(child, index) {
              index == _this._index ? child.opacity = 255 : child.opacity = 0;
            });
            this._index++;
            if (this._index >= this.aniNode.childrenCount) if (this._isLoop) this._index = 0; else if (this._aniArr.length > 0) {
              var json = this._aniArr.shift();
              this.playAni(json.name, json.isLoop);
            } else {
              this.aniNode = null;
              this._index = 0;
            }
          }
          this._t++;
        }
      };
      Ani.prototype.setSkinById = function(id) {
        this.setSkinByName((id + 1).toString());
        this.setGh(id);
      };
      Ani.prototype.setSkinByName = function(name) {
        this.head.children.forEach(function(child) {
          if (child.name == name) {
            child.active = true;
            child.opacity = 255;
          } else {
            child.active = true;
            child.opacity = 0;
          }
        });
      };
      Ani.prototype.setWeaponById = function(id) {
        this.setWeaponByName(weapon_1.default.WeaponName[id]);
        this.setSD(id);
      };
      Ani.prototype.setWeaponByName = function(name) {
        if (gameDate_1.default.Weapon[name].atkRange > 300) {
          this.weapon.active = true;
          this.handLeft.active = false;
          this.handRight.active = false;
          var pre = CocosZ_1.cocosz.resMgr.getRes("weapon_" + name, cc.Prefab);
          if (pre) {
            var rangeWeapon = cc.instantiate(pre);
            rangeWeapon.removeComponent(weapon_1.default);
            this.weapon.children[0] && this.weapon.children[0].isValid && this.weapon.children[0].destroy();
            this.weapon.addChild(rangeWeapon);
          }
        } else {
          this.weapon.active = false;
          this.handLeft.active = true;
          this.handRight.active = true;
          var pre = CocosZ_1.cocosz.resMgr.getRes("weapon_" + name, cc.Prefab);
          if (pre) {
            var meleeWeapon = cc.instantiate(pre);
            meleeWeapon.removeComponent(weapon_1.default);
            this.handRight.children[0] && this.handRight.children[0].isValid && this.handRight.children[0].destroy();
            this.handRight.addChild(meleeWeapon);
          }
        }
      };
      Ani.prototype.setGh = function(id) {
        var gh = this.node.getChildByName("gh");
        if (gh && gh.isValid) {
          var info = CocosZ_1.cocosz.dataMgr.getSkinInfo(id);
          if (info) {
            var ghAni = gh.getComponent(sp.Skeleton);
            gh.active = true;
            if (ghAni && ghAni.isValid) {
              var personLevel = info.Level;
              if (personLevel > 0) {
                gh.color = cc.Color.WHITE;
                var arr = [ "", "y", "p", "r" ];
                ghAni.setSkin(arr[Math.ceil(personLevel / 2)]);
                ghAni.setAnimation(0, "animation", true);
              } else {
                gh.color = cc.Color.BLACK;
                ghAni.setSkin("r");
                ghAni.setAnimation(0, "animation", true);
              }
            }
          }
        }
      };
      Ani.prototype.setSD = function(id) {
        var info = CocosZ_1.cocosz.dataMgr.getGunInfo(id);
        this.node.walk(function(child) {
          if ("sd" == child.name) if (info.Level > 0) {
            child.active = true;
            var spAni = child.getComponent(sp.Skeleton);
            if (spAni) {
              var arr = [ "", "y", "p", "r" ];
              spAni && spAni.setSkin(arr[info.Level]);
            }
          } else child.active = false;
        }, null);
      };
      __decorate([ property({
        displayName: "\u95f4\u9694\u5e27\u6570"
      }) ], Ani.prototype, "times", void 0);
      __decorate([ property({
        type: [ cc.Node ],
        displayName: "\u52a8\u753b\u6570\u7ec4"
      }) ], Ani.prototype, "aniNodeArr", void 0);
      __decorate([ property() ], Ani.prototype, "_btnAdd", void 0);
      __decorate([ property({
        displayName: "\u6dfb\u52a0\u52a8\u753b"
      }) ], Ani.prototype, "btnAdd", null);
      __decorate([ property({
        displayName: "\u505c\u6b62\u52a8\u753b"
      }) ], Ani.prototype, "_btnStop", void 0);
      __decorate([ property ], Ani.prototype, "btnStop", null);
      __decorate([ property({
        displayName: "\u5f85\u673a\u52a8\u753b"
      }) ], Ani.prototype, "_btnDaiji", void 0);
      __decorate([ property ], Ani.prototype, "btnDaiji", null);
      __decorate([ property({
        displayName: "\u8dd1\u6b65\u52a8\u753b"
      }) ], Ani.prototype, "_btnRun", void 0);
      __decorate([ property ], Ani.prototype, "btnRun", null);
      __decorate([ property({
        displayName: "\u653b\u51fb\u52a8\u753b"
      }) ], Ani.prototype, "_btnAtk", void 0);
      __decorate([ property ], Ani.prototype, "btnAtk", null);
      __decorate([ property({
        displayName: "\u653b\u51fb\u52a8\u753b2"
      }) ], Ani.prototype, "_btnAtk2", void 0);
      __decorate([ property ], Ani.prototype, "btnAtk2", null);
      __decorate([ property({
        displayName: "\u6b7b\u4ea1\u52a8\u753b2"
      }) ], Ani.prototype, "_btnDeath", void 0);
      __decorate([ property ], Ani.prototype, "btnDeath", null);
      Ani = __decorate([ ccclass, executeInEditMode, playOnFocus ], Ani);
      return Ani;
    }(cc.Component);
    exports.default = Ani;
    cc._RF.pop();
  }, {
    "../Framework/CocosZ": "CocosZ",
    "./gameDate": "gameDate",
    "./weapon": "weapon"
  } ],
  bullet: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "50404UIfWNMdr6ERRkIVC1x", "bullet");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CocosZ_1 = require("../Framework/CocosZ");
    var Constant_1 = require("../Framework/Constant");
    var gameMgr_1 = require("./gameMgr");
    var person_1 = require("./person");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Bullet = function(_super) {
      __extends(Bullet, _super);
      function Bullet() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.bulletId = 0;
        _this.id = 1;
        _this.atk = 10;
        _this.atker = null;
        _this.canMove = true;
        _this.canBreak = true;
        _this.canPenetrate = false;
        _this.canWall = false;
        _this.boomEffect = null;
        _this.hitEffect = null;
        _this.hitAudio = "";
        _this.isHartMusic = true;
        _this.hitEffectType = 0;
        _this.hartInterval = 0;
        _this.isHitEffectAngle = false;
        _this.isAngle = false;
        _this.isBoom = false;
        _this.isRecord = true;
        _this.dir = null;
        _this._lastPos = null;
        _this.atkedArr = [];
        return _this;
      }
      Bullet_1 = Bullet;
      Bullet.prototype.start = function() {
        gameMgr_1.gameMgr && gameMgr_1.gameMgr.setMapTs.checkNode(this.node, true);
        0 == this.node.zIndex && (this.isBoom ? this.node.zIndex = Constant_1.ZindexLayer.zindex_bomb : "liewen" === this.node.name ? this.node.zIndex = Constant_1.ZindexLayer.zinedx_floorLiewen : this.node.zIndex = Constant_1.ZindexLayer.zindex_bullet + this.bulletId);
        if ("bullet_sd" == this.node.name || "bullet_hdl" == this.node.name) {
          var box = this.node.getComponent(cc.BoxCollider);
          if (box) {
            cc.tween(box.size).to(.3, {
              height: 550
            }).start();
            cc.tween(box.offset).to(.3, {
              x: 700
            }).start();
          }
        }
      };
      Bullet.prototype.onDisable = function() {
        this._lastPos = null;
      };
      Bullet.prototype.lateUpdate = function(dt) {
        if (this.isAngle) if (this._lastPos) {
          var div = this.node.getPosition().subSelf(this._lastPos);
          if (false == div.equals(cc.Vec2.ZERO)) {
            this.node.angle = -cc.v2(div).signAngle(cc.v2(1, 0)) / Math.PI * 180;
            this._lastPos = this.node.getPosition();
          }
        } else this._lastPos = this.node.getPosition();
      };
      Bullet.prototype.onCollisionEnter = function(other, self) {
        var _this = this;
        if (1 == other.tag) {
          var ts_1 = other.getComponent(person_1.default);
          if (ts_1.id == this.id) return;
          if (this.canBreak && !this.canPenetrate) this.node.destroy(); else {
            if (this.atkedArr.includes(other.node)) return;
            this.isRecord && this.atkedArr.push(other.node);
          }
          if (this.hitEffect && !CocosZ_1.cocosz.isPause) {
            var node = cc.instantiate(this.hitEffect);
            node.zIndex = Constant_1.ZindexLayer.zindex_effect_hit;
            if (1 == this.hitEffectType) {
              node.parent = other.node;
              this.isHitEffectAngle && (node.angle = -cc.v2(this.dir).signAngle(cc.v2(1, 0)) / Math.PI * 180);
            } else {
              var pos = this.node.getPosition();
              var dt = this.node.width;
              if (dt < 5) {
                var box = this.node.getComponent(cc.BoxCollider);
                box && (dt += box.offset.x);
              }
              pos = pos.add(cc.v2(dt, 0).rotate(this.node.angle / 180 * Math.PI));
              node.parent = this.node.parent;
              node.setPosition(pos);
            }
            this.hitAudio && gameMgr_1.gameMgr.playEffect(this.hitAudio, this.node);
          }
          if (this.boomEffect) {
            var boom = cc.instantiate(this.boomEffect);
            boom.parent = this.node.parent;
            boom.setPosition(this.node.getPosition());
            boom.zIndex = Constant_1.ZindexLayer.zindex_bomb;
            gameMgr_1.gameMgr.playEffect("explo", boom);
            var bullet = boom.getComponent(Bullet_1);
            bullet.atk = this.atk;
            bullet.atker = this.atker;
            bullet.id = this.id;
            bullet.dir = this.dir;
            return;
          }
          if (gameMgr_1.gameMgr.blood && self.world && self.world.points && self.world.points[0]) {
            var blood = null;
            blood = cc.instantiate(gameMgr_1.gameMgr.blood);
            blood.parent = gameMgr_1.gameMgr.map;
            blood.zIndex = Constant_1.ZindexLayer.zindex_blood;
            var pos = blood.parent.convertToNodeSpaceAR(cc.v2(self.world.points[0].x, self.world.points[0].y));
            if (this.dir) {
              var angle = -cc.v2(this.dir).signAngle(cc.v2(0, 1)) / Math.PI * 180;
              blood.angle = angle;
            }
            blood.setPosition(pos);
          }
          if (this.isBoom) {
            var dir = other.node.getPosition().subSelf(this.node.getPosition()).normalizeSelf();
            dir.equals(cc.Vec2.ZERO) && (dir = cc.v2(1, 0).rotateSelf(2 * Math.PI * Math.random()));
            this.dir = dir.mulSelf(3);
          } else !this.canMove && this.dir && this.dir.mag() < 2 && this.dir.normalizeSelf().mulSelf(2);
          ts_1.hart(this.atk, this.atker, this.dir, this.isHartMusic);
          this.hartInterval && this.schedule(function() {
            ts_1 && ts_1.isValid && _this.atkedArr.includes(ts_1.node) && ts_1.hart(_this.atk, _this.atker, _this.dir, _this.isHartMusic);
          }, this.hartInterval);
        } else if (5 == other.tag) {
          if (this.boomEffect) {
            var boom = cc.instantiate(this.boomEffect);
            boom.parent = this.node.parent;
            boom.setPosition(this.node.getPosition());
            var bullet = boom.getComponent(Bullet_1);
            bullet.atk = this.atk;
            bullet.atker = this.atker;
            bullet.id = this.id;
            gameMgr_1.gameMgr.playEffect("explo", boom);
          }
          if (this.canBreak && !this.canWall) {
            var pos = this.node.getPosition();
            var dt = this.node.width;
            if (dt < 5) {
              var box = this.node.getComponent(cc.BoxCollider);
              box && (dt += box.offset.x);
            }
            pos = pos.add(cc.v2(dt, 0).rotate(this.node.angle / 180 * Math.PI));
            if (this.hitEffect && 1 != this.hitEffectType) {
              var node = cc.instantiate(this.hitEffect);
              node.parent = this.node.parent;
              node.setPosition(pos);
              node.zIndex = Constant_1.ZindexLayer.zindex_effect_hit;
            } else {
              var node = cc.instantiate(gameMgr_1.gameMgr.spark);
              node.parent = this.node.parent;
              node.setPosition(pos);
              node.zIndex = Constant_1.ZindexLayer.zindex_effect_spark;
            }
            this.node.destroy();
          }
        }
      };
      var Bullet_1;
      __decorate([ property() ], Bullet.prototype, "bulletId", void 0);
      __decorate([ property() ], Bullet.prototype, "canMove", void 0);
      __decorate([ property({
        tooltip: "\u80fd\u5426\u963b\u65ad"
      }) ], Bullet.prototype, "canBreak", void 0);
      __decorate([ property({
        tooltip: "\u80fd\u5426\u7a7f\u900f\u654c\u4eba"
      }) ], Bullet.prototype, "canPenetrate", void 0);
      __decorate([ property({
        tooltip: "\u80fd\u5426\u7a7f\u900f\u5899\u58c1"
      }) ], Bullet.prototype, "canWall", void 0);
      __decorate([ property(cc.Prefab) ], Bullet.prototype, "boomEffect", void 0);
      __decorate([ property(cc.Prefab) ], Bullet.prototype, "hitEffect", void 0);
      __decorate([ property({
        type: cc.String,
        tooltip: "\u5b50\u5f39\u97f3\u6548"
      }) ], Bullet.prototype, "hitAudio", void 0);
      __decorate([ property({
        tooltip: "\u654c\u4eba\u53d7\u4f24\u662f\u5426\u53d1\u51fa\u97f3\u6548"
      }) ], Bullet.prototype, "isHartMusic", void 0);
      __decorate([ property() ], Bullet.prototype, "hitEffectType", void 0);
      __decorate([ property() ], Bullet.prototype, "hartInterval", void 0);
      __decorate([ property({
        tooltip: "\u51fb\u4e2d\u6548\u679c\u8bbe\u7f6e\u89d2\u5ea6"
      }) ], Bullet.prototype, "isHitEffectAngle", void 0);
      __decorate([ property({
        tooltip: "\u6bcf\u5e27\u8bbe\u7f6e\u89d2\u5ea6"
      }) ], Bullet.prototype, "isAngle", void 0);
      __decorate([ property({
        tooltip: "\u662f\u5426\u7206\u70b8\u5b50\u5f39"
      }) ], Bullet.prototype, "isBoom", void 0);
      __decorate([ property({
        tooltip: "\u662f\u5426\u8bb0\u5f55\u53d7\u4f24\u8005"
      }) ], Bullet.prototype, "isRecord", void 0);
      Bullet = Bullet_1 = __decorate([ ccclass ], Bullet);
      return Bullet;
    }(cc.Component);
    exports.default = Bullet;
    cc._RF.pop();
  }, {
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "./gameMgr": "gameMgr",
    "./person": "person"
  } ],
  gameDate: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9716b694upCZocbSYxp8T5t", "gameDate");
    "use strict";
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.RewardType = exports.PriceType = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var PriceType;
    (function(PriceType) {
      PriceType[PriceType["Gold"] = 0] = "Gold";
      PriceType[PriceType["Diamond"] = 1] = "Diamond";
      PriceType[PriceType["RankReward"] = 2] = "RankReward";
      PriceType[PriceType["ZhuanPanReward"] = 3] = "ZhuanPanReward";
      PriceType[PriceType["Level"] = 4] = "Level";
    })(PriceType = exports.PriceType || (exports.PriceType = {}));
    var RewardType;
    (function(RewardType) {
      RewardType[RewardType["Gold"] = 0] = "Gold";
      RewardType[RewardType["Diamond"] = 1] = "Diamond";
      RewardType[RewardType["Skin"] = 2] = "Skin";
      RewardType[RewardType["Weapon"] = 3] = "Weapon";
    })(RewardType = exports.RewardType || (exports.RewardType = {}));
    var GameDate = function() {
      function GameDate() {}
      GameDate.TimeReward = [ {
        time: 60,
        coinNum: 1e3,
        diamondNum: 100
      }, {
        time: 300,
        coinNum: 1500,
        diamondNum: 150
      }, {
        time: 900,
        coinNum: 2e3,
        diamondNum: 200
      }, {
        time: 1800,
        coinNum: 3e3,
        diamondNum: 250
      }, {
        time: 3600,
        coinNum: 5e3,
        diamondNum: 300
      } ];
      GameDate.TurntableReward = [ {
        type: RewardType.Gold,
        num: 100
      }, {
        type: RewardType.Gold,
        num: 50
      }, {
        type: RewardType.Diamond,
        num: 10
      }, {
        type: RewardType.Gold,
        num: 50
      }, {
        type: RewardType.Gold,
        num: 150
      }, {
        type: RewardType.Skin,
        num: 11
      }, {
        type: RewardType.Gold,
        num: 200
      }, {
        type: RewardType.Gold,
        num: 50
      }, {
        type: RewardType.Diamond,
        num: 20
      }, {
        type: RewardType.Gold,
        num: 50
      }, {
        type: RewardType.Gold,
        num: 200
      }, {
        type: RewardType.Weapon,
        num: 14
      } ];
      GameDate.Weapon = {
        ak: {
          name: "ak\u6b65\u67aa",
          id: 0,
          atk: [ 30, 33, 35, 40 ],
          atkRange: 1e3,
          flySpeed: 2500,
          atkSpeed: [ 1 / 3.5, 1 / 3.5, .25, .25 ],
          bulletNum: 30,
          bulletTotal: [ 90, 90, 90, 120 ],
          reload: 3,
          priceType: PriceType.Gold,
          price: 0
        },
        cfq: {
          name: "\u51b2\u950b\u67aa",
          id: 1,
          atk: [ 20, 22, 25, 30 ],
          atkRange: 1e3,
          flySpeed: 2500,
          atkSpeed: [ .25, .25, 1 / 4.5, .2 ],
          bulletNum: 25,
          bulletTotal: [ 75, 75, 100, 100 ],
          reload: 2.5,
          priceType: PriceType.Gold,
          price: 1e3
        },
        dao: {
          name: "\u5200",
          id: 2,
          atk: [ 60, 65, 72, 75 ],
          atkRange: 300,
          flySpeed: 0,
          atkSpeed: [ .5, .4, 1 / 3, 1 / 3 ],
          bulletNum: 1,
          bulletTotal: [ 1, 1, 1, 1 ],
          reload: 3,
          priceType: PriceType.Gold,
          price: 2e3
        },
        gj: {
          name: "\u5149\u5251",
          id: 3,
          atk: [ 55, 66, 72, 80 ],
          atkRange: 300,
          flySpeed: 0,
          atkSpeed: [ .5, .4, 1 / 3, 1 / 3 ],
          bulletNum: 1,
          bulletTotal: [ 1, 1, 1, 1 ],
          reload: 3,
          priceType: PriceType.Gold,
          price: 3500
        },
        jgb: {
          name: "\u91d1\u7b8d\u68d2",
          id: 4,
          atk: [ 100, 150, 200, 250 ],
          atkRange: 300,
          flySpeed: 0,
          atkSpeed: [ 1, 1, 1 / 1.5, 1 / 1.5 ],
          bulletNum: 1,
          bulletTotal: [ 1, 1, 1, 1 ],
          reload: 3,
          priceType: PriceType.Diamond,
          price: 500
        },
        sd: {
          name: "\u6563\u5f39\u67aa",
          id: 5,
          atk: [ 140, 160, 180, 200 ],
          atkRange: 1e3,
          flySpeed: 2e3,
          atkSpeed: [ .5, .5, .5, .5 ],
          bulletNum: 2,
          bulletTotal: [ 10, 12, 14, 16 ],
          reload: 3,
          priceType: PriceType.Gold,
          price: 1500
        },
        hdl: {
          name: "HDL",
          id: 6,
          atk: [ 40, 45, 48, 50 ],
          atkRange: 1e3,
          flySpeed: 2e3,
          atkSpeed: [ 1 / 3, .25, .2, .2 ],
          bulletNum: 20,
          bulletTotal: [ 60, 80, 100, 120 ],
          reload: 2.5,
          priceType: PriceType.Gold,
          price: 2e3
        },
        sq: {
          name: "\u624b\u67aa",
          id: 7,
          atk: [ 40, 45, 50, 60 ],
          atkRange: 1e3,
          flySpeed: 2e3,
          atkSpeed: [ .5, .4, .4, .25 ],
          bulletNum: 8,
          bulletTotal: [ 24, 32, 40, 48 ],
          reload: 2,
          priceType: PriceType.Gold,
          price: 500
        },
        ju: {
          name: "\u72d9\u51fb\u67aa",
          id: 8,
          atk: [ 200, 250, 300, 400 ],
          atkRange: 1500,
          flySpeed: 2500,
          atkSpeed: [ 1, 1, .5, .5 ],
          bulletNum: 2,
          bulletTotal: [ 8, 10, 12, 14 ],
          reload: 3,
          priceType: PriceType.Gold,
          price: 5e3
        },
        ld: {
          name: "\u69b4\u5f39\u67aa",
          id: 9,
          atk: [ 100, 120, 130, 140 ],
          atkRange: 800,
          flySpeed: 2e3,
          atkSpeed: [ .5, .4, .25, .25 ],
          bulletNum: 3,
          bulletTotal: [ 15, 18, 21, 24 ],
          reload: 3,
          priceType: PriceType.Diamond,
          price: 500
        },
        nnp: {
          name: "\u9e1f\u9e1f\u67aa",
          id: 10,
          atk: [ 75, 80, 90, 100 ],
          atkRange: 1e3,
          flySpeed: 2e3,
          atkSpeed: [ .5, .5, 1 / 3, .25 ],
          bulletNum: 5,
          bulletTotal: [ 20, 25, 30, 35 ],
          reload: 3,
          priceType: PriceType.ZhuanPanReward,
          price: 0,
          videoCount: 5
        },
        gtst: {
          name: "\u94a2\u94c1\u624b\u5957",
          id: 11,
          atk: [ 30, 40, 45, 60 ],
          atkRange: 1e3,
          flySpeed: 2e3,
          atkSpeed: [ .2, .2, .2, .2 ],
          bulletNum: 10,
          bulletTotal: [ 40, 50, 60, 70 ],
          reload: 3,
          priceType: PriceType.Diamond,
          price: 300
        },
        tb: {
          name: "\u94c1\u68d2",
          id: 12,
          atk: [ 40, 50, 55, 60 ],
          atkRange: 300,
          flySpeed: 0,
          atkSpeed: [ .5, .4, 1 / 3, 1 / 3 ],
          bulletNum: 1,
          bulletTotal: [ 1, 1, 1, 1 ],
          reload: 3,
          priceType: PriceType.Gold,
          price: 1e3
        },
        mb: {
          name: "\u6728\u68d2",
          id: 13,
          atk: [ 30, 35, 40, 50 ],
          atkRange: 300,
          flySpeed: 0,
          atkSpeed: [ .5, .4, 1 / 3, 1 / 3 ],
          bulletNum: 1,
          bulletTotal: [ 1, 1, 1, 1 ],
          reload: 3,
          priceType: PriceType.Gold,
          price: 500
        },
        mq: {
          name: "\u55b5\u67aa",
          id: 14,
          atk: [ 40, 44, 46, 50 ],
          atkRange: 1e3,
          flySpeed: 2e3,
          atkSpeed: [ .2, .2, .2, .2 ],
          bulletNum: 30,
          bulletTotal: [ 60, 70, 80, 90 ],
          reload: 3,
          priceType: PriceType.ZhuanPanReward,
          price: 0,
          videoCount: 1
        },
        szg: {
          name: "\u5f29\u7bad",
          id: 15,
          atk: [ 110, 150, 200, 250 ],
          atkRange: 2e3,
          flySpeed: 3e3,
          atkSpeed: [ 1, 1, 1, .5 ],
          bulletNum: 1,
          bulletTotal: [ 11, 12, 13, 15 ],
          reload: 3,
          priceType: PriceType.Diamond,
          price: 500
        },
        rsq: {
          name: "\u956d\u5c04\u67aa",
          id: 16,
          atk: [ 35, 40, 45, 50 ],
          atkRange: 1e3,
          flySpeed: 2e3,
          atkSpeed: [ .2, .2, .2, .2 ],
          bulletNum: 15,
          bulletTotal: [ 45, 50, 75, 90 ],
          reload: 3,
          priceType: PriceType.Gold,
          price: 3e3
        },
        cjj: {
          name: "\u5c16\u53eb\u9e21",
          id: 17,
          atk: [ 50, 54, 63, 72 ],
          atkRange: 600,
          flySpeed: 0,
          atkSpeed: [ .5, .5, 1 / 3, 1 / 3 ],
          bulletNum: 5,
          bulletTotal: [ 30, 35, 40, 45 ],
          reload: 3,
          priceType: PriceType.Diamond,
          price: 300,
          videoCount: 1
        },
        jtl: {
          name: "\u52a0\u7279\u6797",
          id: 18,
          atk: [ 30, 35, 40, 45 ],
          atkRange: 1e3,
          flySpeed: 2500,
          atkSpeed: [ 1 / 9, 1 / 9, 1 / 9, 1 / 9 ],
          bulletNum: 50,
          bulletTotal: [ 150, 150, 200, 250 ],
          reload: 3,
          priceType: PriceType.Diamond,
          price: 1e3,
          videoCount: 2
        },
        sq2: {
          name: "\u53cc\u67aa",
          music: "sq",
          id: 19,
          atk: [ 40, 45, 50, 60 ],
          atkRange: 1e3,
          flySpeed: 2e3,
          atkSpeed: [ .25, .25, .25, .25 ],
          bulletNum: 12,
          bulletTotal: [ 48, 48, 60, 60 ],
          reload: 2,
          priceType: PriceType.Gold,
          price: 2e3
        },
        tj: {
          name: "\u7a81\u51fb\u6b65\u67aa",
          music: "ak",
          id: 20,
          atk: [ 30, 35, 40, 50 ],
          atkRange: 1e3,
          flySpeed: 2500,
          atkSpeed: [ 1 / 7, 1 / 7, 1 / 7, 1 / 7 ],
          bulletNum: 15,
          bulletTotal: [ 90, 90, 90, 105 ],
          reload: 3,
          priceType: PriceType.Gold,
          price: 2e3
        },
        fs: {
          name: "\u8f90\u5c04",
          music: "rsq",
          id: 21,
          atk: [ 35, 40, 45, 50 ],
          atkRange: 1e3,
          flySpeed: 2e3,
          atkSpeed: [ .2, .2, .2, .2 ],
          bulletNum: 15,
          bulletTotal: [ 45, 45, 60, 60 ],
          reload: 3,
          priceType: PriceType.Gold,
          price: 2e3
        }
      };
      GameDate.SkinMess = {
        1: {
          name: "\u5c0f\u9ed1\u4eba",
          xuedi: 3,
          hp: [ 330, 350, 360, 370, 380, 400, 450 ],
          atk: [ 1, 2, 4, 6, 8, 9, 10 ],
          speed: [ 520, 530, 540, 550, 560, 570, 580 ],
          priceType: PriceType.Gold,
          price: 0
        },
        2: {
          name: "\u87ba\u4e1d\u8111",
          xuedi: 3,
          hp: [ 350, 370, 380, 390, 420, 430, 440 ],
          atk: [ 2, 4, 5, 6, 8, 10, 12 ],
          speed: [ 525, 535, 545, 555, 565, 575, 600 ],
          priceType: PriceType.Gold,
          price: 1e3
        },
        3: {
          name: "\u8759\u8760\u5934",
          xuedi: 4,
          hp: [ 360, 370, 380, 390, 400, 420, 450 ],
          atk: [ 4, 6, 8, 10, 12, 14, 18 ],
          speed: [ 523, 534, 556, 576, 587, 602, 624 ],
          priceType: PriceType.Gold,
          price: 2500
        },
        4: {
          name: "\u94c1\u76d4\u5934",
          xuedi: 6,
          hp: [ 400, 420, 440, 460, 480, 500, 520 ],
          atk: [ 1, 2, 4, 6, 8, 10, 12 ],
          speed: [ 502, 513, 523, 533, 543, 553, 563 ],
          priceType: PriceType.Diamond,
          price: 1e3,
          videoCount: 2
        },
        5: {
          name: "\u725b\u5934",
          xuedi: 5,
          hp: [ 366, 374, 382, 396, 420, 450, 480 ],
          atk: [ 3, 5, 7, 11, 14, 15, 18 ],
          speed: [ 525, 534, 556, 566, 573, 584, 600 ],
          priceType: PriceType.Diamond,
          price: 500,
          videoCount: 1
        },
        6: {
          name: "\u9ab7\u9ac5\u5934",
          xuedi: 4,
          hp: [ 363, 372, 384, 397, 420, 444, 453 ],
          atk: [ 1, 3, 7, 9, 11, 14, 16 ],
          speed: [ 500, 510, 520, 530, 540, 550, 560 ],
          priceType: PriceType.Diamond,
          price: 300
        },
        7: {
          name: "\u6d77\u5175\u5934",
          xuedi: 4,
          hp: [ 363, 372, 386, 393, 424, 452, 463 ],
          atk: [ 2, 3, 6, 8, 11, 13, 14 ],
          speed: [ 515, 534, 555, 572, 584, 603, 610 ],
          priceType: PriceType.Gold,
          price: 2e3
        },
        8: {
          name: "\u5c0f\u5973\u5b69",
          xuedi: 4,
          hp: [ 362, 377, 386, 393, 429, 444, 458 ],
          atk: [ 1, 2, 4, 6, 8, 10, 12 ],
          speed: [ 521, 530, 550, 570, 580, 600, 606 ],
          priceType: PriceType.Gold,
          price: 2e3
        },
        9: {
          name: "\u5c0f\u76d2\u5b50",
          xuedi: 4,
          hp: [ 364, 376, 387, 392, 421, 447, 463 ],
          atk: [ 1, 3, 6, 9, 12, 15, 16 ],
          speed: [ 525, 535, 545, 555, 565, 575, 600 ],
          priceType: PriceType.Diamond,
          price: 250
        },
        10: {
          name: "\u5c0f\u7ea2\u5e3d",
          xuedi: 3,
          hp: [ 362, 373, 385, 396, 421, 456, 480 ],
          atk: [ 2, 5, 8, 12, 14, 15, 16 ],
          speed: [ 523, 544, 554, 573, 585, 509, 606 ],
          priceType: PriceType.Gold,
          price: 1500
        },
        11: {
          name: "\u62f3\u7687",
          xuedi: 5,
          hp: [ 368, 376, 384, 396, 425, 458, 468 ],
          atk: [ 1, 5, 8, 10, 15, 17, 20 ],
          speed: [ 524, 533, 544, 556, 571, 582, 605 ],
          priceType: PriceType.ZhuanPanReward,
          price: 0,
          videoCount: 1
        },
        12: {
          name: "\u7070\u80e1\u5b50",
          xuedi: 4,
          hp: [ 353, 372, 385, 403, 421, 444, 459 ],
          atk: [ 1, 2, 3, 5, 6, 9, 11 ],
          speed: [ 502, 513, 534, 543, 558, 563, 584 ],
          priceType: PriceType.Gold,
          price: 2e3
        }
      };
      GameDate.EnemyMess = {
        0: {
          name: "\u53f2\u83b1\u59c6",
          hp: 95,
          atk: 34,
          atkSpeed: 2,
          atkRange: 300,
          speed: 330
        },
        1: {
          name: "\u5c0f\u7ea2\u4eba",
          hp: 130,
          atk: 0,
          atkSpeed: 1,
          atkRange: 800,
          speed: 450
        },
        2: {
          name: "\u62f3\u51fb\u624b",
          hp: 400,
          atk: 50,
          atkSpeed: 2,
          atkRange: 400,
          speed: 400
        },
        3: {
          name: "\u673a\u67aa\u624b",
          hp: 250,
          atk: 0,
          atkSpeed: 1,
          atkRange: 1e3,
          speed: 400
        },
        4: {
          name: "\u96ea\u4eba",
          hp: 600,
          atk: 40,
          atkSpeed: 2,
          atkRange: 300,
          speed: 400
        },
        5: {
          name: "\u53cc\u67aa",
          hp: 1e3,
          atk: 0,
          atkSpeed: 1,
          atkRange: 1e3,
          speed: 450
        },
        6: {
          name: "\u5821\u5792",
          hp: 500,
          atk: 50,
          atkSpeed: 1,
          atkRange: 1e3,
          speed: 0
        },
        7: {
          name: "\u6d77\u8c79\u7a81\u51fb",
          hp: 400,
          atk: 0,
          atkSpeed: 1,
          atkRange: 1e3,
          speed: 450
        },
        8: {
          name: "\u8f90\u5c04\u8005",
          hp: 400,
          atk: 0,
          atkSpeed: 1,
          atkRange: 1e3,
          speed: 420
        },
        9: {
          name: "\u5766\u514b\u70ae",
          hp: 800,
          atk: 200,
          atkSpeed: 2,
          atkRange: 1e3,
          speed: 440
        },
        10: {
          name: "\u6811\u4eba",
          hp: 500,
          atk: 50,
          atkSpeed: 2,
          atkRange: 300,
          speed: 200
        },
        11: {
          name: "\u91ce\u732a",
          hp: 400,
          atk: 50,
          atkSpeed: 2,
          atkRange: 400,
          speed: 300
        },
        12: {
          name: "\u6811\u7cbe",
          hp: 1e3,
          atk: 50,
          atkSpeed: 2,
          atkRange: 500,
          speed: 250
        },
        13: {
          name: "\u8725\u8734",
          hp: 1e3,
          atk: 60,
          atkSpeed: 1,
          atkRange: 500,
          speed: 450
        }
      };
      GameDate.SkillMess = {
        1: {
          name: "\u81ea\u6108",
          cd: 10,
          num: 30,
          introduce_zh: "\u6062\u590d\u8840\u91cf",
          introduce_en: "Restore HP",
          level: [ {
            num: "150%",
            introduce_zh: "\u56de\u590d\u91cf\u63d0\u534750%",
            introduce_en: "Increase the number of replies by 50%"
          }, {
            num: "150%",
            cd: "80%",
            introduce_zh: "\u56de\u590d\u91cf\u63d0\u534750%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1120%",
            introduce_en: "Recovery increased by 50%, cooling time reduced by 20%"
          }, {
            num: "150%",
            cd: "50%",
            introduce_zh: "\u56de\u590d\u91cf\u63d0\u534750%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1150%",
            introduce_en: "Recovery increased by 50%, cooling time reduced by 50%"
          } ]
        },
        2: {
          name: "\u8840\u8760",
          cd: 10,
          num: 50,
          target: "enemy",
          introduce_zh: "\u53ec\u5524\u8840\u8760\u653b\u51fb\u654c\u4eba",
          introduce_en: "Summon blood bats to attack enemies",
          level: [ {
            num: "125%",
            scale: "1.5",
            introduce_zh: "\u4f24\u5bb3\u63d0\u534725%",
            introduce_en: "Damage increased by 25%"
          }, {
            num: "125%",
            cd: "70%",
            scale: "1.5",
            introduce_zh: "\u4f24\u5bb3\u63d0\u534725%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1130%",
            introduce_en: "Damage increased by 25%, cooling time reduced by 30%"
          }, {
            num: "145%",
            cd: "50%",
            scale: "1.5",
            introduce_zh: "\u4f24\u5bb3\u63d0\u534745%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1150%",
            introduce_en: "Damage increased by 45%, cooling time reduced by 50%"
          } ]
        },
        3: {
          name: "\u94c1\u7532",
          cd: 10,
          num: 2,
          introduce_zh: "\u751f\u6210\u62a4\u76fe\u62b5\u6321\u4f24\u5bb3",
          introduce_en: "Generate shield to resist damage",
          level: [ {
            num: "150%",
            cd: "80%",
            scale: "1.2",
            introduce_zh: "\u6301\u7eed3\u79d2,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1120%",
            introduce_en: "Lasts for 3 seconds, cooling time reduced by 20%"
          }, {
            num: "200%",
            cd: "70%",
            scale: "1.4",
            introduce_zh: "\u6301\u7eed4\u79d2,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1130%",
            introduce_en: "Lasts for 4 seconds, cooling time reduced by 30%"
          }, {
            num: "250%",
            cd: "60%",
            scale: "1.6",
            introduce_zh: "\u6301\u7eed5\u79d2,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1140%",
            introduce_en: "Lasts for 5 seconds, cooling time reduced by 40%"
          } ]
        },
        4: {
          name: "\u6124\u6012",
          cd: 10,
          num: 40,
          introduce_zh: "\u589e\u52a0\u653b\u51fb\u529b",
          introduce_en: "Increase attack power",
          level: [ {
            num: "120%",
            introduce_zh: "\u653b\u51fb\u529b\u63d0\u534720%",
            introduce_en: "Attack power increased by 20%"
          }, {
            num: "130%",
            cd: "90%",
            introduce_zh: "\u653b\u51fb\u529b\u63d0\u534730%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1110%",
            introduce_en: "Attack power increased by 30%, cooling time reduced by 10%"
          }, {
            num: "140%",
            cd: "70%",
            introduce_zh: "\u653b\u51fb\u529b\u63d0\u534740%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1130%",
            introduce_en: "Attack power increased by 40%, cooling time reduced by 30%"
          } ]
        },
        5: {
          name: "\u51a5\u706b",
          cd: 10,
          num: 100,
          target: "enemy",
          introduce_zh: "\u53ec\u5524\u706b\u7130\u653b\u51fb\u654c\u4eba",
          introduce_en: "Summon fire to attack enemies",
          level: [ {
            num: "120%",
            scale: "1.5",
            introduce_zh: "\u4f24\u5bb3\u63d0\u534720%",
            introduce_en: "Attack power increased by 20%"
          }, {
            num: "150%",
            scale: "1.5",
            introduce_zh: "\u4f24\u5bb3\u63d0\u534750%",
            introduce_en: "Attack power increased by 50%"
          }, {
            num: "150%",
            cd: "50%",
            scale: "1.5",
            introduce_zh: "\u4f24\u5bb3\u63d0\u534750%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1150%",
            introduce_en: "Damage increased by 50%, cooling time reduced by 50%"
          } ]
        },
        6: {
          name: "\u6c34\u76fe",
          cd: 10,
          num: .5,
          introduce_zh: "\u53ec\u5524\u6c34\u7403\u62a4\u76fe",
          introduce_en: "Summon water polo shield",
          level: [ {
            num: "120%",
            introduce_zh: "\u62a4\u76fe\u589e\u52a020%",
            introduce_en: "Shield increased by 20%"
          }, {
            num: "130%",
            cd: "80%",
            introduce_zh: "\u62a4\u76fe\u589e\u52a030%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1120%",
            introduce_en: "Shield increased by 30%, cooling time reduced by 20%"
          }, {
            num: "130%",
            cd: "60%",
            introduce_zh: "\u62a4\u76fe\u589e\u52a030%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1140%",
            introduce_en: "Shield increased by 30%, cooling time reduced by 40%"
          } ]
        },
        7: {
          name: "\u98ce\u5203",
          cd: 10,
          num: 40,
          target: "enemy",
          introduce_zh: "\u91ca\u653e\u98ce\u5203\u653b\u51fb\u654c\u4eba",
          introduce_en: "Release the wind to attack the enemy",
          level: [ {
            num: "120%",
            cd: "80%",
            scale: "1.5",
            introduce_zh: "\u4f24\u5bb3\u63d0\u534720%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1120%",
            introduce_en: "Damage increased by 20%, cooling time reduced by 20%"
          }, {
            num: "150%",
            cd: "70%",
            scale: "1.5",
            introduce_zh: "\u4f24\u5bb3\u63d0\u534750%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1130%",
            introduce_en: "Damage increased by 50%, cooling time reduced by 30%"
          }, {
            num: "150%",
            cd: "50%",
            scale: "1.5",
            introduce_zh: "\u4f24\u5bb3\u63d0\u534750%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1150%",
            introduce_en: "Damage increased by 50%, cooling time reduced by 50%"
          } ]
        },
        8: {
          name: "\u76f2\u76d2",
          cd: 20,
          num: 1,
          introduce_zh: "\u968f\u673a\u6389\u843d\u9053\u5177",
          introduce_en: "Random dropping items",
          level: [ {
            num: "200%",
            introduce_zh: "\u6389\u843d\u9053\u5177+1",
            introduce_en: "Drop item+1"
          }, {
            num: "300%",
            introduce_zh: "\u6389\u843d\u9053\u5177+2",
            introduce_en: "Drop item+2"
          }, {
            num: "300%",
            cd: "80%",
            introduce_zh: "\u6389\u843d\u9053\u5177+2,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1120%",
            introduce_en: "Drop item+2, cooling time reduced by 20%"
          } ]
        },
        9: {
          name: "\u6bd2\u57df",
          cd: 15,
          num: 4,
          target: "enemy",
          introduce_zh: "\u53ec\u5524\u6bd2\u9635",
          introduce_en: "Random dropping items",
          level: [ {
            num: "125%",
            scale: "1.2",
            introduce_zh: "\u6301\u7eed5\u79d2,\u8303\u56f4\u6269\u592720%",
            introduce_en: "Lasts for 5 seconds, the range expands by 20%"
          }, {
            num: "150%",
            scale: "1.5",
            introduce_zh: "\u6301\u7eed6\u79d2,\u8303\u56f4\u6269\u592750%",
            introduce_en: "Lasts for 6 seconds, the range expands by 50%"
          }, {
            num: "150%",
            scale: "1.5",
            cd: "60%",
            introduce_zh: "\u6301\u7eed6\u79d2,\u8303\u56f4\u6269\u592750,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1140%",
            introduce_en: "Lasts for 6 seconds, the range is expanded by 50%"
          } ]
        },
        10: {
          name: "\u81f3\u9ad8\u4e4b\u62f3",
          cd: 10,
          num: 140,
          target: "enemy",
          introduce_zh: "\u53ec\u5524\u62f3\u5934\u653b\u51fb",
          introduce_en: "Summon fist attack",
          level: [ {
            num: "120%",
            scale: "1.5",
            introduce_zh: "\u4f24\u5bb3\u63d0\u534725%",
            introduce_en: "Damage increased by 25%"
          }, {
            num: "130%",
            cd: "60%",
            scale: "1.5",
            introduce_zh: "\u4f24\u5bb3\u63d0\u534725%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1140%",
            introduce_en: "Damage increased by 25%, cooling time reduced by 40%"
          }, {
            num: "140%",
            cd: "40%",
            scale: "1.5",
            introduce_zh: "\u4f24\u5bb3\u63d0\u534725%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1160%",
            introduce_en: "Damage increased by 25%, cooling time reduced by 60%"
          } ]
        },
        11: {
          name: "\u77ac\u95ea",
          cd: 2,
          num: 300,
          introduce_zh: "\u95ea\u73b0\u4e00\u6bb5\u8ddd\u79bb",
          introduce_en: "Flash a distance",
          level: [ {
            num: "120%",
            introduce_zh: "\u95ea\u73b0\u8303\u56f4+20%",
            introduce_en: "Flash range+20%"
          }, {
            num: "150%",
            introduce_zh: "\u95ea\u73b0\u8303\u56f4+50%",
            introduce_en: "Flash range+50%"
          }, {
            num: "150%",
            cd: "50%",
            introduce_zh: "\u95ea\u73b0\u8303\u56f4+50%,\u51b7\u5374\u65f6\u95f4\u51cf\u5c1150%",
            introduce_en: "Flash range+50%, cooling time reduced by 50%"
          } ]
        },
        12: {
          name: "\u4e16\u754c\u7f29\u5c0f\u5668",
          cd: 0,
          num: 1,
          introduce_zh: "\u8840\u91cf\u589e\u52a0,\u4eba\u7269\u53d8\u5927",
          introduce_en: "The life increases and the character becomes larger",
          level: [ {
            num: "120%",
            scale: "1",
            introduce_zh: "\u8840\u91cf\u589e\u52a020%,\u4eba\u7269\u53d8\u5927",
            introduce_en: "HP increased by 20%, and the character became larger"
          }, {
            num: "140%",
            scale: "1.1",
            introduce_zh: "\u8840\u91cf\u589e\u52a040%,\u4eba\u7269\u53d8\u5927",
            introduce_en: "HP increased by 40%, and the character became larger"
          }, {
            num: "150%",
            scale: "1.2",
            introduce_zh: "\u8840\u91cf\u589e\u52a050%,\u4eba\u7269\u53d8\u5927",
            introduce_en: "HP increased by 50%, and the character became larger"
          } ]
        },
        13: {
          name: "\u4e16\u754c\u6269\u5927\u4eea",
          cd: 0,
          num: 1,
          introduce_zh: "\u901f\u5ea6\u589e\u52a0,\u4eba\u7269\u53d8\u5c0f",
          introduce_en: "The speed increases and the characters become smaller",
          level: [ {
            num: "120%",
            scale: "0.6",
            introduce_zh: "\u901f\u5ea6\u589e\u52a020%,\u4eba\u7269\u53d8\u5c0f",
            introduce_en: "Speed increases by 20%, and the characters become smaller"
          }, {
            num: "135%",
            scale: "0.55",
            introduce_zh: "\u901f\u5ea6\u589e\u52a035%,\u4eba\u7269\u53d8\u5c0f",
            introduce_en: "Speed increases by 35%, and the characters become smaller"
          }, {
            num: "150%",
            scale: "0.5",
            introduce_zh: "\u901f\u5ea6\u589e\u52a050%,\u4eba\u7269\u53d8\u5c0f",
            introduce_en: "Speed increases by 50%, and the characters become smaller"
          } ]
        },
        14: {
          name: "\u66b4\u8d70\u836f\u5242",
          cd: 0,
          num: 1,
          introduce_zh: "\u5c04\u901f\u63d0\u5347,\u6362\u5f39\u52a0\u5feb",
          introduce_en: "Increase the firing speed and speed up the cartridge change",
          level: [ {
            num: "80%",
            introduce_zh: "\u5c04\u901f\u589e\u52a020%",
            introduce_en: "Fire speed increased by 20%"
          }, {
            num: "70%",
            reload: "60%",
            introduce_zh: "\u5c04\u901f\u589e\u52a030%,\u6362\u5f39\u63d0\u534740%",
            introduce_en: "The firing speed is increased by 30%, cartridge change is increased by 40%"
          }, {
            num: "60%",
            reload: "40%",
            introduce_zh: "\u5c04\u901f\u589e\u52a040%,\u6362\u5f39\u63d0\u534760%",
            introduce_en: "The firing speed is increased by 40%, cartridge change is increased by 60%"
          } ]
        },
        15: {
          name: "\u5b50\u5f39\u80cc\u5305",
          cd: 0,
          num: 1,
          introduce_zh: "\u589e\u52a0\u5b50\u5f39",
          introduce_en: "Add bullets",
          level: [ {
            num: "120%",
            introduce_zh: "\u5b50\u5f39\u6570\u91cf\u589e\u52a020%",
            introduce_en: "Number of bullets increased by 20%"
          }, {
            num: "140%",
            introduce_zh: "\u5b50\u5f39\u6570\u91cf\u589e\u52a040%",
            introduce_en: "Number of bullets increased by 40%"
          }, {
            num: "160%",
            introduce_zh: "\u5b50\u5f39\u6570\u91cf\u589e\u52a060%",
            introduce_en: "Number of bullets increased by 60%"
          } ]
        },
        16: {
          name: "\u5200\u5ba2",
          cd: 0,
          num: 1,
          introduce_zh: "\u8fd1\u6218\u6b66\u5668\u4f24\u5bb3\u63d0\u5347",
          introduce_en: "Melee weapon damage increased",
          level: [ {
            num: "120%",
            introduce_zh: "\u8fd1\u6218\u4f24\u5bb3\u589e\u52a020%",
            introduce_en: "Melee damage increased by 20%"
          }, {
            num: "140%",
            introduce_zh: "\u8fd1\u6218\u4f24\u5bb3\u589e\u52a040%",
            introduce_en: "Melee damage increased by 40%"
          }, {
            num: "180%",
            introduce_zh: "\u8fd1\u6218\u4f24\u5bb3\u589e\u52a080%",
            introduce_en: "Melee damage increased by 80%"
          } ]
        }
      };
      GameDate.PathMess = {
        path: {
          mapWidth: 6e3,
          mapHeight: 5e3,
          gridWidth: 200,
          gridHeight: 200,
          pathArr: [ [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0 ], [ 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ]
        }
      };
      GameDate.ZombieMess = {
        0: {
          name: "\u5c0f\u50f5",
          hp: 90,
          atk: 1,
          atkRange: 200,
          speed: 420
        },
        1: {
          name: "\u94c1\u901a\u50f5",
          hp: 200,
          atk: 1,
          atkRange: 200,
          speed: 400
        },
        2: {
          name: "\u8dd1\u6b65\u50f5",
          hp: 120,
          atk: 1,
          atkRange: 220,
          speed: 450
        },
        3: {
          name: "\u8df3\u8dc3\u50f5",
          hp: 150,
          atk: 1,
          atkRange: 220,
          speed: 440
        },
        4: {
          name: "\u83dc\u5200\u50f5",
          hp: 300,
          atk: 1,
          atkRange: 220,
          speed: 400
        },
        5: {
          name: "\u70b8\u5f39\u50f5",
          hp: 150,
          atk: 1,
          atkRange: 1e3,
          speed: 400
        },
        6: {
          name: "\u6bd2\u836f\u50f5",
          hp: 250,
          atk: 1,
          atkRange: 1e3,
          speed: 400
        },
        7: {
          name: "\u91d1\u5e01\u50f5",
          hp: 250,
          atk: 1,
          atkRange: 200,
          speed: 400
        },
        8: {
          name: "boss1",
          hp: 1500,
          atk: 1,
          atkRange: 300,
          speed: 500
        },
        9: {
          name: "boss2",
          hp: 2e3,
          atk: 1,
          atkRange: 350,
          speed: 500
        },
        10: {
          name: "boss3",
          hp: 2500,
          atk: 1,
          atkRange: 200,
          speed: 500
        },
        11: {
          name: "boss4",
          hp: 3e3,
          atk: 1,
          atkRange: 250,
          speed: 500
        },
        12: {
          name: "boss5",
          hp: 3500,
          atk: 1,
          atkRange: 250,
          speed: 500
        },
        13: {
          name: "boss6",
          hp: 4e3,
          atk: 1,
          atkRange: 250,
          speed: 500
        },
        14: {
          name: "boss7",
          hp: 4500,
          atk: 1,
          atkRange: 450,
          speed: 500
        },
        15: {
          name: "boss8",
          hp: 5e3,
          atk: 1,
          atkRange: 400,
          speed: 500
        },
        16: {
          name: "boss9",
          hp: 5500,
          atk: 1,
          atkRange: 300,
          speed: 500
        },
        17: {
          name: "boss10",
          hp: 6e3,
          atk: 1,
          atkRange: 200,
          speed: 500
        },
        18: {
          name: "boss11",
          hp: 6600,
          atk: 1,
          atkRange: 300,
          speed: 500
        },
        19: {
          name: "boss12",
          hp: 7200,
          atk: 1,
          atkRange: 450,
          speed: 500
        },
        20: {
          name: "boss13",
          hp: 8e3,
          atk: 1,
          atkRange: 300,
          speed: 500
        }
      };
      GameDate = __decorate([ ccclass ], GameDate);
      return GameDate;
    }();
    exports.default = GameDate;
    cc._RF.pop();
  }, {} ],
  gameMgr: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ba7855a2NtE/b6oGliHwfNV", "gameMgr");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.gameMgr = void 0;
    var CocosZ_1 = require("../Framework/CocosZ");
    var Utils_1 = require("../../common-plugin/Scripts/Utils");
    var Constant_1 = require("../Framework/Constant");
    var UpgradeMgr_1 = require("./UpgradeMgr");
    var YZ_Constant_1 = require("../../common-plugin/Scripts/YZ_Constant");
    var ZombieBase_1 = require("./ZombieBase");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    exports.gameMgr = null;
    var GameMgr = function(_super) {
      __extends(GameMgr, _super);
      function GameMgr() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.nodePoolObj = {};
        _this.canSHowGameBanner = true;
        _this.tipLayer = null;
        _this.setMapTs = null;
        _this.playerTs = null;
        _this.uiGamePage = null;
        _this.moveArea = null;
        _this.yaogan = null;
        _this.BtnBullet = null;
        _this.posObj = {};
        _this.dmmArr = [];
        _this.red = null;
        _this.hpTip = null;
        _this.effect_fire = null;
        _this.effect_hit = null;
        _this.itemList = [];
        _this.itemEffect = [];
        _this.spark = null;
        _this.blood = null;
        _this.testPoint = null;
        _this.player = null;
        _this.jiaoyin = null;
        _this.fj = null;
        _this.fjTip = null;
        _this.mainCamereRootNode = null;
        _this.mainCamera = null;
        _this.atk = null;
        _this.safeCenter = cc.v2(0, 0);
        _this.redCircle = null;
        _this.redCircle2 = null;
        _this.mapSize = cc.winSize;
        _this.miniMapSize = null;
        _this.btnSkill = null;
        _this.btnSkillAd = null;
        _this.rangedWeaponMess = null;
        _this.rangedWeaponAdMess = null;
        _this.ammo = null;
        _this.ammoAd = null;
        _this.kt = null;
        _this.model6_touxiang = null;
        _this.model6_btnShuxing = null;
        _this.model6_shuxing = null;
        _this.model6_jingyanBar = null;
        _this.model6_levelLabel = null;
        _this.model6_skillScrollView = null;
        _this.model6_skillScrollView_content = null;
        _this.model6_skillScrollView_item = null;
        _this.model6_timeLabel = null;
        _this.model6_ts = null;
        _this.model6_bossBar = null;
        _this.timeStr = "";
        _this.totalNum = 0;
        _this.deathNum = 0;
        _this.playerRank = 1;
        _this.passCondition = 1;
        _this.bossName = "";
        _this.map = null;
        _this.startPoint = null;
        _this.atkRange = null;
        _this.curTime = 0;
        _this.timeLabel = null;
        _this.snow = null;
        _this.qlzc = null;
        _this.GameTime = 0;
        _this.isGameStart = false;
        _this.posList = [];
        _this.boss_border = null;
        _this.zombieTime = 0;
        _this.zombieCurNum = 0;
        _this.zombieMaxNum = 0;
        _this.zombieLength = 2;
        _this.zombieArr = [ "zombie_basic", "zombie_run", "zombie_drum", "zombie_jump", "zombie_bomb", "zombie_tank", "zombie_poison" ];
        _this.bossArr = [ "boss1", "boss2", "boss3", "boss4", "boss11", "boss5", "boss12", "boss6", "boss7", "boss8", "boss9", "boss10", "boss13" ];
        _this.boss2Arr = [];
        _this._recursionCount = 0;
        _this.lastTime = 0;
        _this.safeTime = 40;
        _this.startPos = null;
        _this.isUp = false;
        _this.isDown = false;
        _this.isLeft = false;
        _this.isRight = false;
        _this.isPre = true;
        _this.clipNameArr = {};
        _this.isFail = false;
        _this.isWin = false;
        _this.isRevive = false;
        _this._timeArr = [ 0, .04, .05, .06, .07 ];
        _this._disArr = [ 0, 3, 10, 20, 30 ];
        _this._vibrateTime = 0;
        return _this;
      }
      GameMgr.prototype.nodeGet = function(name, prefab) {
        var node = null;
        this.nodePoolObj[name] || (this.nodePoolObj[name] = new cc.NodePool());
        this.nodePoolObj[name].size() ? node = this.nodePoolObj[name].get() : prefab && prefab.isValid && (node = cc.instantiate(prefab));
        node && (node.name = name);
        return node;
      };
      GameMgr.prototype.nodePut = function(name, node) {
        this.nodePoolObj[name] && node && node.isValid ? this.nodePoolObj[name].put(node) : cc.log("\u56de\u6536\u51fa\u9519: ", name);
      };
      GameMgr.prototype.onLoad = function() {
        exports.gameMgr = this;
        exports.gameMgr.mainCamera.zoomRatio = .65;
        CocosZ_1.cocosz.pauseCount = 0;
      };
      GameMgr.prototype.start = function() {
        this.mainCamereRootNode.setContentSize(cc.winSize);
        this.mainCamereRootNode.width += 500;
        this.mainCamereRootNode.height += 500;
        if (this.fjTip) if ([ 5, 7 ].includes(CocosZ_1.cocosz.gameMode)) this.fjTip.active = false; else {
          this.fjTip.active = true;
          this.fjTip.zIndex = Constant_1.ZindexLayer.zindex_max;
        }
      };
      GameMgr.prototype.lateUpdate = function() {
        if (CocosZ_1.cocosz.isPause || exports.gameMgr.isWin || exports.gameMgr.isFail) return;
        this.cameraFollow();
      };
      GameMgr.prototype.initPos = function() {
        var _this = this;
        if (7 == CocosZ_1.cocosz.gameMode) {
          var bluePos = cc.find("posLayer/bluePos", exports.gameMgr.map);
          bluePos && (this.posObj["bluePos"] = bluePos.getPosition());
          var redPos = cc.find("posLayer/redPos", exports.gameMgr.map);
          redPos && (this.posObj["redPos"] = redPos.getPosition());
          this.posObj["pathPos0"] = [];
          var pathPos0 = cc.find("posLayer/pathPos0", exports.gameMgr.map);
          pathPos0 && pathPos0.children.forEach(function(node) {
            _this.posObj["pathPos0"].push(node.getPosition());
          });
          this.posObj["pathPos1"] = [];
          var pathPos1 = cc.find("posLayer/pathPos1", exports.gameMgr.map);
          pathPos1 && pathPos1.children.forEach(function(node) {
            _this.posObj["pathPos1"].push(node.getPosition());
          });
          this.posObj["pathPos2"] = [];
          var pathPos2 = cc.find("posLayer/pathPos2", exports.gameMgr.map);
          pathPos2 && pathPos2.children.forEach(function(node) {
            _this.posObj["pathPos2"].push(node.getPosition());
          });
        }
      };
      GameMgr.prototype.startGame = function() {
        var _this = this;
        this.tipLayer = new cc.Node();
        this.tipLayer.name = "tipLayer";
        this.tipLayer.zIndex = Constant_1.ZindexLayer.zindex_roleLabel;
        this.tipLayer.setPosition(cc.Vec2.ZERO);
        this.tipLayer.setParent(exports.gameMgr.map);
        6 == CocosZ_1.cocosz.gameMode && this.schedule(function() {
          _this.update_model6_shuxing();
        }, 1);
        this.initPlayer();
      };
      GameMgr.prototype.initPlayer = function() {
        if (6 == CocosZ_1.cocosz.gameMode) {
          var player1 = cc.instantiate(this.player);
          player1.scale = .6;
          player1.setPosition(cc.v2(2e3, 0).rotateSelf(2 * Math.PI * Math.random()));
          player1.setParent(this.map);
          this.totalNum++;
          this.fjEffect();
        }
      };
      GameMgr.prototype.fjEffect = function() {
        var _this = this;
        if (this.fj && this.playerTs) {
          this.uiGamePage.active = false;
          this.scheduleOnce(function() {
            _this.playerTs.node.opacity = 0;
            _this.playerTs.playerMess.opacity = 1;
            _this.playerTs.ghAniNode.opacity = 1;
          });
          this.followNode = this.fj;
          this.fj.active = true;
          this.fj.setParent(exports.gameMgr.map);
          this.scheduleOnce(function() {
            _this.fj.zIndex = Constant_1.ZindexLayer.zindex_max;
          });
          var targetPos = cc.v2(this.playerTs.node.x, this.playerTs.node.y + 500);
          var dis = targetPos.sub(this.fj.getPosition());
          this.fj.scaleX = dis.x < 0 ? -1 : 1;
          var fjAni_1 = this.fj.getComponent(sp.Skeleton);
          fjAni_1.addAnimation(0, "animation0", true);
          CocosZ_1.cocosz.audioMgr.playEffect("fj", true, 1);
          var t = dis.mag() / 800;
          cc.tween(this.fj).to(t, {
            x: targetPos.x,
            y: targetPos.y
          }).call(function() {
            fjAni_1.setAnimation(0, "animation1", false);
            fjAni_1.addAnimation(0, "animation2", false);
            fjAni_1.addAnimation(0, "animation4", false);
            fjAni_1.addAnimation(0, "animation5", true);
          }).delay(2).call(function() {
            _this.fjTip && (_this.fjTip.active = false);
            _this.fj.zIndex = Constant_1.ZindexLayer.zindex_max - 1;
            _this.playerTs.node.zIndex = Constant_1.ZindexLayer.zindex_max;
            _this.playerTs.node.opacity = 255;
            _this.playerTs.rig.active = false;
            _this.followNode = _this.playerTs.node;
            _this.playerTs.node.y += 600;
            cc.tween(_this.playerTs.node).delay(.5).to(1, {
              y: _this.playerTs.node.y - 600
            }).call(function() {
              _this.uiGamePage.active = true;
              _this.playerTs.node.zIndex = Constant_1.ZindexLayer.zindex_player;
              _this.playerTs.rig.active = true;
              _this.playerTs.playerMess.opacity = 255;
              _this.playerTs.ghAniNode.opacity = 255;
              _this.playerTs.updateAni("daiji_body", true);
              _this.initGame();
              6 == CocosZ_1.cocosz.gameMode ? _this.schedule(_this.createZombieCount, 1) : cc.log("\u6a21\u5f0f\u6709\u95ee\u9898");
            }).start();
          }).delay(2).call(function() {
            _this.fj.zIndex = Constant_1.ZindexLayer.zindex_max;
            fjAni_1.setAnimation(0, "animation6", false);
            fjAni_1.addAnimation(0, "animation7", false);
            fjAni_1.addAnimation(0, "animation9", false);
            fjAni_1.addAnimation(0, "animation0", true);
          }).delay(2).to(2, {
            position: cc.v3(dis.normalize().mulSelf(2e3).add(dis))
          }).call(function() {
            CocosZ_1.cocosz.audioMgr.stopEffect("fj");
            _this.fj.destroy();
          }).start();
        }
      };
      GameMgr.prototype.showGameTime = function() {
        if (this.model6_timeLabel && this.model6_timeLabel.isValid) {
          var s = this.GameTime;
          var m = 0;
          var h = 0;
          if (s > 60) {
            m = Math.floor(s / 60);
            s = Math.floor(s % 60);
            if (m > 60) {
              h = Math.floor(m / 60);
              m = Math.floor(m % 60);
            }
          }
          var r = "";
          r += 0 == h ? "" : h + ":";
          r += m >= 10 ? "" + m : "0" + m;
          r += s >= 10 ? ":" + s : ":0" + s;
          this.timeStr = r;
          this.model6_timeLabel.string = r;
        }
      };
      GameMgr.prototype.update_model6_xuedi = function() {
        if (exports.gameMgr.playerTs && exports.gameMgr.playerTs.hpNumNode && exports.gameMgr.playerTs.hpNumNode.isValid) {
          exports.gameMgr.playerTs.hpNumNode.active = true;
          exports.gameMgr.playerTs.hpNumNode.width = Math.min(250, 50 * exports.gameMgr.playerTs.totleHp);
          exports.gameMgr.playerTs.hpNumNode.children.forEach(function(n, i) {
            if (i < exports.gameMgr.playerTs.totleHp) {
              n.active = true;
              i < exports.gameMgr.playerTs.HP ? n.children[1].opacity = 255 : n.children[1].opacity = 0;
            } else n.active = false;
          });
        }
      };
      GameMgr.prototype.update_model6_shuxing = function() {
        if (UpgradeMgr_1.upgradeMgr && exports.gameMgr && exports.gameMgr.model6_shuxing && exports.gameMgr.model6_shuxing.isValid && exports.gameMgr.model6_shuxing.active) {
          this.model6_shuxing.children[0].getComponent(cc.Label).string = UpgradeMgr_1.upgradeMgr.curLevel.toString();
          this.model6_shuxing.children[1].getComponent(cc.Label).string = (exports.gameMgr.playerTs.atkNum * exports.gameMgr.playerTs.atkRate).toFixed(0);
          this.model6_shuxing.children[2].getComponent(cc.Label).string = (exports.gameMgr.playerTs.atkSpeed * exports.gameMgr.playerTs.atkSpeedRate).toFixed(1);
          this.model6_shuxing.children[3].getComponent(cc.Label).string = (exports.gameMgr.playerTs.reloadSpeed * exports.gameMgr.playerTs.reloadRate).toFixed(1);
          this.model6_shuxing.children[4].getComponent(cc.Label).string = exports.gameMgr.playerTs.curWeapon.bulletNum.toString();
          this.model6_shuxing.children[5].getComponent(cc.Label).string = (exports.gameMgr.playerTs.MoveSpeed * exports.gameMgr.playerTs.speedRate).toFixed(0);
          this.model6_shuxing.children[6].getComponent(cc.Label).string = UpgradeMgr_1.upgradeMgr.jingyanRange.toString();
        }
      };
      GameMgr.prototype.showBossHp = function(rate) {
        if (rate > 0) {
          if (this.model6_bossBar && cc.isValid(this.model6_bossBar)) {
            this.model6_bossBar.node.active = true;
            this.model6_bossBar.progress = rate;
          }
          this.model6_jingyanBar && cc.isValid(this.model6_jingyanBar) && (this.model6_jingyanBar.node.active = false);
          this.model6_levelLabel && cc.isValid(this.model6_levelLabel) && (this.model6_levelLabel.node.active = false);
        } else {
          if (this.model6_bossBar && cc.isValid(this.model6_bossBar)) {
            this.model6_bossBar.node.active = false;
            this.model6_bossBar.progress = rate;
          }
          this.model6_jingyanBar && cc.isValid(this.model6_jingyanBar) && (this.model6_jingyanBar.node.active = true);
          this.model6_levelLabel && cc.isValid(this.model6_levelLabel) && (this.model6_levelLabel.node.active = true);
        }
      };
      GameMgr.prototype.createZombieCount = function() {
        var _this = this;
        if (CocosZ_1.cocosz.isPause || exports.gameMgr.isWin || exports.gameMgr.isFail) return;
        this.GameTime++;
        this.showGameTime();
        if (this.boss_border) return;
        this.zombieTime++;
        var count = 1;
        if (0 === this.zombieTime % 100) {
          this.createBossZombie();
          this.zombieLength < this.zombieArr.length && this.zombieLength++;
        } else if (0 === this.zombieTime % 50) {
          if (this.model6_ts) {
            this.model6_ts.active = true;
            this.scheduleOnce(function() {
              _this.model6_ts.active = false;
            }, 3);
            var spAni = this.model6_ts.getComponent(sp.Skeleton);
            spAni.setSkin("sclx_" + CocosZ_1.cocosz.curLanguage);
            spAni.setAnimation(0, "animation", true);
          }
          this.zombieMaxNum = 20 + 10 * Math.floor(this.zombieTime / 40);
          this.zombieMaxNum > 40 && (this.zombieMaxNum = 40);
          if (this.zombieCurNum < this.zombieMaxNum) {
            count = this.zombieMaxNum - this.zombieCurNum;
            var k = Math.ceil(count / 10);
            var angle_1 = 0;
            var inter_1 = 36;
            for (var i = 0; i < k; i++) this.schedule(function() {
              angle_1 += inter_1;
              _this.createCommonZombie(cc.winSize.height / 2.5 / _this.mainCamera.zoomRatio, angle_1);
            }, .1, Math.ceil(count / k), i);
          }
          for (var i = this.boss2Arr.length - 1; i >= 0 && i >= this.boss2Arr.length - 2; i--) {
            var resName = this.boss2Arr[i];
            cc.log("\u521b\u5efa\u5c38\u6f6eboss: ", resName);
            resName && this.createZombie(resName, exports.gameMgr.playerTs.node.getPosition(), cc.winSize.width / 2 / this.mainCamera.zoomRatio);
          }
        } else if (0 === this.zombieTime % 51 || 0 === this.zombieTime % 52 || 0 === this.zombieTime % 53 || 0 === this.zombieTime % 54 || 0 === this.zombieTime % 55) ; else {
          this.zombieMaxNum = 5 + 5 * Math.floor(this.zombieTime / 20);
          this.zombieMaxNum > 20 && (this.zombieMaxNum = 20);
          if (this.zombieCurNum < this.zombieMaxNum) {
            count = Math.ceil(4 * Math.random());
            this.schedule(function() {
              _this.createCommonZombie(cc.winSize.height / 2.5 / _this.mainCamera.zoomRatio);
            }, .1, count);
          }
        }
      };
      GameMgr.prototype.createCommonZombie = function(dis, angle) {
        var index = Math.floor(Math.random() * this.zombieLength);
        var resName = this.zombieArr[index];
        resName && this.createZombie(resName, exports.gameMgr.playerTs.node.getPosition(), dis, angle);
      };
      GameMgr.prototype.createBossZombie = function() {
        var _this = this;
        if (this.bossArr.length) {
          this.createBossBorder();
          if (this.model6_ts) {
            this.model6_ts.active = true;
            this.scheduleOnce(function() {
              _this.model6_ts.active = false;
            }, 3);
            var spAni = this.model6_ts.getComponent(sp.Skeleton);
            spAni.setSkin("bosslx_" + CocosZ_1.cocosz.curLanguage);
            spAni.setAnimation(0, "animation", true);
          }
          var resName = this.bossArr.shift();
          var centerPos = exports.gameMgr.playerTs.node.getPosition();
          this.boss_border && (centerPos = this.boss_border.getPosition());
          if (resName) {
            this.boss2Arr.push(resName);
            this.createZombie(resName, centerPos, 300, null, true);
          }
        }
      };
      GameMgr.prototype.createBossBorder = function() {
        var pre = CocosZ_1.cocosz.resMgr.getRes("boss_border", cc.Prefab);
        if (pre) {
          this.boss_border = cc.instantiate(pre);
          this.boss_border.setPosition(exports.gameMgr.playerTs.node.getPosition());
          this.boss_border.x - this.boss_border.width / 2 < -exports.gameMgr.mapSize.width / 2 ? this.boss_border.x = -exports.gameMgr.mapSize.width / 2 + this.boss_border.width / 2 + 100 : this.boss_border.x + this.boss_border.width / 2 > exports.gameMgr.mapSize.width / 2 && (this.boss_border.x = exports.gameMgr.mapSize.width / 2 - this.boss_border.width / 2 - 100);
          this.boss_border.y - this.boss_border.height / 2 < -exports.gameMgr.mapSize.height / 2 ? this.boss_border.y = -exports.gameMgr.mapSize.height / 2 + this.boss_border.height / 2 + 100 : this.boss_border.y + this.boss_border.height / 2 > exports.gameMgr.mapSize.height / 2 && (this.boss_border.y = exports.gameMgr.mapSize.height / 2 - this.boss_border.height / 2 - 300);
          this.boss_border.setParent(this.map);
        }
      };
      GameMgr.prototype.createZombie = function(resName, center, dis, angle, isBoss) {
        var _this = this;
        void 0 === isBoss && (isBoss = false);
        var prefab = CocosZ_1.cocosz.resMgr.getRes(resName, cc.Prefab);
        if (prefab) {
          this._recursionCount = 0;
          var pos = this.getZombieBirthPos(center, dis, angle);
          if (pos) {
            var newZombie = this.nodeGet(resName, prefab);
            if (newZombie) {
              var ts = newZombie.getComponent(ZombieBase_1.default);
              ts && isBoss && (ts.isBoss = true);
              newZombie.setPosition(pos);
              newZombie.setParent(exports.gameMgr.map);
              ts && ts.initNode();
            }
          }
        } else CocosZ_1.cocosz.resMgr.loadAndCacheRes("prefab_zombie/" + resName, cc.Prefab, null, function(err, res) {
          err || _this.createZombie(resName, center, dis, angle, isBoss);
        });
      };
      GameMgr.prototype.getZombieBirthPos = function(center, dis, angle) {
        if (++this._recursionCount > 100) return null;
        var radians = 0;
        radians = null == angle || void 0 == angle ? 2 * Math.PI * Math.random() : cc.misc.degreesToRadians(angle);
        var dif = cc.v2(dis + Math.floor(200 * Math.random()), 0).rotateSelf(radians);
        var pos = center.add(dif);
        return pos.x > -exports.gameMgr.mapSize.width / 2 + 400 && pos.x < exports.gameMgr.mapSize.width / 2 - 400 && pos.y < exports.gameMgr.mapSize.height / 2 - 400 && pos.y > -exports.gameMgr.mapSize.height / 2 + 400 ? pos : this.getZombieBirthPos(center, dis);
      };
      GameMgr.prototype.initGame = function() {
        var _this = this;
        this.startPos = this.yaogan.getPosition();
        this.isGameStart = true;
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.keyDown, this);
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.keyUp, this);
        this.moveArea.on(cc.Node.EventType.TOUCH_START, function(event) {
          var pos = event.getLocation();
          pos = _this.node.convertToNodeSpaceAR(pos);
          _this.yaogan.setPosition(pos);
        }, this);
        this.moveArea.on(cc.Node.EventType.TOUCH_MOVE, function(event) {
          var div = event.getLocation().sub(event.getStartLocation());
          div.mag() > 160 && (div = div.mul(160 / div.mag()));
          _this.yaogan.children[0].setPosition(div);
          exports.gameMgr.playerTs.moveDir = div.normalize();
        }, this);
        this.moveArea.on(cc.Node.EventType.TOUCH_END, function(event) {
          _this.yaogan.setPosition(_this.startPos);
          _this.yaogan.children[0].setPosition(cc.v2(0, 0));
          exports.gameMgr.playerTs.moveDir = cc.v2(0, 0);
        }, this);
        this.moveArea.on(cc.Node.EventType.TOUCH_CANCEL, function(event) {
          _this.yaogan.setPosition(_this.startPos);
          _this.yaogan.children[0].setPosition(cc.v2(0, 0));
          exports.gameMgr.playerTs.moveDir = cc.v2(0, 0);
        }, this);
      };
      GameMgr.prototype.keyDown = function(event) {
        switch (event.keyCode) {
         case 87:
          if (!this.isUp) {
            this.isUp = true;
            this.setDir();
          }
          break;

         case 83:
          if (!this.isDown) {
            this.isDown = true;
            this.setDir();
          }
          break;

         case 65:
          if (!this.isLeft) {
            this.isLeft = true;
            this.setDir();
          }
          break;

         case 68:
          if (!this.isRight) {
            this.isRight = true;
            this.setDir();
          }
        }
      };
      GameMgr.prototype.keyUp = function(event) {
        switch (event.keyCode) {
         case 87:
          this.isUp = false;
          this.setDir();
          break;

         case 83:
          this.isDown = false;
          this.setDir();
          break;

         case 65:
          this.isLeft = false;
          this.setDir();
          break;

         case 68:
          this.isRight = false;
          this.setDir();
        }
      };
      GameMgr.prototype.cameraFollow = function() {
        var pos_to = null;
        var t = .1;
        if (this.followNode && this.followNode.isValid) {
          pos_to = this.followNode.getPosition();
          t = .1;
        }
        if (pos_to) {
          var pos_from = this.mainCamereRootNode.getPosition();
          var pos_out = cc.Vec2.ZERO;
          var ratio = this.mainCamera.zoomRatio;
          var winSize = new cc.Size(cc.winSize.width / ratio, cc.winSize.height / ratio);
          if (7 == CocosZ_1.cocosz.gameMode) ; else {
            pos_to.x + winSize.width / 2 > exports.gameMgr.mapSize.width / 2 ? pos_to.x = exports.gameMgr.mapSize.width / 2 - winSize.width / 2 : pos_to.x - winSize.width / 2 < -exports.gameMgr.mapSize.width / 2 && (pos_to.x = -exports.gameMgr.mapSize.width / 2 + winSize.width / 2);
            pos_to.y + winSize.height / 2 > exports.gameMgr.mapSize.height / 2 ? pos_to.y = exports.gameMgr.mapSize.height / 2 - winSize.height / 2 : pos_to.y - winSize.height / 2 < -exports.gameMgr.mapSize.height / 2 && (pos_to.y = -exports.gameMgr.mapSize.height / 2 + winSize.height / 2);
          }
          if (pos_to.sub(pos_from).mag() < 1e3) {
            cc.Vec2.lerp(pos_out, pos_from, pos_to, t);
            this.mainCamereRootNode.setPosition(pos_out);
          } else {
            this.mainCamereRootNode.setPosition(pos_to);
            exports.gameMgr.setMapTs && exports.gameMgr.setMapTs.checkAllNode();
          }
        }
      };
      GameMgr.prototype.setDir = function() {
        var moveDir = cc.v2(0, 0);
        this.isUp && moveDir.y++;
        this.isLeft && moveDir.x--;
        this.isRight && moveDir.x++;
        this.isDown && moveDir.y--;
        this.playerTs.moveDir = moveDir.normalize();
      };
      GameMgr.prototype.restart = function() {};
      GameMgr.prototype.useMeleeWeapon = function() {};
      GameMgr.prototype.useRangedWeapon = function() {
        this.playerTs.changeCurWeapon(this.playerTs.rangedWeapon);
      };
      GameMgr.prototype.useRangedWeaponAd = function() {
        this.playerTs.changeCurWeapon(this.playerTs.rangedWeaponAd);
      };
      GameMgr.prototype.getNewWeapon = function() {
        CocosZ_1.cocosz.audioMgr.playEffect("changeWeapon");
        this.playerTs.setNewWeapon();
      };
      GameMgr.prototype.playEffect = function(name, node, interval) {
        var _this = this;
        void 0 === interval && (interval = .2);
        if (exports.gameMgr.isWin || exports.gameMgr.isFail || CocosZ_1.cocosz.isPause) return;
        if (this.clipNameArr[name]) return;
        var voice = 1;
        if (node && node.isValid && node.parent && node.parent.isValid) {
          var pos = node.getPosition();
          pos = node.parent.convertToWorldSpaceAR(pos);
          var pos2 = this.playerTs.node.getPosition();
          pos2 = this.playerTs.node.parent.convertToWorldSpaceAR(pos2);
          var dt = pos.sub(pos2).mag();
          if (dt > 2e3) return;
        }
        CocosZ_1.cocosz.audioMgr.playEffect(name, false, voice);
        if (interval > 0) {
          this.clipNameArr[name] = 1;
          this.scheduleOnce(function() {
            _this.clipNameArr[name] = 0;
          }, interval);
        }
      };
      GameMgr.prototype.playClip = function(clip, node, interval) {
        var _this = this;
        void 0 === interval && (interval = .2);
        if (exports.gameMgr.isWin || exports.gameMgr.isFail || CocosZ_1.cocosz.isPause) return;
        if (this.clipNameArr[clip.name]) return;
        var voice = 1;
        if (node && node.isValid && node.parent && node.parent.isValid) {
          var pos = node.getPosition();
          pos = node.parent.convertToWorldSpaceAR(pos);
          var pos2 = this.playerTs.node.getPosition();
          pos2 = this.playerTs.node.parent.convertToWorldSpaceAR(pos2);
          var dt = pos.sub(pos2).mag();
          if (dt > 2e3) return;
        }
        CocosZ_1.cocosz.audioMgr.playClip(clip, false, voice);
        if (interval > 0) {
          this.clipNameArr[clip.name] = 1;
          this.scheduleOnce(function() {
            _this.clipNameArr[clip.name] = 0;
          }, interval);
        }
      };
      GameMgr.prototype.showRoleTip = function(node, str, labelColor) {
        var _this = this;
        void 0 === labelColor && (labelColor = cc.Color.WHITE);
        if (node && node.isValid && this.hpTip && this.hpTip.isValid && exports.gameMgr.tipLayer) {
          var tipNode_1 = this.nodeGet("hpTip", this.hpTip);
          if (tipNode_1) {
            tipNode_1.setParent(exports.gameMgr.tipLayer);
            tipNode_1.setPosition(node.x + 200 * (Math.random() - .5), node.y + node.height / 2);
            tipNode_1.opacity = 255;
            tipNode_1.color = labelColor;
            tipNode_1.scale = labelColor == cc.Color.WHITE ? 1 : 1.2;
            var tipLabel = tipNode_1.getComponent(cc.Label);
            tipLabel && (tipLabel.string = str);
            tipNode_1.stopAllActions();
            cc.tween(tipNode_1).by(.5, {
              y: 20,
              scale: 1
            }).by(.3, {
              y: 10,
              scale: -1,
              opacity: -255
            }).call(function() {
              _this.nodePut("hpTip", tipNode_1);
            }).start();
          }
        }
      };
      GameMgr.prototype.fail = function() {
        var _this = this;
        if (this.isWin || this.isFail) return;
        CocosZ_1.cocosz.pauseCount++;
        this.isFail = true;
        this.unscheduleAllCallbacks();
        UpgradeMgr_1.upgradeMgr && UpgradeMgr_1.upgradeMgr.unscheduleAllCallbacks();
        this.scheduleOnce(function() {
          _this.qlzc.active = true;
          cc.tween(_this.qlzc).delay(.3).call(function() {
            _this.qlzc.getChildByName("dian").children[0].active = true;
          }).delay(.3).call(function() {
            _this.qlzc.getChildByName("dian").children[1].active = true;
          }).delay(.3).call(function() {
            _this.qlzc.getChildByName("dian").children[2].active = true;
          }).delay(.3).call(function() {
            _this.qlzc.getChildByName("dian").children[0].active = false;
            _this.qlzc.getChildByName("dian").children[1].active = false;
            _this.qlzc.getChildByName("dian").children[2].active = false;
          }).union().repeatForever().start();
        }, 2);
        this.scheduleOnce(function() {
          CocosZ_1.cocosz.gameMgr.gameFailed();
        }, 4);
      };
      GameMgr.prototype.win = function() {
        var _this = this;
        if (this.isWin || this.isFail) return;
        CocosZ_1.cocosz.pauseCount++;
        this.isWin = true;
        this.unscheduleAllCallbacks();
        UpgradeMgr_1.upgradeMgr && UpgradeMgr_1.upgradeMgr.unscheduleAllCallbacks();
        this.scheduleOnce(function() {
          _this.qlzc.active = true;
          cc.tween(_this.qlzc).delay(.3).call(function() {
            _this.qlzc.getChildByName("dian").children[0].active = true;
          }).delay(.3).call(function() {
            _this.qlzc.getChildByName("dian").children[1].active = true;
          }).delay(.3).call(function() {
            _this.qlzc.getChildByName("dian").children[2].active = true;
          }).delay(.3).call(function() {
            _this.qlzc.getChildByName("dian").children[0].active = false;
            _this.qlzc.getChildByName("dian").children[1].active = false;
            _this.qlzc.getChildByName("dian").children[2].active = false;
          }).union().repeatForever().start();
        }, 2);
        this.scheduleOnce(function() {
          CocosZ_1.cocosz.gameMgr.gameSuccess();
        }, 4);
      };
      GameMgr.prototype.revive = function() {
        this.isRevive = true;
        this.playerTs.revive();
      };
      GameMgr.prototype.shakeEffect = function(extent, times, isVibrate, vibrateType) {
        void 0 === extent && (extent = 1);
        void 0 === times && (times = 1);
        void 0 === isVibrate && (isVibrate = true);
        void 0 === vibrateType && (vibrateType = YZ_Constant_1.VibrateType.Short);
        var t = this._timeArr[extent];
        var dis = this._disArr[extent];
        if (extent > 0 && times > 0) {
          this.mainCamera.node.stopAllActions();
          this.mainCamera.node.setPosition(0, 0, 0);
          cc.tween(this.mainCamera.node).to(t, {
            position: cc.v3(dis, dis)
          }).to(t, {
            position: cc.v3(0, -dis)
          }).to(t, {
            position: cc.v3(-dis, dis)
          }).to(t, {
            position: cc.v3(-dis, -dis)
          }).to(t, {
            position: cc.v3(0, dis)
          }).to(t, {
            position: cc.v3(0, 0)
          }).union().repeat(times).start();
        }
        if (CocosZ_1.cocosz.dataMgr.ShakeOn) {
          var t_1 = new Date().getTime();
          if (t_1 - this._vibrateTime > 500) {
            this._vibrateTime = t_1;
            isVibrate && Utils_1.utils.vibrate(vibrateType);
          }
        }
      };
      GameMgr.prototype.guideSkip = function() {};
      __decorate([ property(cc.Node) ], GameMgr.prototype, "red", void 0);
      __decorate([ property(cc.Prefab) ], GameMgr.prototype, "hpTip", void 0);
      __decorate([ property(cc.Prefab) ], GameMgr.prototype, "effect_fire", void 0);
      __decorate([ property(cc.Prefab) ], GameMgr.prototype, "effect_hit", void 0);
      __decorate([ property(cc.Prefab) ], GameMgr.prototype, "itemList", void 0);
      __decorate([ property(cc.Prefab) ], GameMgr.prototype, "itemEffect", void 0);
      __decorate([ property(cc.Prefab) ], GameMgr.prototype, "spark", void 0);
      __decorate([ property(cc.Prefab) ], GameMgr.prototype, "blood", void 0);
      __decorate([ property(cc.Prefab) ], GameMgr.prototype, "testPoint", void 0);
      __decorate([ property(cc.Prefab) ], GameMgr.prototype, "player", void 0);
      __decorate([ property(cc.SpriteFrame) ], GameMgr.prototype, "jiaoyin", void 0);
      __decorate([ property(cc.Node) ], GameMgr.prototype, "fj", void 0);
      __decorate([ property(cc.Node) ], GameMgr.prototype, "fjTip", void 0);
      __decorate([ property(cc.Node) ], GameMgr.prototype, "mainCamereRootNode", void 0);
      __decorate([ property(cc.Camera) ], GameMgr.prototype, "mainCamera", void 0);
      GameMgr = __decorate([ ccclass ], GameMgr);
      return GameMgr;
    }(cc.Component);
    exports.default = GameMgr;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/Utils": "Utils",
    "../../common-plugin/Scripts/YZ_Constant": "YZ_Constant",
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "./UpgradeMgr": "UpgradeMgr",
    "./ZombieBase": "ZombieBase"
  } ],
  jingyan: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "14607c2NPFLXrODbf9T8Km8", "jingyan");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var YZ_Constant_1 = require("../../common-plugin/Scripts/YZ_Constant");
    var CocosZ_1 = require("../Framework/CocosZ");
    var Constant_1 = require("../Framework/Constant");
    var gameMgr_1 = require("./gameMgr");
    var UpgradeMgr_1 = require("./UpgradeMgr");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Jingyan = function(_super) {
      __extends(Jingyan, _super);
      function Jingyan() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.isRun = false;
        _this.moveSpeed = 1e3;
        _this._time = -1;
        return _this;
      }
      Jingyan.prototype.onLoad = function() {};
      Jingyan.prototype.start = function() {};
      Jingyan.prototype.init = function() {
        var _this = this;
        this.isRun = false;
        cc.game.on(Constant_1.default.E_Skill_Citie, function(e) {
          _this.isRun = true;
        }, this);
      };
      Jingyan.prototype.finish = function() {
        UpgradeMgr_1.upgradeMgr.curJingyan += 1;
        cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
          type: Constant_1.default.E_Jingyan_Finish
        });
        if (!CocosZ_1.cocosz.isPause) {
          gameMgr_1.gameMgr.playEffect("jingyan");
          gameMgr_1.gameMgr.shakeEffect(0, 0, true, YZ_Constant_1.VibrateType.Long);
        }
        cc.game.targetOff(this);
        gameMgr_1.gameMgr && gameMgr_1.gameMgr.isValid && gameMgr_1.gameMgr.nodePut("jingyan", this.node);
      };
      Jingyan.prototype.update = function(dt) {
        false == this.isRun ? ++this._time % 10 == 0 && this.activating() : this.followTo(dt);
      };
      Jingyan.prototype.activating = function() {
        if (UpgradeMgr_1.upgradeMgr && UpgradeMgr_1.upgradeMgr.isValid && gameMgr_1.gameMgr && gameMgr_1.gameMgr.playerTs && gameMgr_1.gameMgr.playerTs.isValid) {
          var from = this.node.getPosition();
          var to = gameMgr_1.gameMgr.playerTs.node.getPosition();
          from.sub(to).mag() < UpgradeMgr_1.upgradeMgr.jingyanRange && (this.isRun = true);
        }
      };
      Jingyan.prototype.followTo = function(dt) {
        if (UpgradeMgr_1.upgradeMgr && UpgradeMgr_1.upgradeMgr.isValid && gameMgr_1.gameMgr && gameMgr_1.gameMgr.playerTs && gameMgr_1.gameMgr.playerTs.isValid) {
          var from = this.node.getPosition();
          var to = gameMgr_1.gameMgr.playerTs.node.getPosition();
          var div = to.subSelf(from);
          var moveDis = this.moveSpeed * dt;
          div.mag() < moveDis ? this.finish() : this.node.setPosition(from.addSelf(div.normalizeSelf().mulSelf(moveDis)));
        }
      };
      Jingyan = __decorate([ ccclass ], Jingyan);
      return Jingyan;
    }(cc.Component);
    exports.default = Jingyan;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/YZ_Constant": "YZ_Constant",
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "./UpgradeMgr": "UpgradeMgr",
    "./gameMgr": "gameMgr"
  } ],
  mb: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "bbc16OLUIxBPILLHZnxIsqr", "mb");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CocosZ_1 = require("../Framework/CocosZ");
    var Constant_1 = require("../Framework/Constant");
    var gameMgr_1 = require("./gameMgr");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var MB = function(_super) {
      __extends(MB, _super);
      function MB() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.clip = null;
        _this._spAni = null;
        _this.time = -1;
        _this.isAtk = false;
        _this.isHart = false;
        _this.canChangeState = true;
        return _this;
      }
      MB.prototype.onLoad = function() {
        this._spAni = this.node.getChildByName("ani").getComponent(sp.Skeleton);
      };
      MB.prototype.start = function() {
        this.node.zIndex = Constant_1.ZindexLayer.zindex_mb;
        this._spAni.setAnimation(0, "daiji", false);
      };
      MB.prototype.update = function(dt) {
        if (CocosZ_1.cocosz.isPause || !gameMgr_1.gameMgr.isGameStart || gameMgr_1.gameMgr.isWin || gameMgr_1.gameMgr.isFail) return;
        if (++this.time % 15 == 0) if (gameMgr_1.gameMgr && gameMgr_1.gameMgr.playerTs && false == gameMgr_1.gameMgr.playerTs.isDeath) {
          var p1 = this.node.getPosition();
          var p2 = gameMgr_1.gameMgr.playerTs.node.getPosition();
          var dis = p1.subSelf(p2).mag();
          if (dis < 400) {
            this.atkStart();
            dis < 300 && this.atkEnemy();
          } else this.atkEnd();
        } else this.atkEnd();
      };
      MB.prototype.atkEnemy = function() {
        this.isHart && gameMgr_1.gameMgr && gameMgr_1.gameMgr.playerTs && gameMgr_1.gameMgr.playerTs.hart(1, null);
      };
      MB.prototype.atkStart = function() {
        var _this = this;
        if (this.canChangeState && false == this.isAtk) {
          this.canChangeState = false;
          this.isAtk = true;
          this.node.stopAllActions();
          cc.tween(this.node).call(function() {
            _this._spAni.setAnimation(0, "doudong", true);
          }).delay(.5).call(function() {
            _this.clip && _this.clip.isValid && gameMgr_1.gameMgr.playClip(_this.clip, _this.node);
            _this._spAni.setAnimation(0, "zheng", false);
            _this._spAni.addAnimation(0, "zheng2", true);
            _this.isHart = true;
          }).delay(3).call(function() {
            _this.canChangeState = true;
          }).start();
        }
      };
      MB.prototype.atkEnd = function() {
        if (this.canChangeState && true == this.isAtk) {
          this.isAtk = false;
          this.isHart = false;
          this._spAni.setAnimation(0, "daiji", false);
        }
      };
      __decorate([ property({
        type: cc.AudioClip,
        tooltip: "\u97f3\u6548"
      }) ], MB.prototype, "clip", void 0);
      MB = __decorate([ ccclass ], MB);
      return MB;
    }(cc.Component);
    exports.default = MB;
    cc._RF.pop();
  }, {
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "./gameMgr": "gameMgr"
  } ],
  md5: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0b965WRCqFIyY4NKEn02s5R", "md5");
    "use strict";
    var hexcase = 0;
    var b64pad = "";
    var chrsz = 8;
    function hex_md5(s) {
      return binl2hex(core_md5(str2binl(s), s.length * chrsz));
    }
    function b64_md5(s) {
      return binl2b64(core_md5(str2binl(s), s.length * chrsz));
    }
    function str_md5(s) {
      return binl2str(core_md5(str2binl(s), s.length * chrsz));
    }
    function hex_hmac_md5(key, data) {
      return binl2hex(core_hmac_md5(key, data));
    }
    function b64_hmac_md5(key, data) {
      return binl2b64(core_hmac_md5(key, data));
    }
    function str_hmac_md5(key, data) {
      return binl2str(core_hmac_md5(key, data));
    }
    function md5_vm_test() {
      return "900150983cd24fb0d6963f7d28e17f72" == hex_md5("abc");
    }
    function core_md5(x, len) {
      x[len >> 5] |= 128 << len % 32;
      x[14 + (len + 64 >>> 9 << 4)] = len;
      var a = 1732584193;
      var b = -271733879;
      var c = -1732584194;
      var d = 271733878;
      for (var i = 0; i < x.length; i += 16) {
        var olda = a;
        var oldb = b;
        var oldc = c;
        var oldd = d;
        a = md5_ff(a, b, c, d, x[i + 0], 7, -680876936);
        d = md5_ff(d, a, b, c, x[i + 1], 12, -389564586);
        c = md5_ff(c, d, a, b, x[i + 2], 17, 606105819);
        b = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330);
        a = md5_ff(a, b, c, d, x[i + 4], 7, -176418897);
        d = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);
        c = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341);
        b = md5_ff(b, c, d, a, x[i + 7], 22, -45705983);
        a = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);
        d = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417);
        c = md5_ff(c, d, a, b, x[i + 10], 17, -42063);
        b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);
        a = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);
        d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101);
        c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);
        b = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);
        a = md5_gg(a, b, c, d, x[i + 1], 5, -165796510);
        d = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632);
        c = md5_gg(c, d, a, b, x[i + 11], 14, 643717713);
        b = md5_gg(b, c, d, a, x[i + 0], 20, -373897302);
        a = md5_gg(a, b, c, d, x[i + 5], 5, -701558691);
        d = md5_gg(d, a, b, c, x[i + 10], 9, 38016083);
        c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335);
        b = md5_gg(b, c, d, a, x[i + 4], 20, -405537848);
        a = md5_gg(a, b, c, d, x[i + 9], 5, 568446438);
        d = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690);
        c = md5_gg(c, d, a, b, x[i + 3], 14, -187363961);
        b = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);
        a = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467);
        d = md5_gg(d, a, b, c, x[i + 2], 9, -51403784);
        c = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);
        b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);
        a = md5_hh(a, b, c, d, x[i + 5], 4, -378558);
        d = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463);
        c = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);
        b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556);
        a = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060);
        d = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);
        c = md5_hh(c, d, a, b, x[i + 7], 16, -155497632);
        b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);
        a = md5_hh(a, b, c, d, x[i + 13], 4, 681279174);
        d = md5_hh(d, a, b, c, x[i + 0], 11, -358537222);
        c = md5_hh(c, d, a, b, x[i + 3], 16, -722521979);
        b = md5_hh(b, c, d, a, x[i + 6], 23, 76029189);
        a = md5_hh(a, b, c, d, x[i + 9], 4, -640364487);
        d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835);
        c = md5_hh(c, d, a, b, x[i + 15], 16, 530742520);
        b = md5_hh(b, c, d, a, x[i + 2], 23, -995338651);
        a = md5_ii(a, b, c, d, x[i + 0], 6, -198630844);
        d = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);
        c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);
        b = md5_ii(b, c, d, a, x[i + 5], 21, -57434055);
        a = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);
        d = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606);
        c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523);
        b = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799);
        a = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);
        d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744);
        c = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380);
        b = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);
        a = md5_ii(a, b, c, d, x[i + 4], 6, -145523070);
        d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);
        c = md5_ii(c, d, a, b, x[i + 2], 15, 718787259);
        b = md5_ii(b, c, d, a, x[i + 9], 21, -343485551);
        a = safe_add(a, olda);
        b = safe_add(b, oldb);
        c = safe_add(c, oldc);
        d = safe_add(d, oldd);
      }
      return Array(a, b, c, d);
    }
    function md5_cmn(q, a, b, x, s, t) {
      return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b);
    }
    function md5_ff(a, b, c, d, x, s, t) {
      return md5_cmn(b & c | ~b & d, a, b, x, s, t);
    }
    function md5_gg(a, b, c, d, x, s, t) {
      return md5_cmn(b & d | c & ~d, a, b, x, s, t);
    }
    function md5_hh(a, b, c, d, x, s, t) {
      return md5_cmn(b ^ c ^ d, a, b, x, s, t);
    }
    function md5_ii(a, b, c, d, x, s, t) {
      return md5_cmn(c ^ (b | ~d), a, b, x, s, t);
    }
    function core_hmac_md5(key, data) {
      var bkey = str2binl(key);
      bkey.length > 16 && (bkey = core_md5(bkey, key.length * chrsz));
      var ipad = Array(16), opad = Array(16);
      for (var i = 0; i < 16; i++) {
        ipad[i] = 909522486 ^ bkey[i];
        opad[i] = 1549556828 ^ bkey[i];
      }
      var hash = core_md5(ipad.concat(str2binl(data)), 512 + data.length * chrsz);
      return core_md5(opad.concat(hash), 640);
    }
    function safe_add(x, y) {
      var lsw = (65535 & x) + (65535 & y);
      var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
      return msw << 16 | 65535 & lsw;
    }
    function bit_rol(num, cnt) {
      return num << cnt | num >>> 32 - cnt;
    }
    function str2binl(str) {
      var bin = Array();
      var mask = (1 << chrsz) - 1;
      for (var i = 0; i < str.length * chrsz; i += chrsz) bin[i >> 5] |= (str.charCodeAt(i / chrsz) & mask) << i % 32;
      return bin;
    }
    function binl2str(bin) {
      var str = "";
      var mask = (1 << chrsz) - 1;
      for (var i = 0; i < 32 * bin.length; i += chrsz) str += String.fromCharCode(bin[i >> 5] >>> i % 32 & mask);
      return str;
    }
    function binl2hex(binarray) {
      var hex_tab = hexcase ? "0123456789ABCDEF" : "0123456789abcdef";
      var str = "";
      for (var i = 0; i < 4 * binarray.length; i++) str += hex_tab.charAt(binarray[i >> 2] >> i % 4 * 8 + 4 & 15) + hex_tab.charAt(binarray[i >> 2] >> i % 4 * 8 & 15);
      return str;
    }
    function binl2b64(binarray) {
      var tab = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
      var str = "";
      for (var i = 0; i < 4 * binarray.length; i += 3) {
        var triplet = (binarray[i >> 2] >> i % 4 * 8 & 255) << 16 | (binarray[i + 1 >> 2] >> (i + 1) % 4 * 8 & 255) << 8 | binarray[i + 2 >> 2] >> (i + 2) % 4 * 8 & 255;
        for (var j = 0; j < 4; j++) 8 * i + 6 * j > 32 * binarray.length ? str += b64pad : str += tab.charAt(triplet >> 6 * (3 - j) & 63);
      }
      return str;
    }
    module.exports = hex_md5;
    cc._RF.pop();
  }, {} ],
  person: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9c57aW3ydVKJ6Xst8KQr8d9", "person");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var PlatUtils_1 = require("../../common-plugin/Scripts/PlatUtils");
    var CocosZ_1 = require("../Framework/CocosZ");
    var Constant_1 = require("../Framework/Constant");
    var gameDate_1 = require("./gameDate");
    var gameMgr_1 = require("./gameMgr");
    var weapon_1 = require("./weapon");
    var i18n = require("LanguageData");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Person = function(_super) {
      __extends(Person, _super);
      function Person() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.ghAniNode = null;
        _this.ycAniNode = null;
        _this.personAtk = 0;
        _this.playerName = "";
        _this.personLevel = 0;
        _this.atkNum = 40;
        _this.atkRange = 800;
        _this.atkSpeed = 4;
        _this.reloadSpeed = 2;
        _this.totleHp = 300;
        _this.curHp = 300;
        _this.atkRate = 1;
        _this.speedRate = 1;
        _this.atkSpeedRate = 1;
        _this.reloadRate = 1;
        _this.bulletRate = 1;
        _this.meleeAtkRate = 1;
        _this.damageReduction = 0;
        _this.recoverItemNum = 0;
        _this.killNum = 0;
        _this.curKillNum = 0;
        _this.MoveSpeed = 600;
        _this.moveDir = cc.v2(0, 0);
        _this.atkDir = cc.v2(0, 0);
        _this.footNum = 0;
        _this.lastPos = cc.v2(0, 0);
        _this.canMove = true;
        _this.canMoveDir = true;
        _this.detectRange = 1e3;
        _this.mat_common = null;
        _this.mat_attacked = null;
        _this.body = null;
        _this.leg = null;
        _this.leg_back = null;
        _this.head = null;
        _this.hpBar = null;
        _this.hpSpr = null;
        _this.shieldBar = null;
        _this.atkBar = null;
        _this.head_atk = null;
        _this.head_hart = null;
        _this.head_death = null;
        _this.playerMess = null;
        _this.ani = null;
        _this.id = 0;
        _this.isPlayer = false;
        _this.atkTarget = null;
        _this.weapon = null;
        _this.weapon_dao = null;
        _this.hpNumNode = null;
        _this._shield = 0;
        _this.maxShield = 100;
        _this.rig = null;
        _this.curTime = 0;
        _this._playerMessY = 200;
        _this.isReady = false;
        _this.curSkin = 0;
        _this.weaponAdArr = [ 9, 10, 14, 17, 18 ];
        _this.weaponAdIndex = Math.floor(Math.random() * _this.weaponAdArr.length);
        _this.meleeWeaponNum = 3;
        _this.rangedWeaponNum = 1;
        _this.rangedWeaponAdNum = 1;
        _this.meleeWeapon = null;
        _this.rangedWeapon = null;
        _this.rangedWeaponAd = null;
        _this.curWeapon = null;
        _this.startPosNode = null;
        _this.lastTime = 0;
        _this._aniName = "";
        _this.isAtk = false;
        _this.atkList = [];
        _this.curItem = 0;
        _this.curItemEffect = null;
        _this.itemTarget = null;
        _this.grassID = 0;
        _this.houseID = 0;
        _this.isInHouse = false;
        _this.newWeapon = -1;
        _this.newWeaponItem = null;
        _this.poisonCount = 0;
        _this.isDeath = false;
        _this.isAttackedEffect = false;
        _this.maxNum = 0;
        _this.isAvoidInjury = 0;
        _this.killer = null;
        _this.revivePos = cc.v2(0, 0);
        return _this;
      }
      Person_1 = Person;
      Object.defineProperty(Person.prototype, "HP", {
        get: function() {
          return this.curHp;
        },
        set: function(num) {
          num = Math.floor(num);
          num < 0 ? num = 0 : num > this.totleHp && (num = this.totleHp);
          this.curHp = num;
          this.hpBar && this.hpBar.isValid && (this.hpBar.progress = this.curHp / this.totleHp);
          this.isPlayer && 6 == CocosZ_1.cocosz.gameMode && gameMgr_1.gameMgr.update_model6_xuedi();
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Person.prototype, "Shiled", {
        get: function() {
          return this._shield;
        },
        set: function(num) {
          cc.Tween.stopAllByTarget(this.shieldBar);
          this._shield = num;
          if (this._shield < 0) {
            this._shield = 0;
            this.shieldBar.node.opacity = 0;
            this.body.getChildByName("body").children[0].active = false;
          } else this.shieldBar.node.opacity = 255;
          cc.tween(this.shieldBar).to(.3, {
            progress: this._shield / this.maxShield
          }).start();
        },
        enumerable: false,
        configurable: true
      });
      Person.prototype.onLoad = function() {};
      Person.prototype.start = function() {
        if (this.playerMess && this.playerMess.isValid) {
          this._playerMessY = this.playerMess.y;
          this.playerMess.setParent(this.node.parent);
          this.playerMess.zIndex = Constant_1.ZindexLayer.zindex_hp;
          this.updateMess();
        } else if (this.hpBar && this.hpBar.isValid) {
          this._playerMessY = this.hpBar.node.y;
          this.hpBar.node.setParent(this.node.parent);
          this.hpBar.node.zIndex = Constant_1.ZindexLayer.zindex_hp;
          this.updateMess();
        }
      };
      Person.prototype.update = function(dt) {};
      Person.prototype.lateUpdate = function(dt) {};
      Person.prototype.updateMess = function() {
        if (this.playerMess && this.playerMess.isValid) if (this.node && this.node.isValid && this.node.active && this.node.opacity && this.HP) {
          this.playerMess.active = true;
          this.playerMess.setPosition(this.node.x, this.node.y + this._playerMessY);
        } else this.playerMess.active = false; else if (this.hpBar && this.hpBar.isValid && this.hpBar.node && this.hpBar.node.isValid) if (this.node && this.node.isValid && this.node.active && this.node.opacity && this.HP) {
          this.hpBar.node.active = true;
          this.hpBar.node.setPosition(this.node.x, this.node.y + this._playerMessY);
        } else this.hpBar.node.active = false;
      };
      Person.prototype.updateGhAni = function() {
        if (this.ghAniNode && this.ghAniNode.isValid) if (this.node && this.node.isValid && this.node.active && this.node.opacity && this.HP) {
          this.ghAniNode.active = true;
          this.ghAniNode.angle = this.node.angle;
          this.ghAniNode.setPosition(this.node.x, this.node.y - 90);
        } else this.ghAniNode.active = false;
      };
      Person.prototype.updateYcAni = function() {
        if (this.ycAniNode && this.ycAniNode.isValid) if (this.node && this.node.isValid && this.node.active && this.node.opacity && this.HP && !this.moveDir.equals(cc.Vec2.ZERO)) {
          this.ycAniNode.active = true;
          this.ycAniNode.setPosition(this.node.x, this.node.y - 50);
          this.ycAniNode.scaleX = this.moveDir.x > 0 ? 1 : -1;
        } else this.ycAniNode.active = false;
      };
      Person.prototype.setProperty = function() {
        var _this = this;
        this.ani = this.body.getComponent(cc.Animation);
        this.node.getComponent(cc.CircleCollider).radius = this.detectRange;
        this.isPlayer && (this.atkRange = 1e3);
        this.personLevel = Math.floor(6 * Math.random());
        var num1 = weapon_1.default.meleeWaapon[Math.floor(Math.random() * weapon_1.default.meleeWaapon.length)];
        var num2 = weapon_1.default.rangeWeapon[Math.floor(13 * Math.random())];
        if (this.isPlayer) {
          num1 = CocosZ_1.cocosz.dataMgr.CurMelee + 1;
          num2 = CocosZ_1.cocosz.dataMgr.CurRange + 1;
          CocosZ_1.cocosz.gameMgr.gameCtr.curUseSkinId < 0 ? this.curSkin = CocosZ_1.cocosz.dataMgr.CurSkinId : this.curSkin = CocosZ_1.cocosz.gameMgr.gameCtr.curUseSkinId;
          this.head.children[0].children[this.curSkin].active = true;
          var head1 = this.head.children[0].children[this.curSkin];
          this.head.children[1].children[this.curSkin].active = true;
          var head2 = this.head.children[1].children[this.curSkin];
          for (var i = this.head.children[0].childrenCount - 1; i >= 0; i--) this.head.children[0].children[i].uuid != head1.uuid && this.head.children[0].children[i].destroy();
          for (var i = this.head.children[1].childrenCount - 1; i >= 0; i--) this.head.children[1].children[i].uuid != head2.uuid && this.head.children[1].children[i].destroy();
          this.head_atk = this.head.children[2].children[this.curSkin];
          this.head_atk.active = true;
          this.head_atk.opacity = 0;
          this.head_hart = this.head.children[3].children[this.curSkin];
          this.head_hart.active = true;
          this.head_hart.opacity = 0;
          this.head_death = this.head.children[4].children[this.curSkin];
          this.head_death.active = true;
          this.head_death.opacity = 0;
          this.head_atk.setParent(this.head.children[0]);
          this.head_hart.setParent(this.head.children[0]);
          this.head_death.setParent(this.head.children[0]);
          this.head_atk.zIndex = 1;
          this.head_hart.zIndex = 2;
          this.head_death.zIndex = 3;
          this.head.children[2].destroy();
          this.head.children[3].destroy();
          this.head.children[4].destroy();
          this.personLevel = CocosZ_1.cocosz.dataMgr.getSkinInfo(this.curSkin).Level;
          this.personAtk = gameDate_1.default.SkinMess["" + (this.curSkin + 1)].atk[this.personLevel];
          6 == CocosZ_1.cocosz.gameMode ? this.totleHp = gameDate_1.default.SkinMess["" + (this.curSkin + 1)].xuedi : this.totleHp = gameDate_1.default.SkinMess["" + (this.curSkin + 1)].hp[this.personLevel];
          [ 1, 2, 4 ].includes(CocosZ_1.cocosz.gameMode) ? this.totleHp *= 4 : 3 == CocosZ_1.cocosz.gameMode ? CocosZ_1.cocosz.curLevel >= 15 ? this.totleHp *= 9 : CocosZ_1.cocosz.curLevel >= 10 ? this.totleHp *= 8 : CocosZ_1.cocosz.curLevel >= 5 ? this.totleHp *= 6 : this.totleHp *= 4 : 5 == CocosZ_1.cocosz.gameMode ? this.totleHp *= 6 : 7 == CocosZ_1.cocosz.gameMode && (this.totleHp *= 3);
          this.HP = this.totleHp;
        }
        if (4 == CocosZ_1.cocosz.gameMode) {
          this.isPlayer ? this.setNewWeapon(13) : this.setNewWeapon(num1 - 1);
          this.changeCurWeapon(this.meleeWeapon, false);
        } else {
          if (7 === CocosZ_1.cocosz.gameMode) this.setNewWeapon(num2 - 1); else {
            this.setNewWeapon(num1 - 1);
            this.setNewWeapon(num2 - 1);
          }
          this.changeCurWeapon(this.rangedWeapon, false);
          this.isPlayer && cc.tween(gameMgr_1.gameMgr.rangedWeaponAdMess).call(function() {
            _this.refreshWeaponAd();
          }).delay(10).union().repeatForever().start();
        }
        if (6 == CocosZ_1.cocosz.gameMode) {
          this.hpBar.node.active = false;
          this.atkBar.node.active = false;
        }
        this.MoveSpeed = 200 + gameDate_1.default.SkinMess["" + (this.curSkin + 1)].speed[this.personLevel];
        PlatUtils_1.default.IsOPPO && (this.MoveSpeed /= 2);
        if (this.personLevel > 0) {
          this.ghAniNode.color = cc.Color.WHITE;
          var arr = [ "", "y", "p", "r" ];
          var ghAni = this.ghAniNode.getComponent(sp.Skeleton);
          ghAni && ghAni.setSkin(arr[Math.ceil(this.personLevel / 2)]);
        } else {
          this.ghAniNode.color = cc.Color.BLACK;
          var ghAni = this.ghAniNode.getComponent(sp.Skeleton);
          ghAni.setSkin("r");
          ghAni.setAnimation(0, "animation", true);
        }
        this.playerName || (this.playerName = i18n.t("game.player") + this.id);
        var name = this.playerMess.getChildByName("nameLabel");
        name && (name.active = false);
        this.lastPos = this.node.getPosition();
        this.isReady = true;
      };
      Person.prototype.refreshWeaponAd = function() {
        if (CocosZ_1.cocosz.isPause || !this.isPlayer) return;
        ++this.weaponAdIndex >= this.weaponAdArr.length && (this.weaponAdIndex = 0);
        var weaponNum = this.weaponAdArr[this.weaponAdIndex];
        var str = weapon_1.default.WeaponName[weaponNum];
        var prefab = CocosZ_1.cocosz.resMgr.getRes("weapon_" + str, cc.Prefab);
        var new_weapon = cc.instantiate(prefab);
        var new_weaponTs = new_weapon.getComponent(weapon_1.default);
        new_weaponTs.person = this;
        this.body.addChild(new_weapon);
        new_weapon.active = false;
        new_weaponTs.weaponType = weapon_1.WeaponType.weapon_rangeAd;
        this.rangedWeaponAd && this.rangedWeaponAd.destroy();
        this.rangedWeaponAd = new_weapon;
        this.rangedWeaponAdNum = new_weaponTs.weaponNum;
        var str2 = "w_" + weapon_1.default.WeaponName[this.rangedWeaponAdNum - 1];
        var spr2 = CocosZ_1.cocosz.resMgr.getRes(str2, cc.SpriteFrame);
        gameMgr_1.gameMgr.rangedWeaponAdMess.children[3].getComponent(cc.Sprite).spriteFrame = spr2;
        gameMgr_1.gameMgr.rangedWeaponAdMess.children[4].getComponent(cc.Sprite).spriteFrame = CocosZ_1.cocosz.resMgr.getRes("w_" + (weaponNum + 1), cc.SpriteFrame);
        gameMgr_1.gameMgr.rangedWeaponAdMess.children[5].getComponent(cc.Label).string = new_weaponTs.atkNum.toString();
        new_weaponTs.setBulletUI();
      };
      Person.prototype.setNewWeapon = function(weaponNum) {
        void 0 === weaponNum && (weaponNum = this.newWeapon);
        if (weaponNum < 0) return;
        var str = weapon_1.default.WeaponName[weaponNum];
        var prefab = CocosZ_1.cocosz.resMgr.getRes("weapon_" + str, cc.Prefab);
        var new_weapon = cc.instantiate(prefab);
        var new_weaponTs = new_weapon.getComponent(weapon_1.default);
        new_weaponTs.person = this;
        this.body.addChild(new_weapon);
        new_weapon.active = false;
        if (new_weaponTs.isRangeWeapon) if (this.curWeapon && this.curWeapon.weaponType == weapon_1.WeaponType.weapon_rangeAd) {
          new_weaponTs.weaponType = weapon_1.WeaponType.weapon_rangeAd;
          this.rangedWeaponAd && this.rangedWeaponAd.destroy();
          this.rangedWeaponAd = new_weapon;
          this.rangedWeaponAdNum = new_weaponTs.weaponNum;
          if (this.isPlayer) {
            var str2 = "w_" + weapon_1.default.WeaponName[this.rangedWeaponAdNum - 1];
            var spr2 = CocosZ_1.cocosz.resMgr.getRes(str2, cc.SpriteFrame);
            gameMgr_1.gameMgr.rangedWeaponAdMess.children[3].getComponent(cc.Sprite).spriteFrame = spr2;
            gameMgr_1.gameMgr.rangedWeaponAdMess.children[4].getComponent(cc.Sprite).spriteFrame = CocosZ_1.cocosz.resMgr.getRes("w_" + (weaponNum + 1), cc.SpriteFrame);
            gameMgr_1.gameMgr.rangedWeaponAdMess.children[5].getComponent(cc.Label).string = new_weaponTs.atkNum.toString();
            new_weaponTs.setBulletUI();
          }
        } else {
          new_weaponTs.weaponType = weapon_1.WeaponType.weapon_range;
          this.rangedWeapon && this.rangedWeapon.destroy();
          this.rangedWeapon = new_weapon;
          this.rangedWeaponNum = new_weaponTs.weaponNum;
          if (this.isPlayer) {
            var str2 = "w_" + weapon_1.default.WeaponName[this.rangedWeaponNum - 1];
            var spr2 = CocosZ_1.cocosz.resMgr.getRes(str2, cc.SpriteFrame);
            gameMgr_1.gameMgr.rangedWeaponMess.children[3].getComponent(cc.Sprite).spriteFrame = spr2;
            gameMgr_1.gameMgr.rangedWeaponMess.children[4].getComponent(cc.Sprite).spriteFrame = CocosZ_1.cocosz.resMgr.getRes("w_" + (weaponNum + 1), cc.SpriteFrame);
            gameMgr_1.gameMgr.rangedWeaponMess.children[5].getComponent(cc.Label).string = new_weaponTs.atkNum.toString();
            new_weaponTs.setBulletUI();
          }
        } else {
          new_weaponTs.weaponType = weapon_1.WeaponType.weapon_melee;
          this.meleeWeapon && this.meleeWeapon.destroy();
          this.meleeWeapon = new_weapon;
          this.meleeWeaponNum = new_weaponTs.weaponNum;
        }
        this.curWeapon && this.curWeapon.isRangeWeapon === new_weaponTs.isRangeWeapon && this.changeCurWeapon(new_weapon, false);
        this.newWeapon = -1;
        this.newWeaponItem && this.newWeaponItem.isValid && this.newWeaponItem.destroy();
        this.newWeaponItem = null;
      };
      Person.prototype.changeCurWeapon = function(newWeaponNode, isCheck) {
        void 0 === isCheck && (isCheck = true);
        if (!newWeaponNode || !newWeaponNode.isValid) return;
        if (this.curWeapon && this.curWeapon.isValid && newWeaponNode == this.curWeapon.node) return;
        var curTime = Number(new Date());
        if (isCheck && curTime - this.lastTime < 1e3) return;
        this.lastTime = curTime;
        this.curWeapon && cc.isValid(this.curWeapon) && (this.curWeapon.node.active = false);
        newWeaponNode.active = true;
        var newWeapinTs = newWeaponNode.getComponent(weapon_1.default);
        if (newWeapinTs) {
          if (this.isPlayer) {
            var newWeapinMess = null;
            newWeapinTs.weaponType == weapon_1.WeaponType.weapon_melee ? gameMgr_1.gameMgr.BtnBullet.active = false : newWeapinTs.weaponType == weapon_1.WeaponType.weapon_range ? newWeapinMess = gameMgr_1.gameMgr.rangedWeaponMess : newWeapinTs.weaponType == weapon_1.WeaponType.weapon_rangeAd && (newWeapinMess = gameMgr_1.gameMgr.rangedWeaponAdMess);
            newWeapinMess.children[0].active = true;
            if (this.curWeapon && this.curWeapon.isValid) {
              CocosZ_1.cocosz.audioMgr.playEffect("changeWeapon");
              var oldWeapinMess_1 = null;
              this.curWeapon.weaponType == weapon_1.WeaponType.weapon_melee || (this.curWeapon.weaponType == weapon_1.WeaponType.weapon_range ? oldWeapinMess_1 = gameMgr_1.gameMgr.rangedWeaponMess : this.curWeapon.weaponType == weapon_1.WeaponType.weapon_rangeAd && (oldWeapinMess_1 = gameMgr_1.gameMgr.rangedWeaponAdMess));
              if (oldWeapinMess_1 !== newWeapinMess) {
                oldWeapinMess_1.children[0].active = false;
                oldWeapinMess_1.children[1].active = true;
                cc.tween(oldWeapinMess_1.children[1].getComponent(cc.Sprite)).set({
                  fillRange: -1
                }).to(1, {
                  fillRange: 0
                }).call(function() {
                  oldWeapinMess_1.isValid && (oldWeapinMess_1.children[1].active = false);
                }).start();
              }
            }
          }
          newWeapinTs.isRangeWeapon && (this.startPosNode = newWeaponNode.getChildByName("startPos"));
          this.curWeapon = newWeapinTs;
          this.atkNum = this.curWeapon.atkNum * (this.curWeapon.isRangeWeapon ? 1 : this.meleeAtkRate);
          this.atkSpeed = this.curWeapon.atkSpeed;
          this.reloadSpeed = this.curWeapon.reload;
        }
      };
      Person.prototype.atkStart = function() {};
      Person.prototype.atkEnemy = function() {};
      Person.prototype.atkComplete = function() {};
      Person.prototype.setWeaponAngle = function(dir) {
        if (this.curWeapon && this.curWeapon.isValid && this.curWeapon.isRangeWeapon) if (dir.equals(cc.Vec2.ZERO)) this.curWeapon.node.angle = 0; else {
          dir.x < 0 ? this.curWeapon.node.angle = cc.v2(dir).signAngle(cc.v2(-1, 0)) / Math.PI * 180 : this.curWeapon.node.angle = -cc.v2(dir).signAngle(cc.v2(1, 0)) / Math.PI * 180;
          dir.y > 0 ? this.curWeapon.node && (this.rangedWeapon.zIndex = -1) : this.curWeapon.node && (this.rangedWeapon.zIndex = 1);
        }
      };
      Person.prototype.updateAni = function(name, enforce) {
        void 0 === enforce && (enforce = false);
        if (enforce) this._playAni(name); else if (gameMgr_1.gameMgr.isGameStart) {
          name = this.isDeath ? "die" : this.moveDir.equals(cc.Vec2.ZERO) ? "daiji_body" : "run_body";
          this._playAni(name);
        }
      };
      Person.prototype._playAni = function(name) {
        if (name && name != this._aniName) {
          this.ani.play(name);
          this._aniName = name;
        }
      };
      Person.prototype.getCurSpeed = function() {
        var speed = this.MoveSpeed * this.speedRate * (this.curWeapon && this.curWeapon.isRangeWeapon ? 1 : 1.2);
        speed > 1e3 && (speed = 1e3);
        return speed;
      };
      Person.prototype.udpateRBody = function(dir) {
        this.rig.type == cc.RigidBodyType.Dynamic && this.canMove && (dir.equals(cc.Vec2.ZERO) ? this.rig.linearVelocity = cc.Vec2.ZERO : this.rig.linearVelocity = dir.mul(this.getCurSpeed()));
      };
      Person.prototype.updatePerson = function() {
        var dir = null;
        if (this.atkDir && !this.atkDir.equals(cc.Vec2.ZERO)) dir = this.atkDir; else {
          if (!this.moveDir || this.moveDir.equals(cc.Vec2.ZERO)) return;
          dir = this.moveDir;
        }
        dir.x < 0 ? this.body.scaleX = -Math.abs(this.body.scaleX) : this.body.scaleX = Math.abs(this.body.scaleX);
        if (dir.y > 0) {
          this.leg_back.opacity = 255;
          this.leg.opacity = 0;
          this.head.children[1].opacity = 255;
          this.head.children[0].opacity = 0;
        } else {
          this.leg_back.opacity = 0;
          this.leg.opacity = 255;
          this.head.children[0].opacity = 255;
          this.head.children[1].opacity = 0;
        }
        this.setWeaponAngle(dir);
      };
      Person.prototype.updateAtk = function() {
        if (this.atkList.length > 0) {
          var dt = 1e3;
          var n = -1;
          for (var i = 0; i < this.atkList.length; i++) {
            var ts = this.atkList[i].getComponent(Person_1);
            var dt2 = this.atkList[i].getPosition().sub(this.node.getPosition()).mag();
            if (dt2 < dt) {
              dt = dt2;
              n = i;
            }
          }
          if (n >= 0) {
            this.atkDir = cc.v2(this.atkList[n].getPosition().sub(this.node.getPosition()).normalize());
            this.atkTarget = this.atkList[n];
          } else this.atkDir = 0 == this.moveDir.mag() ? this.atkDir : cc.v2(this.moveDir);
        } else this.atkDir = 0 == this.moveDir.mag() ? this.atkDir : cc.v2(this.moveDir);
      };
      Person.prototype.onCollisionEnter = function(other, self) {};
      Person.prototype.onCollisionExit = function(other, self) {};
      Person.prototype.hart = function(atkNum, from, dir, isAudio, isEmit, labelColor) {
        void 0 === dir && (dir = null);
        void 0 === isAudio && (isAudio = true);
        void 0 === isEmit && (isEmit = true);
      };
      Person.prototype.avoidInjury = function(time) {
        var _this = this;
        this.isAvoidInjury++;
        this.scheduleOnce(function() {
          _this.isAvoidInjury--;
        }, time);
      };
      Person.prototype.death = function() {
        this.isDeath = true;
        this.ghAniNode && this.ghAniNode.isValid && (this.ghAniNode.active = false);
        this.playerMess && this.playerMess.isValid && (this.playerMess.active = false);
        this.head_death.opacity = 255;
        gameMgr_1.gameMgr.playEffect("death", this.node);
        this.unscheduleAllCallbacks();
        this.updateAni("die");
        if (this.meleeWeapon) {
          var ani = this.meleeWeapon.getComponent(cc.Animation);
          ani && ani.stop();
        }
        this.leg.opacity = 255;
        this.leg_back.opacity = 0;
        this.head.children[0].opacity = 255;
        this.head.children[1].opacity = 0;
        this.curWeapon && this.curWeapon.isValid && (this.curWeapon.node.active = false);
        this.rig && (this.rig.active = false);
        this.node.getComponent(cc.BoxCollider).enabled = false;
        this.node.getComponent(cc.CircleCollider).enabled = false;
        gameMgr_1.gameMgr.deathNum++;
        if (this.isPlayer) {
          var rate = .3;
          cc.director.getScheduler().setTimeScale(rate);
          setTimeout(function() {
            cc.director.getScheduler().setTimeScale(1);
          }, 3e3 * rate);
        }
        if (6 == CocosZ_1.cocosz.gameMode && this.isPlayer && !gameMgr_1.gameMgr.isWin && !gameMgr_1.gameMgr.isFail) {
          this.revivePos = this.node.getPosition();
          this.scheduleOnce(function() {
            CocosZ_1.cocosz.uiMgr.openPanel(Constant_1.PanelName.UIRevivePanel);
          }, 2);
        }
      };
      Person.prototype.revive = function() {
        if (gameMgr_1.gameMgr && !gameMgr_1.gameMgr.isWin && !gameMgr_1.gameMgr.isFail) {
          gameMgr_1.gameMgr.deathNum--;
          this.ghAniNode && this.ghAniNode.isValid && (this.ghAniNode.active = true);
          this.playerMess && this.playerMess.isValid && (this.playerMess.active = true);
          this.rangedWeapon && this.rangedWeapon.getComponent(weapon_1.default).reset();
          this.rangedWeaponAd && this.rangedWeaponAd.getComponent(weapon_1.default).reset();
          if (this.meleeWeapon) {
            var ani = this.meleeWeapon.getComponent(cc.Animation);
            ani && ani.play();
          }
          this.curWeapon && this.curWeapon.isValid && (this.curWeapon.node.active = true);
          this.head_death.opacity = 0;
          var pos = this.revivePos;
          this.node.setPosition(pos);
          this.HP = this.totleHp;
          this.body.setPosition(cc.v2(0, 0));
          this.body.angle = 0;
          this.leg.opacity = 255;
          this.leg_back.opacity = 0;
          this.head.children[0].opacity = 255;
          this.head.children[1].opacity = 0;
          this.node.scaleX < 0 && (this.node.scaleX *= -1);
          this.rig && (this.rig.active = true);
          this.node.getComponent(cc.BoxCollider).enabled = true;
          this.node.getComponent(cc.CircleCollider).enabled = true;
          this.isDeath = false;
          this.canMove = true;
        }
      };
      Person.prototype.creatItem = function() {};
      var Person_1;
      __decorate([ property(cc.Material) ], Person.prototype, "mat_common", void 0);
      __decorate([ property(cc.Material) ], Person.prototype, "mat_attacked", void 0);
      __decorate([ property(cc.Node) ], Person.prototype, "body", void 0);
      __decorate([ property(cc.Node) ], Person.prototype, "leg", void 0);
      __decorate([ property(cc.Node) ], Person.prototype, "leg_back", void 0);
      __decorate([ property(cc.Node) ], Person.prototype, "head", void 0);
      __decorate([ property(cc.ProgressBar) ], Person.prototype, "hpBar", void 0);
      __decorate([ property(cc.Node) ], Person.prototype, "hpSpr", void 0);
      __decorate([ property(cc.ProgressBar) ], Person.prototype, "shieldBar", void 0);
      __decorate([ property(cc.ProgressBar) ], Person.prototype, "atkBar", void 0);
      Person = Person_1 = __decorate([ ccclass ], Person);
      return Person;
    }(cc.Component);
    exports.default = Person;
    cc._RF.pop();
  }, {
    "../../common-plugin/Scripts/PlatUtils": "PlatUtils",
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "./gameDate": "gameDate",
    "./gameMgr": "gameMgr",
    "./weapon": "weapon",
    LanguageData: "LanguageData"
  } ],
  player: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "be2012PJ+xL2Y4UzVB0obJ4", "player");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CocosZ_1 = require("../Framework/CocosZ");
    var Constant_1 = require("../Framework/Constant");
    var bullet_1 = require("./bullet");
    var gameDate_1 = require("./gameDate");
    var gameMgr_1 = require("./gameMgr");
    var person_1 = require("./person");
    var UpgradeMgr_1 = require("./UpgradeMgr");
    var weapon_1 = require("./weapon");
    var i18n = require("LanguageData");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var Player = function(_super) {
      __extends(Player, _super);
      function Player() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.lastTime = 0;
        _this.lastAtkTime = 0;
        _this.atkBulletNum = 1;
        return _this;
      }
      Player.prototype.onLoad = function() {
        this.isPlayer = true;
        this.id = 1;
        gameMgr_1.gameMgr.playerTs = this;
        this.hpSpr && (this.hpSpr.color = cc.Color.GREEN);
        this.atkBar && (this.atkBar.node.children[1].color = cc.Color.YELLOW);
        this.rig = this.node.getComponent(cc.RigidBody);
        this.rig && (this.rig.linearDamping = .2);
        this.playerMess = this.node.getChildByName("playerMess");
        this.hpNumNode = this.playerMess.getChildByName("hpNum");
        this.ghAniNode = this.node.getChildByName("gh");
        this.ycAniNode = this.node.getChildByName("yc");
        gameMgr_1.gameMgr.followNode = this.node;
        6 == CocosZ_1.cocosz.gameMode && this.rig && this.rig.isValid && (this.rig.enabledContactListener = true);
      };
      Player.prototype.start = function() {
        _super.prototype.start.call(this);
        this.setProperty();
        this.node.zIndex = Constant_1.ZindexLayer.zindex_player;
        if (this.ghAniNode && this.ghAniNode.isValid) {
          this.ghAniNode.setParent(this.node.parent);
          this.ghAniNode.zIndex = Constant_1.ZindexLayer.zinedx_gh;
          this.updateGhAni();
        }
        if (this.ycAniNode && this.ycAniNode.isValid) {
          this.ycAniNode.setParent(this.node.parent);
          this.ycAniNode.zIndex = Constant_1.ZindexLayer.zinedx_footYc;
          this.updateYcAni();
        }
        this.hpSpr && (this.hpSpr.color = cc.Color.GREEN);
      };
      Player.prototype.lateUpdate = function(dt) {
        this.curTime++;
        if (CocosZ_1.cocosz.isPause || this.isDeath || gameMgr_1.gameMgr.isWin || gameMgr_1.gameMgr.isFail) {
          this.rig.linearVelocity = cc.v2(0, 0);
          return;
        }
        if (this.curTime % 15 == 0) {
          this.updateAni();
          this.creatFootPrint();
        }
        this.updateAtk();
        this.updatePerson();
        this.udpateRBody(this.moveDir);
        this.updateMess();
        this.updateGhAni();
        this.updateYcAni();
        this.atkTarget && this.atkTarget.isValid && this.atkEnemy();
      };
      Player.prototype.recoverEffect = function() {
        var node = cc.instantiate(gameMgr_1.gameMgr.itemEffect[0]);
        node.parent = this.node;
      };
      Player.prototype.checkTarget = function() {
        if (Number(new Date()) - this.lastTime < 500) return;
        this.lastTime = Number(new Date());
        var num = this.atkList.indexOf(this.atkTarget);
        if (num >= 0) {
          num == this.atkList.length - 1 ? num = 0 : num += 1;
          this.atkTarget = this.atkList[num];
        } else this.atkTarget = this.atkList[0];
      };
      Player.prototype.atkEnemy = function() {
        var _this = this;
        if (!this.curWeapon || !this.curWeapon.isValid || this.isAtk) return;
        if (this.curWeapon && this.curWeapon.isRangeWeapon) {
          if (this.curWeapon._isReload || this.curWeapon.curBullet <= 0) return;
          6 == CocosZ_1.cocosz.gameMode && 1 == this.curWeapon.curBullet && cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
            type: Constant_1.default.E_Bullet_Last,
            node: this.node
          });
          this.curWeapon.curBullet--;
          var t_1 = (this.atkSpeed > .1 ? .1 : this.atkSpeed) / 3;
          cc.tween(this.rangedWeapon.children[0]).by(t_1, {
            x: -20,
            angle: 20
          }).by(t_1, {
            x: 20,
            angle: -20
          }).start();
          var pos = this.startPosNode.getPosition();
          if (this.curWeapon.atkEffect) {
            var effect = cc.instantiate(this.curWeapon.atkEffect);
            if (9 == this.curWeapon.weaponNum || 15 == this.curWeapon.weaponNum) {
              this.node.parent.addChild(effect, Constant_1.ZindexLayer.zindex_effect_fire, "effect");
              effect.setPosition(this.startPosNode.parent.convertToWorldSpaceAR(pos).sub(cc.v2(cc.winSize.width / 2, cc.winSize.height / 2)));
              this.body.scaleX > 0 ? effect.angle = this.rangedWeapon.angle : effect.angle = 180 - this.rangedWeapon.angle;
            } else {
              this.curWeapon.node.addChild(effect, 1, "effect");
              effect.setPosition(pos);
            }
          }
        } else {
          gameMgr_1.gameMgr.shakeEffect(2, 1, false);
          var ani_1 = this.meleeWeapon.getComponent(cc.Animation);
          ani_1 && ani_1.isValid && ani_1.play("atk_dao");
          this.scheduleOnce(function() {
            ani_1 && ani_1.isValid && ani_1.play("daiji_dao");
          }, .18);
        }
        var dir;
        dir = this.atkDir && !this.atkDir.equals(cc.Vec2.ZERO) ? this.atkDir : this.moveDir && !this.moveDir.equals(cc.Vec2.ZERO) ? this.moveDir : this.body.scaleX > 0 ? cc.Vec2.RIGHT : cc.Vec2.RIGHT.negSelf();
        if (this.atkBulletNum > 1) for (var i = 0; i < this.atkBulletNum; i++) {
          var angle = 15 * ((this.atkBulletNum - 1) / 2 - i);
          var new_dir = dir.rotate(cc.misc.degreesToRadians(angle));
          this.createBullet(new_dir);
        } else this.createBullet(dir);
        var t = this.atkSpeed > .1 ? .1 : this.atkSpeed;
        cc.tween(this.head_atk).set({
          opacity: 255
        }).delay(t).set({
          opacity: 0
        }).start();
        this.isAtk = true;
        this.curWeapon.isRangeWeapon && this.curWeapon.curBullet <= 0 ? cc.tween(this.node).delay(this.curWeapon.reload).call(function() {
          _this.isAtk = false;
        }).start() : cc.tween(this.node).delay(this.atkSpeed).call(function() {
          _this.isAtk = false;
        }).start();
        var name = weapon_1.default.WeaponName[this.curWeapon.weaponNum - 1];
        gameDate_1.default.Weapon[name] && gameDate_1.default.Weapon[name].music ? gameMgr_1.gameMgr.playEffect("shot_" + gameDate_1.default.Weapon[name].music, this.node) : gameMgr_1.gameMgr.playEffect("shot_" + weapon_1.default.WeaponName[this.curWeapon.weaponNum - 1], this.node);
      };
      Player.prototype.createBullet = function(dir) {
        var bullet = cc.instantiate(this.curWeapon.bullet);
        if (this.curWeapon.isRangeWeapon) {
          bullet.parent = this.node.parent;
          var fromPos = bullet.parent.convertToNodeSpaceAR(this.startPosNode.convertToWorldSpaceAR(cc.Vec2.ZERO));
          bullet.setPosition(fromPos);
          bullet.angle = -cc.v2(dir).signAngle(cc.v2(1, 0)) / Math.PI * 180;
          2 == this.curWeapon.weaponNum && (bullet.angle += 5 - 10 * Math.random());
          if (this.curWeapon.flySpeed > 0) {
            var pos1 = bullet.getPosition();
            var pos2 = pos1.add(dir.mul(this.curWeapon.atkRangeNum));
            cc.tween(bullet).to(pos2.sub(pos1).mag() / this.curWeapon.flySpeed, {
              position: cc.v3(pos2)
            }).call(function() {
              var ts = bullet.getComponent(bullet_1.default);
              if (ts.boomEffect) {
                var boom = cc.instantiate(ts.boomEffect);
                boom.parent = ts.node.parent;
                boom.setPosition(ts.node.getPosition());
                var curBullet = boom.getComponent(bullet_1.default);
                curBullet.atk = ts.atk;
                curBullet.atker = ts.atker;
                curBullet.id = ts.id;
                gameMgr_1.gameMgr.playEffect("explo", boom);
                if (ts.hitEffect) {
                  var pos = bullet.getPosition();
                  var node = cc.instantiate(ts.hitEffect);
                  node.parent = bullet.parent;
                  node.setPosition(pos);
                  node.zIndex = Constant_1.ZindexLayer.zindex_effect_hit;
                }
              }
              bullet.destroy();
            }).start();
            if (this.curWeapon.shellCall) {
              var shellCase = cc.instantiate(this.curWeapon.shellCall);
              shellCase.setParent(gameMgr_1.gameMgr.map);
              shellCase.setPosition(this.node.position);
              shellCase.scaleX = this.body.scale;
            }
          } else cc.tween(bullet).delay(.4).call(function() {
            bullet.destroy();
          }).start();
          var ts = bullet.getComponent(bullet_1.default);
          ts.id = this.id;
          ts.atker = this.node;
          ts.atk = (this.atkNum + this.personAtk) * this.atkRate;
          ts.dir = dir;
        } else {
          this.node.addChild(bullet, -1);
          bullet.color = this.curWeapon.bulletCollor;
          this.atkDir.x < 0 ? bullet.scaleX *= -1 / this.node.scaleX : bullet.scaleX /= this.node.scaleX;
          bullet.scaleY /= this.node.scaleY;
          cc.tween(bullet).delay(.2).call(function() {
            bullet.destroy();
          }).start();
          var ts = bullet.getComponent(bullet_1.default);
          ts.id = this.id;
          ts.atker = this.node;
          ts.atk = (this.atkNum + this.personAtk) * this.atkRate;
          ts.dir = dir;
        }
      };
      Player.prototype.hart = function(atkNum, from, dir, isAudio) {
        var _this = this;
        void 0 === dir && (dir = null);
        void 0 === isAudio && (isAudio = true);
        if (CocosZ_1.cocosz.isPause || this.isDeath || this.isAvoidInjury) return;
        if (6 == CocosZ_1.cocosz.gameMode && UpgradeMgr_1.upgradeMgr) {
          if (UpgradeMgr_1.upgradeMgr.isHaveSkill(UpgradeMgr_1.SkillType.\u62a4\u7532\u9774\u5b50) && this.moveDir.mag() > 0 && Math.random() < .4) return;
          if (UpgradeMgr_1.upgradeMgr.isHaveSkill(UpgradeMgr_1.SkillType.\u795e\u5723\u5b88\u62a4) && UpgradeMgr_1.upgradeMgr.hudun && UpgradeMgr_1.upgradeMgr.hudun.active) {
            UpgradeMgr_1.upgradeMgr.updateHudun();
            return;
          }
        }
        dir && dir.mag() > 3 && dir.normalizeSelf().mulSelf(3);
        atkNum = (1 - this.damageReduction) * atkNum;
        if (this.Shiled > 0) {
          this.Shiled -= atkNum;
          if (!(this.Shiled < 0)) return;
          atkNum = -this.Shiled;
          this.Shiled = 0;
        }
        6 != CocosZ_1.cocosz.gameMode && gameMgr_1.gameMgr.showRoleTip(this.node, Math.min(this.HP, atkNum).toFixed(0));
        this.HP -= atkNum;
        if (isAudio) if (from) {
          var ts = from.getComponent(person_1.default);
          ts && ts.curWeapon && ts.curWeapon.isRangeWeapon ? gameMgr_1.gameMgr.playEffect("hurt_range", this.node) : gameMgr_1.gameMgr.playEffect("hurt_melee", this.node);
        } else gameMgr_1.gameMgr.playEffect("hurt", this.node);
        6 == CocosZ_1.cocosz.gameMode && cc.tween(gameMgr_1.gameMgr.red).to(.5, {
          opacity: 255
        }, {
          easing: "sineOut"
        }).to(.5, {
          opacity: 0
        }, {
          easing: "sineIn"
        }).start();
        CocosZ_1.cocosz.vibrate("long");
        if (this.HP <= 0) {
          6 == CocosZ_1.cocosz.gameMode && CocosZ_1.cocosz.audioMgr.playEffect("GameOver");
          this.death();
          if (from) {
            var ts = from.getComponent(person_1.default);
            ts.killNum++;
            ts.curKillNum++;
            ts.curKillNum > ts.maxNum && (ts.maxNum = ts.curKillNum);
            this.killer = ts;
            this.curKillNum = 0;
          }
          if (dir) {
            var p1 = this.node.getPosition();
            var pTo = p1.add(dir.normalizeSelf().mulSelf(200));
            var p2 = cc.v2((p1.x + pTo.x) / 2, p1.y + 200);
            cc.tween(this.node).bezierTo(.3, p1, p2, pTo).start();
          }
          6 == CocosZ_1.cocosz.gameMode && cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
            type: Constant_1.default.E_Player_Death
          });
        } else {
          if (6 == CocosZ_1.cocosz.gameMode) {
            this.avoidInjury(2);
            cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
              type: Constant_1.default.E_Player_Hart
            });
          }
          if (!this.isAttackedEffect) {
            this.isAttackedEffect = true;
            if (this.rig.type == cc.RigidBodyType.Dynamic && dir) {
              this.canMove = false;
              this.scheduleOnce(function() {
                _this.canMove = true;
              }, .1);
              var div = dir.mulSelf(400 * dir.mag()).addSelf(this.rig.linearVelocity);
              div.mag() > 500 && div.normalizeSelf().mulSelf(500);
              this.rig.linearVelocity = div;
            }
            cc.tween(this.head).call(function() {
              _this.head_hart.opacity = 255;
            }).to(.05, {
              angle: 15
            }).to(.05, {
              angle: -15
            }).to(.05, {
              angle: 15
            }).to(.05, {
              angle: 0
            }).call(function() {
              _this.head_hart.opacity = 0;
            }).start();
            var spArr_1 = this.body.getComponentsInChildren(cc.Sprite);
            cc.tween(this.body).call(function() {
              spArr_1.forEach(function(v, i) {
                v.isValid && v.setMaterial(0, _this.mat_attacked);
              });
            }).delay(.1).call(function() {
              spArr_1.forEach(function(v, i) {
                v.isValid && v.setMaterial(0, _this.mat_common);
              });
            }).delay(.1).union().repeat(6 == CocosZ_1.cocosz.gameMode ? 5 : 2).call(function() {
              _this.isAttackedEffect = false;
            }).start();
          }
        }
      };
      Player.prototype.creatFootPrint = function() {
        if (0 == this.node.opacity) return;
        var pos = this.node.getPosition();
        if (pos.sub(this.lastPos).mag() < 5) return;
        this.lastPos = cc.v2(pos);
        this.footNum++;
        this.isPlayer && this.footNum % 3 == 0 && gameMgr_1.gameMgr.playEffect("footsteps", this.node);
        if ("map2" == gameMgr_1.gameMgr.map.name) {
          var node_1 = new cc.Node();
          node_1.addComponent(cc.Sprite).spriteFrame = gameMgr_1.gameMgr.jiaoyin;
          cc.tween(node_1).delay(.5).to(.5, {
            opacity: 0
          }).call(function() {
            node_1.destroy();
          }).start();
          node_1.parent = this.node.parent;
          node_1.zIndex = Constant_1.ZindexLayer.zinedx_footPrint;
          this.moveDir.mag() > 0 && (node_1.angle = 360 - cc.v2(this.moveDir).signAngle(cc.v2(1, 0)) / Math.PI * 180);
          pos.y -= 100 * this.node.scale;
          var pos2 = cc.v2(20, 0).rotate(node_1.angle / 180 * Math.PI).rotate(this.footNum % 2 == 0 ? Math.PI / 2 : -Math.PI / 2);
          pos.addSelf(pos2);
          node_1.setPosition(pos);
        }
      };
      Player.prototype.onCollisionEnter = function(other, self) {
        if (0 == self.tag && 1 == other.tag) {
          var ts = other.node.getComponent(person_1.default);
          if (ts && ts.id != this.id) {
            this.atkList.push(other.node);
            !cc.isValid(this.atkTarget) && other.node.isValid && (this.atkTarget = other.node);
          }
        }
      };
      Player.prototype.onCollisionExit = function(other, self) {
        if (0 == self.tag) {
          var num = this.atkList.indexOf(other.node);
          if (1 == other.tag && num >= 0) {
            this.atkList.splice(num, 1);
            0 == this.atkList.length ? this.atkTarget = null : cc.isValid(this.atkTarget) && other.node.uuid != this.atkTarget.uuid || (this.atkTarget = this.atkList[0]);
          }
        }
      };
      Player.prototype.onPreSolve = function(contact, selfCollider, otherCollider) {
        "zombie" == otherCollider.node.group && (contact.disabled = true);
      };
      Player = __decorate([ ccclass ], Player);
      return Player;
    }(person_1.default);
    exports.default = Player;
    cc._RF.pop();
  }, {
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "./UpgradeMgr": "UpgradeMgr",
    "./bullet": "bullet",
    "./gameDate": "gameDate",
    "./gameMgr": "gameMgr",
    "./person": "person",
    "./weapon": "weapon",
    LanguageData: "LanguageData"
  } ],
  "polyglot.min": [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e26fd9yy65A4q3/JkpVnFYg", "polyglot.min");
    "use strict";
    (function(e, t) {
      "function" == typeof define && define.amd ? define([], function() {
        return t(e);
      }) : "object" == typeof exports ? module.exports = t(e) : e.Polyglot = t(e);
    })(void 0, function(e) {
      function t(e) {
        e = e || {}, this.phrases = {}, this.extend(e.phrases || {}), this.currentLocale = e.locale || "en", 
        this.allowMissing = !!e.allowMissing, this.warn = e.warn || c;
      }
      function s(e) {
        var t, n, r, i = {};
        for (t in e) if (e.hasOwnProperty(t)) {
          n = e[t];
          for (r in n) i[n[r]] = t;
        }
        return i;
      }
      function o(e) {
        var t = /^\s+|\s+$/g;
        return e.replace(t, "");
      }
      function u(e, t, r) {
        var i, s, u;
        return null != r && e ? (s = e.split(n), u = s[f(t, r)] || s[0], i = o(u)) : i = e, 
        i;
      }
      function a(e) {
        var t = s(i);
        return t[e] || t.en;
      }
      function f(e, t) {
        return r[a(e)](t);
      }
      function l(e, t) {
        for (var n in t) "_" !== n && t.hasOwnProperty(n) && (e = e.replace(new RegExp("%\\{" + n + "\\}", "g"), t[n]));
        return e;
      }
      function c(t) {
        e.console && e.console.warn && e.console.warn("WARNING: " + t);
      }
      function h(e) {
        var t = {};
        for (var n in e) t[n] = e[n];
        return t;
      }
      t.VERSION = "0.4.3", t.prototype.locale = function(e) {
        return e && (this.currentLocale = e), this.currentLocale;
      }, t.prototype.extend = function(e, t) {
        var n;
        for (var r in e) e.hasOwnProperty(r) && (n = e[r], t && (r = t + "." + r), "object" == typeof n ? this.extend(n, r) : this.phrases[r] = n);
      }, t.prototype.clear = function() {
        this.phrases = {};
      }, t.prototype.replace = function(e) {
        this.clear(), this.extend(e);
      }, t.prototype.t = function(e, t) {
        var n, r;
        return t = null == t ? {} : t, "number" == typeof t && (t = {
          smart_count: t
        }), "string" == typeof this.phrases[e] ? n = this.phrases[e] : "string" == typeof t._ ? n = t._ : this.allowMissing ? n = e : (this.warn('Missing translation for key: "' + e + '"'), 
        r = e), "string" == typeof n && (t = h(t), r = u(n, this.currentLocale, t.smart_count), 
        r = l(r, t)), r;
      }, t.prototype.has = function(e) {
        return e in this.phrases;
      };
      var n = "||||", r = {
        chinese: function chinese(e) {
          return 0;
        },
        german: function german(e) {
          return 1 !== e ? 1 : 0;
        },
        french: function french(e) {
          return e > 1 ? 1 : 0;
        },
        russian: function russian(e) {
          return e % 10 === 1 && e % 100 !== 11 ? 0 : e % 10 >= 2 && e % 10 <= 4 && (e % 100 < 10 || e % 100 >= 20) ? 1 : 2;
        },
        czech: function czech(e) {
          return 1 === e ? 0 : e >= 2 && e <= 4 ? 1 : 2;
        },
        polish: function polish(e) {
          return 1 === e ? 0 : e % 10 >= 2 && e % 10 <= 4 && (e % 100 < 10 || e % 100 >= 20) ? 1 : 2;
        },
        icelandic: function icelandic(e) {
          return e % 10 !== 1 || e % 100 === 11 ? 1 : 0;
        }
      }, i = {
        chinese: [ "fa", "id", "ja", "ko", "lo", "ms", "th", "tr", "zh" ],
        german: [ "da", "de", "en", "es", "fi", "el", "he", "hu", "it", "nl", "no", "pt", "sv" ],
        french: [ "fr", "tl", "pt-br" ],
        russian: [ "hr", "ru" ],
        czech: [ "cs" ],
        polish: [ "pl" ],
        icelandic: [ "is" ]
      };
      return t;
    });
    cc._RF.pop();
  }, {} ],
  redPoint: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7a7b3Y69OtMNbE1nJjYg0PX", "redPoint");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CocosZ_1 = require("../Framework/CocosZ");
    var Constant_1 = require("../Framework/Constant");
    var gameDate_1 = require("../Game/gameDate");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var RedPointType;
    (function(RedPointType) {
      RedPointType[RedPointType["none"] = 0] = "none";
      RedPointType[RedPointType["sign"] = 1] = "sign";
      RedPointType[RedPointType["turntable"] = 2] = "turntable";
      RedPointType[RedPointType["online"] = 3] = "online";
    })(RedPointType || (RedPointType = {}));
    var RedPoint = function(_super) {
      __extends(RedPoint, _super);
      function RedPoint() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.type = RedPointType.none;
        _this.refreshOnClick = true;
        _this.isRefresh = false;
        _this.isTweenAngle = false;
        _this.isTweenScale = false;
        _this.isListen = false;
        return _this;
      }
      RedPoint.prototype.start = function() {
        var _this = this;
        this.node.opacity = 0;
        this.setRedPoint();
        this.isRefresh && cc.tween(this.node).delay(1).call(function() {
          _this.setRedPoint();
        }).union().repeatForever().start();
        this.isTweenAngle && cc.tween(this.node).by(.25, {
          angle: 15
        }).by(.5, {
          angle: -30
        }).by(.25, {
          angle: 15
        }).delay(1).union().repeatForever().start();
        this.isTweenScale && cc.tween(this.node).by(.25, {
          scale: .1
        }).by(.5, {
          scale: -.2
        }).by(.25, {
          scale: .1
        }).delay(1).union().repeatForever().start();
        this.isListen && cc.game.on(Constant_1.default.E_GAME_LOGIC, this._onGameMessageHandler, this);
      };
      RedPoint.prototype.onDestroy = function() {
        cc.game.targetOff(this);
      };
      RedPoint.prototype._onGameMessageHandler = function(event) {
        event.type;
      };
      RedPoint.prototype.onClick = function() {
        this.type;
        this.refreshOnClick && this.setRedPoint();
      };
      RedPoint.prototype.show = function() {
        this.node.opacity = 255;
        this.node.parent && this.node.parent.on(cc.Node.EventType.TOUCH_END, this.onClick, this);
      };
      RedPoint.prototype.hide = function() {
        this.node.opacity = 0;
        this.node.parent && this.node.parent.off(cc.Node.EventType.TOUCH_END, this.onClick, this);
      };
      RedPoint.prototype.setRedPoint = function() {
        switch (this.type) {
         case RedPointType.sign:
          var bool = new Date().toDateString() != CocosZ_1.cocosz.dataMgr.LastDailyBonusTime;
          bool ? this.show() : this.hide();
          break;

         case RedPointType.turntable:
          var bool = CocosZ_1.cocosz.useCJTimes < Constant_1.default.commonCJTimes;
          bool ? this.show() : this.hide();
          break;

         case RedPointType.online:
          var arr = CocosZ_1.cocosz.dataMgr.receiveToday;
          for (var i = 0; i < arr.length; i++) if (!arr[i] && CocosZ_1.cocosz.dataMgr.OnlineToday > gameDate_1.default.TimeReward[i].time) {
            this.show();
            return;
          }
          this.hide();
        }
      };
      __decorate([ property({
        type: cc.Enum(RedPointType),
        tooltip: "\u7ea2\u70b9\u7c7b\u578b"
      }) ], RedPoint.prototype, "type", void 0);
      __decorate([ property({
        tooltip: "\u70b9\u51fb\u7236\u8282\u70b9\u5237\u65b0\u7ea2\u70b9"
      }) ], RedPoint.prototype, "refreshOnClick", void 0);
      __decorate([ property({
        tooltip: "\u662f\u5426\u5237\u65b0"
      }) ], RedPoint.prototype, "isRefresh", void 0);
      __decorate([ property({
        tooltip: "\u662f\u5426\u7f13\u52a8\u89d2\u5ea6"
      }) ], RedPoint.prototype, "isTweenAngle", void 0);
      __decorate([ property({
        tooltip: "\u662f\u5426\u7f13\u52a8\u7f29\u653e"
      }) ], RedPoint.prototype, "isTweenScale", void 0);
      __decorate([ property({
        tooltip: "\u662f\u5426\u76d1\u542c"
      }) ], RedPoint.prototype, "isListen", void 0);
      RedPoint = __decorate([ ccclass ], RedPoint);
      return RedPoint;
    }(cc.Component);
    exports.default = RedPoint;
    cc._RF.pop();
  }, {
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "../Game/gameDate": "gameDate"
  } ],
  setMap: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "09313S8CXZCU4lptDwQuJIg", "setMap");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var CocosZ_1 = require("../Framework/CocosZ");
    var gameMgr_1 = require("./gameMgr");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var setMap = function(_super) {
      __extends(setMap, _super);
      function setMap() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.dmmArr = [];
        _this.dikuai = null;
        _this.time = -1;
        _this.mainCameraPos = cc.Vec2.ZERO;
        _this.distanceX = 2500;
        _this.distanceY = 1500;
        return _this;
      }
      setMap.prototype.onLoad = function() {
        gameMgr_1.gameMgr.setMapTs = this;
        gameMgr_1.gameMgr.dmmArr = this.dmmArr;
        this.dikuai = this.node.getChildByName("dikuai");
        this.dikuai && (this.dikuai.zIndex = cc.macro.MIN_ZINDEX);
        if ([ 1, 2, 4 ].includes(CocosZ_1.cocosz.gameMode) && this.node.getChildByName("point")) {
          var point = this.node.getChildByName("point");
          for (var i = 0; i < point.childrenCount; i++) gameMgr_1.gameMgr.posList[i] = i;
        }
      };
      setMap.prototype.onDestroy = function() {
        gameMgr_1.gameMgr.setMapTs = null;
      };
      setMap.prototype.start = function() {
        for (var i = 0; i < this.node.children.length; i++) var child = this.node.children[i];
      };
      setMap.prototype.lateUpdate = function() {
        if (CocosZ_1.cocosz.isPause || gameMgr_1.gameMgr.isWin || gameMgr_1.gameMgr.isFail) return;
        this.time++ % 30 == 0 && this.checkAllNode();
      };
      setMap.prototype.checkAllNode = function() {
        if (gameMgr_1.gameMgr && gameMgr_1.gameMgr.mainCamereRootNode) {
          this.mainCameraPos = gameMgr_1.gameMgr.mainCamereRootNode.getPosition();
          this.distanceX = cc.winSize.width / 2 / gameMgr_1.gameMgr.mainCamera.zoomRatio + 500;
          this.distanceY = cc.winSize.height / 2 / gameMgr_1.gameMgr.mainCamera.zoomRatio + 500;
        }
        var excludeArr = [ "guide", "guidePath", "player", "colllider", "dikuai", "point", "itemPoint", "tree", "tipLayer", "jingyanLayer", "posLayer" ];
        for (var i = 0; i < this.node.childrenCount; i++) {
          var child = this.node.children[i];
          false == excludeArr.includes(child.name) && this.checkNode(child);
        }
        var dikuai = this.node.getChildByName("dikuai");
        if (dikuai) for (var i = 0; i < dikuai.childrenCount; i++) {
          var child = dikuai.children[i];
          this.checkNode(child);
        }
      };
      setMap.prototype.checkNode = function(n, isRefresh) {
        void 0 === isRefresh && (isRefresh = false);
        if (isRefresh && gameMgr_1.gameMgr && gameMgr_1.gameMgr.mainCamereRootNode) {
          this.mainCameraPos = gameMgr_1.gameMgr.mainCamereRootNode.getPosition();
          this.distanceX = cc.winSize.width / 2 / gameMgr_1.gameMgr.mainCamera.zoomRatio + 500;
          this.distanceY = cc.winSize.height / 2 / gameMgr_1.gameMgr.mainCamera.zoomRatio + 500;
        }
        if (n && n.isValid && n.activeInHierarchy && (n.parent.name == this.node.name || "dikuai" == n.parent.name) && (0 == n.opacity || 255 == n.opacity)) {
          if (n.x + n.width * Math.abs(n.scaleX) / 2 < this.mainCameraPos.x - this.distanceX || n.x - n.width * Math.abs(n.scaleX) / 2 > this.mainCameraPos.x + this.distanceX || n.y + n.height * Math.abs(n.scaleY) / 2 < this.mainCameraPos.y - this.distanceY || n.y - n.height * Math.abs(n.scaleY) / 2 > this.mainCameraPos.y + this.distanceY) {
            n.opacity = 0;
            return false;
          }
          n.opacity = 255;
          return true;
        }
      };
      setMap.prototype.release = function(call) {
        var _this = this;
        if (this.dikuai && this.dikuai.isValid && this.dikuai.childrenCount) {
          for (var i = 0; i < 2; i++) {
            var child = this.dikuai.children[i];
            child && child.isValid && child.destroy();
          }
          setTimeout(function() {
            _this.release(call);
          });
        } else if (this.node.childrenCount) {
          for (var i = 0; i < 10; i++) {
            var child = this.node.children[i];
            child && child.isValid && child.destroy();
          }
          setTimeout(function() {
            _this.release(call);
          });
        } else call && call();
      };
      __decorate([ property([ cc.SpriteFrame ]) ], setMap.prototype, "dmmArr", void 0);
      setMap = __decorate([ ccclass ], setMap);
      return setMap;
    }(cc.Component);
    exports.default = setMap;
    cc._RF.pop();
  }, {
    "../Framework/CocosZ": "CocosZ",
    "./gameMgr": "gameMgr"
  } ],
  showEffect: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1b984pSECdBZZxcU1QfL4H3", "showEffect");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var gameMgr_1 = require("./gameMgr");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var NewClass = function(_super) {
      __extends(NewClass, _super);
      function NewClass() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.texMess = new cc.Vec4(0, 0, 0, 0);
        _this.intervalTime = .05;
        _this.effectType = 0;
        return _this;
      }
      NewClass.prototype.start = function() {
        var _this = this;
        gameMgr_1.gameMgr && gameMgr_1.gameMgr.setMapTs.checkNode(this.node, true);
        this.node.name.includes("bullet_boom") && gameMgr_1.gameMgr.mainCamereRootNode.getBoundingBoxToWorld().intersects(this.node.getBoundingBoxToWorld()) && gameMgr_1.gameMgr.shakeEffect(3, 1, true);
        if (0 == this.effectType) if (this.getComponent(cc.Sprite) && "fire" == this.getComponent(cc.Sprite).getMaterial(0).name) {
          var mtl_1 = this.getComponent(cc.Sprite).getMaterial(0);
          mtl_1.setProperty("totalTex", this.texMess);
          var num_1 = 1;
          this.schedule(function() {
            gameMgr_1.gameMgr.mainCamera.containsNode(_this.node) ? _this.node.opacity = 255 : _this.node.opacity = 0;
            mtl_1.setProperty("curTex", num_1);
            num_1++;
            num_1 > _this.texMess.x && cc.tween(_this.node).to(.2, {
              opacity: 0
            }).call(function() {
              _this.node.destroy();
            }).start();
          }, this.intervalTime, this.texMess.x);
        } else this.node.destroy(); else if (1 == this.effectType) this.scheduleOnce(function() {
          _this.node.destroy();
        }, 2); else if (3 == this.effectType) cc.tween(this.node).set({
          scale: 3
        }).to(.5, {
          scale: 1
        }).to(.5, {
          opacity: 0
        }).call(function() {
          _this.node.destroy();
        }).start(); else if (4 == this.effectType) cc.tween(this.node).to(1.5, {
          angle: 720,
          scale: .5
        }).to(.3, {
          opacity: 0
        }).call(function() {
          _this.node.destroy();
        }).start(); else if (5 == this.effectType) {
          var ani = this.node.children[0].getComponent(sp.Skeleton);
          ani.setCompleteListener(function() {
            cc.isValid(_this.node.isValid) && _this.node.destroy();
          });
          this.scheduleOnce(function() {
            cc.isValid(_this.node.isValid) && _this.node.destroy();
          }, 2);
        } else if (6 == this.effectType) cc.tween(this.node).delay(.5).to(.2, {
          opacity: 0
        }).call(function() {
          _this.node.destroy();
        }).start(); else if (7 == this.effectType) {
          var icon = this.node.children[0];
          cc.tween(icon).bezierTo(.6, cc.Vec2.ZERO, cc.v2(-50, 50), cc.v2(-50 - 50 * Math.random(), -150)).to(1, {
            opacity: 0
          }, {
            easing: "fade"
          }).call(function() {
            _this.node.destroy();
          }).start();
        } else 8 == this.effectType && cc.tween(this.node).to(.5, {
          opacity: 0
        }).call(function() {
          _this.node.destroy();
        }).start();
      };
      __decorate([ property() ], NewClass.prototype, "texMess", void 0);
      __decorate([ property() ], NewClass.prototype, "intervalTime", void 0);
      __decorate([ property() ], NewClass.prototype, "effectType", void 0);
      NewClass = __decorate([ ccclass ], NewClass);
      return NewClass;
    }(cc.Component);
    exports.default = NewClass;
    cc._RF.pop();
  }, {
    "./gameMgr": "gameMgr"
  } ],
  testPoint: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "98d22b+T6BOQ6T4Pl6sHEL6", "testPoint");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var NewClass = function(_super) {
      __extends(NewClass, _super);
      function NewClass() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.isContact = false;
        return _this;
      }
      NewClass.prototype.start = function() {};
      NewClass.prototype.onBeginContact = function() {
        this.isContact = true;
      };
      NewClass.prototype.getContact = function() {
        this.node.destroy();
        return this.isContact;
      };
      NewClass = __decorate([ ccclass ], NewClass);
      return NewClass;
    }(cc.Component);
    exports.default = NewClass;
    cc._RF.pop();
  }, {} ],
  "uma.min": [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8af0dO1mnVP/IJMdnyMO4/j", "uma.min");
    "use strict";
    exports.__esModule = true;
    exports["default"] = void 0;
    var e = "[UMENG] -- ", t = function() {
      var t = null, n = !1;
      function i() {
        this.setDebug = function(e) {
          n = e;
        };
        this.d = function() {
          if (n) try {
            "string" == typeof arguments[0] && (arguments[0] = e + arguments[0]);
            console.log.apply(console, arguments);
          } catch (e) {}
        };
        this.i = function() {
          try {
            if (n) try {
              "string" == typeof arguments[0] && (arguments[0] = e + arguments[0]);
              console.log.apply(console, arguments);
            } catch (e) {}
          } catch (e) {}
        };
        this.e = function() {
          if (n) try {
            "string" == typeof arguments[0] && (arguments[0] = e + arguments[0]);
            console.log.apply(console, arguments);
          } catch (e) {}
        };
        this.w = function() {
          if (n) try {
            "string" == typeof arguments[0] && (arguments[0] = e + arguments[0]);
            console.log.apply(console, arguments);
          } catch (e) {}
        };
        this.v = function() {
          if (n) try {
            "string" == typeof arguments[0] && (arguments[0] = e + arguments[0]);
            console.log.apply(console, arguments);
          } catch (e) {}
        };
        this.t = function() {
          if (n) try {
            console.log.apply(console, arguments);
          } catch (e) {}
        };
        this.tip = function() {
          try {
            "string" == typeof arguments[0] && (arguments[0] = e + arguments[0]);
            console.log.apply(console, arguments);
          } catch (e) {}
        };
        this.tip_w = function(e) {
          try {
            console.log("%c [UMENG] -- " + e, "background:red; padding: 4px; padding-right: 8px; border-radius: 4px; color: #fff;");
          } catch (e) {}
        };
        this.err = function() {
          try {
            "string" == typeof arguments[0] && (arguments[0] = e + arguments[0]);
            console.log.apply(console, arguments);
          } catch (e) {}
        };
        this.repeat = function(e) {
          for (var t = e; t.length < 86; ) t += e;
          return t;
        };
      }
      return function() {
        null === t && (t = new i());
        return t;
      };
    }(), n = function() {
      var e = null;
      function t() {
        var e = {};
        this.useOpenid = function() {
          return !!e.useOpenid;
        };
        this.useSwanid = function() {
          return !!e.useSwanid;
        };
        this.autoGetOpenid = function() {
          return !!e.autoGetOpenid;
        };
        this.appKey = function() {
          return e.appKey;
        };
        this.uploadUserInfo = function() {
          return e.uploadUserInfo;
        };
        this.enableVerify = function() {
          return e.enableVerify;
        };
        this.set = function(t) {
          e = t;
        };
        this.get = function() {
          return e;
        };
        this.setItem = function(t, n) {
          e[t] = n;
        };
        this.getItem = function(t) {
          return e[t];
        };
      }
      return function() {
        e || (e = new t());
        return e;
      };
    }();
    function i() {}
    i.prototype = {
      on: function on(e, t, n) {
        var i = this.e || (this.e = {});
        (i[e] || (i[e] = [])).push({
          fn: t,
          ctx: n
        });
        return this;
      },
      once: function once(e, t, n) {
        var i = this;
        function r() {
          i.off(e, r);
          t.apply(n, arguments);
        }
        r._ = t;
        return this.on(e, r, n);
      },
      emit: function emit(e) {
        for (var t = [].slice.call(arguments, 1), n = ((this.e || (this.e = {}))[e] || []).slice(), i = 0, r = n.length; i < r; i++) n[i].fn.apply(n[i].ctx, t);
        return this;
      },
      off: function off(e, t) {
        var n = this.e || (this.e = {}), i = n[e], r = [];
        if (i && t) for (var o = 0, s = i.length; o < s; o++) i[o].fn !== t && i[o].fn._ !== t && r.push(i[o]);
        r.length ? n[e] = r : delete n[e];
        return this;
      }
    };
    var r = new i();
    r.messageType = {
      CONFIG_LOADED: 0,
      UMA_LIB_INITED: 1
    };
    function o() {
      return cc ? cc.sys && cc.sys.platform && cc.sys.platform <= 111 && cc.sys.platform >= 108 ? qg || hbs : void 0 : qg || hbs;
    }
    var s = o();
    var a = new (function() {
      function e() {}
      e.prototype.setStorage = function(e, t, n) {
        if (s.setStorage) s.setStorage({
          key: e,
          value: t,
          success: function success() {
            "function" == typeof n && n(!0);
          },
          fail: function fail() {
            "function" == typeof n && n(!1);
          }
        }); else {
          localStorage.setItem(e, t);
          "function" == typeof n && n(!0);
        }
      };
      e.prototype.getStorage = function(e, n) {
        if (s.getStorage) s.getStorage({
          key: e,
          success: function success(e) {
            "function" == typeof n && n(e);
          },
          fail: function fail(i, r) {
            t().w(e + "code = : " + r);
            "function" == typeof n && n();
          }
        }); else if (localStorage) {
          var i = localStorage.getItem(e);
          "function" == typeof n && n(i);
        }
      };
      e.prototype.removeStorage = function(e, t) {
        if (s.deleteStorage) s.deleteStorage({
          key: e,
          success: function success() {
            "function" == typeof t && t(!0);
          },
          fail: function fail() {
            "function" == typeof t && t(!1);
          }
        }); else if (localStorage) {
          localStorage.removeItem(e);
          "function" == typeof t && t(!0);
        }
      };
      e.prototype.getSystemInfo = function(e) {
        s.getSystemInfo({
          success: function success(t) {
            var n = {
              model: t.model,
              brand: t.brand,
              screenWidth: t.screenWidth,
              screenHeight: t.screenHeight,
              platform: t.osType,
              pixelRatio: t.pixelRatio,
              platformVersion: t.platformVersionCode,
              language: t.language,
              deviceName: t.model,
              OSVersion: t.osVersionName,
              resolution: "",
              statusBarHeight: t.statusBarHeight
            };
            if (t.system) {
              var i = t.system.split(" ");
              if (Array.isArray(i)) {
                !n.platform && (n.platform = i[0]);
                !n.OSVersion && (n.OSVersion = i[1]);
              }
            }
            var r = Math.round(t.screenWidth * t.pixelRatio), o = Math.round(t.screenHeight * t.pixelRatio);
            n.resolution = r > o ? r + "*" + o : o + "*" + r;
            "function" == typeof e && e(n);
          },
          fail: function fail() {
            "function" == typeof e && e();
          }
        });
      };
      e.prototype.getDeviceInfo = function(e) {
        "function" == typeof e && e("");
      };
      e.prototype.getNetworkInfo = function(e) {
        s.getNetworkType({
          success: function success(t) {
            "function" == typeof e && e({
              networkAvailable: "none" !== t.networkType,
              networkType: t.networkType
            });
          },
          fail: function fail() {
            "function" == typeof e && e();
          }
        });
      };
      e.prototype.request = function(e) {
        var t = e.success, n = e.fail, i = !1, r = null;
        e.success = function(e) {
          if (!i) {
            r && clearTimeout(r);
            "function" == typeof t && t(e);
          }
        };
        e.fail = function() {
          if (!i) {
            r && clearTimeout(r);
            "function" == typeof n && n(!1);
          }
        };
        s.request ? s.request(e) : XMLHttpRequest && function(e, t) {
          void 0 === t && (t = !0);
          (e = e || {}).method = e.method || "GET";
          e.url = e.url || "";
          e.success = e.success || function() {};
          e.fail = e.fail || function() {};
          var n, i, r = new XMLHttpRequest(), o = [];
          if ("object" == typeof e.data) {
            for (var s in e.data) o.push(s + "=" + encodeURIComponent(e.data[s]));
            n = JSON.stringify(e.data || {});
            i = o.join("&");
          } else if ("string" == typeof e.data) {
            n = e.data;
            i = e.data;
          }
          "POST" === e.method ? r.open(e.method, e.url, t) : r.open(e.method, e.url + "?" + i || "", t);
          if (e.header && "object" == typeof e.header) {
            for (var a in e.header) r.setRequestHeader(a, e.header[a]);
            e.header["content-type"] || e.header["Content-Type"] || r.setRequestHeader("content-type", "text/plain");
          }
          t && (r.timeout = e.timeout || 3e4);
          r.onreadystatechange = function() {
            if (4 == r.readyState && 200 == r.status) {
              var t = {};
              try {
                t = JSON.parse(r.responseText);
              } catch (e) {}
              e.success({
                data: t,
                status: r.status
              });
            } else 4 == r.readyState && e.fail({
              data: null,
              status: r.status
            });
          };
          "POST" === e.method ? r.send(n || "") : r.send();
        }(e, !0);
        r = setTimeout(function() {
          r && clearTimeout(r);
          i = !0;
          "function" == typeof n && n(i);
        }, e.timeout || 3e4);
      };
      e.prototype.getSdkType = function() {
        return this.getPlatform() + "mp";
      };
      e.prototype.getPlatform = function() {
        return "quickgame";
      };
      e.prototype.getUserInfo = function(e) {
        e && e();
      };
      e.prototype.getAppInfoSync = function() {
        return {};
      };
      e.prototype.onShareAppMessage = function(e) {};
      e.prototype.shareAppMessage = function(e) {};
      e.prototype.getContext = function() {
        return o();
      };
      e.prototype.getLaunchOptionsSync = function() {
        var e = null;
        if (e) return e;
        if (!s.getLaunchOptionsSync) return {};
        try {
          e = s.getLaunchOptionsSync();
        } catch (t) {
          e = null;
        }
        return e || {};
      };
      return e;
    }())(), _u = function u(e, t) {
      return (_u = Object.setPrototypeOf || {
        __proto__: []
      } instanceof Array && function(e, t) {
        e.__proto__ = t;
      } || function(e, t) {
        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
      })(e, t);
    };
    function c(e, t) {
      _u(e, t);
      function n() {
        this.constructor = e;
      }
      e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());
    }
    var f = {
      SESSION_INTERVAL: 3e4,
      LOG_URL: "/quickgamem_logs",
      GET_OPENID_URL: "",
      USERINFO_URL: "/uminiprogram_logs/comm/uif",
      ENDPOINT: "https://umini.shujupie.com",
      ENDPOINTB: "https://ulogs.umeng.com",
      DEVICE_INFO_KEY: "device_info",
      ADVERTISING_ID: "mobile_ad_id",
      ANDROID_ID: "android_id",
      CURRENT_SESSION: "current_session",
      SESSION_PAUSE_TIME: "session_pause_time",
      EVENT_SEND_DEFAULT_INTERVAL: 15e3,
      EVENT_LAST_SEND_TIME: "last_send_time",
      MAX_EVENTID_LENGTH: 128,
      MAX_PROPERTY_KEY_LENGTH: 256,
      MAX_PROPERTY_KEYS_COUNT: 100,
      REPORT_POLICY: "report_policy",
      REPORT_INTERVAL_TIME: "report_interval_time",
      REPORT_POLICY_START_SEND: "1",
      REPORT_POLICY_INTERVAL: "6",
      IMPRINT: "imprint",
      SEED_VERSION: "1.0.0",
      IMPL_VERSION: "2.7.2-beta.17928427",
      ALIPAY_AVAILABLE_VERSION: "10.1.52",
      SHARE_PATH: "um_share_path",
      SHARES: "shares",
      REQUESTS: "requests",
      UUID: "um_uuid",
      UUID_SUFFIX: "ud",
      OPENID: "um_od",
      UNIONID: "um_unid",
      ALIPAYID: "um_alipayid",
      USERID: "um_userid",
      PROVIDER: "um_provider",
      SWANID: "um_swanid",
      ANONYMOUSID: "um_anonymousid",
      LAUNCH_OPTIONS: "LAUNCH_OPTIONS",
      UM_SSRC: "_um_ssrc",
      USER_INFO: "user_info",
      IS_ALIYUN: !1
    };
    var p, l = {
      isNumber: function isNumber(e) {
        return !Number.isNaN(parseInt(e, 10));
      },
      compareVersion: function compareVersion(e, t) {
        for (var n = String(e).split("."), i = String(t).split("."), r = 0; r < Math.max(n.length, i.length); r++) {
          var o = parseInt(n[r] || 0, 10), s = parseInt(i[r] || 0, 10);
          if (o > s) return 1;
          if (o < s) return -1;
        }
        return 0;
      },
      getRandomStr: function getRandomStr(e) {
        for (var t = "", n = [ "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z" ], i = 0; i < Number(e); i++) t += n[Math.round(Math.random() * (n.length - 1))];
        return t;
      },
      clone: function clone(e) {
        return JSON.parse(JSON.stringify(e));
      },
      startsWith: function startsWith(e, t) {
        return !(!e || !t || 0 === t.length || t.length > e.length) && e.substr(0, t.length) === t;
      },
      endsWith: function endsWith(e, t) {
        return !(!t || 0 === e.length || t.length > e.length) && e.substring(e.length - t.length) === t;
      },
      assign: function assign(e) {
        if (null == e) throw new TypeError("Cannot convert undefined or null to object");
        for (var t = Object(e), n = 1; n < arguments.length; n++) {
          var i = arguments[n];
          if (i) for (var r in i) Object.prototype.hasOwnProperty.call(i, r) && (t[r] = i[r]);
        }
        return t;
      },
      deepEqual: function e(t, n) {
        if (t === n) return !0;
        if (t && "object" == typeof t && n && "object" == typeof n) {
          if (Object.keys(t).length !== Object.keys(n).length) return !1;
          for (var i in t) {
            if (Object.prototype.hasOwnProperty.call(n, i)) return !1;
            if (!e(t[i], n[i])) return !1;
          }
          return !0;
        }
        return !1;
      },
      trimStart: function trimStart(e, t) {
        if (!e) return "";
        if ("string" == typeof t && t.length) {
          var n = new RegExp("^" + t + "*");
          e = e.replace(n, "");
        } else e = e.replace(/^s*/, "");
        return e;
      },
      trimEnd: function trimEnd(e, t) {
        if (!e) return "";
        var n, i;
        if ("string" == typeof t && t.length) {
          n = new RegExp(t);
          i = e.length;
          for (;n.test(e.charAt(i)); ) i -= 1;
          return e.slice(0, i + 1);
        }
        n = /s/;
        i = e.length - 1;
        for (;n.test(e.charAt(i)); ) i -= 1;
        return e.slice(0, i + 1);
      },
      isFunction: function isFunction(e) {
        return "function" == typeof e;
      }
    }, d = function(e) {
      c(n, e);
      function n() {
        var t = null !== e && e.apply(this, arguments) || this;
        t._openid = "";
        t._unionid = "";
        t._useOpenid = !1;
        return t;
      }
      n.prototype.initID = function(e) {
        var n = this;
        n._idType = n._useOpenid ? "openid" : "uuid";
        t().v("id type: ", n._idType);
        a.getStorage(f.UNIONID, function(e) {
          n._unionid = e;
        });
        this._useOpenid ? a.getStorage(f.OPENID, function(t) {
          n._openid = t;
          e && e();
        }) : e && e();
      };
      n.prototype.setUseOpenid = function(e) {
        this._useOpenid = e;
      };
      n.prototype.setOpenid = function(e) {
        if (!this._openid && e) {
          this._openid = e;
          a.setStorage(f.OPENID, e);
        }
      };
      n.prototype.setUnionid = function(e) {
        if (!this._unionid && e) {
          this._unionid = e;
          a.setStorage(f.UNIONID, e);
        }
      };
      n.prototype.getIdTracking = function() {
        var t = e.prototype.getIdTracking.call(this);
        this._openid && (t.openid = this._openid);
        this._unionid && (t.unionid = this._unionid);
        this._userid && (t.userid = this._userid);
        return t;
      };
      n.prototype.getId = function() {
        return this._useOpenid ? this._openid : this._uuid;
      };
      return n;
    }(function() {
      function e() {
        this._uuid = "";
        this._userid = "";
        this._provider = "";
        this._idType = "";
      }
      e.prototype.createUUID = function() {
        return l.getRandomStr(10) + Date.now() + l.getRandomStr(7) + f.UUID_SUFFIX;
      };
      e.prototype.initUUID = function(e) {
        var t = this;
        a.getStorage(f.UUID, function(n) {
          if (n) t._uuid = n; else {
            t._uuid = t.createUUID();
            a.setStorage(f.UUID, t._uuid);
          }
          e && e(n);
        });
      };
      e.prototype.initUserid = function() {
        var e = this;
        a.getStorage(f.USERID, function(n) {
          if (!e._userid && n) {
            e._userid = n;
            t().v("userId is ", n);
          }
        });
        a.getStorage(f.PROVIDER, function(n) {
          if (!e._provider && n) {
            e._provider = n;
            t().v("provider is ", n);
          }
        });
      };
      e.prototype.init = function(e) {
        var t = this;
        t.initUUID(function() {
          t.initUserid();
          t.initID(e);
        });
      };
      e.prototype.setUserid = function(e, t) {
        if (!this._userid && e) {
          this._userid = e;
          this._provider = t;
          a.setStorage(f.USERID, e);
          a.setStorage(f.PROVIDER, t);
        }
      };
      e.prototype.getUserId = function() {
        return this._userid;
      };
      e.prototype.getProvider = function() {
        return this._provider;
      };
      e.prototype.getIdType = function() {
        return this._idType;
      };
      e.prototype.getIdTracking = function() {
        var e = {};
        this._uuid && (e.uuid = this._uuid);
        this._userid && (e.userid = this._userid);
        return e;
      };
      return e;
    }()), h = o(), g = function(e) {
      c(n, e);
      function n() {
        return null !== e && e.apply(this, arguments) || this;
      }
      n.prototype.getOpenIdAsync = function(e, n) {
        var i = this;
        h.login({
          success: function success(r) {
            r.code ? a.request({
              url: f.ENDPOINT + f.GET_OPENID_URL,
              method: "GET",
              data: {
                key: e,
                code: r.code
              },
              success: function success(e) {
                if (e && 200 === e.statusCode && e.data && e.data.data) {
                  var t = e.data.data;
                  i.setOpenid(t.oid);
                  i.setUnionid(t.uid);
                  return n && n(!0);
                }
                n && n();
              },
              fail: function fail(e) {
                t().v("wx request failed...", e);
                n && n();
              }
            }) : n && n();
          },
          fail: function fail() {
            n && n();
          }
        });
      };
      return n;
    }(d), v = (p = null, function() {
      p || (p = new g());
      return p;
    }), _ = function() {
      var e = null;
      function t() {
        var e = !1, t = null, n = [];
        this.addPageStart = function(n) {
          if (n && !e) {
            t = {
              ts: Date.now(),
              path: n,
              page_name: n
            };
            e = !0;
          }
        };
        this.addPageEnd = function(i) {
          if (e && i && t && i === t.page_name) {
            var r = Date.now() - t.ts;
            t.duration = Math.abs(r);
            n.push(t);
            t = null;
            e = !1;
          }
        };
        this.get = function() {
          return n;
        };
        this.getCurrentPage = function() {
          return t;
        };
        this.clear = function() {
          n.length = 0;
        };
      }
      return function() {
        e || (e = new t());
        return e;
      };
    }(), y = {};
    var m = function() {
      var e = null, n = [], i = "";
      function r() {
        return {
          add: function add(e, r) {
            t().v("share origin: %o", e);
            var o = {
              title: e && e.title,
              path: e && e.path && e.path.split("?")[0],
              _um_sts: Date.now()
            };
            o.path && o.path.length > 1 && l.startsWith(o.path, "/") && (o.path = l.trimStart(o.path, "/"));
            var s = e.path || "", a = v().getId();
            if (a) {
              var u = i.split(","), c = (u = u.filter(function(e) {
                return e.length > 0;
              })).indexOf(a);
              c >= 0 && (u = u.slice(0, c));
              u.length < 3 && u.push(a);
              var f = u.join(",");
              -1 !== s.indexOf("?") ? s += "&_um_ssrc=" + f : s += "?_um_ssrc=" + f;
              var p = Date.now();
              s += "&_um_sts=" + p;
              if (r) {
                var d = function(e) {
                  var t = [];
                  for (var n in e) "_um_ssrc" !== n && "_um_sts" !== n && t.push(n + "=" + e[n]);
                  return t.join("&");
                }(y), h = d ? d + "&_um_ssrc=" + f + "&_um_sts=" + p : "_um_ssrc=" + f + "&_um_sts=" + p;
                e.query = e.query ? e.query + "&_um_ssrc=" + f + "&_um_sts=" + p : h;
              } else e.path = s;
              o._um_ssrc = f;
              o._um_sts = p;
            }
            n.push(o);
            t().v("share: %o", e);
            return e;
          },
          setShareSource: function setShareSource(e) {
            i = e;
          },
          clear: function clear() {
            n.length = 0;
          },
          get: function get() {
            return n;
          }
        };
      }
      return function() {
        e || (e = new r());
        return e;
      };
    }(), S = function S(e) {
      if (e) try {
        return JSON.stringify(e);
      } catch (e) {}
      return "";
    }, I = function I(e) {
      if (e) try {
        return JSON.parse(e);
      } catch (e) {}
      return null;
    }, O = function() {
      var e = null, t = "", i = null, r = !1;
      function o() {
        this.load = function(e) {
          if (i) {
            a.removeStorage(t);
            e();
          } else {
            t = "um_cache_" + n().appKey();
            a.getStorage(t, function(n) {
              i = I(n) || {};
              r = !0;
              a.removeStorage(t);
              e();
            });
          }
        };
        this.save = function() {
          i && a.setStorage(t, S(i));
        };
        this.set = function(e, t) {
          i && (i[e] = t);
        };
        this.get = function(e) {
          return (i || {})[e];
        };
        this.remove = function(e) {
          i && i[e] && delete i[e];
        };
        this.getAll = function() {
          return i;
        };
        this.clear = function() {
          i = null;
        };
        this.has = function(e) {
          return !!this.get(e);
        };
        this.isLoaded = function() {
          return r;
        };
      }
      return function() {
        e || (e = new o());
        return e;
      };
    }(), E = function() {
      var e, n, i = [], r = [];
      function o() {
        if (i.length) {
          var e = O().get("ekvs");
          if (function(e) {
            var t = 0;
            for (var n in e) Array.isArray(e[n]) && (t += e[n].length);
            return t;
          }(e) + i.length <= 1e4) {
            e = s(e, i);
            O().set("ekvs", e);
          }
        }
      }
      function s(e, t) {
        var i = (e = e || {})[n];
        Array.isArray(i) && i.length ? e[n] = i.concat(t) : e[n] = [].concat(t);
        return e;
      }
      return function() {
        e || (e = {
          addEvent: function addEvent(e) {
            if (n) {
              i.unshift(e);
              if (i.length > 1) {
                o();
                i.length = 0;
              }
            } else {
              t().w("session id is null: ", n);
              r.unshift(e);
            }
          },
          setSessionId: function setSessionId(e) {
            n = e;
            t().v("setSessionId: ", n);
            if (Array.isArray(r) && r.length && n) {
              for (var i = 0; i < r.length; i++) this.addEvent(r[i]);
              r.length = 0;
            }
          },
          getEkvs: function getEkvs() {
            var e = O().get("ekvs");
            i && i.length && (e = s(e, i));
            return e;
          },
          clear: function clear() {
            O().remove("ekvs");
            i.length = 0;
          }
        });
        return e;
      };
    }(), T = "2g", N = "3g", A = "4g", b = "half_session", k = "close_session", D = "ekv", w = [ "access", "access_subtype" ], R = function() {
      var e = null;
      function t() {
        var e = !1, t = {};
        function i(e) {
          var i = O().get(f.IMPRINT);
          i && (t.imprint = i);
          t.device_type = "Phone";
          t.sdk_version = f.IMPL_VERSION;
          t.appkey = n().appKey();
          a.getDeviceInfo(function(e) {
            t.device_info = e || "";
          });
          var r = a.getAppInfoSync();
          t.appid = r.appId;
          t.app_env = r.appEnv;
          t.app_version = r.appVersion;
          a.getSystemInfo(function(n) {
            a.getNetworkInfo(function(i) {
              var r = function(e, t) {
                var n = {};
                (e = e || {}).safeArea = e.safeArea || {};
                var i = (t = t || {}).networkType;
                "none" === i && (i = "unknown");
                var r = e.model || "", o = e.platform || "", s = e.brand || "", u = s.toLowerCase();
                n.sdk_type = a.getSdkType();
                n.platform = a.getPlatform();
                n.platform_sdk_version = e.platformSDKVersion;
                n.platform_version = e.platformVersion;
                n.resolution = e.resolution;
                n.pixel_ratio = e.pixelRatio;
                n.os = o;
                n.font_size_setting = e.fontSizeSetting;
                n.device_model = r;
                n.device_brand = s;
                n.device_manufacturer = u;
                n.device_manuid = r;
                n.device_name = r;
                n.os_version = e.OSVersion;
                n.language = e.language;
                n.theme = e.theme;
                n.benchmark_level = e.benchmarkLevel;
                n.status_bar_height = e.statusBarHeight;
                n.safe_area_top = e.safeArea.top;
                n.safe_area_left = e.safeArea.left;
                n.safe_area_right = e.safeArea.right;
                n.safe_area_bottom = e.safeArea.bottom;
                n.safe_area_height = e.safeArea.height;
                n.safe_area_width = e.safeArea.width;
                n.storage = e.storage;
                n.screen_width = e.screenWidth;
                n.screen_height = e.screenHeight;
                n.host = e.host;
                switch (i = i ? i.toLowerCase() : "") {
                 case A:
                  n.access_subtype = "LTE";
                  n.access = "4G";
                  break;

                 case N:
                  n.access_subtype = "CDMA";
                  n.access = "3G";
                  break;

                 case T:
                  n.access_subtype = "GRPS";
                  n.access = "2G";
                  break;

                 default:
                  n.access = i;
                  delete n.access_subtype;
                }
                return n;
              }(n, i);
              l.assign(t, r);
              e && e();
            });
          });
        }
        return {
          init: function init() {
            i(function() {
              e = !0;
            });
          },
          isLoaded: function isLoaded() {
            return e;
          },
          get: function get() {
            return t;
          },
          getRealtimeFields: function getRealtimeFields() {
            var e = {};
            w.forEach(function(n) {
              e[n] = t[n];
            });
            return e;
          },
          setIdTracking: function setIdTracking(e) {
            this.setItem("id_tracking", e);
          },
          setIdType: function setIdType(e) {
            this.setItem("id_type", e);
          },
          setAppVersion: function setAppVersion(e) {
            this.setItem("app_version", e);
          },
          setSuperProperty: function setSuperProperty(e) {
            t.sp || (t.sp = {});
            t.sp.isv = e;
          },
          getSuperProperty: function getSuperProperty() {
            return t && t.sp ? t.sp.isv : "";
          },
          setItem: function setItem(e, n) {
            t[e] = n;
          },
          getItem: function getItem(e) {
            return t[e];
          }
        };
      }
      return {
        instance: function instance() {
          e || (e = t());
          return e;
        }
      };
    }(), U = function() {
      var e = null, n = null, i = null;
      function r() {
        return {
          resume: function resume(e) {
            var r = !1;
            i || (i = O().get(f.CURRENT_SESSION));
            var o = new Date();
            n = o.getTime();
            if (!i || !i.end_time || n - i.end_time > f.SESSION_INTERVAL) {
              r = !0;
              !function(e) {
                try {
                  var n = (i || {}).options || {}, r = l.assign({}, function(e) {
                    var n = {};
                    for (var i in e) 0 === i.indexOf("_um_") && (n[i] = e[i]);
                    t().v("query: ", e);
                    t().v("_um_params: ", n);
                    return n;
                  }(e.query));
                  r.path = e.path || n.path;
                  r.scene = e.scene ? a.getPlatform() + "_" + e.scene : n.scene;
                  var o = e.referrerInfo;
                  o && (r.referrerAppId = o.appId);
                  t().v("session options: ", r);
                  var s = r[f.UM_SSRC];
                  s && m().setShareSource(s);
                  var u = Date.now();
                  i = {
                    id: l.getRandomStr(10) + u,
                    start_time: u,
                    options: r
                  };
                } catch (e) {
                  t().e("\u751f\u6210\u65b0session\u5931\u8d25: ", e);
                }
              }(e);
              t().v("\u5f00\u59cb\u65b0\u7684session(%s): ", i.id, i);
            } else t().v("\u5ef6\u7eed\u4e0a\u4e00\u6b21session(%s): %s ", i.id, o.toLocaleTimeString(), i);
            return r;
          },
          pause: function pause() {
            !function() {
              if (i) {
                var e = new Date();
                i.end_time = e.getTime();
                "number" != typeof i.duration && (i.duration = 0);
                i.duration = i.end_time - n;
                O().set(f.CURRENT_SESSION, i);
                t().v("\u9000\u51fa\u4f1a\u8bdd(%s): %s ", i.id, e.toLocaleTimeString(), i);
              }
            }();
          },
          getCurrentSessionId: function getCurrentSessionId() {
            return (i || {}).id;
          },
          getCurrentSession: function getCurrentSession() {
            return i;
          },
          cloneCurrentSession: function cloneCurrentSession() {
            return l.clone(i);
          }
        };
      }
      return function() {
        e || (e = r());
        return e;
      };
    }();
    function P(e) {
      var t = null;
      switch (e) {
       case b:
        t = function() {
          var e = null, t = U().cloneCurrentSession();
          t && (e = {
            header: {
              st: "1"
            },
            analytics: {
              sessions: [ t ]
            }
          });
          return e;
        }();
        break;

       case k:
        t = function() {
          var e = null, t = {}, n = U().cloneCurrentSession();
          if (n) {
            var i = _().get(), r = m().get();
            Array.isArray(i) && i.length && (n.pages = l.clone(i));
            Array.isArray(r) && r.length && (n.shares = l.clone(r));
            _().clear();
            m().clear();
            t.sessions = [ n ];
          }
          var o = E().getEkvs();
          if (o) {
            t.ekvs = l.clone(o);
            E().clear();
          }
          (t.sessions || t.ekvs) && (e = {
            analytics: t
          });
          return e;
        }();
        break;

       case D:
        t = function() {
          var e = null, t = E().getEkvs();
          if (t) {
            e = {
              analytics: {
                ekvs: l.clone(t)
              }
            };
            E().clear();
          }
          return e;
        }();
      }
      return t;
    }
    var C = {
      sessions: "sn",
      ekvs: "e",
      active_user: "active_user"
    }, L = {
      sdk_type: "sdt",
      access: "ac",
      access_subtype: "acs",
      device_model: "dm",
      language: "lang",
      device_type: "dt",
      device_manufacturer: "dmf",
      device_name: "dn",
      platform_version: "pv",
      id_type: "it",
      font_size_setting: "fss",
      os_version: "ov",
      device_manuid: "did",
      platform_sdk_version: "psv",
      device_brand: "db",
      appkey: "ak",
      _id: "id",
      id_tracking: "itr",
      imprint: "imp",
      sdk_version: "sv",
      resolution: "rl",
      testToken: "ttn",
      theme: "t5",
      benchmark_level: "bml",
      screen_width: "sw",
      screen_height: "sh",
      status_bar_height: "sbh",
      safe_area_top: "sat",
      safe_area_left: "sal",
      safe_area_right: "sar",
      safe_area_bottom: "sab",
      safe_area_height: "sah",
      safe_area_width: "saw",
      pixel_ratio: "pr",
      storage: "s7",
      host: "hs"
    }, M = {
      uuid: "ud",
      unionid: "und",
      openid: "od",
      anonymousid: "nd",
      alipay_id: "ad",
      device_id: "dd",
      userid: "puid"
    };
    function j(e, t) {
      var n = V(e, t);
      e && e.id_tracking && (n[t.id_tracking || "id_tracking"] = V(e.id_tracking, M));
      return n;
    }
    function V(e, t) {
      var n = {};
      for (var i in e) t[i] ? n[t[i]] = e[i] : n[i] = e[i];
      return n;
    }
    function x(e, t) {
      var n = {};
      if (e) for (var i in e) e[i] && (n[t[i]] = e[i]);
      return n;
    }
    var q = "";
    function G() {
      return q;
    }
    var F = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", H = function(e) {
      for (var t = {}, n = 0, i = e.length; n < i; n++) t[e.charAt(n)] = n;
      return t;
    }(F), K = String.fromCharCode, Y = function Y(e) {
      if (e.length < 2) return (t = e.charCodeAt(0)) < 128 ? e : t < 2048 ? K(192 | t >>> 6) + K(128 | 63 & t) : K(224 | t >>> 12 & 15) + K(128 | t >>> 6 & 63) + K(128 | 63 & t);
      var t = 65536 + 1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320);
      return K(240 | t >>> 18 & 7) + K(128 | t >>> 12 & 63) + K(128 | t >>> 6 & 63) + K(128 | 63 & t);
    }, J = /[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g, X = function X(e) {
      var t = [ 0, 2, 1 ][e.length % 3], n = e.charCodeAt(0) << 16 | (e.length > 1 ? e.charCodeAt(1) : 0) << 8 | (e.length > 2 ? e.charCodeAt(2) : 0);
      return [ F.charAt(n >>> 18), F.charAt(n >>> 12 & 63), t >= 2 ? "=" : F.charAt(n >>> 6 & 63), t >= 1 ? "=" : F.charAt(63 & n) ].join("");
    }, B = function B(e) {
      return function(e) {
        return e.replace(J, Y);
      }(e).replace(/[\s\S]{1,3}/g, X);
    }, W = new RegExp([ "[\xc0-\xdf][\x80-\xbf]", "[\xe0-\xef][\x80-\xbf]{2}", "[\xf0-\xf7][\x80-\xbf]{3}" ].join("|"), "g"), z = function z(e) {
      switch (e.length) {
       case 4:
        var t = ((7 & e.charCodeAt(0)) << 18 | (63 & e.charCodeAt(1)) << 12 | (63 & e.charCodeAt(2)) << 6 | 63 & e.charCodeAt(3)) - 65536;
        return K(55296 + (t >>> 10)) + K(56320 + (1023 & t));

       case 3:
        return K((15 & e.charCodeAt(0)) << 12 | (63 & e.charCodeAt(1)) << 6 | 63 & e.charCodeAt(2));

       default:
        return K((31 & e.charCodeAt(0)) << 6 | 63 & e.charCodeAt(1));
      }
    }, Q = function Q(e) {
      var t = e.length, n = t % 4, i = (t > 0 ? H[e.charAt(0)] << 18 : 0) | (t > 1 ? H[e.charAt(1)] << 12 : 0) | (t > 2 ? H[e.charAt(2)] << 6 : 0) | (t > 3 ? H[e.charAt(3)] : 0), r = [ K(i >>> 16), K(i >>> 8 & 255), K(255 & i) ];
      r.length -= [ 0, 0, 2, 1 ][n];
      return r.join("");
    }, Z = function Z(e) {
      return function(e) {
        return e.replace(/[\s\S]{1,4}/g, Q);
      }(e).replace(W, z);
    }, $ = function $(e, t) {
      return t ? B(String(e)).replace(/[+\/]/g, function(e) {
        return "+" == e ? "-" : "_";
      }).replace(/=/g, "") : B(String(e));
    }, ee = function ee(e) {
      return Z(String(e).replace(/[-_]/g, function(e) {
        return "-" == e ? "+" : "/";
      }).replace(/[^A-Za-z0-9\+\/]/g, ""));
    };
    var te = new function() {
      var e = "", t = this;
      this.set = function(t) {
        e = t;
      };
      this.get = function() {
        return e;
      };
      this.getImpObj = function() {
        return I(ee(e));
      };
      this.getItem = function(e) {
        var n = t.getImpObj();
        return n && n[e] || "";
      };
      this.load = function() {
        e = O().get(f.IMPRINT);
      };
      this.save = function() {
        e && O().set(f.IMPRINT, e);
      };
    }();
    function ne(e, n, i, r) {
      R.instance().setIdType(v().getIdType());
      R.instance().setIdTracking(v().getIdTracking());
      var o = v().getUserId();
      o && e.analytics && (e.analytics.active_user = {
        puid: o,
        provider: v().getProvider()
      });
      var s = l.clone(R.instance().get());
      e.header = l.assign(s, e.header, {
        ts: Date.now(),
        testToken: G(),
        traceId: l.getRandomStr(10) + Date.now() + l.getRandomStr(9)
      });
      var u = function(e) {
        return {
          h: j(e.header, L),
          a: x(e.analytics, C)
        };
      }(e), c = S(u), p = {
        url: f.ENDPOINT + f.LOG_URL,
        method: "POST",
        data: $(c),
        success: function success(r) {
          var o = r.code || r.status || r.statusCode;
          if (200 === o || 413 === o) {
            t().i("\u6570\u636e\u53d1\u9001\u6210\u529f: ", e, c);
            !function(e) {
              if (e) {
                R.instance().setItem(f.IMPRINT, e);
                te.set(e);
                te.save();
                t().v("imprint: ", te.getImpObj());
                te.getItem("ttn_invalid") && (q = "");
              }
            }((r.data || {}).imprint);
            "function" == typeof n && n(r);
          } else {
            t().w("\u6570\u636e\u53d1\u9001\u5931\u8d25: ", c);
            "function" == typeof i && i();
          }
        },
        fail: function fail(e) {
          t().w("\u8d85\u65f6: ", c);
          "function" == typeof i && i();
        },
        complete: function complete() {
          "function" == typeof r && r();
        }
      };
      a.request(l.assign(p, {
        header: {
          "content-type": "text/plain",
          "Msg-Type": a.getSdkType() + "/json"
        }
      }));
    }
    function ie(e) {
      var t = e, n = [];
      this.enqueue = function(e) {
        "number" == typeof t && this.size() >= t && this.dequeue();
        n.push(e);
      };
      this.dequeue = function() {
        return n.shift();
      };
      this.front = function() {
        return n[0];
      };
      this.isEmpty = function() {
        return 0 === n.length;
      };
      this.clear = function() {
        n.length = 0;
      };
      this.size = function() {
        return n.length;
      };
      this.items = function() {
        return n;
      };
      this.print = function() {
        console.log(n.toString());
      };
    }
    var re = function() {
      var e = null, n = !1, i = [], r = new ie(50);
      function o(e, t, n) {
        if (R.instance().isLoaded()) {
          t = t || {};
          var i = P(e);
          if (i) {
            var s = R.instance().getRealtimeFields();
            i.header = l.assign({}, i.header, s);
            i.noCache = t.noCache;
            r.enqueue(i);
          }
          "function" == typeof n && n();
        } else setTimeout(function() {
          o(e, t, n);
        }, 100);
      }
      function s(e) {
        var t = r.front();
        if (t) ne(t, function() {
          r.dequeue();
          s(e);
        }, function() {
          var t = r.dequeue();
          t && !t.noCache && i.push(t);
          s(e);
        }); else {
          !function() {
            i.forEach(function(e) {
              r.enqueue(e);
            });
            i.length = 0;
          }();
          e();
        }
      }
      function a(e) {
        if (v().getId()) if (n) t().i("\u961f\u5217\u6b63\u5728\u53d1\u9001\u4e2d"); else {
          n = !0;
          s(function() {
            n = !1;
            "function" == typeof e && e();
          });
        } else {
          t().i("\u83b7\u53d6id\u6807\u8bc6\u5931\u8d25\uff0c\u6682\u7f13\u53d1\u9001");
          "function" == typeof e && e();
        }
      }
      function u() {
        this.send = function(e, t, n) {
          e ? this.add(e, t, function() {
            a(n);
          }) : a(n);
        };
        this.add = function(e, t, n) {
          o(e, t, n);
        };
        this.load = function() {
          var e = O().get(f.REQUESTS);
          e && e.length && e.forEach(function(e) {
            r.enqueue(e);
          });
          O().remove(f.REQUESTS);
        };
        this.save = function() {
          O().set(f.REQUESTS, l.clone(r.items()));
          r.clear();
        };
      }
      return function() {
        e || (e = new u());
        return e;
      };
    }(), oe = function() {
      var e = null, i = null;
      function r() {
        this.setUserInfo = function(e) {
          i = e;
        };
        this.update = function() {
          e(i) || a.getUserInfo(function(t) {
            e(t);
          });
        };
        function e(e) {
          if (e && "object" == typeof e) {
            var i = O().get(f.USER_INFO);
            i && l.deepEqual(e, i) || function(e, i) {
              var r = n().appKey(), o = a.getSdkType(), s = v().getId(), u = v().getIdType();
              if (!(r && o && s && u)) return;
              var c = {
                ak: n().appKey(),
                sdt: a.getSdkType(),
                uin: e.nickName,
                uia: e.avatar || e.avatarUrl,
                uig: e.gender,
                uit: e.country,
                uip: e.province,
                uic: e.city,
                uil: e.language,
                id: v().getId(),
                it: v().getIdType(),
                age: e.age,
                cln: e.constellation
              }, p = JSON.stringify(c);
              p = $(p);
              a.request({
                url: f.ENDPOINT + f.USERINFO_URL,
                method: "POST",
                header: {
                  "content-type": "application/x-www-form-urlencoded"
                },
                data: "ui=" + p,
                success: function success(n) {
                  t().v("\u7528\u6237\u4fe1\u606f\u4e0a\u4f20\u6210\u529f: ", e);
                  i && i(n && n.data && 200 === n.data.code);
                },
                fail: function fail() {
                  t().e("\u7528\u6237\u4fe1\u606f\u4e0a\u4f20\u5931\u8d25: ", e);
                  i && i(!1);
                }
              });
            }(e, function(t) {
              t && O().set(f.USER_INFO, e);
            });
            return !0;
          }
          return !1;
        }
      }
      return function() {
        e || (e = new r());
        return e;
      };
    }();
    function se(e, t) {
      this.id = e;
      this.ts = Date.now();
      var n = typeof t;
      if ("string" === n && t) this[e] = t; else if ("object" === n) for (var i in t) ({}).hasOwnProperty.call(t, i) && (this[i] = t[i]);
    }
    function ae() {
      var e = !1, i = !1, r = 0;
      this.init = function(i) {
        t().v("sdk version: " + f.IMPL_VERSION);
        e ? t().v("Lib\u91cd\u590d\u5b9e\u4f8b\u5316") : O().load(function() {
          t().v("cache\u521d\u59cb\u5316\u6210\u529f: ", O().getAll());
          !function() {
            v().setUseOpenid && v().setUseOpenid(n().useOpenid());
            v().init(function() {
              R.instance().init();
              t().v("Header\u521d\u59cb\u5316\u6210\u529f");
            });
          }();
          e = !0;
          "function" == typeof i && i();
          t().tip("SDK\u96c6\u6210\u6210\u529f");
        });
      };
      this.resume = function(r) {
        if (e && !i) {
          t().v("showOptions: ", r);
          var o;
          i = !0;
          n().enableVerify() && r && r.query && (o = r.query._ttn, q = o || q);
          this._resume(r);
        }
      };
      this._resume = function(e) {
        re().load();
        var i = U().resume(e), r = U().getCurrentSessionId();
        E().setSessionId(r);
        i && re().add(b, {}, function() {
          v().setUseOpenid && v().setUseOpenid(n().useOpenid());
          if (n().useOpenid() && n().autoGetOpenid() && !v().getId()) {
            t().v("get id async");
            o(10, 3e3);
          } else {
            t().v("session auto send");
            re().send();
          }
        });
        function o(e, i) {
          v().getId() || e <= 0 || v().getOpenIdAsync(n().appKey(), function(n) {
            if (n) {
              t().v("\u83b7\u53d6id\u6210\u529f");
              re().send();
            } else {
              t().v("\u83b7\u53d6openid\u5931\u8d25,\u542f\u52a8\u91cd\u8bd5,\u5269\u4f59\u53ef\u7528\u6b21\u6570", e - 1);
              setTimeout(function() {
                o(e - 1, i);
              }, i);
            }
          });
        }
      };
      this.pause = function(o) {
        if (e) {
          i = !1;
          r = 0;
          U().pause();
          n().uploadUserInfo() && oe().update();
          re().send(k, {}, function() {
            re().save();
            O().save();
            t().v("cache save success");
            "function" == typeof o && o();
          });
        }
      };
      this.setOpenid = function(e) {
        t().v("setOpenId: %s", e);
        v().setOpenid(e);
        re().send();
      };
      this.setUnionid = function(e) {
        t().v("setUnionid: %s", e);
        v().setUnionid(e);
      };
      this.setUserid = function(e, n) {
        t().v("setUserid: %s", e, n);
        v().setUserid(e, n);
      };
      this.setUserInfo = function(e) {
        t().v("setUserInfo: %s", e);
        oe().setUserInfo(e);
      };
      this.setAnonymousid = function(e) {
        t().v("setAnonymousId: %s", e);
        v().setAnonymousid(e);
        re().send();
      };
      this.setAppVersion = function(e) {
        e && "string" != typeof e ? t().w("setAppVersion\u65b9\u6cd5\u53ea\u63a5\u53d7\u5b57\u7b26\u4e32\u7c7b\u578b\u53c2\u6570") : R.instance().setAppVersion(e);
      };
      this.setAlipayUserid = function(e) {
        if (e && "string" != typeof e) t().w("setAlipayUserid\u65b9\u6cd5\u53ea\u63a5\u53d7\u5b57\u7b26\u4e32\u7c7b\u578b\u53c2\u6570"); else {
          t().v("setAlipayUserid: %s", e);
          v().setAlipayUserid(e);
        }
      };
      this.setDeviceId = function(e) {
        if ("string" == typeof e) {
          v().setDeviceId(e);
          return e;
        }
      };
      this.setSuperProperty = function(e) {
        if (e && "string" != typeof e) t().w("\u8d85\u7ea7\u5c5e\u6027\u53ea\u652f\u6301\u5b57\u7b26\u4e32\u7c7b\u578b"); else {
          var n = this;
          if (R.instance().getSuperProperty() !== e) {
            R.instance().setSuperProperty(e);
            n.pause(function() {
              n.resume();
            });
          }
        }
      };
      this.trackEvent = function(n, i) {
        if (e) {
          t().v("event: ", n, i);
          if (function(e, n) {
            if (!e || "string" != typeof e) {
              t().e('please check trackEvent id. id should be "string" and not null');
              return !1;
            }
            var i = [ "id", "ts", "du" ], r = {};
            i.forEach(function(e) {
              r[e] = 1;
            });
            if (r[e]) {
              t().e("eventId\u4e0d\u80fd\u4e0e\u4ee5\u4e0b\u4fdd\u7559\u5b57\u51b2\u7a81: " + i.join(","));
              return !1;
            }
            if (e.length > f.MAX_EVENTID_LENGTH) {
              t().e("The maximum length of event id shall not exceed " + f.MAX_EVENTID_LENGTH);
              return !1;
            }
            if (n && ("object" != typeof n || Array.isArray(n)) && "string" != typeof n) {
              t().e("please check trackEvent properties. properties should be string or object(not include Array)");
              return !1;
            }
            if ("object" == typeof n) {
              var o = 0;
              for (var s in n) if ({}.hasOwnProperty.call(n, s)) {
                if (s.length > f.MAX_PROPERTY_KEY_LENGTH) {
                  t().e("The maximum length of property key shall not exceed " + f.MAX_PROPERTY_KEY_LENGTH);
                  return !1;
                }
                if (o >= f.MAX_PROPERTY_KEYS_COUNT) {
                  t().e("The maximum count of properties shall not exceed " + f.MAX_PROPERTY_KEYS_COUNT);
                  return !1;
                }
                if (r[s]) {
                  t().e("\u5c5e\u6027\u4e2d\u7684key\u4e0d\u80fd\u4e0e\u4ee5\u4e0b\u4fdd\u7559\u5b57\u51b2\u7a81: " + i.join(","));
                  return !1;
                }
                o += 1;
              }
            }
            return !0;
          }(n, i)) {
            var o = new se(n, i);
            E().addEvent(o);
            var s = !!G(), a = s ? 0 : f.EVENT_SEND_DEFAULT_INTERVAL, u = Date.now();
            if (function(e, t) {
              return "number" != typeof r || "number" != typeof t || r <= 0 || e - r > t;
            }(u, a)) {
              r = u;
              re().send(D, {
                noCache: s
              }, function() {});
            }
          }
        }
      };
      this.trackShare = function(n) {
        if (e) try {
          if (a.getSdkType().indexOf("game") > -1) {
            n = m().add(n, !0);
            t().v("shareQuery: ", n);
          } else {
            n = m().add(n, !1);
            t().v("sharePath: ", n.path);
          }
        } catch (e) {
          t().v("shareAppMessage: ", e);
        }
        return n;
      };
      this.trackPageStart = function(t) {
        e && _().addPageStart(t);
      };
      this.trackPageEnd = function(t) {
        e && _().addPageEnd(t);
      };
      this.onShareAppMessage = function(e) {
        var t = this;
        a.onShareAppMessage(function() {
          return t.trackShare(e());
        });
      };
      this.shareAppMessage = function(e) {
        this.trackShare(e);
        a.shareAppMessage(e);
      };
    }
    var ue = [];
    function ce() {}
    ce.prototype = {
      createMethod: function createMethod(e, n, i) {
        try {
          e[n] = i && i[n] ? function() {
            return i[n].apply(i, arguments);
          } : function() {
            ue.push([ n, [].slice.call(arguments) ]);
          };
        } catch (e) {
          t().v("create method errror: ", e);
        }
      },
      installApi: function installApi(e, n) {
        try {
          var i, r, o = "resume,pause,trackEvent,trackPageStart,trackPageEnd,trackShare,setUserid,setOpenid,setUnionid,onShareAppMessage,shareAppMessage,setUserInfo".split(",");
          for (i = 0, r = o.length; i < r; i++) this.createMethod(e, o[i], n);
          if (n) for (i = 0, r = ue.length; i < r; i++) {
            var s = ue[i];
            try {
              n[s[0]].apply(n, s[1]);
            } catch (e) {
              t().v("impl[v[0]].apply error: ", s[0], e);
            }
          }
        } catch (e) {
          t().v("install api errror: ", e);
        }
      }
    };
    var fe = [ f.ENDPOINT, f.ENDPOINTB ];
    function pe(e, n) {
      var i, r;
      0 === e || 1 === e && n ? i = f.ENDPOINT : 2 === e && n ? i = f.ENDPOINTB : n && (i = fe[e]);
      if (e >= fe.length || n) {
        n && (r = i, f.ENDPOINT = r);
        n && t().v("\u547d\u4e2d\u53ef\u7528\u670d\u52a1", i);
        !n && t().tip_w("\u672a\u547d\u4e2d\u53ef\u7528\u670d\u52a1");
        return !1;
      }
      a.request({
        url: f.ENDPOINT + "/uminiprogram_logs/ckdh",
        success: function success(t) {
          200 === (t.code || t.status || t.statusCode) && t.data && 200 === t.data.code ? pe(e + 1, !0) : pe(e + 1, !1);
        },
        fail: function fail() {
          pe(e + 1, !1);
        }
      });
    }
    var le = {
      init: function init(e) {
        f.ENDPOINTB && setTimeout(function() {
          pe(0, !1);
        }, e);
      }
    }, de = new ce(), he = {
      _inited: !1,
      _log: t(),
      preinit: function preinit(e) {
        if (e && "object" == typeof e) for (var t in e) f[t] = e[t];
        return f;
      },
      use: function use(e, t) {
        e && l.isFunction(e.install) ? e.install(he, t) : l.isFunction(e) && e(he, t);
        return he;
      },
      messager: r,
      init: function init(e) {
        if (this._inited) t().v("\u5df2\u7ecf\u5b9e\u4f8b\u8fc7\uff0c\u8bf7\u907f\u514d\u91cd\u590d\u521d\u59cb\u5316"); else if (e) if (e.appKey) {
          "boolean" != typeof e.useOpenid && (e.useOpenid = !0);
          n().set(e);
          t().setDebug(e.debug);
          this._inited = !0;
          var i = this;
          r.emit(r.messageType.CONFIG_LOADED, e);
          try {
            var o = new ae();
            t().v("\u6210\u529f\u521b\u5efaLib\u5bf9\u8c61");
            if (!a.getContext()) return;
            o.init(function() {
              t().v("Lib\u5bf9\u8c61\u521d\u59cb\u5316\u6210\u529f");
              de.installApi(i, o);
              t().v("\u5b89\u88c5Lib\u63a5\u53e3\u6210\u529f");
              r.emit(r.messageType.UMA_LIB_INITED, e);
            });
            le.init(3e3);
          } catch (e) {
            t().w("\u521b\u5efaLib\u5bf9\u8c61\u5f02\u5e38: " + e);
          }
        } else t().err("\u8bf7\u786e\u4fdd\u4f20\u5165\u6b63\u786e\u7684appkey"); else t().err("\u8bf7\u6b63\u786e\u8bbe\u7f6e\u76f8\u5173\u4fe1\u606f\uff01");
      }
    };
    try {
      de.installApi(he, null);
    } catch (e) {
      t().w("uma\u8d4b\u503c\u5f02\u5e38: ", e);
    }
    var ge = "https://ucc.umeng.com/v1/mini/fetch", ve = "https://pslog.umeng.com/mini_ablog", _e = "2.7.2-beta.17928427", ye = "none", me = {}, Se = Array.isArray;
    me.isArray = Se || function(e) {
      return "[object Array]" === toString.call(e);
    };
    me.isObject = function(e) {
      return e === Object(e) && !me.isArray(e);
    };
    me.isEmptyObject = function(e) {
      if (me.isObject(e)) {
        for (var t in e) if (hasOwnProperty.call(e, t)) return !1;
        return !0;
      }
      return !1;
    };
    me.isUndefined = function(e) {
      return void 0 === e;
    };
    me.isString = function(e) {
      return "[object String]" === toString.call(e);
    };
    me.isDate = function(e) {
      return "[object Date]" === toString.call(e);
    };
    me.isNumber = function(e) {
      return "[object Number]" === toString.call(e);
    };
    me.each = function(e, t, n) {
      if (null != e) {
        var i = {}, r = Array.prototype.forEach;
        if (r && e.forEach === r) e.forEach(t, n); else if (e.length === +e.length) {
          for (var o = 0, s = e.length; o < s; o++) if (o in e && t.call(n, e[o], o, e) === i) return;
        } else for (var a in e) if (hasOwnProperty.call(e, a) && t.call(n, e[a], a, e) === i) return;
      }
    };
    me.buildQuery = function(e, t) {
      var n, i, r = [];
      void 0 === t && (t = "&");
      me.each(e, function(e, t) {
        n = encodeURIComponent(e.toString());
        i = encodeURIComponent(t);
        r[r.length] = i + "=" + n;
      });
      return r.join(t);
    };
    me.JSONDecode = function(e) {
      if (e) {
        try {
          return JSON.parse(e);
        } catch (e) {
          console.error("JSONDecode error", e);
        }
        return null;
      }
    };
    me.JSONEncode = function(e) {
      try {
        return JSON.stringify(e);
      } catch (e) {
        console.error("JSONEncode error", e);
      }
    };
    var Ie = Object.create(null);
    function Oe(e) {
      t().v("\u5f00\u59cb\u6784\u5efa fetch body");
      a.getSystemInfo(function(t) {
        a.getNetworkInfo(function(i) {
          var r = (i = i || {}).networkType;
          r = r === ye ? "unknown" : r.toUpperCase();
          Ie.access = r;
          !function(e, t) {
            var i = e.brand || "";
            Ie.deviceType = "Phone";
            Ie.sdkVersion = _e;
            Ie.appkey = n().appKey();
            Ie.sdkType = a.getSdkType();
            Ie.umid = v().getId();
            if (e) {
              Ie.language = e.language || "";
              Ie.os = e.OS;
              Ie.osVersion = e.OSVersion;
              Ie.deviceName = e.deviceName;
              Ie.platformVersion = e.platformVersion;
              Ie.platformSdkVersion = e.platformSDKVersion;
              Ie.deviceBrand = i;
              var r = e.resolution.split("*");
              if (me.isArray(r)) {
                Ie.resolutionHeight = Number(r[0]);
                Ie.resolutionWidth = Number(r[1]);
              }
            }
            !function(e) {
              if (e) {
                Ie.installTime = e.install_datetime && Date.parse(e.install_datetime);
                Ie.scene = e.install_scene;
                Ie.channel = e.install_channel;
                Ie.campaign = e.install_campaign;
              }
            }(te.getImpObj());
            t && t(Ie);
          }(t, e);
        });
      });
    }
    var Ee = Object.create(null), Te = null, Ne = !1, Ae = {
      minFetchIntervalSeconds: 43200
    };
    function be(e) {
      e && me.each(e, function(e) {
        Ee[e.k] = e;
      });
    }
    function ke() {
      var e = this;
      this.STORAGE_NAME = null;
      r.once(r.messageType.CONFIG_LOADED, function(n) {
        t().v("\u4e91\u914d\u521d\u59cb\u5316\u5f00\u59cb...");
        e.init(n);
      });
    }
    ke.prototype = {
      setDefaultValues: function setDefaultValues(e) {
        Ne && me.isObject(e) && me.each(e, function(e, t) {
          Ee[t] && Ee[t].v || (Ee[t] = {
            v: e
          });
        });
      },
      getValue: function getValue(e) {
        t().v("\u4ece\u914d\u7f6e\u9879\u4e2d\u8bfb\u53d6 value, \u5f53\u524d\u914d\u7f6e\u4e3a: ", Ee);
        t().v("\u5f85\u8bfb\u53d6\u7684 key : ", e);
        try {
          if (!Ne) return;
          var i = Ee[e] || {};
          t().v("\u8bfb\u53d6\u76f8\u5e94\u914d\u7f6eing..., \u7ed3\u679c\u4e3a: ", i);
          if (me.isNumber(i.e) && me.isNumber(i.g)) {
            t().v("\u8bfb\u53d6\u5230\u76f8\u5e94\u914d\u7f6e, \u5f00\u59cb\u6570\u636e\u4e0a\u62a5...");
            !function(e) {
              var i = {
                appkey: n().appKey(),
                sdkType: a.getSdkType(),
                expId: e && e.e,
                groupId: e && e.g,
                clientTs: Date.now(),
                key: e && e.k,
                value: e && e.v,
                umid: v().getId()
              };
              try {
                a.request({
                  url: ve,
                  method: "POST",
                  data: [ i ],
                  success: function success(e) {
                    e && 200 === e.statusCode ? t().v("\u4e0a\u4f20\u6570\u636e\u6210\u529f", i) : t().w("ablog \u8bf7\u6c42\u6210\u529f, \u8fd4\u56de\u7ed3\u679c\u5f02\u5e38 ", e);
                  },
                  fail: function fail(e) {
                    t().w("ablog \u8bf7\u6c42\u6570\u636e\u9519\u8bef ", i, e);
                  }
                });
              } catch (e) {
                t().w("urequest \u8c03\u7528\u9519\u8bef", e);
              }
            }(i);
          }
          return i.v;
        } catch (n) {
          t().w("getValue error, key: ", e);
        }
      },
      active: function active(e) {
        try {
          if (!Ne) return;
          var n, i;
          e && e.params && (n = e.params);
          e && e.callback && (i = e.callback);
          t().v("\u6fc0\u6d3b\u914d\u7f6e\u9879: ", n);
          if (n) {
            t().v("\u672c\u5730\u5df2\u7f13\u5b58\u7684\u914d\u7f6e\u9879: ", Ee);
            be(n);
            t().v("\u5408\u5e76\u540e\u7684\u914d\u7f6e\u9879: ", Ee);
            i && i(Ee);
            t().v("active \u7ed3\u675f");
          } else {
            t().v("\u914d\u7f6e\u9879\u4e3a\u7a7a!! \u8bfb\u53d6\u672c\u5730\u914d\u7f6e...");
            a.getStorage(this.STORAGE_NAME, function(e) {
              if (e) {
                be((e = me.JSONDecode(e) || {}).params);
                t().v("\u5f53\u524d\u672c\u5730\u914d\u7f6e\u9879\u4e3a: ", Ee);
                i && i(Ee);
                t().v("active \u7ed3\u675f");
              } else t().v("\u5f53\u524d\u672c\u5730\u914d\u7f6e\u9879\u4e3a\u7a7a, \u9000\u51fa\u6fc0\u6d3b");
            });
          }
        } catch (e) {
          t().w("SDK active \u9519\u8bef", e);
        }
      },
      init: function init(e) {
        if (e.appKey) {
          Te = e.appKey;
          this.STORAGE_NAME = "um_remote_config_{{" + Te + "}}";
        }
        if (Te) if (Ne) t().w("SDK \u5df2\u7ecf\u521d\u59cb\u5316, \u8bf7\u907f\u514d\u91cd\u590d\u521d\u59cb\u5316"); else {
          Ne = !0;
          this.setOptions(e);
          this.active();
        } else t().err("\u8bf7\u68c0\u67e5\u60a8\u7684\u5c0f\u7a0b\u5e8f appKey, appKey \u4e0d\u80fd\u4e3a\u7a7a");
      },
      setOptions: function setOptions(e) {
        if (me.isObject(e)) {
          var t = e.minFetchIntervalSeconds;
          me.isNumber(t) && (Ae.minFetchIntervalSeconds = Math.max(t, 5));
        }
      },
      fetch: function fetch(e) {
        if (Ne && this.STORAGE_NAME) {
          var n, i;
          e && e.active && (n = e.active);
          e && e.callback && (i = e.callback);
          var r = this;
          a.getStorage(this.STORAGE_NAME, function(e) {
            t().v("\u5f00\u59cb\u8bfb\u7f13\u5b58 data is ", e);
            if ((e = me.JSONDecode(e) || {}).params && e.ts && Date.now() - e.ts < 1e3 * Ae.minFetchIntervalSeconds) {
              t().v("\u7f13\u5b58\u6570\u636e\u5b58\u5728, \u5e76\u4e14\u672c\u6b21\u89e6\u53d1\u65f6\u95f4\u8ddd\u79bb\u4e0a\u6b21fetch\u89e6\u53d1\u65f6\u95f4\u672a\u8d85\u8fc7 fetch \u65f6\u95f4\u95f4\u9694, \u65e0\u9700 fetch");
              i && i(e.params);
            } else Oe(function(e) {
              t().v("\u7f13\u5b58\u6570\u636e\u4e0d\u5b58\u5728, \u6784\u5efa fetch body :", e);
              try {
                a.request({
                  url: ge,
                  method: "POST",
                  data: e,
                  success: function success(e) {
                    if (e && 200 === e.statusCode && e.data && e.data.cc) {
                      t().v("fetch \u8bf7\u6c42\u6210\u529f, \u54cd\u5e94\u6570\u636e: ", e.data);
                      var o = Object.create(null);
                      me.each(e.data.cc, function(e) {
                        o[e.k] = e;
                      });
                      var s = {
                        ts: Date.now(),
                        params: o
                      };
                      t().v("\u5f00\u59cb\u7f13\u5b58 fetch \u8bf7\u6c42\u7684\u4e91\u914d\u7f6e\u7ed3\u679c...");
                      a.setStorage(r.STORAGE_NAME, me.JSONEncode(s), function(e) {
                        t().v("\u7f13\u5b58\u4e91\u914d\u7f6e\u6210\u529f, \u7f13\u5b58\u6570\u636e\u4e3a: ", s);
                        t().v("\u7f13\u5b58\u4e91\u914d\u7f6e\u6210\u529f, \u6210\u529f\u6d88\u606f\u4e3a: ", e);
                        t().v("\u4e91\u914d\u62c9\u53d6\u6570\u636e\u662f\u5426\u81ea\u52a8\u6fc0\u6d3b: ", n);
                        if (e && n) {
                          t().v("\u6fc0\u6d3b\u4e91\u914d\u7f6e...");
                          r.active({
                            params: o,
                            callback: i
                          });
                        }
                      });
                    } else {
                      t().w("fetch \u8bf7\u6c42\u6210\u529f,\u8fd4\u56de\u7ed3\u679c\u5f02\u5e38 ", e.data);
                      i && i();
                    }
                  },
                  fail: function fail(n) {
                    t().w("fetch\u8bf7\u6c42\u6570\u636e\u9519\u8bef ", e, n);
                    i && i();
                  }
                });
              } catch (e) {
                t().w("urequest\u8c03\u7528\u9519\u8bef", e);
              }
            });
          });
        }
      }
    };
    var De = {
      install: function install(e, t) {
        e.rc || (e.rc = new ke());
        e.messager.once(e.messager.messageType.CONFIG_LOADED, function() {
          e._log.v("plugin rc installed");
        });
        return e.rc;
      }
    }, we = "_um", Re = "revenue", Ue = "stage", Pe = "level", Ce = "running", Le = "end", Me = "init", je = "set", Ve = [ we, Ue, "start" ].join(".");
    function xe(e) {
      var t = {};
      for (var n in e) {
        var i = e[n];
        if ("object" == typeof i) for (var r in i) t[n + "." + r] = i[r]; else t[n] = i;
      }
      return t;
    }
    var qe = {
      install: function install(e, t) {
        e.revenue = function(t) {
          e.trackEvent([ we, Re, t.group ].join("."), xe(t));
        };
        var n = 0;
        e.stage = {
          onStart: function onStart(t) {
            n = Date.now();
            e.trackEvent(Ve, xe(t));
          },
          onEnd: function onEnd(t) {
            "number" != typeof t._um_sdu && (t._um_sdu = 0 !== n ? Date.now() - n : 0);
            e.trackEvent([ we, Ue, Le, t.event ].join("."), xe(t));
          },
          onRunning: function onRunning(t) {
            e.trackEvent([ we, Ue, Ce, t.event ].join("."), xe(t));
          }
        };
        e.level = {
          onInitLevel: function onInitLevel(t) {
            e.trackEvent([ we, Pe, Me ].join("."), xe(t));
          },
          onSetLevel: function onSetLevel(t) {
            e.trackEvent([ we, Pe, je ].join("."), xe(t));
          }
        };
        e.messager.once(e.messager.messageType.CONFIG_LOADED, function() {
          e._log.v("plugin game-ext installed");
        });
        return e;
      }
    }, Ge = a.getContext();
    if (void 0 !== Ge) {
      Ge.onShow(function(e) {
        t().v("game onShow: ", e);
        n = e.query, y = n;
        var n;
        he.resume(e, !0);
      });
      Ge.onHide(function() {
        t().v("game onHide");
        he.pause();
      });
    }
    var Fe = he.init;
    he.init = function(e) {
      if (e && e.useOpenid) {
        t().tip_w(t().repeat("!"));
        t().tip_w("\u60a8\u9009\u62e9\u4e86\u4f7f\u7528openid\u8fdb\u884c\u7edf\u8ba1\uff0c\u8bf7\u786e\u4fdd\u4f7f\u7528setOpenid\u56de\u4f20openid\u6216\u901a\u8fc7\u8bbe\u7f6eautoGetOpenid\u4e3atrue\uff0c\u5e76\u5728\u53cb\u76df\u540e\u53f0\u8bbe\u7f6esecret\u7531\u53cb\u76df\u5e2e\u60a8\u83b7\u53d6");
        t().tip_w(t().repeat("!"));
      }
      he.resume({});
      Fe.call(he, e);
    };
    he.use(De);
    he.use(qe);
    Ge && (Ge.uma = he);
    var _default = he;
    exports["default"] = _default;
    module.exports = exports["default"];
    cc._RF.pop();
  }, {} ],
  weapon: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "76f86dlCpdKv7l4KtsVUJq2", "weapon");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) b.hasOwnProperty(p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.WeaponType = void 0;
    var CocosZ_1 = require("../Framework/CocosZ");
    var Constant_1 = require("../Framework/Constant");
    var Msg_1 = require("../Framework/Msg");
    var gameDate_1 = require("./gameDate");
    var gameMgr_1 = require("./gameMgr");
    var i18n = require("LanguageData");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var WeaponType;
    (function(WeaponType) {
      WeaponType[WeaponType["weapon_melee"] = 0] = "weapon_melee";
      WeaponType[WeaponType["weapon_range"] = 1] = "weapon_range";
      WeaponType[WeaponType["weapon_rangeAd"] = 2] = "weapon_rangeAd";
    })(WeaponType = exports.WeaponType || (exports.WeaponType = {}));
    var Weapon = function(_super) {
      __extends(Weapon, _super);
      function Weapon() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.can_effect_hit = false;
        _this.hand_effect = null;
        _this.hand_2 = null;
        _this.weaponNum = 1;
        _this.bullet = null;
        _this.bulletCollor = cc.Color.WHITE;
        _this.shellCall = null;
        _this.atkEffect = null;
        _this.atkNum = 10;
        _this.atkRangeNum = 1e3;
        _this.flySpeed = 2e3;
        _this.atkSpeed = .4;
        _this.bulletNum = 5;
        _this.bulletTotal = 5;
        _this.reload = 3;
        _this.audioName = "read";
        _this.weaponLevel = 0;
        _this.weaponType = WeaponType.weapon_melee;
        _this.person = null;
        _this._curBullet = 0;
        _this._arrName = [ "", "y", "p", "r" ];
        _this._isReload = false;
        return _this;
      }
      Weapon_1 = Weapon;
      Object.defineProperty(Weapon.prototype, "isRangeWeapon", {
        get: function() {
          return Weapon_1.rangeWeapon.includes(this.weaponNum);
        },
        enumerable: false,
        configurable: true
      });
      Object.defineProperty(Weapon.prototype, "curBullet", {
        get: function() {
          return this._curBullet;
        },
        set: function(v) {
          v > this.bulletNum ? v = this.bulletNum : v < 0 && (v = 0);
          if (this.isRangeWeapon) {
            this._curBullet = v;
            this._curBullet <= 0 && this.reloadBullet();
            this.setBulletUI();
          }
        },
        enumerable: false,
        configurable: true
      });
      Weapon.prototype.onLoad = function() {
        !this.person || this.person.isPlayer ? this.weaponLevel = CocosZ_1.cocosz.dataMgr.getGunInfo(this.weaponNum - 1).Level : [ 1, 2, 3, 4, 5 ].includes(CocosZ_1.cocosz.gameMode) && (this.weaponLevel = Math.floor(4 * Math.random()));
        this.atkNum = gameDate_1.default.Weapon[Weapon_1.WeaponName[this.weaponNum - 1]].atk[this.weaponLevel];
        this.atkSpeed = gameDate_1.default.Weapon[Weapon_1.WeaponName[this.weaponNum - 1]].atkSpeed[this.weaponLevel];
        this.bulletNum = gameDate_1.default.Weapon[Weapon_1.WeaponName[this.weaponNum - 1]].bulletNum;
        this.bulletTotal = gameDate_1.default.Weapon[Weapon_1.WeaponName[this.weaponNum - 1]].bulletTotal[this.weaponLevel];
        this.reload = gameDate_1.default.Weapon[Weapon_1.WeaponName[this.weaponNum - 1]].reload;
        this.atkRangeNum = gameDate_1.default.Weapon[Weapon_1.WeaponName[this.weaponNum - 1]].atkRange;
        this.person && (this.bulletTotal = Math.ceil(this.bulletTotal * this.person.bulletRate));
        this._curBullet = 0;
        this.addBullet();
        this.setSD();
      };
      Weapon.prototype.start = function() {};
      Weapon.prototype.setBulletUI = function() {
        this.person && this.person.isPlayer && (this.weaponType == WeaponType.weapon_range ? gameMgr_1.gameMgr.ammo && gameMgr_1.gameMgr.ammo.isValid && (gameMgr_1.gameMgr.ammo.string = this._curBullet + "/" + ([ 6, 7 ].includes(CocosZ_1.cocosz.gameMode) ? "\u267e" : this.bulletTotal)) : this.weaponType == WeaponType.weapon_rangeAd && gameMgr_1.gameMgr.ammoAd && gameMgr_1.gameMgr.ammoAd.isValid && (gameMgr_1.gameMgr.ammoAd.string = this._curBullet + "/" + ([ 6, 7 ].includes(CocosZ_1.cocosz.gameMode) ? "\u267e" : this.bulletTotal)));
      };
      Weapon.prototype.setSD = function() {
        var _this = this;
        this.person && this.node.walk(function(child) {
          if ("sd" == child.name) if (_this.weaponLevel > 0) {
            child.active = true;
            var spAni = child.getComponent(sp.Skeleton);
            spAni && spAni.setSkin(_this._arrName[_this.weaponLevel]);
          } else child.active = false;
        }, null);
      };
      Weapon.prototype.reset = function() {
        this.bulletTotal = gameDate_1.default.Weapon[Weapon_1.WeaponName[this.weaponNum - 1]].bulletTotal[this.weaponLevel];
        this.person && (this.bulletTotal = Math.ceil(this.bulletTotal * this.person.bulletRate));
        this._curBullet = 0;
        this.addBullet();
      };
      Weapon.prototype.addBullet = function() {
        if (this.isRangeWeapon) if (this.person && this.person.isPlayer) {
          if (this.curBullet < this.bulletNum && this.bulletTotal > 0) if ([ 6, 7 ].includes(CocosZ_1.cocosz.gameMode)) {
            this.curBullet = this.bulletNum;
            cc.game.emit(Constant_1.default.E_GAME_LOGIC, {
              type: Constant_1.default.E_Bullet_Reload
            });
          } else {
            var n = this.bulletNum - this.curBullet;
            if (this.bulletTotal >= n) {
              this.bulletTotal -= n;
              this.curBullet += n;
            } else {
              this.bulletTotal = 0;
              this.curBullet += this.bulletTotal;
            }
          }
        } else this.curBullet = this.bulletNum;
      };
      Weapon.prototype.reloadBullet = function() {
        var _this = this;
        if (this.isRangeWeapon && false == this._isReload) {
          this._isReload = true;
          if (this.person && this.person.isPlayer) if (this.bulletTotal > 0) {
            CocosZ_1.cocosz.audioMgr.playEffect("reload");
            var y_back_1 = 0;
            if (this.hand_effect) {
              y_back_1 = this.hand_effect.y;
              cc.tween(this.hand_effect).by(.5, {
                y: 50
              }).by(.5, {
                y: -50
              }).union().repeat(this.reload).start();
            }
            cc.tween(gameMgr_1.gameMgr.rangedWeaponMess.children[0]).to(.2, {
              color: cc.Color.RED
            }).to(.2, {
              color: cc.Color.WHITE
            }).start();
            CocosZ_1.cocosz.scheduleOnce(function() {
              if (_this && _this.isValid) {
                _this._isReload = false;
                _this.addBullet();
                if (_this.hand_effect) {
                  _this.hand_effect.stopAllActions();
                  _this.hand_effect.y = y_back_1;
                }
                cc.tween(gameMgr_1.gameMgr.rangedWeaponMess.children[0]).to(.2, {
                  color: cc.Color.GREEN
                }).to(.2, {
                  color: cc.Color.WHITE
                }).start();
              }
            }, this.reload * this.person.reloadRate);
            if (gameMgr_1.gameMgr.BtnBullet.active && gameMgr_1.gameMgr.BtnBullet.children[3] && gameMgr_1.gameMgr.BtnBullet.children[3].active) {
              gameMgr_1.gameMgr.BtnBullet.children[3].active = false;
              gameMgr_1.gameMgr.BtnBullet.children[0].active = true;
              var t_1 = gameMgr_1.gameMgr.playerTs.curWeapon.reload * gameMgr_1.gameMgr.playerTs.reloadRate;
              gameMgr_1.gameMgr.BtnBullet.children[1].active = true;
              var pro_1 = gameMgr_1.gameMgr.BtnBullet.children[1].getComponent(cc.Sprite);
              cc.tween(pro_1).set({
                fillRange: 0
              }).to(t_1, {
                fillRange: -1
              }).call(function() {
                gameMgr_1.gameMgr.BtnBullet.children[0].active = false;
                gameMgr_1.gameMgr.BtnBullet.children[1].active = false;
                gameMgr_1.gameMgr.BtnBullet.children[2].active = false;
                gameMgr_1.gameMgr.BtnBullet.children[3].active = true;
              }).start();
              gameMgr_1.gameMgr.BtnBullet.children[2].active = true;
              var label_1 = gameMgr_1.gameMgr.BtnBullet.children[2].getComponent(cc.Label);
              cc.tween(label_1).call(function() {
                label_1.string = (t_1 * (1 + pro_1.fillRange)).toFixed(1);
              }).delay(.1).union().repeat(t_1 / .1).start();
            }
          } else {
            this._isReload = false;
            Msg_1.default.Show(i18n.t("msg.myzd"));
            CocosZ_1.cocosz.audioMgr.playEffect("bag", false, 1);
          } else CocosZ_1.cocosz.scheduleOnce(function() {
            if (_this && _this.isValid) {
              _this._isReload = false;
              _this.addBullet();
            }
          }, this.reload);
        }
      };
      var Weapon_1;
      Weapon.WeaponName = [ "ak", "cfq", "dao", "gj", "jgb", "sd", "hdl", "sq", "ju", "ld", "nnp", "gtst", "tb", "mb", "mq", "szg", "rsq", "cjj", "jtl", "sq2", "tj", "fs" ];
      Weapon.meleeWaapon = [ 3, 4, 5, 13, 14 ];
      Weapon.rangeWeapon = [ 1, 2, 6, 7, 8, 9, 10, 11, 12, 15, 16, 17, 18, 19, 20, 21, 22 ];
      __decorate([ property({
        tooltip: "\u662f\u5426\u64ad\u653e\u5f00\u706b\u5347\u7ea7\u6548\u679c"
      }) ], Weapon.prototype, "can_effect_hit", void 0);
      __decorate([ property(cc.Node) ], Weapon.prototype, "hand_effect", void 0);
      __decorate([ property(cc.Node) ], Weapon.prototype, "hand_2", void 0);
      __decorate([ property ], Weapon.prototype, "weaponNum", void 0);
      __decorate([ property(cc.Prefab) ], Weapon.prototype, "bullet", void 0);
      __decorate([ property(cc.Color) ], Weapon.prototype, "bulletCollor", void 0);
      __decorate([ property(cc.Prefab) ], Weapon.prototype, "shellCall", void 0);
      __decorate([ property(cc.Prefab) ], Weapon.prototype, "atkEffect", void 0);
      __decorate([ property ], Weapon.prototype, "atkNum", void 0);
      __decorate([ property ], Weapon.prototype, "atkRangeNum", void 0);
      __decorate([ property ], Weapon.prototype, "flySpeed", void 0);
      __decorate([ property({
        tooltip: "\u5f00\u706b\u65f6\u95f4"
      }), property ], Weapon.prototype, "atkSpeed", void 0);
      __decorate([ property({
        tooltip: "\u5f39\u5939\u5f39\u836f\u6570\u91cf"
      }) ], Weapon.prototype, "bulletNum", void 0);
      __decorate([ property({
        tooltip: "\u603b\u5f39\u836f\u6570\u91cf"
      }) ], Weapon.prototype, "bulletTotal", void 0);
      __decorate([ property({
        tooltip: "\u88c5\u5f39\u65f6\u95f4"
      }) ], Weapon.prototype, "reload", void 0);
      __decorate([ property({
        tooltip: "\u88c5\u5f39\u97f3\u6548"
      }) ], Weapon.prototype, "audioName", void 0);
      Weapon = Weapon_1 = __decorate([ ccclass ], Weapon);
      return Weapon;
    }(cc.Component);
    exports.default = Weapon;
    cc._RF.pop();
  }, {
    "../Framework/CocosZ": "CocosZ",
    "../Framework/Constant": "Constant",
    "../Framework/Msg": "Msg",
    "./gameDate": "gameDate",
    "./gameMgr": "gameMgr",
    LanguageData: "LanguageData"
  } ]
}, {}, [ "AdAgent", "AdAgent4399", "AdAgentBaidu", "AdAgentBili", "AdAgentBroser", "AdAgentCocosplay", "AdAgentDouyin", "AdAgentFaceBook", "AdAgentGoogleWeb", "AdAgentHago", "AdAgentHuaWei", "AdAgentIOS", "AdAgentKwai", "AdAgentNative", "AdAgentOPPO", "AdAgentQQ", "AdAgentQTT", "AdAgentUC", "AdAgentVIVO", "AdAgentWechat", "AdAgentWiFi", "AdAgentXiaomi", "AdManager", "AdSDK", "AldUtils", "BeforGameOverRecGamesPanel", "CheckIsShowIcon", "CommonConfig", "CompatibleTool", "CryptoJS", "FBAdManager", "FBSdk", "GameBox", "GameBoxListGameItem", "GameBoxListItem", "GameBoxSlideItem", "GameItem", "GamePage", "GameSDK", "HandAction", "List", "ListItem", "LogOutView", "LuckBoxPannel", "MoreGamesPanel", "MoreGamesPanel1", "MoreGamesWidget", "NativeTryGameNode", "NativeTryGamesWidget", "OpenRedBagPanel", "PlatUtils", "QCrossWidget6", "QCrossWidgetItem", "RecommendGamesNode", "RecommendGamesWidget", "RedBagProgressNode", "RedBagProgressWidget", "RewardBoxPanel", "RewardInsert", "RewardRedBagPanel", "RewardShortCutPanel", "ShareRecordPanel", "TryGameNode", "TryGamesWidget", "uma.min", "Utils", "VerticalRecommentPanel", "WechatTool", "WithdrawalNode", "WithdrawalPanel", "WithdrawalWidget", "YZ_ActionScale", "YZ_BaiduRecommendWidget", "YZ_Constant", "YZ_EventManager", "YZ_GameExitDialog", "YZ_ListView", "YZ_LocalStorage", "YZ_NativeAdObject", "YZ_NativeBanner", "YZ_NativeInsert", "YZ_NativeItem", "YZ_NativeSplashView", "YZ_RecommendGamesBanner", "YZ_RecordWidget", "YZ_ShakeNode", "YZ_ShortcutWidget", "YZ_StatementRecommentAd", "YZ_Tool_4399", "YZ_Tool_Baidu", "YZ_Tool_Bili", "YZ_Tool_Broswer", "YZ_Tool_Cocosplay", "YZ_Tool_Douyin", "YZ_Tool_FaceBook", "YZ_Tool_GoogleWeb", "YZ_Tool_Hago", "YZ_Tool_HuaWei", "YZ_Tool_IOS", "YZ_Tool_Kwai", "YZ_Tool_Native", "YZ_Tool_Oppo", "YZ_Tool_QQ", "YZ_Tool_QTT", "YZ_Tool_UC", "YZ_Tool_Vivo", "YZ_Tool_Wifi", "YZ_Tool_Xiaomi", "YZ_Turntable", "EventAdInfo", "YouWanAnalytics", "YzCustomAdPanel", "YzLoginPanel", "YzRealNameAuthPanel", "YzUserPrivacyPanel", "md5", "BgScroll", "AudioMgr", "CocosZ", "Constant", "DataMgr", "FlyCoin", "GameCtr", "GameMgr", "Msg", "QEasing", "QMoveAction", "QRotation", "QScaleAction", "QTween", "ResMgr", "SceneMgr", "ShowDate", "StartScene", "TweenEffect", "UIMgr", "UIPage", "UpgradeMgr", "ZombieBase", "ani", "bullet", "gameDate", "gameMgr", "jingyan", "mb", "person", "player", "setMap", "showEffect", "testPoint", "weapon", "CoinBord", "GuideLayer", "ShareOrVideo", "UIADPanel", "UIGameLoadingPage", "UIGamePage", "UIHomePage", "UILoadingPage", "UIOverPage", "UIPausePanel", "UIRevivePanel", "UISignPage", "UITimePage", "UITrySkinPanel", "UITurntablePage", "UIUpgradePanel", "UIWeaponLevelPanel", "redPoint", "LanguageData", "LocalizedLabel", "LocalizedSprite", "SpriteFrameSet", "polyglot.min" ]);