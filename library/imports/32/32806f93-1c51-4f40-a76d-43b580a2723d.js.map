{"version":3,"sources":["assets\\common-plugin\\Scripts\\YZ_RecommendGamesBanner.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iCAAgC;AAEhC,yCAAoC;AACpC,6CAA4C;AAGtC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAqD,2CAAY;IAAjE;QAAA,qEA8DC;QA5DG,eAAS,GAAgB,IAAI,CAAC;QAE9B,aAAO,GAAY,KAAK,CAAC;QAEzB,cAAQ,GAAY,IAAI,CAAC;;IAwD7B,CAAC;IArDG,wCAAM,GAAN;QACI,IAAI,aAAK,CAAC,WAAW,IAAI,aAAK,CAAC,WAAW,CAAC,KAAK,EAAE;YAC9C,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,aAAK,CAAC,WAAW,CAAC,KAAK,CAAC;SAC7C;QACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,sBAAsB,CAAC,aAAa,CAAC,CAAC;QAC5D,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACnC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IACnD,CAAC;IAED,0CAAQ,GAAR;QAAA,iBAOC;QANG,aAAK,CAAC,uBAAuB,CAAC;YAC1B,KAAI,CAAC,WAAW,EAAE,CAAC;YACnB,KAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,UAAC,KAAK;gBAClD,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACxB,CAAC,CAAC,CAAC;QACP,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;IAED,2CAAS,GAAT;QACI,aAAK,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;IAED,6CAAW,GAAX;QACI,IAAI,IAAI,CAAC,OAAO;YAAE,OAAO;QAEzB,IAAI,aAAK,CAAC,0BAA0B,EAAE,EAAE;YACpC,IAAI,IAAI,GAAQ,aAAK,CAAC,oBAAoB,EAAE,CAAC;YAC7C,IAAI,IAAI,EAAE;gBACN,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;oBACjB,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;wBAClB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;wBACpB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAC1B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;wBAClC,aAAK,CAAC,qBAAqB,CAAC,yBAAW,CAAC,UAAU,CAAC,CAAC;wBAEpD,IAAI,mBAAS,CAAC,MAAM,EAAE;4BAClB,aAAK,CAAC,QAAQ,CAAC,sBAAsB,EAAE,CAAC;4BACxC,aAAK,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC;yBACnC;qBACJ;yBAAM;wBACH,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;qBAC1B;iBACJ;qBAAM;oBACH,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;iBACzB;aACJ;iBAAM;gBACH,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;aAC3B;SACJ;aAAM;YACH,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;SACvB;IACL,CAAC;IA7DgB,uBAAuB;QAD3C,OAAO;OACa,uBAAuB,CA8D3C;IAAD,8BAAC;CA9DD,AA8DC,CA9DoD,EAAE,CAAC,SAAS,GA8DhE;kBA9DoB,uBAAuB","file":"","sourceRoot":"/","sourcesContent":["import { utils } from \"./Utils\";\r\nimport YZ_ListView from \"./YZ_ListView\";\r\nimport PlatUtils from \"./PlatUtils\";\r\nimport { SubLocation } from \"./YZ_Constant\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class YZ_RecommendGamesBanner extends cc.Component {\r\n\r\n    _listView: YZ_ListView = null;\r\n\r\n    _isInit: boolean = false;\r\n\r\n    closeBtn: cc.Node = null;\r\n\r\n\r\n    onLoad() {\r\n        if (utils.otherConfig && utils.otherConfig.group) {\r\n            this.node.group = utils.otherConfig.group;\r\n        }\r\n        this._listView = this.getComponentInChildren(\"YZ_ListView\");\r\n        this._listView.node.active = false;\r\n        this.closeBtn = cc.find(\"bg/close\", this.node);\r\n    }\r\n\r\n    onEnable() {\r\n        utils.registerServerInitEvent(() => {\r\n            this._initWidget();\r\n            this.closeBtn.on(cc.Node.EventType.TOUCH_START, (event) => {\r\n                this.node.destroy();\r\n            });\r\n        }, this);\r\n    }\r\n\r\n    onDisable() {\r\n        utils.unregisterServerInitEvent(this);\r\n        this.closeBtn.targetOff(this);\r\n    }\r\n\r\n    _initWidget() {\r\n        if (this._isInit) return;\r\n\r\n        if (utils.isShowRecommondGamesBanner()) {\r\n            let data: any = utils.getRecommondGameList();\r\n            if (data) {\r\n                if (data.length > 0) {\r\n                    if (data.length >= 6) {\r\n                        this._isInit = true;\r\n                        this._listView.init(data);\r\n                        this._listView.node.active = true;\r\n                        utils.postRecommentShowData(SubLocation.isYzBanner);\r\n\r\n                        if (PlatUtils.IsOPPO) {\r\n                            utils.oppoTool.countYzBannerShowCount();\r\n                            utils.adManager.hideKyxBanner();\r\n                        }\r\n                    } else {\r\n                        cc.warn(\"交叉推广数据长度小于6\");\r\n                    }\r\n                } else {\r\n                    cc.warn(\"交叉推广数据长度为0\");\r\n                }\r\n            } else {\r\n                cc.warn(\"交叉推广数据为null!\");\r\n            }\r\n        } else {\r\n            this.node.destroy();\r\n        }\r\n    }\r\n}\r\n"]}