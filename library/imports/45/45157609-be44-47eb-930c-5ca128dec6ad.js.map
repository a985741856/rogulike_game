{"version":3,"sources":["assets\\common-plugin\\Scripts\\YZ_Tool_Oppo.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yCAAoC;AACpC,iCAAgC;AAChC,+DAA0D;AAC1D,6CAAyE;AACzE,qDAAgD;AAEhD,YAAY;AACZ,IAAI,GAAG,GAAG,OAAO,CAAC,iCAAiC,CAAC,CAAC;AAC/C,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAC5C,sFAAsF;AACtF,SAAS;AACT,IAAM,YAAY,GAAW,8BAA8B,CAAC;AAC5D,IAAM,cAAc,GAAW,gCAAgC,CAAC;AAEhE,IAAI,sBAAsB,GAAW,EAAE,CAAC;AAExC,IAAM,2BAA2B,GAAW,0BAA0B,CAAC;AACvE,IAAM,eAAe,GAAW,cAAc,CAAC;AAC/C,IAAM,qBAAqB,GAAW,yBAAyB,CAAC,CAAC,QAAQ;AACzE,IAAM,sBAAsB,GAAW,wBAAwB,CAAC,CAAC,cAAc;AAC/E,IAAM,qBAAqB,GAAW,oBAAoB,CAAC,CAAC,cAAc;AAI1E;IAAA;QACI,YAAY;QACZ,OAAE,GAAQ,EAAE,CAAC;QACb;;;;;;;;;;;;;;UAcE;QACF,aAAQ,GAAQ,IAAI,CAAC;QAarB,MAAM;QACN,YAAO,GAAW,EAAE,CAAC;QACrB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UAuEE;QACF,kBAAa,GAAQ,IAAI,CAAC;QAK1B,8BAAyB,GAAW,CAAC,CAAC;QAKtC,wBAAmB,GAAW,CAAC,CAAC;QAQhC,yBAAoB,GAAW,CAAC,CAAC;QAQjC,wBAAmB,GAAW,CAAC,CAAC;QAShC,WAAW;QACX,qBAAgB,GAAY,KAAK,CAAC;QAKlC,OAAO;QACP,SAAI,GAAW,GAAG,CAAC;QAQnB,UAAU;QACV,iBAAY,GAAW,CAAC,CAAC;QAWzB,MAAM;QACN,eAAU,GAAG,EAAE,CAAC;QAEhB,QAAQ;QACR,UAAK,GAAW,EAAE,CAAC;QAEnB,OAAO;QACP,YAAO,GAAW,CAAC,CAAC,CAAC;QAiGrB,iBAAY,GAAW,CAAC,CAAC;QACzB,kBAAa,GAAW,CAAC,CAAC;QAsR1B,eAAU,GAAW,CAAC,CAAC;QACvB,mBAAc,GAAW,EAAE,CAAC;QAqD5B,cAAc;QACN,kBAAa,GAAY,IAAI,CAAC;QA2BtC,qBAAgB,GAAW,CAAC,CAAC;QAC7B,yBAAoB,GAAW,EAAE,CAAC;QAClC,aAAQ,GAAY,KAAK,CAAC;QA2N1B,mBAAc,GAAY,KAAK,CAAC;QAChC,qBAAgB,GAAQ,IAAI,CAAC;QAuK7B,qBAAgB,GAAQ,IAAI,CAAC;QA8E7B,kBAAa,GAAQ,IAAI,CAAC;QA8J1B,mBAAc,GAAY,KAAK,CAAC;IAkDpC,CAAC;IAxwCG,sBAAW,iCAAO;aAAlB;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;;;OAAA;IAED;;OAEG;IACI,kCAAW,GAAlB;QACI,OAAO,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC;IAC3C,CAAC;IA8ED,sBAAW,sCAAY;aAAvB;YACI,OAAO,IAAI,CAAC,aAAa,CAAC;QAC9B,CAAC;;;OAAA;IAGD,sBAAW,kDAAwB;aAAnC;YACI,OAAO,IAAI,CAAC,yBAAyB,CAAC;QAC1C,CAAC;;;OAAA;IAMD,sBAAW,4CAAkB;QAH7B;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,mBAAmB,CAAC;QACpC,CAAC;;;OAAA;IAMD,sBAAW,6CAAmB;QAH9B;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,oBAAoB,CAAC;QACrC,CAAC;;;OAAA;IAMD,sBAAW,4CAAkB;QAH7B;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,mBAAmB,CAAC;QACpC,CAAC;;;OAAA;IAKD,sBAAW,yCAAe;aAA1B;YACI,OAAO,IAAI,CAAC,gBAAgB,CAAC;QACjC,CAAC;;;OAAA;IAKD,sBAAW,6BAAG;aAAd;YACI,IAAI,IAAI,CAAC,IAAI,IAAI,GAAG;gBAAE,OAAO,IAAI,CAAC,IAAI,CAAC;YACvC,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,OAAO,GAAG,CAAC;QACf,CAAC;;;OAAA;IAQD,sBAAW,mCAAS;QAHpB;;WAEG;aACH;YACI,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC;gBAAE,OAAO,IAAI,CAAC,YAAY,CAAC;YACrD,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,OAAO,GAAG,CAAC;QACf,CAAC;;;OAAA;IAWD;;;OAGG;IACI,2BAAI,GAAX,UAAY,IAAY;QAAxB,iBAyFC;QAxFG,IAAI,mBAAS,CAAC,MAAM,EAAE;YAElB,IAAI,CAAC,OAAO,EAAE,CAAA;YACd,YAAY;YACZ,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,iBAAiB,EAAE,CAAC;YACvC,IAAI,IAAI,CAAC,OAAO,EAAE;gBACd,aAAK,CAAC,OAAO,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;aAClE;YAED,IAAI,IAAI,EAAE;gBACN,IAAI,SAAS,GAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBACtC,IAAI,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE;oBAC7B,sBAAsB,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;iBAC3D;aACJ;YACD,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,yBAAe,CAAC,OAAO,CAAC,qBAAW,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC,CAAC;YAGlF,IAAI,CAAC,UAAU,GAAG,yBAAe,CAAC,OAAO,CAAC,qBAAW,CAAC,YAAY,CAAC,CAAC;YACpE,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;gBAClB,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,qBAAW,CAAC,eAAe,EAAE;oBACpC,KAAI,CAAC,YAAY,EAAE,CAAC;gBACxB,CAAC,EAAE,IAAI,CAAC,CAAC;aACZ;YAED,WAAW;YACX,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAAE;gBAChC,YAAY;gBACZ,IAAI,OAAO,GAAG,EAAE,CAAC,oBAAoB,EAAE,CAAC;gBACxC,OAAO,IAAI,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;gBAC9D,IAAI,OAAO,IAAI,OAAO,CAAC,YAAY,IAAI,OAAO,CAAC,YAAY,CAAC,OAAO,EAAE;oBACjE,aAAK,CAAC,OAAO,CAAC,aAAa,GAAG,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;oBAC5D,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC;iBAC/C;aACJ;iBAAM;gBACH,aAAK,CAAC,OAAO,CAAC,8HAA0B,CAAC,CAAC;aAC7C;YAED,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,IAAI,KAAK,GAAG,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,GAAG,GAAG,CAAC;YAChD,IAAI,CAAC,yBAAyB,GAAG,yBAAe,CAAC,OAAO,CAAC,KAAK,GAAG,2BAA2B,CAAC,CAAC;YAC9F,IAAI,CAAC,mBAAmB,GAAG,yBAAe,CAAC,OAAO,CAAC,KAAK,GAAG,qBAAqB,CAAC,CAAC;YAClF,IAAI,CAAC,oBAAoB,GAAG,yBAAe,CAAC,OAAO,CAAC,KAAK,GAAG,sBAAsB,CAAC,CAAC;YACpF,IAAI,CAAC,mBAAmB,GAAG,yBAAe,CAAC,OAAO,CAAC,KAAK,GAAG,qBAAqB,CAAC,CAAC;YAElF,IAAI,GAAG,GAAW,yBAAe,CAAC,OAAO,CAAC,KAAK,GAAG,eAAe,CAAC,CAAC;YACnE,IAAI,OAAO,GAAG,IAAI,IAAI,EAAE,CAAC;YAGzB,IAAI,GAAG,IAAI,OAAO,CAAC,YAAY,EAAE,EAAE;gBAC/B,IAAI,CAAC,yBAAyB,GAAG,CAAC,CAAC;gBACnC,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;gBAC7B,IAAI,CAAC,oBAAoB,GAAG,CAAC,CAAC;gBAC9B,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;gBAC7B,yBAAe,CAAC,OAAO,CAAC,KAAK,GAAG,qBAAqB,EAAE,CAAC,CAAC,CAAC;gBAC1D,yBAAe,CAAC,OAAO,CAAC,KAAK,GAAG,2BAA2B,EAAE,CAAC,CAAC,CAAC;gBAChE,yBAAe,CAAC,OAAO,CAAC,KAAK,GAAG,qBAAqB,EAAE,CAAC,CAAC,CAAC;gBAC1D,yBAAe,CAAC,OAAO,CAAC,KAAK,GAAG,eAAe,EAAE,OAAO,CAAC,YAAY,EAAE,CAAC,CAAC;gBACzE,yBAAe,CAAC,OAAO,CAAC,qBAAW,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC;aAC9D;YAGD,YAAY;YACZ,aAAK,CAAC,uBAAuB,CAAC;gBAC1B,YAAY;gBACZ,IAAI,KAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAAE;oBAChC,KAAI,CAAC,gBAAgB,CAAC,UAAC,GAAG;wBACtB,IAAI,CAAC,GAAG,IAAI,aAAK,CAAC,YAAY,IAAI,aAAK,CAAC,YAAY,CAAC,gCAAgC,EAAE;4BACnF,aAAK,CAAC,OAAO,CAAC,qDAAW,aAAK,CAAC,YAAY,CAAC,gCAAgC,uEAAa,CAAC,CAAA;4BAC1F,aAAK,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC;4BACrC,UAAU,CAAC;gCACP,KAAI,CAAC,cAAc,CAAC,UAAC,GAAG;oCACpB,IAAI,GAAG,EAAE;wCACL,aAAK,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;qCAC9B;yCAAM;wCACH,aAAK,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;qCAC9B;gCACL,CAAC,CAAC,CAAC;4BACP,CAAC,EAAE,aAAK,CAAC,YAAY,CAAC,gCAAgC,GAAG,IAAI,CAAC,CAAC;yBAClE;oBACL,CAAC,CAAC,CAAC;iBACN;YAEL,CAAC,EAAE,IAAI,CAAC,CAAC;SACZ;QAED,IAAI,CAAC,WAAW,EAAE,CAAC;IAEvB,CAAC;IAKD;;;OAGG;IACH,kCAAW,GAAX,UAAY,IAAS;IAErB,CAAC;IAGD,kCAAW,GAAX;QAAA,iBA2EC;QA1EG,IAAI,mBAAS,CAAC,MAAM,EAAE;YAClB,IAAI,MAAM,GAAW,KAAK,IAAG,kBAAgB,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAG,CAAA,CAAC;YACxF,aAAK,CAAC,iBAAiB,CAAC,YAAY,GAAG,MAAM,EAAE,UAAC,GAAG,EAAE,IAAI;gBACrD,KAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,IAAI,MAAM,GAAY,KAAK,CAAC;gBAC5B,aAAK,CAAC,OAAO,CAAC,WAAI,KAAI,CAAC,aAAa,sDAAW,CAAC,CAAA;gBAChD,IAAI,GAAG,EAAE;oBACL,aAAK,CAAC,OAAO,CAAC,0BAA0B,GAAG,IAAI,CAAC,CAAC;oBACjD,IAAI,IAAI,EAAE;wBACN,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;wBAC9B,IAAI,MAAM,EAAE;4BACR,IAAI,CAAC,aAAK,CAAC,iBAAiB,EAAE;gCAC1B,KAAI,CAAC,aAAa,GAAG,MAAM,CAAC;gCAC5B,IAAI,KAAI,CAAC,aAAa,CAAC,gBAAgB,IAAI,KAAI,CAAC,aAAa,CAAC,gBAAgB,IAAI,MAAM,EAAE;oCACtF,aAAK,CAAC,WAAW,GAAG,IAAI,CAAC;iCAC5B;6BACJ;iCAAM;gCACH,EAAE,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;6BAChC;yBACJ;6BAAM;4BACH,aAAK,CAAC,OAAO,CAAC,iCAAiC,CAAC,CAAC;yBACpD;qBACJ;iBACJ;qBAAM;oBACH,aAAK,CAAC,OAAO,CAAC,0BAA0B,CAAC,CAAC;oBAC1C,IAAI,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,YAAY,EAAE;wBACxC,aAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;wBACzB,MAAM,GAAG,IAAI,CAAC;qBACjB;iBACJ;gBAED,IAAI,CAAC,KAAI,CAAC,aAAa,EAAE;oBACrB,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;iBAC3D;qBAAM,IAAI,KAAI,CAAC,aAAa,IAAI,CAAC,EAAE;oBAChC,IAAI,KAAI,CAAC,aAAa,CAAC,eAAe;2BAC/B,KAAI,CAAC,aAAa,CAAC,eAAe,IAAI,OAAO,EAAE;wBAClD,eAAe;wBACf,aAAK,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;wBAC9B,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,GAAG,KAAI,CAAC,YAAY,CAAC,aAAa,CAAC;wBACnE,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,GAAG,KAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC;wBACzE,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,GAAG,KAAI,CAAC,YAAY,CAAC,YAAY,CAAC;wBACjE,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe,GAAG,KAAI,CAAC,YAAY,CAAC,2BAA2B,CAAC;wBACxF,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe,GAAG,KAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC;wBACjF,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,gBAAgB,GAAG,KAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC;wBACnF,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe,GAAG,KAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC;wBAC/E,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,WAAW,GAAG,KAAI,CAAC,YAAY,CAAC,aAAa,CAAC;wBACtE,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe,GAAG,KAAI,CAAC,YAAY,CAAC,kBAAkB,IAAI,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;wBAC1H,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,iBAAiB,GAAG,KAAI,CAAC,YAAY,CAAC,oBAAoB,IAAI,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,iBAAiB,CAAC;wBAChI,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,oBAAoB,GAAG,KAAI,CAAC,YAAY,CAAC,mBAAmB,IAAI,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,oBAAoB,CAAC;wBACrI,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe,GAAG,KAAI,CAAC,YAAY,CAAC,cAAc,IAAI,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBACzH;yBAAM;wBACH,aAAK,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;qBAChC;oBACD,IAAI,KAAI,CAAC,YAAY,CAAC,aAAa,IAAI,KAAI,CAAC,YAAY,CAAC,aAAa,IAAI,OAAO,EAAE;wBAC/E,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;qBAC9B;oBACD,IAAI,KAAI,CAAC,YAAY,CAAC,qBAAqB,EAAE;wBACzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;4BACrE,aAAK,CAAC,OAAO,CAAC,YAAY,GAAG,KAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;4BACtJ,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,mBAAmB,CAAC,KAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,KAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,CAAC;yBAChJ;qBACJ;iBACJ;gBAED,IAAI,KAAI,CAAC,aAAa,IAAI,CAAC,EAAE;oBACzB,gBAAgB;oBAChB,aAAK,CAAC,mBAAmB,EAAE,CAAC;iBAC/B;gBAED,IAAI,MAAM,EAAE;oBACR,KAAI,CAAC,WAAW,EAAE,CAAC;iBACtB;YACL,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAED;;;OAGG;IACI,wCAAiB,GAAxB,UAAyB,WAAmB;QACxC,IAAI,mBAAS,CAAC,MAAM,EAAE;YAClB,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,aAAK,CAAC,OAAO,CAAC,mBAAmB,GAAG,IAAI,CAAC,QAAQ,CAAC,eAAe,GAAG,gBAAgB,GAAG,WAAW,GAAG,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,IAAI,WAAW,CAAC,CAAC,CAAC;gBAE1J,OAAO,IAAI,CAAC,QAAQ,CAAC,eAAe,IAAI,WAAW,CAAC;aACvD;SACJ;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAED;;;OAGG;IACI,uCAAgB,GAAvB,UAAwB,QAAmB;QAA3C,iBAmBC;QAlBG,IAAI,CAAC,EAAE,CAAC,oBAAoB,CAAC;YACzB,OAAO,EAAE,UAAC,GAAG;gBACT,aAAK,CAAC,OAAO,CAAC,0BAA0B,EAAE,GAAG,CAAC,CAAC;gBAC/C,IAAI,GAAG,IAAI,KAAK,EAAE;oBACd,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;oBAC9B,QAAQ,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAC;iBAC/B;qBAAM;oBACH,KAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;oBAC7B,QAAQ,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;iBAC9B;YACL,CAAC;YACD,IAAI,EAAE;gBACF,aAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAC3B,CAAC;YACD,QAAQ,EAAE;gBACN,aAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAC3B,CAAC;SACJ,CAAC,CAAC;IACP,CAAC;IAEM,6CAAsB,GAA7B;QACI,IAAI,mBAAS,CAAC,MAAM,EAAE;YAClB,YAAY;YACZ,EAAE,CAAC,eAAe,CAAC;gBACf,QAAQ,EAAE,UAAU,GAAG,IAAI,CAAC;aAC/B,CAAC,CAAC;SACN;IACL,CAAC;IAGM,4CAAqB,GAA5B;QACI,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACjC,yBAAe,CAAC,OAAO,CAAC,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,GAAG,GAAG,GAAG,2BAA2B,EAAE,IAAI,CAAC,yBAAyB,CAAC,CAAC;IAC/H,CAAC;IAED;;OAEG;IACI,0CAAmB,GAA1B;QACI,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,yBAAe,CAAC,OAAO,CAAC,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,GAAG,GAAG,GAAG,qBAAqB,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;IACnH,CAAC;IAED;;OAEG;IACI,4CAAqB,GAA5B;QACI,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,yBAAe,CAAC,OAAO,CAAC,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,GAAG,GAAG,GAAG,sBAAsB,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;IACrH,CAAC;IAED;;MAEE;IACK,6CAAsB,GAA7B;QACI,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,yBAAe,CAAC,OAAO,CAAC,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,GAAG,GAAG,GAAG,qBAAqB,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;IACnH,CAAC;IAGD;;;;OAIG;IACI,yCAAkB,GAAzB,UAA0B,OAAe,EAAE,QAAkB;QACzD,IAAI,mBAAS,CAAC,MAAM,EAAE;YAClB,IAAI,kBAAgB,GAAa,QAAQ,CAAC;YAC1C,YAAY;YACZ,EAAE,CAAC,kBAAkB,CAAC;gBAClB,OAAO,EAAE,OAAO;gBAChB,OAAO,EAAE;oBACL,aAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;oBACvB,IAAI,kBAAgB,EAAE;wBAClB,kBAAgB,CAAC,IAAI,CAAC,CAAC;qBAC1B;gBACL,CAAC;gBACD,IAAI,EAAE,UAAU,GAAG;oBACf,aAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;oBACvB,IAAI,kBAAgB,EAAE;wBAClB,kBAAgB,CAAC,KAAK,CAAC,CAAC;qBAC3B;gBACL,CAAC;aACJ,CAAC,CAAC;SACN;IACL,CAAC;IAGD;;OAEG;IACI,wCAAiB,GAAxB;QACI,IAAI,mBAAS,CAAC,MAAM,EAAE;YAClB,OAAO,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;SACzC;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAGD;;OAEG;IACI,qCAAc,GAArB,UAAsB,QAAkB;QACpC,IAAI,mBAAS,CAAC,MAAM,EAAE;YAClB,IAAI,cAAY,GAAG,QAAQ,CAAC;YAC5B,IAAI,MAAI,GAAG,IAAI,CAAC;YAChB,YAAY;YACZ,EAAE,CAAC,eAAe,CAAC;gBACf,OAAO,EAAE;oBACL,aAAK,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;oBAC3B,MAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;oBAC7B,IAAI,cAAY,EAAE;wBACd,cAAY,CAAC,IAAI,CAAC,CAAC;qBACtB;gBACL,CAAC;gBACD,IAAI,EAAE,UAAU,GAAG;oBACf,aAAK,CAAC,OAAO,CAAC,wBAAwB,CAAC,CAAC;oBACxC,IAAI,cAAY,EAAE;wBACd,cAAY,CAAC,KAAK,CAAC,CAAC;qBACvB;gBACL,CAAC;gBACD,QAAQ,EAAE;oBACN,aAAK,CAAC,OAAO,CAAC,4BAA4B,CAAC,CAAC;gBAChD,CAAC;aACJ,CAAC,CAAC;SACN;IACL,CAAC;IAED;;OAEG;IACI,+BAAQ,GAAf,UAAgB,cAAsB;QAClC,IAAI,mBAAS,CAAC,MAAM,EAAE;YAClB,IAAI,MAAM,GAAG,SAAS,CAAC;YACvB,IAAI,GAAG,GAAW,cAAc,GAAG,MAAM,IAAG,kBAAgB,cAAgB,CAAA,CAAC;YAC7E,qCAAqC;YACrC,aAAK,CAAC,iBAAiB,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE,IAAI;gBAC5C,IAAI,GAAG,EAAE;oBACL,aAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;iBAC5B;qBAAM;oBACH,aAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;iBAC5B;YACL,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SACjB;IACL,CAAC;IAED;;;OAGG;IACI,sCAAe,GAAtB,UAAuB,MAAc;QACjC,IAAI,mBAAS,CAAC,MAAM,EAAE;YAClB,IAAI,KAAK,GAAW,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC;YAClD,IAAI,GAAG,GAAW,IAAI,CAAC,IAAI,CAAC;YAC5B,IAAI,OAAO,GAAW,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;YAC/G,IAAI,GAAG,GAAG,cAAc,IAAG,qBAAmB,KAAK,iBAAY,OAAO,aAAQ,IAAI,CAAC,IAAI,gBAAW,MAAQ,CAAA,CAAC;YAE3G,qIAAqI;YACrI,aAAK,CAAC,OAAO,CAAC,gBAAgB,GAAG,GAAG,CAAC,CAAC;YACtC,aAAK,CAAC,iBAAiB,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE,IAAI;gBAC5C,IAAI,GAAG,EAAE;oBACL,aAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;iBAC5B;qBAAM;oBACH,aAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;iBAC5B;YACL,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SACjB;IACL,CAAC;IAKD,6BAAM,GAAN;QAAA,iBAiDC;QA/CG,IAAI,OAAO,GAAW,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;QAC3C,IAAI,QAAQ,GAAW,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC;QAC1D,IAAI,QAAQ,GAAG,CAAC,IAAI,QAAQ,GAAG,IAAI,CAAC,cAAc,EAAE;YAChD,aAAK,CAAC,OAAO,CAAC,2DAAY,IAAI,CAAC,cAAc,WAAG,CAAC,CAAC;YAClD,OAAO;SACV;QACD,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC;QAC1B,IAAI,IAAI,GAAG,IAAI,CAAC;QAEhB,IAAI,CAAC,IAAI,GAAG,yBAAe,CAAC,OAAO,CAAC,qBAAW,CAAC,MAAM,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC;QAExC,IAAI,CAAC,YAAY,GAAG,yBAAe,CAAC,OAAO,CAAC,qBAAW,CAAC,cAAc,CAAC,CAAC;QACxE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9D,aAAK,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,GAAG,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;QAE1E,IAAI,IAAI,CAAC,IAAI,IAAI,GAAG,EAAE;YAClB,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAAE;gBAChC,YAAY;gBACZ,EAAE,CAAC,KAAK,CAAC;oBACL,OAAO,EAAE,UAAU,GAAG;wBAClB,IAAI,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE;4BACd,IAAI,CAAC,IAAI,GAAG,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC;4BAC9B,aAAK,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;4BACxC,yBAAe,CAAC,OAAO,CAAC,qBAAW,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;yBAC1D;oBACL,CAAC;oBACD,IAAI,EAAE,UAAU,GAAG;wBACf,aAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;oBAC3B,CAAC;oBACD,QAAQ,EAAE;wBACN,KAAI,CAAC,WAAW,EAAE,CAAC;oBACvB,CAAC;iBACJ,CAAC,CAAC;aAEN;iBAAM;gBACH,aAAK,CAAC,OAAO,CAAC,kCAAkC,CAAC,CAAC;gBAClD,IAAI,CAAC,WAAW,EAAE,CAAC;aACtB;SAEJ;aAAM;YACH,IAAI,IAAI,GAAG,yBAAe,CAAC,OAAO,CAAC,qBAAW,CAAC,YAAY,CAAC,CAAC;YAC7D,IAAI,IAAI,EAAE;gBACN,IAAI,CAAC,YAAY,EAAE,CAAC;aACvB;SACJ;IAEL,CAAC;IAMM,mCAAY,GAAnB;QAAA,iBAwBC;QAvBG,aAAK,CAAC,OAAO,CAAC,qCAAqC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;QAE1E,IAAI,UAAU,GAAG,yBAAe,CAAC,OAAO,CAAC,qBAAW,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC;QAC5E,YAAY;QACZ,IAAI,IAAI,CAAC,aAAa,IAAI,EAAE,CAAC,WAAW,IAAI,UAAU,IAAI,CAAC,EAAE;YACzD,yBAAe,CAAC,OAAO,CAAC,qBAAW,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC;YAE3D,YAAY;YACZ,EAAE,CAAC,WAAW,CAAC;gBACX,OAAO,EAAE,UAAC,IAAI;oBACV,aAAK,CAAC,OAAO,CAAC,mCAAiC,IAAI,CAAC,QAAU,CAAC,CAAC;oBAChE,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC;oBAChC,yBAAe,CAAC,OAAO,CAAC,qBAAW,CAAC,YAAY,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACjE,KAAI,CAAC,YAAY,EAAE,CAAC;gBACxB,CAAC;gBACD,IAAI,EAAE,UAAU,IAAI,EAAE,IAAI;oBACtB,aAAK,CAAC,OAAO,CAAC,8BAA4B,IAAM,CAAC,CAAC;gBACtD,CAAC;aACJ,CAAC,CAAC;SACN;aAAM;YACH,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;IAEL,CAAC;IAKD;;OAEG;IACG,kCAAW,GAAjB;;;;;gBACI,aAAK,CAAC,OAAO,CAAC,yBAAyB,CAAC,CAAC;gBACzC,IAAI,IAAI,CAAC,QAAQ;oBAAE,sBAAO;gBAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAGjB,IAAI,GAAG,IAAI,CAAC;gBACZ,OAAO,GAAW,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;gBACvC,QAAQ,GAAW,CAAC,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC;gBAChE,IAAI,QAAQ,GAAG,CAAC,IAAI,QAAQ,GAAG,IAAI,CAAC,oBAAoB,EAAE;oBACtD,aAAK,CAAC,OAAO,CAAC,8DAAe,IAAI,CAAC,oBAAoB,WAAG,CAAC,CAAC;oBAC3D,sBAAO;iBACV;gBACD,IAAI,CAAC,gBAAgB,GAAG,OAAO,CAAC;gBAC5B,MAAM,GAAG,SAAS,CAAC;gBACnB,GAAG,GAAW,YAAY,GAAG,MAAM,IAAG,kBAAgB,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAG,CAAA,CAAC;gBAErG,aAAK,CAAC,iBAAiB,CAAC,GAAG,EAAE,UAAC,GAAG,EAAE,IAAI;oBACnC,IAAI,GAAG,EAAE;wBACL,IAAI,IAAI,EAAE;4BACN,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;4BAC9B,IAAI,MAAM,CAAC,GAAG,EAAE;gCACZ,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC;gCAC/B,aAAK,CAAC,OAAO,CAAC,0BAA0B,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;gCAC9D,yBAAe,CAAC,OAAO,CAAC,qBAAW,CAAC,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;6BAC1E;yBAEJ;qBACJ;oBACD,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBAC1B,CAAC,CAAC,CAAA;;;;KACL;IAED;;OAEG;IACI,2CAAoB,GAA3B;QACI,IAAI,mBAAS,CAAC,MAAM,IAAI,aAAK,CAAC,QAAQ,IAAI,aAAK,CAAC,QAAQ,CAAC,YAAY,EAAE;YACnE,OAAO,aAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS,CAAC;SAChD;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAEM,8BAAO,GAAd,UAAe,GAAW;QACtB,IAAI,mBAAS,CAAC,MAAM,EAAE;YAClB,YAAY;YACZ,EAAE,CAAC,SAAS,CAAC;gBACT,KAAK,EAAE,KAAG,GAAK;gBACf,IAAI,EAAE,MAAM;gBACZ,QAAQ,EAAE,IAAI;aACjB,CAAC,CAAA;SACL;IACL,CAAC;IACD;;;SAGK;IACE,gCAAS,GAAhB,UAAiB,GAAW;QACxB,IAAI,mBAAS,CAAC,MAAM,EAAE;YAClB,YAAY;YACZ,EAAE,CAAC,SAAS,CAAC;gBACT,KAAK,EAAE,GAAG;gBACV,IAAI,EAAE,MAAM;gBACZ,QAAQ,EAAE,IAAI;aACjB,CAAC,CAAA;SACL;IACL,CAAC;IAED;;;;;OAKG;IACI,yCAAkB,GAAzB,UAA0B,cAAsB,EAAE,QAAgB,EAAE,MAAkB;QAAlB,uBAAA,EAAA,UAAkB;QAClF,IAAI,mBAAS,CAAC,MAAM,EAAE;YAElB,IAAI,MAAM,GAAG,SAAS,CAAC;YACvB,IAAI,GAAG,GAAW,cAAc,GAAG,MAAM,IAAG,kBAAgB,cAAc,kBAAa,QAAQ,gBAAW,MAAQ,CAAA,CAAA;YAClH,qCAAqC;YAErC,aAAK,CAAC,iBAAiB,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE,IAAI;gBAC5C,IAAI,GAAG,EAAE;oBACL,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBAC9B,aAAK,CAAC,OAAO,CAAC,sCAAQ,CAAC,CAAC;oBAExB,IAAI,MAAM,IAAI,MAAM,CAAC,SAAS,IAAI,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;wBAC3D,aAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;qBAC5D;iBACJ;qBAAM;oBACH,aAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;iBAC5B;YACL,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SACjB;IACL,CAAC;IAED;;;;;MAKE;IACK,4CAAqB,GAA5B,UAA6B,QAAgB;QACzC,IAAI,mBAAS,CAAC,MAAM,EAAE;YAClB,IAAI,MAAM,GAAG,aAAa,CAAC;YAC3B,IAAI,GAAG,GAAW,cAAc,GAAG,MAAM,IAAG,eAAa,QAAU,CAAA,CAAC;YACpE,qCAAqC;YACrC,aAAK,CAAC,iBAAiB,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE,IAAI;gBAC5C,IAAI,GAAG,EAAE;oBACL,aAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;iBAC5B;qBAAM;oBACH,aAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;iBAC5B;YACL,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SACjB;IACL,CAAC;IAED;;;;;OAKG;IACI,gCAAS,GAAhB,UAAiB,KAAa,EAAE,MAAmB,EAAE,SAAkB;QACnE,IAAI,mBAAS,CAAC,MAAM,EAAE;YAClB,IAAI,MAAM,GAAG,YAAY,CAAC;YAC1B,IAAI,GAAG,GAAW,cAAc,GAAG,MAAM,IAAG,eAAa,KAAK,oBAAe,SAAS,CAAC,SAAS,CAAC,gBAAW,MAAQ,CAAA,CAAC;YACrH,IAAI,MAAM,IAAI,yBAAW,CAAC,SAAS,EAAE;gBACjC,GAAG,IAAI,kBAAgB,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAG,CAAC;aACrE;YACD,aAAK,CAAC,iBAAiB,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE,IAAI;gBAC5C,IAAI,GAAG,EAAE;oBACL,aAAK,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;iBAC9B;qBAAM;oBACH,aAAK,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;iBAC9B;gBACD,IAAI,CAAC,GAAG,IAAI,MAAM,IAAI,yBAAW,CAAC,SAAS;oBAAE,OAAO;gBACpD,IAAI,GAAG,IAAI,MAAM,IAAI,yBAAW,CAAC,SAAS,EAAE;oBACxC,aAAK,CAAC,OAAO,CAAC,0BAA0B,GAAG,IAAI,CAAC,CAAC;oBACjD,IAAI,IAAI,EAAE;wBACN,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;wBAC9B,IAAI,MAAM,EAAE;4BACR,IAAI,CAAC,aAAK,CAAC,iBAAiB,EAAE;gCAC1B,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;gCAC5B,IAAI,IAAI,CAAC,aAAa,CAAC,gBAAgB,IAAI,IAAI,CAAC,aAAa,CAAC,gBAAgB,IAAI,MAAM,EAAE;oCACtF,aAAK,CAAC,WAAW,GAAG,IAAI,CAAC;iCAC5B;6BACJ;iCAAM;gCACH,EAAE,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;6BAChC;yBACJ;6BAAM;4BACH,aAAK,CAAC,OAAO,CAAC,iCAAiC,CAAC,CAAC;yBACpD;qBACJ;iBACJ;qBAAM;oBACH,aAAK,CAAC,OAAO,CAAC,0BAA0B,CAAC,CAAC;iBAC7C;gBAED,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;oBACrB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;iBAC3D;qBAAM,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC,EAAE;oBAChC,IAAI,IAAI,CAAC,aAAa,CAAC,eAAe;2BAC/B,IAAI,CAAC,aAAa,CAAC,eAAe,IAAI,OAAO,EAAE;wBAClD,eAAe;wBACf,aAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;wBACjC,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC;wBACnE,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC;wBACzE,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC;wBACjE,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,2BAA2B,CAAC;wBACxF,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC;wBACjF,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,gBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC;wBACnF,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC;wBAC/E,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC;wBACtE,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,oBAAoB,GAAG,IAAI,CAAC,YAAY,CAAC,mBAAmB,IAAI,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,oBAAoB,CAAC;wBACrI,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,IAAI,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBACzH;yBAAM;wBACH,aAAK,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;qBAChC;oBACD,IAAI,IAAI,CAAC,YAAY,CAAC,qBAAqB,EAAE;wBACzC,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAC;wBACrD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;4BACrE,aAAK,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;4BACtJ,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,mBAAmB,CAAC,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,CAAC;yBAChJ;qBACJ;iBAEJ;YAEL,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SACjB;IACL,CAAC;IAED;;OAEG;IACH,uCAAgB,GAAhB;QACI,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAAE;YAChC,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAGD;;OAEG;IACH,0CAAmB,GAAnB;QACI,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAAE;YAChC,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAID;;OAEG;IACH,wCAAiB,GAAjB,UAAkB,QAAyB;QAA3C,iBAgDC;QA9CG,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAE;YAC1B,aAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;YAChC,OAAO,KAAK,CAAC;SAChB;QAED,IAAI,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe,EAAE;YACzC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBACvB,IAAI,CAAC,iBAAiB,EAAE,CAAC;aAC5B;YAGD,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CAAC;gBAC/C,QAAQ,EAAE,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe;aACpD,CAAC,CAAA;YAEF,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;gBACzB,aAAK,CAAC,OAAO,CAAC,eAAe,CAAC,CAAA;YAClC,CAAC,CAAC,CAAC;YAEH,4CAA4C;YAC5C,qCAAqC;YACrC,wBAAwB;YACxB,0EAA0E;YAC1E,KAAK;YAEL,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,UAAC,GAAG;gBAC9B,aAAK,CAAC,OAAO,CAAC,eAAe,EAAE,GAAG,CAAC,OAAO,GAAG,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,CAAA;gBAC9D,KAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC;gBAChC,KAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;YACjC,CAAC,CAAC,CAAA;YAEF,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;gBAC9B,KAAI,CAAC,mBAAmB,EAAE,CAAC;gBAE3B,aAAK,CAAC,OAAO,CAAC,eAAe,CAAC,CAAA;gBAC9B,IAAI,QAAQ,EAAE;oBACV,aAAK,CAAC,SAAS,CAAC,kBAAkB,GAAG,QAAQ,CAAC,CAAC;iBAClD;YACL,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU,KAAK;gBACpB,aAAK,CAAC,OAAO,CAAC,eAAe,GAAG,KAAK,CAAC,OAAO,GAAG,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,CAAA;YACvE,CAAC,CAAC,CAAA;SAEL;aAAM;YACH,aAAK,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC;SACzC;IACL,CAAC;IAED,0CAAmB,GAAnB;QACI,IAAI,IAAI,CAAC,YAAY;eACd,IAAI,CAAC,YAAY,CAAC,uBAAuB;eACzC,IAAI,CAAC,YAAY,CAAC,uBAAuB,IAAI,OAAO,EAAE;YACzD,aAAK,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;YACnC,OAAO;SACV;QACD,aAAK,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAC9B,aAAK,CAAC,SAAS,CAAC,kBAAkB,EAAE,CAAC;QACrC,aAAK,CAAC,SAAS,CAAC,uBAAuB,EAAE,CAAC;QAC1C,aAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;IACpC,CAAC;IACD;;MAEE;IACF,2CAAoB,GAApB,UAAqB,MAAkB;QAAvC,iBA+EC;QA/EoB,uBAAA,EAAA,aAAkB;QAEnC,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE,EAAE;YAC7B,aAAK,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC;YACvC,OAAO,KAAK,CAAC;SAChB;QAED,IAAI,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe,EAAE;YAEzC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBACvB,IAAI,CAAC,iBAAiB,EAAE,CAAC;aAC5B;YACD,IAAI,KAAK,GAAQ,EAAE,CAAC;YACpB,IAAI,MAAM,EAAE;gBACR,IAAI,MAAM,CAAC,WAAW,KAAK,UAAU,EAAE;oBACnC,IAAI,MAAM,CAAC,IAAI,IAAI,SAAS,EAAE;wBAC1B,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;qBAC1E;yBAAM,IAAI,MAAM,CAAC,KAAK,IAAI,SAAS,EAAE;wBAClC,KAAK,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;qBAChH;oBAED,IAAI,MAAM,CAAC,MAAM,IAAI,SAAS,EAAE;wBAC5B,KAAK,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;qBAEnH;yBAAM;wBACH,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,GAAG,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;qBAC1E;iBACJ;qBAAM;oBACH,IAAI,MAAM,CAAC,IAAI,IAAI,SAAS,EAAE;wBAC1B,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;qBAC1E;yBAAM,IAAI,MAAM,CAAC,KAAK,IAAI,SAAS,EAAE;wBAClC,KAAK,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;qBAChH;oBAED,IAAI,MAAM,CAAC,MAAM,IAAI,SAAS,EAAE;wBAC5B,KAAK,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;qBACnH;yBAAM;wBACH,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,GAAG,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;qBAC1E;iBACJ;aACJ;YACD,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC;YAC3E,aAAK,CAAC,OAAO,CAAC,uBAAuB,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YAC9D,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CAAC;gBAC/C,QAAQ,EAAE,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe;gBACjD,KAAK,EAAE,KAAK;aACf,CAAC,CAAA;YAEF,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;gBACzB,aAAK,CAAC,OAAO,CAAC,eAAe,CAAC,CAAA;YAClC,CAAC,CAAC,CAAC;YAEH,4CAA4C;YAC5C,qCAAqC;YACrC,wBAAwB;YACxB,0EAA0E;YAC1E,KAAK;YAEL,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,UAAC,GAAG;gBAC9B,aAAK,CAAC,OAAO,CAAC,eAAe,EAAE,GAAG,CAAC,OAAO,GAAG,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,CAAA;gBAC9D,KAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC;gBAChC,KAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;YACjC,CAAC,CAAC,CAAA;YAEF,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;gBAC9B,KAAI,CAAC,mBAAmB,EAAE,CAAC;gBAE3B,aAAK,CAAC,OAAO,CAAC,eAAe,CAAC,CAAA;gBAC9B,IAAI,QAAQ,EAAE;oBACV,aAAK,CAAC,SAAS,CAAC,kBAAkB,GAAG,QAAQ,CAAC,CAAC;iBAClD;YACL,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU,KAAK;gBACpB,aAAK,CAAC,OAAO,CAAC,eAAe,GAAG,KAAK,CAAC,OAAO,GAAG,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,CAAA;YACvE,CAAC,CAAC,CAAA;SAEL;aAAM;YACH,aAAK,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC;SACzC;IACL,CAAC;IAGD;;OAEG;IACH,wCAAiB,GAAjB,UAAkB,QAAmB;QAArC,iBAWC;QAVG,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACvB,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;gBACjC,QAAQ,IAAI,QAAQ,EAAE,CAAC;gBACvB,aAAK,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAA;YACxC,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;gBACX,aAAK,CAAC,OAAO,CAAC,qBAAqB,GAAG,KAAK,CAAC,OAAO,GAAG,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,CAAA;gBACzE,KAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC;YACjC,CAAC,CAAC,CAAA;YACF,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;SAChC;IACL,CAAC;IAGD;;OAEG;IACH,yCAAkB,GAAlB;QAAA,iBAkDC;QAjDG,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAE;YAC1B,aAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;YAChC,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,CAAC,aAAK,CAAC,SAAS,CAAC,eAAe,EAAE,EAAE;YACpC,aAAK,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;YAC9B,OAAO;SACV;QAED,IAAI,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,WAAW,EAAE;YACrC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;gBACxB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CAAC;oBAC/C,QAAQ,EAAE,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,WAAW;iBAChD,CAAC,CAAA;gBACF,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;oBAC9B,KAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,aAAK,CAAC,OAAO,CAAC,YAAY,CAAC,CAAA;gBAC/B,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;oBACX,KAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAA;oBAC/B,KAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;oBAC7B,aAAK,CAAC,OAAO,CAAC,YAAY,GAAG,KAAK,CAAC,OAAO,GAAG,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,CAAA;gBACpE,CAAC,CAAC,CAAA;gBAEF,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;oBACzB,aAAK,CAAC,OAAO,CAAC,eAAe,CAAC,CAAA;oBAC9B,KAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;wBAC9B,aAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAA;oBACpC,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;wBACX,KAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAA;wBAC/B,KAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;wBAC7B,aAAK,CAAC,OAAO,CAAC,iBAAiB,GAAG,KAAK,CAAC,OAAO,GAAG,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,CAAA;oBACzE,CAAC,CAAC,CAAA;gBACN,CAAC,CAAC,CAAA;gBACF,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC;oBAC1B,aAAK,CAAC,OAAO,CAAC,aAAa,CAAC,CAAA;gBAChC,CAAC,CAAC,CAAA;aACL;iBAAM;gBACH,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;oBAC9B,KAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,aAAK,CAAC,OAAO,CAAC,YAAY,CAAC,CAAA;gBAC/B,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;oBACX,KAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAA;oBAC/B,KAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;oBAC7B,aAAK,CAAC,OAAO,CAAC,YAAY,GAAG,KAAK,CAAC,OAAO,GAAG,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,CAAA;gBACpE,CAAC,CAAC,CAAA;aACL;SACJ;aAAM;YACH,aAAK,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;SACtC;IACL,CAAC;IAED;;;;;QAKI;IACG,gCAAS,GAAhB,UAAiB,SAAiB;QAC9B,IAAI,mBAAS,CAAC,MAAM,EAAE;YAClB,IAAI,MAAM,GAAG,UAAU,CAAC;YACxB,IAAI,GAAG,GAAW,cAAc,GAAG,MAAM,IAAG,YAAU,SAAS,CAAC,SAAS,CAAG,CAAA,CAAC;YAC7E,aAAK,CAAC,iBAAiB,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE,IAAI;gBAC5C,IAAI,GAAG,EAAE;oBACL,aAAK,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;iBAC/B;qBAAM;oBACH,aAAK,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;iBAC/B;YACL,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SACjB;IACL,CAAC;IAKD;;;;OAIG;IACI,uCAAgB,GAAvB,UAAwB,MAAM;QAA9B,iBAyCC;QAvCG,IAAI,CAAC,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe,EAAE;YAC1C,aAAK,CAAC,OAAO,CAAC,0BAA0B,CAAC,CAAA;YACzC,OAAO;SACV;QAED,IAAI,IAAI,CAAC,mBAAmB,EAAE,EAAE;YAE5B,IAAI,IAAI,CAAC,aAAa,EAAE;gBACpB,IAAI,CAAC,gBAAgB,EAAE,CAAC;aAC3B;YAED,IAAI,KAAK,GAAQ,EAAE,CAAC;YACpB,IAAI,MAAM,CAAC,MAAM,IAAI,SAAS,EAAE;gBAC5B,KAAK,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;aACnH;iBAAM;gBACH,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,GAAG,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;aAC1E;YACD,aAAK,CAAC,OAAO,CAAC,4BAA4B,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAA;YACnE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CAAC;gBAC5C,QAAQ,EAAE,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,eAAe;gBACjD,KAAK,EAAE,KAAK;aACf,CAAC,CAAA;YAEF,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;gBACtB,aAAK,CAAC,OAAO,CAAC,0BAA0B,CAAC,CAAA;gBACzC,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC/B,CAAC,CAAC,CAAC;YAGH,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;gBAC3B,aAAK,CAAC,OAAO,CAAC,0BAA0B,CAAC,CAAA;gBACzC,KAAI,CAAC,mBAAmB,EAAE,CAAC;YAC/B,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU,KAAK;gBACpB,aAAK,CAAC,OAAO,CAAC,6BAA6B,GAAG,KAAK,CAAC,OAAO,GAAG,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,CAAA;YACrF,CAAC,CAAC,CAAA;SACL;aAAM;YACH,aAAK,CAAC,OAAO,CAAC,+BAA+B,CAAC,CAAA;SACjD;IAEL,CAAC;IAED;;OAEG;IACI,uCAAgB,GAAvB,UAAwB,QAAmB;QACvC,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;gBAC9B,QAAQ,IAAI,QAAQ,EAAE,CAAC;gBACvB,aAAK,CAAC,OAAO,CAAC,0BAA0B,CAAC,CAAA;YAC7C,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU,KAAK;gBACpB,aAAK,CAAC,OAAO,CAAC,6BAA6B,GAAG,KAAK,CAAC,OAAO,GAAG,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,CAAA;gBACjF,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;YAC9B,CAAC,CAAC,CAAA;YACF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;SAC7B;IACL,CAAC;IAGD,cAAc;IACd,8BAAO,GAAP;QACI,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE;YACpB,aAAK,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC;YACtC,OAAO;SACV;QAED,GAAG,CAAC,IAAI,CAAC;YACL,MAAM,EAAE,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO;YACvC,SAAS,EAAE,KAAK;YAChB,KAAK,EAAE,QAAQ;SAClB,CAAC,CAAA;IACN,CAAC;IAED;;;SAGK;IACE,iCAAU,GAAjB,UAAkB,OAAe;QAC7B,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAAE,OAAO;QAC/B,YAAY;QACZ,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC;YACjB,OAAO,EAAE,OAAO;YAChB,SAAS,EAAE,WAAI,OAAO,WAAG,CAAA,OAAO;SACnC,CAAC,CAAA;IACN,CAAC;IAED;;;OAGG;IACK,iCAAU,GAAlB;QACI,IAAI,CAAC,aAAK,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,EAAE;YAClC,OAAO,KAAK,CAAC;SAChB;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IACD;;;;;OAKG;IACI,uCAAgB,GAAvB,UAAwB,OAAe,EAAE,KAAkB;QACvD,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAAE,OAAO;QAE/B,YAAY;QACZ,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC;YACf,OAAO,EAAE,OAAO;YAChB,SAAS,EAAE,WAAI,OAAO,WAAG;YACzB,KAAK,EAAE,KAAK;SACf,CAAC,CAAA;IACN,CAAC;IAGD;;;;OAIG;IACI,oCAAa,GAApB,UAAqB,OAAe,EAAE,MAAO;QACzC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAAE,OAAO;QAE/B,YAAY;QACZ,EAAE,CAAC,GAAG,CAAC,UAAU,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IACvC,CAAC;IAED;;IAEA;IACO,+BAAQ,GAAf;QACI,IAAI,mBAAS,CAAC,MAAM,EAAE;YAClB,aAAK,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC;YACpC,IAAI;gBACA,YAAY;gBACZ,EAAE,CAAC,eAAe,CAAC;oBACf,OAAO,EAAE;wBACL,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;oBACzB,CAAC;oBACD,IAAI,EAAE;wBACF,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;oBACzB,CAAC;oBACD,QAAQ,EAAE;wBACN,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;oBAC3B,CAAC;iBACJ,CAAC,CAAC;aACN;YAAC,OAAO,KAAK,EAAE;gBACZ,EAAE,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;aACnD;SACJ;IACL,CAAC;IAIM,mCAAY,GAAnB;QAAA,iBA6CC;QA5CG,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,OAAO;SACV;QAED,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,yBAAe,CAAC,KAAK,CAAC,UAAC,GAAG;YACtB,KAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAChC,CAAC,CAAC,CAAC;QACH,kCAAkC;QAClC,iCAAiC;QACjC,gCAAgC;QAChC,4CAA4C;QAC5C,mCAAmC;QACnC,sFAAsF;QACtF,iCAAiC;QACjC,mCAAmC;QAEnC,sCAAsC;QACtC,wBAAwB;QACxB,iEAAiE;QACjE,8CAA8C;QAC9C,gHAAgH;QAChH,4FAA4F;QAC5F,wBAAwB;QACxB,oCAAoC;QACpC,gEAAgE;QAChE,oBAAoB;QAEpB,gBAAgB;QAChB,mBAAmB;QACnB,2CAA2C;QAC3C,0CAA0C;QAC1C,YAAY;QACZ,QAAQ;QACR,IAAI;QACJ,0BAA0B;QAC1B,mCAAmC;QACnC,8BAA8B;QAC9B,IAAI;QACJ,wBAAwB;QACxB,mCAAmC;QACnC,8BAA8B;QAE9B,IAAI;IACR,CAAC;IAxxCgB,YAAY;QADhC,OAAO;OACa,YAAY,CA2xChC;IAAD,mBAAC;CA3xCD,AA2xCC,IAAA;kBA3xCoB,YAAY","file":"","sourceRoot":"/","sourcesContent":["import PlatUtils from \"./PlatUtils\";\r\nimport { utils } from \"./Utils\";\r\nimport YouWanAnalytics from \"./YouWanSDK/YouWanAnalytics\";\r\nimport YZ_Constant, { BannerLocation, LevelStatus } from \"./YZ_Constant\";\r\nimport YZ_LocalStorage from \"./YZ_LocalStorage\";\r\n\r\n//@ts-ignore\r\nvar uma = require('./UMengSDK/quickGame/uma.min.js');\r\nconst { ccclass, property } = cc._decorator;\r\n// http://apps.youlesp.com/gss?m=gconfig&uid=xxx&app_id=xxx&channel=xxx&device_uid=xxx\r\n//获取服务器配置\r\nconst ST_ServerUrl: string = \"http://apps.youlesp.com/gss?\";\r\nconst POST_ServerUrl: string = \"http://report.youlesp.com/gss?\";\r\n\r\nlet ST_DefaultServerConfig: string = \"\";\r\n\r\nconst ST_NativeInsertAdClickTimes: string = \"NativeInsertAdClickTimes\";\r\nconst ST_LastDateTime: string = \"LastDateTime\";\r\nconst ST_InsertAdShowCounts: string = \"NativeInsertAdShowCount\"; //插屏显示次数\r\nconst ST_BannerAdCloseCounts: string = \"ST_BannerAdCloseCounts\"; //banner广告关闭次数\r\nconst ST_YZBannerShowCounts: string = \"YZBannerShowCounts\"; //banner广告关闭次数\r\n\r\n\r\n@ccclass\r\nexport default class YZ_Tool_Oppo {\r\n    //@ts-ignore\r\n    qg: any = qg;\r\n    /*\r\n    COREVersion\t    string\t版本号\r\n    brand\t        string\t手机品牌\r\n    language\t    string\t当前环境设置的语言\r\n    model\t        string\t手机型号\r\n    notchHeight\t    number\t凹槽高度(刘海屏高度)\r\n    pixelRatio\t    number\t设备像素比\r\n    platform\t    string\t客户端平台\r\n    platformVersion\tnumber\t平台版本号\r\n    screenHeight\tnumber\t屏幕高度\r\n    screenWidth\t    number\t屏幕宽度\r\n    system\t        string\t操作系统版本\r\n    windowHeight\tnumber\t可使用窗口高度\r\n    windowWidth\t    number\t可使用窗口宽度\r\n    */\r\n    _sysInfo: any = null;\r\n    public get SysInfo() {\r\n        return this._sysInfo;\r\n    }\r\n\r\n    /**\r\n     * 当前版本号\r\n     */\r\n    public gameVersion(): string {\r\n        return utils.config.oppoconfig.version;\r\n    }\r\n\r\n\r\n    //用户来源\r\n    _source: string = \"\";\r\n    /**\r\n    * OPPO服务器配置数据\r\n    * {\r\n    * \r\n-- \"banner_close_full_count_showyz\":\"true\" //banner达到显示次数之后是否显示自定义banner .默认：不填写\r\n--\"native_banner_delay_time\": 1,  //banner和插屏都是原生优先的话，延迟展示banner. 单位：秒 。默认：不填写\r\n-- \"statement_auto_refresh\": 1,   // 结算广告刷新频率。 单位：秒。 默认不填写为3秒。\r\n-- \"is_bottom_banner_list\":\"true\" //是否显示自定义的banner 默认：不填写\r\n-- \"refresh_ad_time\":15 //banner广告刷新的间隔时间。单位：秒 默认：不填写\r\n-- \"close_btn_fade_in_time\":0  //跳过按钮延迟显示的时间。单位：秒  默认：不填写\r\n-- \"st_spare_type\": 4,   // 结算广告备选类型， 当statement_type为1或者2的时候判断是否显示达到限制。达到限制的时候显示当前备选的组件；值 =（3、4、5）。 默认：不填写\r\n-- \"native_banner_delay_time\": 1   //如果banner和插屏都优先展示原生就延迟调用。 单位：秒。默认1秒\r\n-- “intersititial_open_close_banner”:0 ,//插屏显示后是操作Banner, 0 ：为不开启，1:为销毁，2:隐藏   默认：1\r\n--  \"banner_close_count\":0 ,  //banner关闭次数达到限制后不显示   0:不限制次数，>0：限制的次数达到后不再显示banner  默认：5\r\n--  \"st_sync\":\"true\"    //判断结算广告类型为4、5的时候，是否同时显示，默认true\r\n--  \"statement_type\": 1、2、3、4、5\r\n                       一、游戏结算广告展示\r\n                       1.显示默认插屏广告\r\n                       2.显示插屏广告  (默认优先或原生优先，也就是目前展示的规则)\r\n                       3.显示插屏广告+6个互推 (默认优先或原生优先，也就是目前展示的规则)\r\n                       4.显示插屏广告、原生广告（没有互推的单个原生广告） 1：(默认优先或原生优先，也就是目前展示的规则) 2、默认插屏和原生广告同时展示\r\n                       5.显示插屏广告、原生广告（有3个互推+原生的广告） 1、(原生优先或者插屏优先，和同时展示) 2、默认插屏和原生广告同时展示\r\n--  \"intersititial_max_show_count\": 8,   //插屏最大显示次数 默认：8\r\n--  \"intersititial_interval_time\": 60,   //插屏显示间隔数 默认：60\r\n--\t\"intersititial_open_close_banner\": \"true\", //插屏显示的时候是否隐藏banner\r\n--\t\"reward_first_ad\": \"video\", // 激励视频显示优先级别： video：激励视频，insert:激励互推\r\n--\t\"is_reward_intersititia\": \"true\",\r\n--  \"native_single_pos_id\":[],  //单个原生广告ID--用于结算组件\r\n-- \"is_move_btn\":0  //是否开启移动按钮效果 默认不开启 0：显示banner,且按钮在上面。 1: 显示Banner,按钮居底部且移动 3: 大于0的话按照时间移动按钮\r\n\r\n\r\n-- 暂未覆盖其他游戏\r\n--\t\"auto_sign\": \"false\", //是否自动弹出签到 默认：false\r\n--\t\"try_skin_level_count\": 5, // 皮肤试用的关卡数量 默认：5关\r\n\r\n\r\n--\t\"intersititia_delay_show_time\": 0.5,   // 插屏广告延时展示时间/秒 默认值0.5\r\n--\t\"intersititia_close_delay_time\": 1,    // 关闭按钮延时显示时间/秒，默认 1\r\n--\t\"intersititia_close_but_alpha\": 120,   // 关闭按钮alpha, 默认 120\r\n--  \"intersititia_close_but_size\": 100,    // 关闭按钮大小\r\n--  \"intersititia_close_but_range\": 100,   // 关闭按钮点击范围\r\n--  \"intersititial_first_ad\": \"native\",    // 插屏广告优先展示类型 [default 小游戏广告， native 原生广告]\r\n--  \"intersititia_click_count\": 1,         // 插屏广告点击每天次数控制/次数\r\n--\t\"intersititia_show_interval\": 1,       // 插屏广告展示间隔/次数。intersititia_click_count 次数达到后启用\r\n--  \"intersititial_click_close\": \"false\"   // 点击关闭按钮后是否关闭广告， 默认值 false\r\n\r\n--\t\"banner_show_height\": 120,         // 广告条的高度，最低160         \r\n--\t\"banner_close_but_show\": \"true\",   // 是否显示关闭按钮 [true 显示， false 不显示]， 默认值 true\r\n--\t\"banner_close_but_alpha\": 120,     // 关闭按钮alpha,默认 120\r\n--  \"banner_close_but_size\": 33,       // 关闭按钮大小, 默认 33\r\n--  \"banner_close_but_range\": 33,      // 关闭按钮点击范围, 默认 33\r\n--\t\"banner_first_ad\": \"native\",       // 广告优先展示类型[default 小游戏广告， native 原生广告, yzbanner 自定义banner] \r\n--  \"banner_click_refresh\": \"true\",    // 广告点击后是否刷新，默认值 true\r\n\r\n   \"is_local_pos_id\": \"false\",                                 // 是否使用本地广告id\r\n   \"intersititia_pos_id\": \"96292\",                             // 小游戏插屏id\r\n   \"banner_pos_id\": \"96293\",                                   // 小游戏banner id\r\n   \"video_pos_id\": \"96294\",                                    // 小游戏视频id\r\n   \"native_intersititial_pos_id\": [\"96297\", \"96298\"],          // 原生插屏id\r\n   \"native_banner_pos_id\": [\"96295\", \"96296\"],                 // 原生banner id \r\n   \"is_jump\": \"true\",                                          // 是否显示游戏内交叉推广组件，交叉推广挂件刷新频率\r\n   \"jump_list\": [{                                             // 交叉推广挂件内容信息\r\n       \"name\": \"子弹先生狙击战场\",\r\n       \"icon\": \"https://xcx.youletd.com/xcx/icon/zdxsjjzc.png\",\r\n       \"pkg\": \"com.yzxx.zdxsjjzc.kyx.nearme.gamecenter\"\r\n   }, {\r\n       \"name\": \"翻滚的香肠\",\r\n       \"icon\": \"https://xcx.youletd.com/xcx/icon/fgdxc.png\",\r\n       \"pkg\": \"com.yzxx.fgdxc.kyx.nearme.gamecenter\"\r\n   }]\r\n   }\r\n    */\r\n    _serverConfig: any = null;\r\n    public get ServerConfig() {\r\n        return this._serverConfig;\r\n    }\r\n\r\n    _nativeInsertAdClickTimes: number = 0;\r\n    public get NativeInsertAdClickTimes() {\r\n        return this._nativeInsertAdClickTimes;\r\n    }\r\n\r\n    _insertAdShowCounts: number = 0;\r\n    /**\r\n     * 插屏广告展示次数\r\n     */\r\n    public get insertAdShowCounts() {\r\n        return this._insertAdShowCounts;\r\n    }\r\n\r\n    _bannerAdCloseCounts: number = 0;\r\n    /**\r\n     * banner关闭次数\r\n     */\r\n    public get bannerAdCloseCounts() {\r\n        return this._bannerAdCloseCounts;\r\n    }\r\n\r\n    _yzBannerShowCounts: number = 0;\r\n    /**\r\n     * 自定义banner展示次数\r\n     */\r\n    public get yzBannerShowCounts() {\r\n        return this._yzBannerShowCounts;\r\n    }\r\n\r\n\r\n    // 桌面图标是否创建\r\n    _shortcutCreated: boolean = false;\r\n    public get ShortcutCreated() {\r\n        return this._shortcutCreated;\r\n    }\r\n\r\n    //设备UID\r\n    _uid: string = \"0\";\r\n\r\n    public get uid() {\r\n        if (this._uid != \"0\") return this._uid;\r\n        this._login();\r\n        return \"0\";\r\n    }\r\n\r\n    //服务器返回UID\r\n    _service_uid: number = 0;\r\n\r\n    /**\r\n     * 服务器返回UID\r\n     */\r\n    public get serviceId() {\r\n        if (this._service_uid != 0) return this._service_uid;\r\n        this.reportLogin();\r\n        return \"0\";\r\n    }\r\n\r\n    //设备ID\r\n    _device_id = \"\";\r\n\r\n    //本地uuid\r\n    _uuid: string = \"\";\r\n\r\n    //优玩UID\r\n    _yw_uid: number = -1;\r\n\r\n    /**\r\n     * \r\n     * @param data 配置数据\r\n     */\r\n    public init(data: string) {\r\n        if (PlatUtils.IsOPPO) {\r\n\r\n            this.umaInit()\r\n            //@ts-ignore\r\n            this._sysInfo = qg.getSystemInfoSync();\r\n            if (this.SysInfo) {\r\n                utils.showLog(\"OPPO 小游戏平台信息: \" + JSON.stringify(this.SysInfo));\r\n            }\r\n\r\n            if (data) {\r\n                let configObj: any = JSON.parse(data);\r\n                if (configObj && configObj.oppo) {\r\n                    ST_DefaultServerConfig = JSON.stringify(configObj.oppo);\r\n                }\r\n            }\r\n            this._yw_uid = parseInt(YZ_LocalStorage.getItem(YZ_Constant.ST_YOUWAN_UID, \"-1\"));\r\n\r\n\r\n            this._device_id = YZ_LocalStorage.getItem(YZ_Constant.ST_DEVICE_ID);\r\n            if (!this._device_id) {\r\n                cc.game.on(YZ_Constant.YZ_PrivacyClose, () => {\r\n                    this.initDeviceId();\r\n                }, this);\r\n            }\r\n\r\n            //获取小程序启动来源\r\n            if (this.isOverMiniVersion(\"1050\")) {\r\n                //@ts-ignore\r\n                let options = qg.getLaunchOptionsSync();\r\n                options && console.log(\"options>>>\", JSON.stringify(options));\r\n                if (options && options.referrerInfo && options.referrerInfo.package) {\r\n                    utils.showLog(\"获取到小程序启动来源：\" + options.referrerInfo.package);\r\n                    this._source = options.referrerInfo.package;\r\n                }\r\n            } else {\r\n                utils.showLog(`小程序版本低于1050，获取不到小程序启动来源！`);\r\n            }\r\n\r\n            this._login();\r\n            let appId = utils.config.oppoconfig.appID + \"_\";\r\n            this._nativeInsertAdClickTimes = YZ_LocalStorage.getItem(appId + ST_NativeInsertAdClickTimes);\r\n            this._insertAdShowCounts = YZ_LocalStorage.getItem(appId + ST_InsertAdShowCounts);\r\n            this._bannerAdCloseCounts = YZ_LocalStorage.getItem(appId + ST_BannerAdCloseCounts);\r\n            this._yzBannerShowCounts = YZ_LocalStorage.getItem(appId + ST_YZBannerShowCounts);\r\n\r\n            let day: string = YZ_LocalStorage.getItem(appId + ST_LastDateTime);\r\n            let curDate = new Date();\r\n\r\n\r\n            if (day != curDate.toDateString()) {\r\n                this._nativeInsertAdClickTimes = 0;\r\n                this._insertAdShowCounts = 0;\r\n                this._bannerAdCloseCounts = 0;\r\n                this._yzBannerShowCounts = 0;\r\n                YZ_LocalStorage.setItem(appId + ST_YZBannerShowCounts, 0);\r\n                YZ_LocalStorage.setItem(appId + ST_NativeInsertAdClickTimes, 0);\r\n                YZ_LocalStorage.setItem(appId + ST_InsertAdShowCounts, 0);\r\n                YZ_LocalStorage.setItem(appId + ST_LastDateTime, curDate.toDateString());\r\n                YZ_LocalStorage.setItem(YZ_Constant.ST_GET_DEVICE_ID, \"0\");\r\n            }\r\n\r\n\r\n            //@ts-ignore\r\n            utils.registerServerInitEvent(() => {\r\n                //检测桌面图标是否创建\r\n                if (this.isOverMiniVersion(\"1044\")) {\r\n                    this.checkHasShortCut((res) => {\r\n                        if (!res && utils.ServerConfig && utils.ServerConfig.start_auto_create_short_cut_time) {\r\n                            utils.showLog(`组件初始化成功，${utils.ServerConfig.start_auto_create_short_cut_time}秒后弹出自动创建桌面！`)\r\n                            utils.SendEvent(\"组件初始化成功，弹出自动创建桌面！\");\r\n                            setTimeout(() => {\r\n                                this.createShortcut((res) => {\r\n                                    if (res) {\r\n                                        utils.showLog(\"自动创建桌面成功！\");\r\n                                    } else {\r\n                                        utils.showLog(\"自动创建桌面失败！\");\r\n                                    }\r\n                                });\r\n                            }, utils.ServerConfig.start_auto_create_short_cut_time * 1000);\r\n                        }\r\n                    });\r\n                }\r\n\r\n            }, this);\r\n        }\r\n\r\n        this._loadConfig();\r\n\r\n    }\r\n\r\n    _reloadTimes: number = 6;\r\n    _curloadTimes: number = 0;\r\n\r\n    /**\r\n     * 保存服务器配置到本地\r\n     * @param data \r\n     */\r\n    _saveConfig(data: any) {\r\n\r\n    }\r\n\r\n\r\n    _loadConfig() {\r\n        if (PlatUtils.IsOPPO) {\r\n            let method: string = \"m=g\" + `&device_data=${encodeURI(JSON.stringify(this._sysInfo))}`;\r\n            utils.commomHttpRequest(ST_ServerUrl + method, (ret, data) => {\r\n                this._curloadTimes++;\r\n                let recall: boolean = false;\r\n                utils.showLog(`第${this._curloadTimes}次拉取服务器配置!`)\r\n                if (ret) {\r\n                    utils.showLog(\"OPPO服务器配置数据获取成功: data = \" + data);\r\n                    if (data) {\r\n                        let result = JSON.parse(data);\r\n                        if (result) {\r\n                            if (!utils.DebugLoacalConfig) {\r\n                                this._serverConfig = result;\r\n                                if (this._serverConfig.is_show_log_view && this._serverConfig.is_show_log_view == \"true\") {\r\n                                    utils.showLogView = true;\r\n                                }\r\n                            } else {\r\n                                cc.warn(\"开启了本地数据测试，使用本地配置!\");\r\n                            }\r\n                        } else {\r\n                            utils.showLog(\"OPPO服务器配置数据不是合法的JSON数据, 使用本地配置!\");\r\n                        }\r\n                    }\r\n                } else {\r\n                    utils.showLog(\"OPPO服务器配置数据获取失败, 使用本地配置!\");\r\n                    if (this._curloadTimes < this._reloadTimes) {\r\n                        utils.showLog(\"重新拉取配置!\");\r\n                        recall = true;\r\n                    }\r\n                }\r\n\r\n                if (!this._serverConfig) {\r\n                    this._serverConfig = JSON.parse(ST_DefaultServerConfig);\r\n                } else if (this._curloadTimes == 1) {\r\n                    if (this._serverConfig.is_local_pos_id\r\n                        && this._serverConfig.is_local_pos_id == \"false\") {\r\n                        // 使用服务器下发的广告id\r\n                        utils.showLog(\"使用服务器下发的广告id\");\r\n                        utils.config.oppoconfig.bannerId = this.ServerConfig.banner_pos_id;\r\n                        utils.config.oppoconfig.insertId = this.ServerConfig.intersititia_pos_id;\r\n                        utils.config.oppoconfig.videoId = this.ServerConfig.video_pos_id;\r\n                        utils.config.oppoconfig.nativeInsertIds = this.ServerConfig.native_intersititial_pos_id;\r\n                        utils.config.oppoconfig.nativeBannerIds = this.ServerConfig.native_banner_pos_id;\r\n                        utils.config.oppoconfig.nativeTryGameIds = this.ServerConfig.native_trygame_pos_id;\r\n                        utils.config.oppoconfig.recGameBannerId = this.ServerConfig.rec_game_banner_id;\r\n                        utils.config.oppoconfig.recPortalId = this.ServerConfig.rec_portal_id;\r\n                        utils.config.oppoconfig.recGameDrawerId = this.ServerConfig.rec_game_drawer_id || utils.config.oppoconfig.recGameDrawerId;\r\n                        utils.config.oppoconfig.nativeSingleAdIds = this.ServerConfig.native_single_pos_id || utils.config.oppoconfig.nativeSingleAdIds;\r\n                        utils.config.oppoconfig.intersitialAdConfigs = this.ServerConfig.intersitial_configs || utils.config.oppoconfig.intersitialAdConfigs;\r\n                        utils.config.oppoconfig.bannerAdConfigs = this.ServerConfig.banner_configs || utils.config.oppoconfig.bannerAdConfigs;\r\n                    } else {\r\n                        utils.showLog(\"使用本地配置的广告ID\");\r\n                    }\r\n                    if (this.ServerConfig.get_device_id && this.ServerConfig.get_device_id == \"false\") {\r\n                        this.isGetDeviceId = false;\r\n                    }\r\n                    if (this.ServerConfig.native_banner_configs) {\r\n                        for (let i = 0; i < this.ServerConfig.native_banner_configs.length; i++) {\r\n                            utils.showLog(\"获取到原生广告配置:\" + this.ServerConfig.native_banner_configs[i].location, \">>>>\", JSON.stringify(this.ServerConfig.native_banner_configs[i]));\r\n                            utils.config.oppoconfig.setNativeBannerInfo(this.ServerConfig.native_banner_configs[i].location, this.ServerConfig.native_banner_configs[i]);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (this._curloadTimes == 1) {\r\n                    // 只有第一次拉取才会发送事件\r\n                    utils.emitServerInitEvent();\r\n                }\r\n\r\n                if (recall) {\r\n                    this._loadConfig();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 比较当前平台版本是否高于指定的版本号\r\n     * @param miniVersion 最低平台版本号\r\n     */\r\n    public isOverMiniVersion(miniVersion: string) {\r\n        if (PlatUtils.IsOPPO) {\r\n            if (this._sysInfo) {\r\n                utils.showLog(\"curPlatVersion = \" + this._sysInfo.platformVersion + \"miniVersion = \" + miniVersion + \"\" + (this._sysInfo.platformVersion >= miniVersion));\r\n\r\n                return this._sysInfo.platformVersion >= miniVersion;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 验证桌面快捷方式是否创建过\r\n     * @param callBack \r\n     */\r\n    public checkHasShortCut(callBack?: Function) {\r\n        this.qg.hasShortcutInstalled({\r\n            success: (res) => {\r\n                utils.showLog(\"检测桌面快捷方式是否已经创建过: result=\", res);\r\n                if (res == false) {\r\n                    this._shortcutCreated = false;\r\n                    callBack && callBack(false);\r\n                } else {\r\n                    this._shortcutCreated = true;\r\n                    callBack && callBack(true);\r\n                }\r\n            },\r\n            fail: function () {\r\n                utils.showLog(\"检测失败！\");\r\n            },\r\n            complete: function () {\r\n                utils.showLog(\"检测完成！\");\r\n            }\r\n        });\r\n    }\r\n\r\n    public hideDefaultLoadingPage() {\r\n        if (PlatUtils.IsOPPO) {\r\n            //@ts-ignore\r\n            qg.loadingComplete({\r\n                complete: function (res) { }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    public countNativeInserClick() {\r\n        this._nativeInsertAdClickTimes++;\r\n        YZ_LocalStorage.setItem(utils.config.oppoconfig.appID + \"_\" + ST_NativeInsertAdClickTimes, this._nativeInsertAdClickTimes);\r\n    }\r\n\r\n    /**\r\n     * 增加插屏显示的次数\r\n     */\r\n    public countInserShowCount() {\r\n        this._insertAdShowCounts++;\r\n        YZ_LocalStorage.setItem(utils.config.oppoconfig.appID + \"_\" + ST_InsertAdShowCounts, this._insertAdShowCounts);\r\n    }\r\n\r\n    /**\r\n     * 增加banner的关闭次数\r\n     */\r\n    public countBannerCloseCount() {\r\n        this._bannerAdCloseCounts++;\r\n        YZ_LocalStorage.setItem(utils.config.oppoconfig.appID + \"_\" + ST_BannerAdCloseCounts, this._bannerAdCloseCounts);\r\n    }\r\n\r\n    /**\r\n    * 增加自定义banner的显示次数\r\n    */\r\n    public countYzBannerShowCount() {\r\n        this._yzBannerShowCounts++;\r\n        YZ_LocalStorage.setItem(utils.config.oppoconfig.appID + \"_\" + ST_YZBannerShowCounts, this._yzBannerShowCounts);\r\n    }\r\n\r\n\r\n    /**\r\n     * 跳转到指定的小游戏\r\n     * @param pkgName 包名\r\n     * @param callback Function(ret) 跳转回调. ret: true | false\r\n     */\r\n    public navigateToMiniGame(pkgName: string, callback: Function) {\r\n        if (PlatUtils.IsOPPO) {\r\n            let completeCallback: Function = callback;\r\n            //@ts-ignore\r\n            qg.navigateToMiniGame({\r\n                pkgName: pkgName,\r\n                success: function () {\r\n                    utils.showLog(\"跳转成功！\");\r\n                    if (completeCallback) {\r\n                        completeCallback(true);\r\n                    }\r\n                },\r\n                fail: function (res) {\r\n                    utils.showLog(\"跳转失败！\");\r\n                    if (completeCallback) {\r\n                        completeCallback(false);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 是否可以创建桌面图标\r\n     */\r\n    public canCreateShortcut() {\r\n        if (PlatUtils.IsOPPO) {\r\n            return this.isOverMiniVersion(\"1040\");\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    /**\r\n     * 创建桌面快捷方式\r\n     */\r\n    public createShortcut(callback: Function) {\r\n        if (PlatUtils.IsOPPO) {\r\n            let callbackFunc = callback;\r\n            let self = this;\r\n            //@ts-ignore\r\n            qg.installShortcut({\r\n                success: function () {\r\n                    utils.showLog('桌面图标创建成功！');\r\n                    self._shortcutCreated = true;\r\n                    if (callbackFunc) {\r\n                        callbackFunc(true);\r\n                    }\r\n                },\r\n                fail: function (err) {\r\n                    utils.showLog(\"createShortcut >>>fail\");\r\n                    if (callbackFunc) {\r\n                        callbackFunc(false);\r\n                    }\r\n                },\r\n                complete: function () {\r\n                    utils.showLog(\"createShortcut >>>complete\");\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 上报数据\r\n     */\r\n    public postData(otherGameAppId: string) {\r\n        if (PlatUtils.IsOPPO) {\r\n            let method = \"m=rjump\";\r\n            let url: string = POST_ServerUrl + method + `&jump_app_id=${otherGameAppId}`;\r\n            // utils.showLog(\"上报数据, url=\" + url);\r\n            utils.commomHttpRequest(url, function (ret, data) {\r\n                if (ret) {\r\n                    utils.showLog(\"数据上报成功！\");\r\n                } else {\r\n                    utils.showLog(\"数据上报失败！\");\r\n                }\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 上报数据\r\n     * \r\n     */\r\n    public postGameSourece(source: string) {\r\n        if (PlatUtils.IsOPPO) {\r\n            let appid: string = utils.config.oppoconfig.appID;\r\n            let uid: string = this._uid;\r\n            let channel: string = utils.config.oppoconfig.channel ? utils.config.oppoconfig.channel.toLowerCase() : \"oppo\";\r\n            let url = POST_ServerUrl + `kyx=true&app_id=${appid}&channel=${channel}&uid=${this._uid}&source=${source}`;\r\n\r\n            // let url: string = `http://apps.youlesp.com/gs?m=jump&app_id=${appid}&uid=${uid}&channel=${channel}&jump_app_id=${otherGameAppId}`;\r\n            utils.showLog(\"上报游戏来源数据, url=\" + url);\r\n            utils.commomHttpRequest(url, function (ret, data) {\r\n                if (ret) {\r\n                    utils.showLog(\"数据上报成功！\");\r\n                } else {\r\n                    utils.showLog(\"数据上报失败！\");\r\n                }\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n\r\n    _loginTime: number = 0;\r\n    _loginInterval: number = 30;\r\n    _login() {\r\n\r\n        let curTime: number = new Date().getTime();\r\n        let interval: number = (curTime - this._loginTime) / 1000;\r\n        if (interval > 0 && interval < this._loginInterval) {\r\n            utils.showLog(`登录请求间隔小于：${this._loginInterval}秒`);\r\n            return;\r\n        }\r\n        this._loginTime = curTime;\r\n        let self = this;\r\n\r\n        this._uid = YZ_LocalStorage.getItem(YZ_Constant.ST_UID);\r\n        this._uid = this._uid ? this._uid : \"0\";\r\n\r\n        this._service_uid = YZ_LocalStorage.getItem(YZ_Constant.ST_SERVICE_UID);\r\n        this._service_uid = this._service_uid ? this._service_uid : 0;\r\n        utils.showLog(\"获取本地保存的uid=\" + this._uid + \"，服务器UID=\" + this._service_uid);\r\n\r\n        if (this._uid == \"0\") {\r\n            if (this.isOverMiniVersion(\"1040\")) {\r\n                //@ts-ignore\r\n                qg.login({\r\n                    success: function (res) {\r\n                        if (res.data.uid) {\r\n                            self._uid = \"\" + res.data.uid;\r\n                            utils.showLog(\"登录成功! uid=\" + self._uid);\r\n                            YZ_LocalStorage.setItem(YZ_Constant.ST_UID, self._uid);\r\n                        }\r\n                    },\r\n                    fail: function (res) {\r\n                        utils.showLog(\"登录失败!\");\r\n                    },\r\n                    complete: () => {\r\n                        this.reportLogin();\r\n                    }\r\n                });\r\n\r\n            } else {\r\n                utils.showLog(\"快游戏平台版本低于1040，无法登录取UID，直接获取服务器ID\");\r\n                this.reportLogin();\r\n            }\r\n\r\n        } else {\r\n            let ysxy = YZ_LocalStorage.getItem(YZ_Constant.YZ_GAME_YSXY);\r\n            if (ysxy) {\r\n                this.initDeviceId();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    //是否获取deviceId\r\n    private isGetDeviceId: boolean = true;\r\n\r\n    public initDeviceId(): void {\r\n        utils.showLog(\"oppo initDeviceId!  #isGetDeviceId=\" + this.isGetDeviceId);\r\n\r\n        let todayIsGet = YZ_LocalStorage.getItem(YZ_Constant.ST_GET_DEVICE_ID, \"0\");\r\n        //@ts-ignore\r\n        if (this.isGetDeviceId && qg.getDeviceId && todayIsGet == 0) {\r\n            YZ_LocalStorage.setItem(YZ_Constant.ST_GET_DEVICE_ID, \"1\");\r\n\r\n            //@ts-ignore\r\n            qg.getDeviceId({\r\n                success: (data) => {\r\n                    utils.showLog(`getDeviceId success: deviceId=${data.deviceId}`);\r\n                    this._device_id = data.deviceId;\r\n                    YZ_LocalStorage.setItem(YZ_Constant.ST_DEVICE_ID, data.deviceId);\r\n                    this.reportDevice();\r\n                },\r\n                fail: function (data, code) {\r\n                    utils.showLog(`getDeviceId fail, code = ${code}`);\r\n                },\r\n            });\r\n        } else {\r\n            this.reportDevice();\r\n        }\r\n\r\n    }\r\n    _reportLoginTime: number = 0;\r\n    _reportLoginInterval: number = 30;\r\n    isReport: boolean = false;\r\n\r\n    /**\r\n     * 上报登录接口获取UID\r\n     */\r\n    async reportLogin() {\r\n        utils.showLog(\"reportLogin >>>>>>>>>>>\");\r\n        if (this.isReport) return;\r\n        this.isReport = true;\r\n\r\n\r\n        let self = this;\r\n        let curTime: number = new Date().getTime();\r\n        let interval: number = (curTime - this._reportLoginTime) / 1000;\r\n        if (interval > 0 && interval < this._reportLoginInterval) {\r\n            utils.showLog(`上报登录获取UID小于：${this._reportLoginInterval}秒`);\r\n            return;\r\n        }\r\n        this._reportLoginTime = curTime;\r\n        let method = \"m=login\";\r\n        let url: string = ST_ServerUrl + method + `&device_data=${encodeURI(JSON.stringify(this._sysInfo))}`;\r\n\r\n        utils.commomHttpRequest(url, (ret, data) => {\r\n            if (ret) {\r\n                if (data) {\r\n                    let result = JSON.parse(data);\r\n                    if (result.uid) {\r\n                        self._service_uid = result.uid;\r\n                        utils.showLog(\"服务器请求登录成功! _service_uid=\" + self._service_uid);\r\n                        YZ_LocalStorage.setItem(YZ_Constant.ST_SERVICE_UID, self._service_uid);\r\n                    }\r\n\r\n                }\r\n            }\r\n            this.isReport = false;\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 获取交叉推广数据\r\n     */\r\n    public getRecommondGameList() {\r\n        if (PlatUtils.IsOPPO && utils.oppoTool && utils.oppoTool.ServerConfig) {\r\n            return utils.oppoTool.ServerConfig.jump_list;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public showMsg(msg: string) {\r\n        if (PlatUtils.IsOPPO) {\r\n            //@ts-ignore\r\n            qg.showToast({\r\n                title: `${msg}`,\r\n                icon: 'none',\r\n                duration: 2000\r\n            })\r\n        }\r\n    }\r\n    /**\r\n       * 弹出提示框\r\n       * @param msg 消息\r\n       */\r\n    public showToast(msg: string) {\r\n        if (PlatUtils.IsOPPO) {\r\n            //@ts-ignore\r\n            qg.showToast({\r\n                title: msg,\r\n                icon: \"none\",\r\n                duration: 2000\r\n            })\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 上报互推组件数据\r\n     * @param otherGameAppId 跳转的ID\r\n     * @param location 当前位置\r\n     * @param status 0:点击，1:跳转成功\r\n     */\r\n    public postDataByLocation(otherGameAppId: string, location: string, status: number = 0) {\r\n        if (PlatUtils.IsOPPO) {\r\n\r\n            let method = \"m=rjump\";\r\n            let url: string = POST_ServerUrl + method + `&jump_app_id=${otherGameAppId}&location=${location}&status=${status}`\r\n            // utils.showLog(\"上报数据, url=\" + url);\r\n\r\n            utils.commomHttpRequest(url, function (ret, data) {\r\n                if (ret) {\r\n                    let result = JSON.parse(data);\r\n                    utils.showLog(`数据上报成功`);\r\n\r\n                    if (result && result.jump_list && result.jump_list.length > 0) {\r\n                        utils.oppoTool.ServerConfig.jump_list = result.jump_list;\r\n                    }\r\n                } else {\r\n                    utils.showLog(\"数据上报失败！\");\r\n                }\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    /**\r\n    * 上报互推组件显示位置\r\n    * @param otherGameAppId 跳转的ID\r\n    * @param location 当前位置\r\n    * @param status 0:点击，1:跳转成功\r\n    */\r\n    public postRecommentShowData(location: string) {\r\n        if (PlatUtils.IsOPPO) {\r\n            let method = \"m=rjumpshow\";\r\n            let url: string = POST_ServerUrl + method + `&location=${location}`;\r\n            // utils.showLog(\"上报数据, url=\" + url);\r\n            utils.commomHttpRequest(url, function (ret, data) {\r\n                if (ret) {\r\n                    utils.showLog(\"数据上报成功！\");\r\n                } else {\r\n                    utils.showLog(\"数据上报失败！\");\r\n                }\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 上报关卡数据\r\n     * @param level 当前关卡ID\r\n     * @param levelName 关卡名称\r\n     * @param status 状态\r\n     */\r\n    public postLevel(level: string, status: LevelStatus, levelName?: string) {\r\n        if (PlatUtils.IsOPPO) {\r\n            let method = \"m=rlevelv3\";\r\n            let url: string = POST_ServerUrl + method + `&level_id=${level}&level_name=${encodeURI(levelName)}&status=${status}`;\r\n            if (status == LevelStatus.GameStart) {\r\n                url += `&device_data=${encodeURI(JSON.stringify(this._sysInfo))}`;\r\n            }\r\n            utils.commomHttpRequest(url, function (ret, data) {\r\n                if (ret) {\r\n                    utils.showLog(\"关卡数据上报成功！\");\r\n                } else {\r\n                    utils.showLog(\"关卡数据上报失败！\");\r\n                }\r\n                if (!ret || status != LevelStatus.GameStart) return;\r\n                if (ret && status == LevelStatus.GameStart) {\r\n                    utils.showLog(\"OPPO服务器配置数据获取成功: data = \" + data);\r\n                    if (data) {\r\n                        let result = JSON.parse(data);\r\n                        if (result) {\r\n                            if (!utils.DebugLoacalConfig) {\r\n                                this._serverConfig = result;\r\n                                if (this._serverConfig.is_show_log_view && this._serverConfig.is_show_log_view == \"true\") {\r\n                                    utils.showLogView = true;\r\n                                }\r\n                            } else {\r\n                                cc.warn(\"开启了本地数据测试，使用本地配置!\");\r\n                            }\r\n                        } else {\r\n                            utils.showLog(\"OPPO服务器配置数据不是合法的JSON数据, 使用本地配置!\");\r\n                        }\r\n                    }\r\n                } else {\r\n                    utils.showLog(\"OPPO服务器配置数据获取失败, 使用本地配置!\");\r\n                }\r\n\r\n                if (!this._serverConfig) {\r\n                    this._serverConfig = JSON.parse(ST_DefaultServerConfig);\r\n                } else if (this._curloadTimes == 1) {\r\n                    if (this._serverConfig.is_local_pos_id\r\n                        && this._serverConfig.is_local_pos_id == \"false\") {\r\n                        // 使用服务器下发的广告id\r\n                        utils.showLog(\"使用服务器下发的广告id 22\");\r\n                        utils.config.oppoconfig.bannerId = this.ServerConfig.banner_pos_id;\r\n                        utils.config.oppoconfig.insertId = this.ServerConfig.intersititia_pos_id;\r\n                        utils.config.oppoconfig.videoId = this.ServerConfig.video_pos_id;\r\n                        utils.config.oppoconfig.nativeInsertIds = this.ServerConfig.native_intersititial_pos_id;\r\n                        utils.config.oppoconfig.nativeBannerIds = this.ServerConfig.native_banner_pos_id;\r\n                        utils.config.oppoconfig.nativeTryGameIds = this.ServerConfig.native_trygame_pos_id;\r\n                        utils.config.oppoconfig.recGameBannerId = this.ServerConfig.rec_game_banner_id;\r\n                        utils.config.oppoconfig.recPortalId = this.ServerConfig.rec_portal_id;\r\n                        utils.config.oppoconfig.intersitialAdConfigs = this.ServerConfig.intersitial_configs || utils.config.oppoconfig.intersitialAdConfigs;\r\n                        utils.config.oppoconfig.bannerAdConfigs = this.ServerConfig.banner_configs || utils.config.oppoconfig.bannerAdConfigs;\r\n                    } else {\r\n                        utils.showLog(\"使用本地配置的广告ID\");\r\n                    }\r\n                    if (this.ServerConfig.native_banner_configs) {\r\n                        utils.config.oppoconfig.nativeBannerInfos.length = 0;\r\n                        for (let i = 0; i < this.ServerConfig.native_banner_configs.length; i++) {\r\n                            utils.showLog(\"获取到原生广告配置:\" + this.ServerConfig.native_banner_configs[i].location, \">>>>\", JSON.stringify(this.ServerConfig.native_banner_configs[i]));\r\n                            utils.config.oppoconfig.setNativeBannerInfo(this.ServerConfig.native_banner_configs[i].location, this.ServerConfig.native_banner_configs[i]);\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 是否支持互推\r\n     */\r\n    canShowRecommend() {\r\n        if (this.isOverMiniVersion(\"1076\")) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    /**\r\n     * 是否支持新的互推\r\n     */\r\n    canShowNewRecommend() {\r\n        if (this.isOverMiniVersion(\"1090\")) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    _rec_is_banner: boolean = false;\r\n    _rec_game_banner: any = null;\r\n    /**\r\n     * 展示OPPO互推banner\r\n     */\r\n    showOppoRecBanner(location?: BannerLocation) {\r\n\r\n        if (!this.canShowRecommend()) {\r\n            utils.showLog(\"当前版本不支持显示官方互推！\");\r\n            return false;\r\n        }\r\n\r\n        if (utils.config.oppoconfig.recGameBannerId) {\r\n            this._rec_is_banner = true;\r\n            if (this._rec_game_banner) {\r\n                this.hideOppoRecBanner();\r\n            }\r\n\r\n\r\n            this._rec_game_banner = this.qg.createGameBannerAd({\r\n                adUnitId: utils.config.oppoconfig.recGameBannerId\r\n            })\r\n\r\n            this._rec_game_banner.onLoad(() => {\r\n                utils.showLog('互推banner加载成功!')\r\n            });\r\n\r\n            // this._rec_game_banner.show().then(() => {\r\n            //     utils.showLog('互推banner展示成功！')\r\n            // }).catch((error) => {\r\n            //     utils.showLog('互推banner展示失败:' + error.errCode + ',' + error.errMsg)\r\n            // })\r\n\r\n            this._rec_game_banner.onError((err) => {\r\n                utils.showLog('互推banner加载异常!', err.errCode + ',' + err.errMsg)\r\n                this._rec_game_banner.destroy();\r\n                this._rec_game_banner = null;\r\n            })\r\n\r\n            this._rec_game_banner.show().then(() => {\r\n                this.showRecHideNativeAd();\r\n\r\n                utils.showLog('互推banner展示成功！')\r\n                if (location) {\r\n                    utils.SendEvent(\"互推Banner展示成功，位置：\" + location);\r\n                }\r\n            }).catch(function (error) {\r\n                utils.showLog('互推banner展示失败:' + error.errCode + ',' + error.errMsg)\r\n            })\r\n\r\n        } else {\r\n            utils.showLog(\"OPPO 互推banner ID未配置！\");\r\n        }\r\n    }\r\n\r\n    showRecHideNativeAd() {\r\n        if (this.ServerConfig\r\n            && this.ServerConfig.show_rec_hide_native_ad\r\n            && this.ServerConfig.show_rec_hide_native_ad == \"false\") {\r\n            utils.showLog(\"互推展示成功之后不执行隐藏原生广告\");\r\n            return;\r\n        }\r\n        utils.adManager.HideBanner(0);\r\n        utils.adManager.HideSingleNativeAd();\r\n        utils.adManager.hideNativeTryGameWidget();\r\n        utils.showLog(\"互推展示成功之后隐藏原生广告\");\r\n    }\r\n    /**\r\n    * 展示OPPO互推banner\r\n    */\r\n    showOppoNewRecBanner(params: any = null) {\r\n\r\n        if (!this.canShowNewRecommend()) {\r\n            utils.showLog(\"当前版本不支持显示官方新互推Banner！\");\r\n            return false;\r\n        }\r\n\r\n        if (utils.config.oppoconfig.recGameBannerId) {\r\n\r\n            this._rec_is_banner = false;\r\n            if (this._rec_game_banner) {\r\n                this.hideOppoRecBanner();\r\n            }\r\n            let style: any = {};\r\n            if (params) {\r\n                if (params.orientation === \"vertical\") {\r\n                    if (params.left != undefined) {\r\n                        style.left = params.left / cc.winSize.width * this.SysInfo.screenWidth;\r\n                    } else if (params.right != undefined) {\r\n                        style.left = (this.SysInfo.screenWidth - 155) - (params.right / cc.winSize.width * this.SysInfo.screenWidth);\r\n                    }\r\n\r\n                    if (params.bottom != undefined) {\r\n                        style.top = (this.SysInfo.screenHeight - 720) - (params.bottom / cc.winSize.height * this.SysInfo.screenHeight);\r\n\r\n                    } else {\r\n                        style.top = params.top / cc.winSize.height * this.SysInfo.screenHeight;\r\n                    }\r\n                } else {\r\n                    if (params.left != undefined) {\r\n                        style.left = params.left / cc.winSize.width * this.SysInfo.screenWidth;\r\n                    } else if (params.right != undefined) {\r\n                        style.left = (this.SysInfo.screenWidth - 720) - (params.right / cc.winSize.width * this.SysInfo.screenWidth);\r\n                    }\r\n\r\n                    if (params.bottom != undefined) {\r\n                        style.top = (this.SysInfo.screenHeight - 200) - (params.bottom / cc.winSize.height * this.SysInfo.screenHeight);\r\n                    } else {\r\n                        style.top = params.top / cc.winSize.height * this.SysInfo.screenHeight;\r\n                    }\r\n                }\r\n            }\r\n            style.orientation = params.orientation ? params.orientation : \"horizontal\";\r\n            utils.showLog(\"rec banner style>>>>>\", JSON.stringify(style));\r\n            this._rec_game_banner = this.qg.createGameBannerAd({\r\n                adUnitId: utils.config.oppoconfig.recGameBannerId,\r\n                style: style\r\n            })\r\n\r\n            this._rec_game_banner.onLoad(() => {\r\n                utils.showLog('互推banner加载成功!')\r\n            });\r\n\r\n            // this._rec_game_banner.show().then(() => {\r\n            //     utils.showLog('互推banner展示成功！')\r\n            // }).catch((error) => {\r\n            //     utils.showLog('互推banner展示失败:' + error.errCode + ',' + error.errMsg)\r\n            // })\r\n\r\n            this._rec_game_banner.onError((err) => {\r\n                utils.showLog('互推banner加载异常!', err.errCode + ',' + err.errMsg)\r\n                this._rec_game_banner.destroy();\r\n                this._rec_game_banner = null;\r\n            })\r\n\r\n            this._rec_game_banner.show().then(() => {\r\n                this.showRecHideNativeAd();\r\n\r\n                utils.showLog('互推banner展示成功！')\r\n                if (location) {\r\n                    utils.SendEvent(\"互推Banner展示成功，位置：\" + location);\r\n                }\r\n            }).catch(function (error) {\r\n                utils.showLog('互推banner展示失败:' + error.errCode + ',' + error.errMsg)\r\n            })\r\n\r\n        } else {\r\n            utils.showLog(\"OPPO 互推banner ID未配置！\");\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 隐藏互推banner\r\n     */\r\n    hideOppoRecBanner(callBack?: Function) {\r\n        if (this._rec_game_banner) {\r\n            this._rec_game_banner.destroy().then(() => {\r\n                callBack && callBack();\r\n                utils.showLog('OPPO 互推banner 隐藏成功！')\r\n            }).catch((error) => {\r\n                utils.showLog('OPPO 互推banner 隐藏失败:' + error.errCode + ',' + error.errMsg)\r\n                this._rec_game_banner.hide();\r\n            })\r\n            this._rec_game_banner = null;\r\n        }\r\n    }\r\n\r\n    _rec_game_portal: any = null;\r\n    /**\r\n     * 展示OPPO九宫格\r\n     */\r\n    showOppoGamePortal() {\r\n        if (!this.canShowRecommend()) {\r\n            utils.showLog(\"当前版本不支持显示官方互推！\");\r\n            return false;\r\n        }\r\n        if (!utils.adManager.checkShowAdTime()) {\r\n            utils.showLog(\"显示广告条时间未达限制！\");\r\n            return;\r\n        }\r\n\r\n        if (utils.config.oppoconfig.recPortalId) {\r\n            if (!this._rec_game_portal) {\r\n                this._rec_game_portal = this.qg.createGamePortalAd({\r\n                    adUnitId: utils.config.oppoconfig.recPortalId\r\n                })\r\n                this._rec_game_portal.load().then(() => {\r\n                    this.showRecHideNativeAd();\r\n                    utils.showLog('九宫格互推加载成功！')\r\n                }).catch((error) => {\r\n                    this._rec_game_portal.destroy()\r\n                    this._rec_game_portal = null;\r\n                    utils.showLog('九宫格互推加载失败:' + error.errCode + ',' + error.errMsg)\r\n                })\r\n\r\n                this._rec_game_portal.onLoad(() => {\r\n                    utils.showLog('互推盒子九宫格广告加载成功')\r\n                    this._rec_game_portal.show().then(() => {\r\n                        utils.showLog('互推盒子九宫格广告-显示成功！')\r\n                    }).catch((error) => {\r\n                        this._rec_game_portal.destroy()\r\n                        this._rec_game_portal = null;\r\n                        utils.showLog('互推盒子九宫格广告-显示失败:' + error.errCode + ',' + error.errMsg)\r\n                    })\r\n                })\r\n                this._rec_game_portal.onClose(function () {\r\n                    utils.showLog('互推盒子九宫格广告关闭')\r\n                })\r\n            } else {\r\n                this._rec_game_portal.load().then(() => {\r\n                    this.showRecHideNativeAd();\r\n                    utils.showLog('九宫格互推加载成功！')\r\n                }).catch((error) => {\r\n                    this._rec_game_portal.destroy()\r\n                    this._rec_game_portal = null;\r\n                    utils.showLog('九宫格互推加载失败:' + error.errCode + ',' + error.errMsg)\r\n                })\r\n            }\r\n        } else {\r\n            utils.showLog(\"OPPO 互推九宫格 ID未配置！\");\r\n        }\r\n    }\r\n\r\n    /**\r\n      * 上报自定义事件\r\n      * @param level 当前关卡ID\r\n      * @param levelName 关卡名称\r\n      * @param status 状态\r\n      */\r\n    public sendEvent(eventName: string) {\r\n        if (PlatUtils.IsOPPO) {\r\n            let method = \"m=revent\";\r\n            let url: string = POST_ServerUrl + method + `&event=${encodeURI(eventName)}`;\r\n            utils.commomHttpRequest(url, function (ret, data) {\r\n                if (ret) {\r\n                    utils.showLog(\"上报自定义事件成功！\");\r\n                } else {\r\n                    utils.showLog(\"上报自定义事件失败！\");\r\n                }\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n\r\n\r\n    _gameDrawerAd: any = null;\r\n    /**\r\n     * 显示互推盒子广告\r\n     * @param top 顶部距离\r\n     * @returns \r\n     */\r\n    public showGameDrawerAd(params): void {\r\n\r\n        if (!utils.config.oppoconfig.recGameDrawerId) {\r\n            utils.showLog('服务器没有配置互推抽屉样式的ID，请反馈给运营！')\r\n            return;\r\n        }\r\n\r\n        if (this.canShowNewRecommend()) {\r\n\r\n            if (this._gameDrawerAd) {\r\n                this.hideGameDrawerAd();\r\n            }\r\n\r\n            let style: any = {};\r\n            if (params.bottom != undefined) {\r\n                style.top = (this.SysInfo.screenHeight - 490) - (params.bottom / cc.winSize.height * this.SysInfo.screenHeight);\r\n            } else {\r\n                style.top = params.top / cc.winSize.height * this.SysInfo.screenHeight;\r\n            }\r\n            utils.showLog(\" rec game drawer style >>>\" + JSON.stringify(style))\r\n            this._gameDrawerAd = this.qg.createGameDrawerAd({\r\n                adUnitId: utils.config.oppoconfig.recGameDrawerId,\r\n                style: style\r\n            })\r\n\r\n            this._gameDrawerAd.onShow(function () {\r\n                utils.showLog('showGameDrawerAd success')\r\n                this.showRecHideNativeAd();\r\n            });\r\n\r\n\r\n            this._gameDrawerAd.show().then(() => {\r\n                utils.showLog('showGameDrawerAd success')\r\n                this.showRecHideNativeAd();\r\n            }).catch(function (error) {\r\n                utils.showLog('showGameDrawerAd fail with:' + error.errCode + ',' + error.errMsg)\r\n            })\r\n        } else {\r\n            utils.showLog('快应用平台版本号低于1090，暂不支持互推盒子相关 API')\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 隐藏抽屉盒子\r\n     */\r\n    public hideGameDrawerAd(callBack?: Function): void {\r\n        if (this._gameDrawerAd) {\r\n            this._gameDrawerAd.destroy().then(function () {\r\n                callBack && callBack();\r\n                utils.showLog('hideGameDrawerAd success')\r\n            }).catch(function (error) {\r\n                utils.showLog('hideGameDrawerAd fail with:' + error.errCode + ',' + error.errMsg)\r\n                this._gameDrawerAd.hide();\r\n            })\r\n            this._gameDrawerAd = null;\r\n        }\r\n    }\r\n\r\n\r\n    /**友盟sdk初始化 */\r\n    umaInit() {\r\n        if (!this.checkUmeng()) {\r\n            utils.showLog(\"友盟ID未配置，不执行友盟初始化>>>>\");\r\n            return;\r\n        }\r\n\r\n        uma.init({\r\n            appKey: utils.config.oppoconfig.umengId,\r\n            useOpenid: false,\r\n            debug: CC_DEBUG\r\n        })\r\n    }\r\n\r\n    /**\r\n       * 友盟游戏开始上报\r\n       * @param levelID \r\n       */\r\n    public umaOnStart(levelID: string) {\r\n        if (!this.checkUmeng()) return;\r\n        //@ts-ignore\r\n        qg.uma.stage.onStart({\r\n            stageId: levelID,//该字段名称不可修改，必传\r\n            stageName: `第${levelID}关`// 关卡id\r\n        })\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @returns 是否开启友盟 \r\n     */\r\n    private checkUmeng(): boolean {\r\n        if (!utils.config.oppoconfig.umengId) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    /**\r\n     * 友盟结算上报\r\n     * @param levelID 关卡id\r\n     * @param stageId \r\n     * @param event \r\n     */\r\n    public umaReportedLevel(levelID: string, event: LevelStatus) {\r\n        if (!this.checkUmeng()) return;\r\n\r\n        //@ts-ignore\r\n        qg.uma.stage.onEnd({\r\n            stageId: levelID,//该字段名称不可修改，必传\r\n            stageName: `第${levelID}关`,\r\n            event: event\r\n        })\r\n    }\r\n\r\n\r\n    /**\r\n     * 友盟自定义事件\r\n     * @param eventId 事件ID，注意：事件ID必须要在后台配置\r\n     * @param params 事件内容\r\n     */\r\n    public umaTrackEvent(eventId: string, params?) {\r\n        if (!this.checkUmeng()) return;\r\n\r\n        //@ts-ignore\r\n        qg.uma.trackEvent(eventId, params);\r\n    }\r\n\r\n    /**\r\n  * 退出游戏\r\n  */\r\n    public GameExit() {\r\n        if (PlatUtils.IsOPPO) {\r\n            utils.showLog(\"tool oppo GameExit\");\r\n            try {\r\n                //@ts-ignore\r\n                qg.exitApplication({\r\n                    success: () => {\r\n                        console.log(\"退出成功！\");\r\n                    },\r\n                    fail: () => {\r\n                        console.log(\"退出失败！\");\r\n                    },\r\n                    complete: () => {\r\n                        console.log(\"退出执行完成！\");\r\n                    }\r\n                });\r\n            } catch (error) {\r\n                cc.log(\"GameExit erro:\", JSON.stringify(error));\r\n            }\r\n        }\r\n    }\r\n\r\n    isReportDevice: boolean = false;\r\n\r\n    public reportDevice() {\r\n        if (this.isReportDevice) {\r\n            return;\r\n        }\r\n\r\n        this.isReportDevice = true;\r\n        YouWanAnalytics.login((res) => {\r\n            this.isReportDevice = false;\r\n        });\r\n        // let xhr = new XMLHttpRequest();\r\n        // xhr.timeout = 6000;    // 单位毫秒\r\n        // xhr.open('POST', requestUrl);\r\n        // xhr.send(`data=${JSON.stringify(data)}`);\r\n        // xhr.onreadystatechange = () => {\r\n        //     utils.showLog(\"请求状态改变, reaedyState=\", xhr.readyState, \"; status=\", xhr.status);\r\n        //     if (xhr.readyState == 4) {\r\n        //         if (xhr.status == 200) {\r\n\r\n        //             if (xhr.responseText) {\r\n        //                 try {\r\n        //                     let result = JSON.parse(xhr.responseText);\r\n        //                     if (result.code == 0) {\r\n        //                         utils.showLog(\"上报设备ID成功! >>result:\" + xhr.responseText + \" #uid=\" + result.data.uid);\r\n        //                         localStorage.setItem(YZ_Constant.ST_YOUWAN_UID, result.data.uid);\r\n        //                     }\r\n        //                 } catch (error) {\r\n        //                     utils.showLog(\"上报设备ID失败，#erro=\" + error);\r\n        //                 }\r\n\r\n        //             }\r\n        //         } else {\r\n        //             this.isReportDevice = false;\r\n        //             utils.showLog(\"上报设备ID失败!\");\r\n        //         }\r\n        //     }\r\n        // }\r\n        // xhr.ontimeout = () => {\r\n        //     this.isReportDevice = false;\r\n        //     utils.showLog(\"请求超时!\");\r\n        // }\r\n        // xhr.onerror = () => {\r\n        //     this.isReportDevice = false;\r\n        //     utils.showLog(\"请求异常!\");\r\n\r\n        // }\r\n    }\r\n\r\n\r\n}\r\n"]}