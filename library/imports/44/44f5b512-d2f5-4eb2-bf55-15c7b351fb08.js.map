{"version":3,"sources":["assets\\common-plugin\\Scripts\\TryGamesWidget.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACA,iCAAgC;AAE1B,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA4C,kCAAY;IAAxD;QAAA,qEAsDC;QApDG,kBAAY,GAAgB,IAAI,CAAC;QACjC,aAAO,GAAY,KAAK,CAAC;;IAmD7B,CAAC;IAjDG,+BAAM,GAAN;QAEI,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,sBAAsB,CAAC,aAAa,CAAC,CAAC;QAC/D,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IAC1C,CAAC;IAED,iCAAQ,GAAR;QAAA,iBAIC;QAHG,aAAK,CAAC,uBAAuB,CAAC;YAC1B,KAAI,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;IAED,kCAAS,GAAT;QACI,aAAK,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC;IAC1C,CAAC;IAED,oCAAW,GAAX;QACI,IAAI,IAAI,CAAC,OAAO;YAAE,OAAO;QAGzB,IAAI,SAAS,GAAY,IAAI,CAAC;QAC9B,IAAI,IAAI,GAAQ,aAAK,CAAC,qBAAqB,EAAE,CAAC;QAC9C,IAAI,IAAI,EAAE;YAEN,IAAI,IAAI,CAAC,SAAS,EAAE;gBAChB,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC,EAAE;oBAC5B,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;oBAC9B,SAAS,GAAG,KAAK,CAAC;iBACrB;aACJ;iBAAM;gBACH,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;gBAC3B,SAAS,GAAG,KAAK,CAAC;aACrB;SACJ;aAAM;YACH,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACvB,SAAS,GAAG,KAAK,CAAC;SACrB;QAED,IAAI,SAAS,EAAE;YACX,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,aAAK,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,mBAAmB,EAAE,IAAI,CAAC,iBAAiB,EAAE,WAAW,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;YACrG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACxC;aAAM;YACH,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;SACvB;IACL,CAAC;IAnDgB,cAAc;QADlC,OAAO;OACa,cAAc,CAsDlC;IAAD,qBAAC;CAtDD,AAsDC,CAtD2C,EAAE,CAAC,SAAS,GAsDvD;kBAtDoB,cAAc","file":"","sourceRoot":"/","sourcesContent":["import TryGameNode from \"./TryGameNode\";\r\nimport { utils } from \"./Utils\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class TryGamesWidget extends cc.Component {\r\n\r\n    _tryGameNode: TryGameNode = null;\r\n    _isInit: boolean = false;\r\n\r\n    onLoad() {\r\n\r\n        this._tryGameNode = this.getComponentInChildren(\"TryGameNode\");\r\n        this._tryGameNode.node.active = false;\r\n    }\r\n\r\n    onEnable() {\r\n        utils.registerServerInitEvent(() => {\r\n            this._initWidget();\r\n        }, this);\r\n    }\r\n\r\n    onDisable() {\r\n        utils.unregisterServerInitEvent(this);\r\n    }\r\n\r\n    _initWidget() {\r\n        if (this._isInit) return;\r\n\r\n\r\n        let dataValid: boolean = true;\r\n        let data: any = utils.getInnerRecommendData();\r\n        if (data) {\r\n\r\n            if (data.jump_list) {\r\n                if (data.jump_list.length <= 0) {\r\n                    cc.warn(\"字段jump_list的长度不合法！\");\r\n                    dataValid = false;\r\n                }\r\n            } else {\r\n                cc.warn(\"字段jump_list不存在！\");\r\n                dataValid = false;\r\n            }\r\n        } else {\r\n            cc.warn(\"交叉推广数据为null\");\r\n            dataValid = false;\r\n        }\r\n\r\n        if (dataValid) {\r\n            this._isInit = true;\r\n            utils.showLog(\"交叉推广数据:\", JSON.stringify(data));\r\n            this._tryGameNode.init({ \"jump_refresh_time\": data.jump_refresh_time, \"jump_list\": data.jump_list });\r\n            this._tryGameNode.node.active = true;\r\n        } else {\r\n            this.node.destroy();\r\n        }\r\n    }\r\n\r\n\r\n}\r\n"]}