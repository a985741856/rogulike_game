{"version":3,"sources":["assets\\scripts\\UI\\UITurntablePage.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { utils } from \"../../common-plugin/Scripts/Utils\";\r\nimport { cocosz } from \"../Framework/CocosZ\";\r\nimport Constant, { PageName, PanelName } from \"../Framework/Constant\";\r\nimport Msg from \"../Framework/Msg\";\r\nimport TweenEffect from \"../Framework/TweenEffect\";\r\nimport UIPage from \"../Framework/UIPage\";\r\nimport GameDate, { RewardType } from \"../Game/gameDate\";\r\nimport Weapon from \"../Game/weapon\";\r\n// @ts-ignore\r\nconst i18n = require('LanguageData');\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class UITurntablePanel extends UIPage {\r\n\r\n    constructor() {\r\n        super(PanelName.UITurntablePanel);\r\n        this.isValid() && this.onLoad();\r\n    }\r\n\r\n    private _panel: cc.Node = null;\r\n    private _rewardList: cc.Node = null;\r\n    private _totalLabel: cc.Label = null;\r\n    private _btnCJ: cc.Node = null;\r\n    private _btnAD: cc.Node = null;\r\n\r\n    protected onLoad(): void {\r\n        this._panel = this._page.getChildByName(\"panel\");\r\n        this._rewardList = this._panel.getChildByName(\"rewardList\");\r\n        this._totalLabel = this._panel.getChildByName(\"totalLabel\").getComponent(cc.Label);\r\n\r\n\r\n        const btnNames: string[] = [\"BtnBack\", \"BtnCJ\", \"BtnAD\"];\r\n        for (let i = 0; i < btnNames.length; i++) {\r\n            const btn: cc.Node = this._panel.getChildByName(btnNames[i]);\r\n            if (btn) {\r\n                btn.on(cc.Node.EventType.TOUCH_END, this._onBtnClickHandler, this);\r\n                if (btnNames[i] == \"BtnCJ\") {\r\n                    this._btnCJ = btn;\r\n                } else if (btnNames[i] == \"BtnAD\") {\r\n                    this._btnAD = btn;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    protected onOpen(): void {\r\n        // 上报 首页抽奖\r\n        utils.umaEvent(\"gamechoujiang\");\r\n        utils.SendEvent(\"页面-抽奖\");\r\n        this._panel.scale = 0;\r\n        cc.tween(this._panel).to(0.3, { scale: 0.8 }, { easing: \"backOut\" }).start();\r\n        // TweenEffect.panel_open_scale(this._panel);\r\n\r\n        cc.tween(this._page.getChildByName(\"guang\"))\r\n            .by(0.5, { angle: 60, opacity: -150 })\r\n            .by(0.5, { angle: 60, opacity: 150 })\r\n            .union()\r\n            .repeatForever()\r\n            .start();\r\n\r\n        this._totalLabel.string = `${cocosz.totalCJTimes > 30 ? 30 : cocosz.totalCJTimes}/30`;\r\n        if (cocosz.totalCJTimes > 30 || cocosz.dataMgr.getGunInfo(10).State > 0) { this._panel.getChildByName(\"w_nnp\").color = cc.Color.GRAY; }\r\n        this.updateReward();\r\n        this.updateBtn();\r\n    }\r\n\r\n\r\n    updateReward() {\r\n        for (let i = 0; i < 12; i++) {\r\n            let str = `reward${i + 1}`;\r\n            let reward = this._rewardList.getChildByName(str);\r\n            if (GameDate.TurntableReward[i].type == RewardType.Gold) {\r\n                let gold = reward.getChildByName(\"gold\");\r\n                if (gold) {\r\n                    gold.active = true;\r\n                    // gold.setPosition(reward.x + gold.x, reward.y + gold.y);\r\n                    // gold.setParent(this._rewardList);\r\n                }\r\n                let label = reward.getChildByName(\"label\");\r\n                if (label) {\r\n                    label.active = true;\r\n                    label.zIndex = 2;\r\n                    label.setPosition(reward.x + label.x, reward.y + label.y);\r\n                    label.setParent(this._rewardList);\r\n                    label.getComponent(cc.Label).string = `+${GameDate.TurntableReward[i].num}`;\r\n                }\r\n            }\r\n            else if (GameDate.TurntableReward[i].type == RewardType.Diamond) {\r\n                let diamond = reward.getChildByName(\"diamond\");\r\n                if (diamond) {\r\n                    diamond.active = true;\r\n                    // diamond.setPosition(reward.x + diamond.x, reward.y + diamond.y);\r\n                    // diamond.setParent(this._rewardList);\r\n                }\r\n                let label = reward.getChildByName(\"label\");\r\n                if (label) {\r\n                    label.active = true;\r\n                    label.zIndex = 2;\r\n                    label.setPosition(reward.x + label.x, reward.y + label.y);\r\n                    label.setParent(this._rewardList);\r\n                    label.getComponent(cc.Label).string = `+${GameDate.TurntableReward[i].num}`;\r\n                }\r\n            }\r\n            else if (GameDate.TurntableReward[i].type == RewardType.Skin) {\r\n                let ani = cc.instantiate(cocosz.resMgr.getRes(`skin${GameDate.TurntableReward[i].num}`, cc.Prefab) as cc.Prefab);\r\n                if (ani) {\r\n                    ani.scale = 0.5;\r\n                    ani.zIndex = 1;\r\n                    ani.setParent(this._rewardList);\r\n                    ani.setPosition(reward.x, reward.y - 65);\r\n                }\r\n                let nameSpr = reward.getChildByName(\"nameSpr\");\r\n                if (nameSpr) {\r\n                    nameSpr.active = true;\r\n                    nameSpr.zIndex = 2;\r\n                    nameSpr.setPosition(reward.x + nameSpr.x, reward.y + nameSpr.y);\r\n                    nameSpr.setParent(this._rewardList);\r\n                    nameSpr.getComponent(cc.Sprite).spriteFrame = cocosz.resMgr.getRes(`p_${GameDate.TurntableReward[i].num}`, cc.SpriteFrame);\r\n                }\r\n                if (cocosz.dataMgr.getSkinInfo(GameDate.TurntableReward[i].num - 1).State != 0) {\r\n                    let mask = this._rewardList.getChildByName(`mask${i + 1}`);\r\n                    if (mask) {\r\n                        mask.active = true;\r\n                        mask.zIndex = 3;\r\n                    }\r\n                }\r\n            }\r\n            else if (GameDate.TurntableReward[i].type == RewardType.Weapon) {\r\n                let node = new cc.Node;\r\n                let str = \"w_\" + Weapon.WeaponName[GameDate.TurntableReward[i].num];\r\n                node.addComponent(cc.Sprite).spriteFrame = cocosz.resMgr.getRes(str, cc.SpriteFrame);\r\n                node.setParent(this._rewardList)\r\n                node.setPosition(reward.x, reward.y);\r\n                let nameSpr = reward.getChildByName(\"nameSpr\");\r\n                if (nameSpr) {\r\n                    nameSpr.active = true;\r\n                    nameSpr.zIndex = 2;\r\n                    nameSpr.setPosition(reward.x + nameSpr.x, reward.y + nameSpr.y);\r\n                    nameSpr.setParent(this._rewardList);\r\n                    nameSpr.getComponent(cc.Sprite).spriteFrame = cocosz.resMgr.getRes(`w_${GameDate.TurntableReward[i].num + 1}`, cc.SpriteFrame);\r\n                }\r\n                if (cocosz.dataMgr.getGunInfo(GameDate.TurntableReward[i].num).State != 0) {\r\n                    let mask = this._rewardList.getChildByName(`mask${i + 1}`);\r\n                    if (mask) {\r\n                        mask.active = true;\r\n                        mask.zIndex = 3;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    startNum: number = 0;\r\n    CJ() {\r\n        // 上报 首页抽奖\r\n        utils.umaEvent(`gamechoujiang${cocosz.useCJTimes}`);\r\n        this.isCJ = true;\r\n        let num = 20;\r\n        num += Math.floor(Math.random() * 12);\r\n        let count = 0;\r\n        let lastNum = this.startNum;\r\n        let cur = 0;\r\n        cocosz.audioMgr.playEffect(\"turntable\");\r\n        let timeCount = setInterval(() => {\r\n            count++;\r\n            if (this.getTimeCount(count, cur) == 0) {\r\n                this._rewardList.children[lastNum].children[0].opacity = 0;\r\n                lastNum++;\r\n                if (lastNum >= 12) {\r\n                    lastNum = 0;\r\n                }\r\n                if (GameDate.TurntableReward[lastNum].type == RewardType.Skin) {\r\n                    if (cocosz.dataMgr.getSkinInfo(GameDate.TurntableReward[lastNum].num - 1).State != 0) {\r\n                        lastNum++;\r\n                        if (lastNum >= 12) {\r\n                            lastNum = 0;\r\n                        }\r\n                    }\r\n                }\r\n                else if (GameDate.TurntableReward[lastNum].type == RewardType.Weapon) {\r\n                    if (cocosz.dataMgr.getGunInfo(GameDate.TurntableReward[lastNum].num).State != 0) {\r\n                        lastNum++;\r\n                        if (lastNum >= 12) {\r\n                            lastNum = 0;\r\n                        }\r\n                    }\r\n                }\r\n                cur++;\r\n                this._rewardList.children[lastNum].children[0].opacity = 255;\r\n                if (cur >= num) {\r\n                    this.startNum = lastNum;\r\n                    clearInterval(timeCount);\r\n                    if (GameDate.TurntableReward[lastNum].type == RewardType.Gold) {\r\n                        Msg.Show(i18n.t(\"msg.gxhdjb\") + GameDate.TurntableReward[lastNum].num)\r\n                        cocosz.dataMgr.CoinCount += GameDate.TurntableReward[lastNum].num;\r\n                    }\r\n                    else if (GameDate.TurntableReward[lastNum].type == RewardType.Diamond) {\r\n                        Msg.Show(i18n.t(\"msg.gxhdzs\") + GameDate.TurntableReward[lastNum].num)\r\n                        cocosz.dataMgr.DiamondCount += GameDate.TurntableReward[lastNum].num;\r\n\r\n                    }\r\n                    else if (GameDate.TurntableReward[lastNum].type == RewardType.Skin) {\r\n                        Msg.Show(i18n.t(\"msg.gxhdxjs\"));\r\n                        cocosz.dataMgr.CurSkinId = GameDate.TurntableReward[lastNum].num - 1;\r\n                        cc.game.emit(Constant.E_GAME_LOGIC, { type: Constant.E_CJ_SKIN });\r\n                        this._rewardList.children[lastNum].children[0].opacity = 0;\r\n                        this._rewardList.getChildByName(`mask6`).active = true;\r\n                        this._rewardList.getChildByName(`mask6`).zIndex = 3;\r\n                    }\r\n                    else {\r\n                        Msg.Show(i18n.t(\"msg.gxhdxwq\"));\r\n                        cocosz.dataMgr.curWeapon = GameDate.TurntableReward[lastNum].num;\r\n                        cc.game.emit(Constant.E_GAME_LOGIC, { type: Constant.E_CJ_Weapon });\r\n                        this._rewardList.children[lastNum].children[0].opacity = 0;\r\n                        this._rewardList.getChildByName(`mask12`).active = true;\r\n                        this._rewardList.getChildByName(`mask12`).zIndex = 3;\r\n                    }\r\n                    this.isCJ = false;\r\n\r\n                    cocosz.useCJTimes++;\r\n                    cocosz.totalCJTimes++;\r\n                    this._totalLabel.string = `${cocosz.totalCJTimes > 30 ? 30 : cocosz.totalCJTimes}/30`;\r\n                    if (cocosz.totalCJTimes == 30 && cocosz.dataMgr.getGunInfo(10).State == 0) {\r\n                        Msg.Show(i18n.t(\"msg.gxhdnnp\"));//恭喜获得武器鸟鸟炮\r\n                        cocosz.dataMgr.curWeapon = 10;\r\n                        this._panel.getChildByName(\"w_nnp\").color = cc.Color.GRAY;\r\n                        cc.game.emit(Constant.E_GAME_LOGIC, { type: Constant.E_CJ_Weapon });\r\n                    }\r\n                    this.updateBtn();\r\n                }\r\n            }\r\n        }, 10)\r\n    }\r\n\r\n\r\n    startIntervalTime: number = 10;\r\n    addTime: number = 1;\r\n    getTimeCount(num1: number, num2: number) {\r\n        let num = 0;\r\n        for (let i = 0; i < num2; i++) {\r\n            num += i * this.addTime;\r\n        }\r\n\r\n        return (num1 - num) % (this.startIntervalTime + num2 * this.addTime);\r\n    }\r\n\r\n    updateBtn() {\r\n        if (cocosz.isADON && cocosz.useCJTimes >= Constant.commonCJTimes/*  + cocosz.getCJTimes */) {\r\n            this._btnCJ.active = false;\r\n            this._btnAD.active = true;\r\n        } else {\r\n            this._btnCJ.active = true;\r\n            this._btnAD.active = false;\r\n        }\r\n    }\r\n\r\n    isCJ: boolean = false;\r\n    protected async _onBtnClickHandler(event: cc.Event.EventTouch) {\r\n        await cocosz.audioMgr.playBtnEffect().catch();\r\n        if (this.isCJ) return;\r\n        switch (event.target.name) {\r\n            case \"BtnBack\": {\r\n                cocosz.uiMgr.closePanel(PanelName.UITurntablePanel);\r\n                break;\r\n            }\r\n            case \"BtnCJ\": {\r\n                this.CJ();\r\n                break;\r\n            }\r\n            case \"BtnAD\": {\r\n                utils.SendEvent(\"视频-抽奖-播放\")\r\n                cocosz.watchAD(() => {\r\n                    utils.SendEvent(\"视频-抽奖-成功\")\r\n                    this.CJ();\r\n                }, () => {\r\n                    utils.SendEvent(\"视频-抽奖-失败\")\r\n                })\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    // update (dt) {}\r\n}\r\n"]}