{"version":3,"sources":["assets\\common-plugin\\Scripts\\YZ_Tool_Bili.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,yCAAoC;AACpC,iCAAgC;AAG1B,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAE5C;;GAEG;AAEH;IAAA;QAEC,aAAQ,GAAQ,EAAE,CAAC;QAMnB;;OAEE;QACF,kBAAa,GAAQ,IAAI,CAAC;IA0D3B,CAAC;IAlEA,sBAAW,iCAAO;aAAlB;YACC,OAAO,IAAI,CAAC,QAAQ,CAAC;QACtB,CAAC;;;OAAA;IAOD,sBAAW,sCAAY;aAAvB;YACC,OAAO,IAAI,CAAC,aAAa,CAAC;QAC3B,CAAC;;;OAAA;IAGD;;;OAGG;IACI,2BAAI,GAAX,UAAY,IAAY;QACvB,IAAI,mBAAS,CAAC,MAAM,EAAE;YAErB,cAAc;YACd,0CAA0C;YAC1C,oCAAoC;YACpC,2DAA2D;YAC3D,KAAK;YACL,IAAI;YACJ,aAAK,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;YAC/B,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,aAAK,CAAC,mBAAmB,EAAE,CAAC;SAC5B;IAEF,CAAC;IAED;;;OAGG;IACI,4BAAK,GAAZ,UAAa,QAAyB;QAAzB,yBAAA,EAAA,eAAyB;QACrC,YAAY;QACZ,EAAE,CAAC,eAAe,CAAC;YAClB,KAAK,EAAE,aAAK,CAAC,MAAM,CAAC,WAAW,CAAC,UAAU;YAC1C,QAAQ,EAAE,aAAK,CAAC,MAAM,CAAC,WAAW,CAAC,WAAW;YAC9C,OAAO,EAAE;gBACR,aAAK,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;gBAC5B,QAAQ,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAA;YAC3B,CAAC;YACD,IAAI,EAAE;gBACL,aAAK,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;gBAC5B,QAAQ,IAAI,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;YACtC,CAAC;SACD,CAAC,CAAA;IACH,CAAC;IAID;;OAEG;IACI,qCAAc,GAArB;QACC,IAAI,mBAAS,CAAC,MAAM,EAAE;YACrB,YAAY;YACZ,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,iBAAiB,EAAE,CAAC;SACvC;IACF,CAAC;IAnEmB,YAAY;QADhC,OAAO;OACa,YAAY,CAqEhC;IAAD,mBAAC;CArED,AAqEC,IAAA;kBArEoB,YAAY","file":"","sourceRoot":"/","sourcesContent":["import PlatUtils from \"./PlatUtils\";\r\nimport { utils } from \"./Utils\";\r\nimport YZ_Constant, { LevelStatus } from \"./YZ_Constant\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n/**\r\n * 哔哩工具类\r\n */\r\n@ccclass\r\nexport default class YZ_Tool_Bili {\r\n\r\n\t_sysInfo: any = {};\r\n\tpublic get SysInfo() {\r\n\t\treturn this._sysInfo;\r\n\t}\r\n\r\n\r\n\t/**\r\n * 服务器配置信息\r\n */\r\n\t_serverConfig: any = null;\r\n\tpublic get ServerConfig() {\r\n\t\treturn this._serverConfig;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * \r\n\t * @param data 配置数据\r\n\t */\r\n\tpublic init(data: string) {\r\n\t\tif (PlatUtils.IsBili) {\r\n\r\n\t\t\t// if (data) {\r\n\t\t\t// \tlet configObj: any = JSON.parse(data);\r\n\t\t\t// \tif (configObj && configObj.uc) {\r\n\t\t\t// \t\tST_DefaultServerConfig = JSON.stringify(configObj.uc);\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\t\t\tutils.showLog(\"哔哩 平台初始化完成 >>\");\r\n\t\t\tthis.initSystemInfo();\r\n\t\t\tutils.emitServerInitEvent();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * 分享\r\n\t * @param callback 回调\r\n\t */\r\n\tpublic share(callback: Function = null) {\r\n\t\t//@ts-ignore\r\n\t\tbl.shareAppMessage({\r\n\t\t\ttitle: utils.config.otherconfig.shareTitle,\r\n\t\t\timageUrl: utils.config.otherconfig.shareImgUrl,\r\n\t\t\tsuccess: () => {\r\n\t\t\t\tutils.showLog(\"bili 分享成功！\");\r\n\t\t\t\tcallback && callback(true)\r\n\t\t\t},\r\n\t\t\tfail: () => {\r\n\t\t\t\tutils.showLog(\"bili 分享失败！\");\r\n\t\t\t\tcallback && callback(false, \"分享失败！\");\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\r\n\r\n\t/**\r\n\t * 初始化获取系统信息参数\r\n\t */\r\n\tpublic initSystemInfo() {\r\n\t\tif (PlatUtils.IsBili) {\r\n\t\t\t//@ts-ignore\r\n\t\t\tthis._sysInfo = bl.getSystemInfoSync();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n"]}