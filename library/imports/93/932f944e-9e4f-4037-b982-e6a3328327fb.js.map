{"version":3,"sources":["assets\\common-plugin\\Scripts\\NativeTryGamesWidget.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACA,iCAAgC;AAEhC,yCAAoC;AAE9B,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAkD,wCAAY;IAA9D;QAAA,qEAmDC;QAjDG,kBAAY,GAAsB,IAAI,CAAC;QACvC,eAAS,GAAY,IAAI,CAAC;;IAgD9B,CAAC;IA9CG,qCAAM,GAAN;QACI,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,sBAAsB,CAAC,mBAAmB,CAAC,CAAC;QACrE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACtC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;IACvE,CAAC;IAED,mCAAI,GAAJ;QAEI,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACpB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,sBAAsB,CAAC,mBAAmB,CAAC,CAAC;YACrE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;SACtE;QAGD,IAAI,aAAK,CAAC,0BAA0B,EAAE,EAAE;YACpC,IAAI,SAAS,GAAY,IAAI,CAAC;YAC9B,IAAI,aAAK,CAAC,WAAW,EAAE;gBACnB,IAAI,aAAK,CAAC,WAAW,CAAC,MAAM,IAAI,CAAC,EAAE;oBAC/B,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;oBACtB,SAAS,GAAG,KAAK,CAAC;iBACrB;aACJ;iBAAM;gBACH,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBACnB,SAAS,GAAG,KAAK,CAAC;aACrB;YAED,aAAK,CAAC,OAAO,CAAC,gBAAgB,GAAG,SAAS,CAAC,CAAC;YAC5C,IAAI,SAAS,EAAE;gBACX,aAAK,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,aAAK,CAAC,WAAW,CAAC,CAAC,CAAC;gBAC5D,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,mBAAmB,EAAE,aAAK,CAAC,YAAY,CAAC,gBAAgB,EAAE,WAAW,EAAE,aAAK,CAAC,WAAW,EAAE,CAAC,CAAC;gBACrH,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACrC,IAAI,mBAAS,CAAC,QAAQ,EAAE;oBACpB,aAAK,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAA;oBACjC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;iBAChC;aACJ;iBAAM;gBACH,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;aACzC;SACJ;aAAM;YACH,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SACzC;IACL,CAAC;IAED,oCAAK,GAAL;QACI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;IACvC,CAAC;IAlDgB,oBAAoB;QADxC,OAAO;OACa,oBAAoB,CAmDxC;IAAD,2BAAC;CAnDD,AAmDC,CAnDiD,EAAE,CAAC,SAAS,GAmD7D;kBAnDoB,oBAAoB","file":"","sourceRoot":"/","sourcesContent":["import TryGameNode from \"./TryGameNode\";\nimport { utils } from \"./Utils\";\nimport NativeTryGameNode from \"./NativeTryGameNode\";\nimport PlatUtils from \"./PlatUtils\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NativeTryGamesWidget extends cc.Component {\n\n    _tryGameNode: NativeTryGameNode = null;\n    _btnClose: cc.Node = null;\n\n    onLoad() {\n        this._tryGameNode = this.getComponentInChildren(\"NativeTryGameNode\");\n        this._tryGameNode.node.active = false;\n        this._btnClose = this._tryGameNode.node.getChildByName(\"BtnClose\");\n    }\n\n    init() {\n\n        if (!this._tryGameNode) {\n            this._tryGameNode = this.getComponentInChildren(\"NativeTryGameNode\");\n            this._btnClose = this._tryGameNode.node.getChildByName(\"BtnClose\");\n        }\n\n\n        if (utils.isShowNativeTryGamesWidget()) {\n            let dataValid: boolean = true;\n            if (utils.tryGameDate) {\n                if (utils.tryGameDate.length <= 0) {\n                    cc.warn(\"res的长度不合法！\");\n                    dataValid = false;\n                }\n            } else {\n                cc.warn(\"res不存在！\");\n                dataValid = false;\n            }\n\n            utils.showLog(\"原生抖动dataValid：\" + dataValid);\n            if (dataValid) {\n                utils.showLog(\"交叉推广数据:\", JSON.stringify(utils.tryGameDate));\n                this._tryGameNode.init({ \"jump_refresh_time\": utils.ServerConfig.icon_jump_native, \"jump_list\": utils.tryGameDate });\n                this._tryGameNode.node.active = true;\n                if (PlatUtils.IsHuaWei) {\n                    utils.showLog(\"华为平台，显示关闭按钮>>>>>\")\n                    this._btnClose.active = true;\n                }\n            } else {\n                this._tryGameNode.node.active = false;\n            }\n        } else {\n            this._tryGameNode.node.active = false;\n        }\n    }\n\n    close() {\n        this._tryGameNode.node.opacity = 0;\n    }\n}\n"]}