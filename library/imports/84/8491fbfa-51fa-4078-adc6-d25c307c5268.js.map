{"version":3,"sources":["assets\\common-plugin\\Scripts\\YZ_ShortcutWidget.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,mDAA8C;AAExC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA+C,qCAAY;IAA3D;QAAA,qEAsDC;QApDG,YAAM,GAAY,IAAI,CAAC;QACvB,cAAQ,GAAY,IAAI,CAAC;QACzB,eAAS,GAAa,IAAI,CAAC;;IAkD/B,CAAC;IAjDG,sBAAW,uCAAQ;aAAnB,UAAoB,KAAe;YAC/B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QAC3B,CAAC;;;OAAA;IAED,kCAAM,GAAN;QACI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAChD,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QACpD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,aAAa,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,wBAAc,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,wBAAc,CAAC,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5J,CAAC;IAED,oCAAQ,GAAR;QAAA,iBASC;QAPG,aAAK,CAAC,uBAAuB,CAAC;YAC1B,IAAI,CAAC,aAAK,CAAC,0BAA0B,EAAE,EAAE;gBACrC,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;aACvB;iBAAM;gBACH,KAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;aAC7B;QACL,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;IAED,qCAAS,GAAT;QACI,aAAK,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC;IAC1C,CAAC;IAED,6CAAiB,GAAjB,UAAkB,KAAU,EAAE,IAAS;QAAvC,iBAqBC;QApBG,QAAQ,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE;YACvB,KAAK,cAAc,CAAC,CAAC;gBACjB,IAAI,aAAK,CAAC,iBAAiB,EAAE,EAAE;oBAC3B,aAAK,CAAC,cAAc,CAAC,UAAC,GAAG;wBACrB,IAAI,GAAG,EAAE;4BACL,aAAK,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;4BAC3B,IAAI,KAAI,CAAC,SAAS,EAAE;gCAChB,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;6BACxB;yBACJ;6BAAM;4BACH,aAAK,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;4BAC3B,IAAI,KAAI,CAAC,SAAS,EAAE;gCAChB,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;6BACzB;yBACJ;oBACL,CAAC,CAAC,CAAC;iBACN;gBACD,MAAM;aACT;SACJ;IACL,CAAC;IApDgB,iBAAiB;QADrC,OAAO;OACa,iBAAiB,CAsDrC;IAAD,wBAAC;CAtDD,AAsDC,CAtD8C,EAAE,CAAC,SAAS,GAsD1D;kBAtDoB,iBAAiB","file":"","sourceRoot":"/","sourcesContent":["import { utils } from \"./Utils\";\r\nimport CompatibleTool from \"./CompatibleTool\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class YZ_ShortcutWidget extends cc.Component {\r\n\r\n    _panel: cc.Node = null;\r\n    _handImg: cc.Node = null;\r\n    _callback: Function = null;\r\n    public set Callback(value: Function) {\r\n        this._callback = value;\r\n    }\r\n\r\n    onLoad() {\r\n        this._panel = this.node.getChildByName(\"Panel\");\r\n        this._panel.active = false;\r\n        this._handImg = cc.find(\"Panel/handImg\", this.node);\r\n        this._handImg.runAction(cc.repeatForever(cc.sequence(cc.moveBy(0.5, CompatibleTool.position(0, -50)), cc.moveBy(0.5, CompatibleTool.position(0, 50)))));\r\n    }\r\n\r\n    onEnable() {\r\n\r\n        utils.registerServerInitEvent(() => {\r\n            if (!utils.isShowCreateShortcutWidget()) {\r\n                this.node.destroy();\r\n            } else {\r\n                this._panel.active = true;\r\n            }\r\n        }, this);\r\n    }\r\n\r\n    onDisable() {\r\n        utils.unregisterServerInitEvent(this);\r\n    }\r\n\r\n    onBtnClickHandler(event: any, data: any) {\r\n        switch (event.target.name) {\r\n            case \"Btn_Shortcut\": {\r\n                if (utils.canCreateShortcut()) {\r\n                    utils.createShortcut((ret) => {\r\n                        if (ret) {\r\n                            utils.showLog(\"快捷方式创建成功！\");\r\n                            if (this._callback) {\r\n                                this._callback(true);\r\n                            }\r\n                        } else {\r\n                            utils.showLog(\"快捷方式创建失败！\");\r\n                            if (this._callback) {\r\n                                this._callback(false);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n"]}