{"version":3,"sources":["assets\\scripts\\Framework\\GameLevel.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAElF,mCAAkC;AAClC,uCAAiD;AAE3C,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAuC,6BAAY;IAAnD;QAAA,qEA+DC;QA9DG,eAAS,GAAa,IAAI,CAAC;QAE3B,cAAQ,GAAa,IAAI,CAAC;QAE1B,eAAS,GAAY,CAAC,CAAC;QAEvB,gBAAU,GAAgB,EAAE,CAAC;;IAwDjC,CAAC;IAtDa,yBAAK,GAAf;QACI,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;QACvD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QACrD,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,UAAU,EAAC;YACzB,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,CAAA;QACtC,CAAC,CAAC,CAAC;QAEH,KAAK,IAAI,CAAC,GAAY,CAAC,EAAG,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC/G,IAAI,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC3F,IAAI,IAAI,GAAG,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;YAC5C,IAAI,GAAG,GAAG,SAAS,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;YAC7C,8BAA8B;YAE9B,IAAI,SAAS,GAAG,eAAM,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC;YACxD,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YACvB,4BAA4B;YAC5B,IAAG,SAAS,CAAC,KAAK,IAAI,CAAC,EAAC;gBACpB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;aACtB;iBAAI;gBACD,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;aACvB;YAGD,GAAG,CAAC,EAAE,CAAC,UAAU,EAAC;gBACd,IAAI,CAAC,UAAU,EAAE,CAAC;YACtB,CAAC,CAAC,CAAC;SACN;QAGD,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,cAAc,EAAC,UAAS,KAAK,EAAC,MAAM;YACjD,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,mBAAmB,EAAE,CAAC;YAC/E,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAGhC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,8BAAU,GAAV;QACI,OAAO,CAAC,GAAG,CAAC,MAAM,GAAE,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QAC7C,kBAAQ,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QAC3C,eAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,mBAAQ,CAAC,UAAU,CAAC,CAAC;IAC/C,CAAC;IAED,4BAAQ,GAAR,UAAU,SAAS;QACf,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC7B,IAAG,SAAS,CAAC,KAAK,IAAI,CAAC,EAAC;YACpB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;SACjD;aAAI;YACD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;SAClD;IACL,CAAC;IA9DgB,SAAS;QAD7B,OAAO;OACa,SAAS,CA+D7B;IAAD,gBAAC;CA/DD,AA+DC,CA/DsC,EAAE,CAAC,SAAS,GA+DlD;kBA/DoB,SAAS","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { cocosz } from \"./CocosZ\";\r\nimport Constant , { PageName } from \"./Constant\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GameLevel extends cc.Component {\r\n    returnBtn : cc.Node = null;\r\n\r\n    PageView : cc.Node = null;\r\n\r\n    pageindex : number = 0;\r\n\r\n    lockedNode : cc.Node [] = [];\r\n    \r\n    protected start(): void {\r\n        let self = this;\r\n        this.returnBtn = this.node.getChildByName('BtnReturn');\r\n        this.PageView = this.node.getChildByName('PageView');\r\n        this.returnBtn.on('touchend',function(){\r\n            cc.director.loadScene(\"GameStart\")\r\n        });\r\n\r\n        for (let i : number = 0 ; i < self.PageView.getChildByName('view').getChildByName('content').children.length; i++) {\r\n            let childnode = self.PageView.getChildByName('view').getChildByName('content').children[i];\r\n            let lock = childnode.getChildByName('lock');\r\n            let btn = childnode.getChildByName('button');\r\n            // this.lockedNode.push(lock);\r\n\r\n            let levelinfo = cocosz.dataMgr.getLevelInfo((1001 + i));\r\n            console.log(levelinfo);\r\n            // self.isLocked(levelinfo);\r\n            if(levelinfo.State == 0){\r\n                lock.active = true;\r\n            }else{\r\n                lock.active = false;\r\n            }\r\n\r\n\r\n            btn.on('touchend',function() {\r\n                self.touchevent();\r\n            });\r\n        }\r\n        \r\n\r\n        this.PageView.on('page-turning',function(event,target){\r\n            console.log(target);\r\n            self.pageindex = self.PageView.getComponent(cc.PageView).getCurrentPageIndex();\r\n            console.log(self.pageindex);\r\n\r\n            \r\n        });\r\n    }\r\n\r\n    touchevent () {\r\n        console.log('点击按钮'+ (1001 + this.pageindex));\r\n        Constant.currentLevel = this.pageindex + 1;\r\n        cocosz.uiMgr.openPage(PageName.UIHomePage);\r\n    }\r\n\r\n    isLocked (levelinfo) {\r\n        let self = this;\r\n        console.log(levelinfo.State);\r\n        if(levelinfo.State == 0){\r\n            this.lockedNode[this.pageindex].active = true;\r\n        }else{\r\n            this.lockedNode[this.pageindex].active = false;\r\n        }\r\n    }\r\n}\r\n"]}