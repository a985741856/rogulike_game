{"version":3,"sources":["assets\\common-plugin\\Scripts\\AdAgentCocosplay.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import AdAgent from \"./AdAgent\";\r\nimport { BannerLocation } from \"./YZ_Constant\";\r\nimport PlatUtils from \"./PlatUtils\";\r\nimport { utils } from \"./Utils\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n/**\r\n * uc广告组件\r\n */\r\n@ccclass\r\nexport default class AdAgentCocosplay extends AdAgent {\r\n\r\n\tbanner: any = null;\r\n\tinterstitialAd: any = {};\r\n\tvideoAd: any = {};\r\n\r\n\tbannerLoaded = false;\r\n\tinterstitialAdLoaded = false;\r\n\tvideoAdLoaded = false;\r\n\t_videoCallback: Function = null;\r\n\t_isVideoLoaded: boolean = false;\r\n\r\n\t_videoAd: any = null;\r\n\t_bannerAd: any = null;\r\n\t//@ts-ignore\r\n\tuc = window.uc;\r\n\r\n\tpublic Init() {\r\n\r\n\t\tutils.registerServerInitEvent(() => {\r\n\t\t\tthis.initBanner();\r\n\t\t\tthis.createInsertAd();\r\n\t\t\tthis.createVideoAd();\r\n\t\t}, this)\r\n\t}\r\n\r\n\tinitBanner() {\r\n\t\tlet self = this;\r\n\t\tself.bannerLoaded = false;\r\n\t\t//@ts-ignore\r\n\t\tself.banner = AdSDK.createBannerAd(\"1\", utils.config.cocosConfig.bannerId, 2);\r\n\t\t//注册onLoad函数,游戏调用创建banner时，AdSDK通知平台创建广告，当创建成功，会执行该回调函数通知游戏\r\n\t\tself.banner.onLoad(function () {\r\n\t\t\tself.bannerLoaded = true;\r\n\t\t\tconsole.log(\"banner 创建banner成功，可以调用展示\");\r\n\t\t});\r\n\t\t//注册onError函数,游戏调用创建banner时，AdSDK通知平台创建广告，当创建失败，会执行该回调函数通知游戏\r\n\t\tself.banner.onError(function (param) {\r\n\t\t\tself.destroyBannerAd();\r\n\t\t\tconsole.log(\"banner 创建banner失败，错误码 = \", param.errorCode);\r\n\t\t});\r\n\t\tconsole.log('banner 游戏创建banner广告');\r\n\t}\r\n\r\n\tShowBanner() {\r\n\t\tlet self = this;\r\n\t\t// self.createBannerAd()\r\n\t\t// self.bannerLoaded = false;\r\n\r\n\r\n\t\tif (self.bannerLoaded) {//Object.keys(banner).length &&\r\n\t\t\tself.banner.show().then(function () {\r\n\t\t\t\tconsole.log('banner 广告显示成功')\r\n\t\t\t}, function (err) {\r\n\t\t\t\tconsole.log('banner 广告显示失败')\r\n\t\t\t});\r\n\t\t\tconsole.log('banner 展示banner广告');\r\n\t\t} else {\r\n\t\t\tconsole.log('banner 未加载成功');\r\n\t\t}\r\n\t}\r\n\r\n\tHideBanner() {\r\n\t\tthis.banner.hide();\r\n\t\tconsole.log('banner 隐藏banner广告');\r\n\t}\r\n\r\n\r\n\tdestroyBannerAd() {\r\n\t\tthis.bannerLoaded = false;\r\n\t\tthis.banner.destroy();\r\n\t\tthis.banner = null;\r\n\t\tconsole.log('banner 销毁banner广告');\r\n\t}\r\n\r\n\tpublic get ServerConfig() {\r\n\t\treturn utils._tool_Cocosplay.ServerConfig;\r\n\t}\r\n\r\n\t//插屏显示次数\r\n\t_insertShowCount: number = 0;\r\n\r\n\t_insertLastShowTime: number = 0;\r\n\t/**\r\n\t * 验证插屏是否能展示\r\n\t * 1、次数限制 默认每日8次\r\n\t * 2、时间限制 默认60秒\r\n\t */\r\n\tprivate checkInsertAdShow(): boolean {\r\n\t\tlet maxShowCount = this.ServerConfig.intersititial_max_show_count;\r\n\t\tmaxShowCount = 0;\r\n\t\tlet intervalTime = this.ServerConfig.intersititial_interval_time;\r\n\t\tlet curTime: number = new Date().getTime();\r\n\t\tlet interval: number = (curTime - this._insertLastShowTime) / 1000;\r\n\r\n\t\tutils.showLog(\"cocos服务器插屏最大显示次数为：\" + maxShowCount + \",间隔显示时间为：\" + intervalTime + \"秒！\");\r\n\t\tutils.showLog(\"cocos插屏当前广告显示次数：\" + this._insertShowCount + \"次，间隔时间：\" + interval + \"秒！\");\r\n\t\tif (maxShowCount > 0 && this._insertShowCount >= maxShowCount) {\r\n\t\t\tutils.showLog(\"cocos插屏广告显示的次数达到\" + maxShowCount + \"次。插屏不显示\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (intervalTime > 0 && interval < intervalTime) {\r\n\t\t\tutils.showLog(\"cocos插屏广告显示的间隔少于\" + intervalTime + \"秒。插屏不显示\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\t// 创建插屏广告 展示一次调用一次创建\r\n\t// 参数\r\n\t//   adId: string 广告序号ID 游戏自定义\r\n\t//   interstitialAdId: string 插屏广告ID 需后台申请\r\n\t//   style: int 广告类型 1 全屏 2 半屏\r\n\tpublic ShowInterstitial() {\r\n\t\tlet self = this\r\n\t\tif (!self.checkInsertAdShow()) return;\r\n\t\tif (self.interstitialAdLoaded) {\r\n\t\t\tself.interstitialAd.show().then(function () {\r\n\t\t\t\tself._insertLastShowTime = new Date().getTime();\r\n\t\t\t\tself.destroyInterstitialAd();\r\n\t\t\t\tself.createInsertAd();\r\n\t\t\t}, function (err) {\r\n\t\t\t\tconsole.log(\"interstitialAd 广告显示失败\")\r\n\t\t\t})\r\n\t\t\tconsole.log(\"interstitialAd 游戏展示插屏广告\");\r\n\t\t}\r\n\t}\r\n\tpublic createInsertAd() {\r\n\t\tlet self = this\r\n\t\tutils.showLog(\"插屏id为：\" + utils.config.cocosConfig.insertId)\r\n\t\t//@ts-ignore\r\n\t\tthis.interstitialAd = AdSDK.createInterstitialAd(\"1\", utils.config.cocosConfig.insertId, 2);\r\n\r\n\t\tthis.interstitialAd.onLoad(function () {\r\n\t\t\tself.interstitialAdLoaded = true;\r\n\t\t\tconsole.log(\"interstitialAd 创建插屏成功，可以调用展示\");\r\n\t\t});\r\n\r\n\t\tself.interstitialAd.onError(function (param) {\r\n\t\t\tconsole.log(\"interstitialAd 创建插屏失败，错误码 = \", param.errorCode);\r\n\t\t\tself.destroyInterstitialAd();\r\n\t\t})\r\n\t}\r\n\thideInterstitialAd() {\r\n\t\tthis.interstitialAd.hide();\r\n\t\tconsole.log(\"interstitialAd 游戏隐藏插屏广告\");\r\n\t}\r\n\r\n\r\n\tdestroyInterstitialAd() {\r\n\t\tthis.interstitialAdLoaded = false;\r\n\t\tthis.interstitialAd.destroy();\r\n\t\tconsole.log(\"interstitialAd 游戏销毁插屏广告\");\r\n\t}\r\n\r\n\t// 创建激励视频广告 展示一次创建一次\r\n\t// 参数\r\n\t//   adId: string 广告序号ID 游戏自定义\r\n\t//   videoAdId: string 视频广告ID 需后台申请\r\n\t//   screenOrientation: int 广告类型 1 横屏 2 竖屏\r\n\tpublic ShowVideo(callback: Function) {\r\n\t\tlet self = this;\r\n\t\tself._videoCallback = callback;\r\n\t\tif (self.videoAdLoaded) {\r\n\t\t\tself.videoAd.show().then(function () {\r\n\t\t\t\tif (self._videoCallback) {\r\n\t\t\t\t\tself._videoCallback(true, \"视频播放成功\");\r\n\t\t\t\t\tself._videoCallback = null;\r\n\t\t\t\t}\r\n\t\t\t}, function (err) {\r\n\t\t\t\tif (self._videoCallback) {\r\n\t\t\t\t\tself._videoCallback(false, \"暂无视频广告\");\r\n\t\t\t\t\tself._videoCallback = null;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t} else {\r\n\r\n\t\t\tif (self._videoCallback) {\r\n\t\t\t\tself._videoCallback(false, \"暂无视频广告\");\r\n\t\t\t\tself._videoCallback = null;\r\n\t\t\t}\r\n\t\t\tself.createVideoAd();\r\n\t\t}\r\n\t}\r\n\r\n\tcreateVideoAd() {\r\n\r\n\t\tlet self = this;\r\n\t\tconsole.log(\"视频id为：\" + utils.config.cocosConfig.videoId)\r\n\t\t//@ts-ignore\r\n\t\tself.videoAd = AdSDK.createRewardedVideoAd(\"1\", utils.config.cocosConfig.videoId, 2);\r\n\r\n\t\tself.videoAd.onLoad(function () {\r\n\t\t\tself.videoAdLoaded = true;\r\n\t\t\tconsole.log(\"rewardedvideoAd 创建视频广告成功，可以调用展示\")\r\n\t\t});\r\n\r\n\t\tself.videoAd.onError(function (param) {\r\n\t\t\tconsole.log(\"rewardedvideoAd 创建视频广告失败，错误码 = \", param.errorCode);\r\n\t\t\tself.destroyRewardedVideoAd();//加载广告失败，销毁\r\n\r\n\t\t\tif (self._videoCallback) {\r\n\t\t\t\tself._videoCallback(false, \"暂无视频广告\");\r\n\t\t\t\tself._videoCallback = null;\r\n\t\t\t}\r\n\t\t});\r\n\t\tself.videoAd.onClose(function () {\r\n\t\t\tif (self._videoCallback) {\r\n\t\t\t\tself._videoCallback(false, \"观看完视频才能获得奖励!\");\r\n\t\t\t\tself._videoCallback = null;\r\n\t\t\t}\r\n\t\t\tself.destroyRewardedVideoAd();//视频广告关闭，销毁\r\n\t\t\tself.createVideoAd();\r\n\t\t});\r\n\t}\r\n\r\n\tdestroyRewardedVideoAd() {\r\n\t\tthis.videoAdLoaded = false;\r\n\t\tthis.videoAd.destroy();\r\n\t\tconsole.log(\"rewardedvideoAd 游戏销毁视频广告\");\r\n\t}\r\n}\r\n"]}