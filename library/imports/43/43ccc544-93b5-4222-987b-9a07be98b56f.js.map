{"version":3,"sources":["assets\\common-plugin\\Scripts\\GameBoxListItem.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iCAAgC;AAK1B,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;;GAEG;AAEH;IAA6C,mCAAY;IAAzD;QAAA,qEAkDC;QAhDG,UAAI,GAAQ,IAAI,CAAC;QAEjB,gBAAU,GAAgB,IAAI,CAAC;QAC/B,gBAAU,GAAY,KAAK,CAAC;QAC5B,eAAS,GAAY,IAAI,CAAC;QAC1B,gBAAU,GAA0B,EAAE,CAAC;;IA2C3C,CAAC;IAzCG,gCAAM,GAAN;QACI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;QACnF,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QACrD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;YACnD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,qBAAqB,CAAC,CAAC,CAAC;YACrF,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;SAC7C;IACL,CAAC;IAEM,8BAAI,GAAX,UAAY,IAAS;QACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IAC3B,CAAC;IAED,gCAAM,GAAN,UAAO,EAAU;QACb,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB;IACL,CAAC;IAID,oCAAU,GAAV;QACI,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,aAAK,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YACtC,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;gBACjB,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;aAC7D;YAED,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBAC7C,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;wBACpB,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC5C,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;qBACzC;iBACJ;aACJ;SACJ;IAEL,CAAC;IAjDgB,eAAe;QADnC,OAAO;OACa,eAAe,CAkDnC;IAAD,sBAAC;CAlDD,AAkDC,CAlD4C,EAAE,CAAC,SAAS,GAkDxD;kBAlDoB,eAAe","file":"","sourceRoot":"/","sourcesContent":["import { utils } from \"./Utils\";\r\nimport PlatUtils from \"./PlatUtils\";\r\nimport GameItem from \"./GameItem\";\r\nimport GameBoxListGameItem from \"./GameBoxListGameItem\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n\r\n/**\r\n * 推荐列表节点\r\n */\r\n@ccclass\r\nexport default class GameBoxListItem extends cc.Component {\r\n\r\n    data: any = null;\r\n\r\n    titleLabel: cc.RichText = null;\r\n    _dataDirty: boolean = false;\r\n    _gameList: cc.Node = null;\r\n    _gameItems: GameBoxListGameItem[] = [];\r\n\r\n    onLoad() {\r\n        this.titleLabel = this.node.getChildByName(\"titleLabel\").getComponent(cc.RichText);\r\n        this._gameList = this.node.getChildByName(\"listLay\");\r\n        for (let i = 0; i < this._gameList.childrenCount; i++) {\r\n            this._gameItems.push(this._gameList.children[i].getComponent(\"GameBoxListGameItem\"));\r\n            this._gameList.children[i].active = false;\r\n        }\r\n    }\r\n\r\n    public init(data: any) {\r\n        this.data = data;\r\n        this._dataDirty = true;\r\n    }\r\n\r\n    update(dt: number) {\r\n        if (this._dataDirty) {\r\n            this._dataDirty = false;\r\n            this.updateItem();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    updateItem() {\r\n        if (this.data) {\r\n            utils.showLog(\"boxList: \", this.data);\r\n            if (this.data.title) {\r\n                this.titleLabel.string = \"<b>\" + this.data.title + \"</b>\";\r\n            }\r\n\r\n            if (this.data.infos && this.data.infos.length > 0) {\r\n                for (let i = 0; i < this.data.infos.length; i++) {\r\n                    if (this._gameItems[i]) {\r\n                        this._gameItems[i].init(this.data.infos[i]);\r\n                        this._gameItems[i].node.active = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n"]}