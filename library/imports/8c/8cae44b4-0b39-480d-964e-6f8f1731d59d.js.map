{"version":3,"sources":["assets\\common-plugin\\Scripts\\YzLoginPanel.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAGA,iCAAgC;AAChC,6CAA4D;AAItD,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA0C,gCAAY;IAAtD;QAAA,qEAmEC;QA/DG,WAAK,GAAW,CAAC,CAAC;QAElB,WAAK,GAAY,IAAI,CAAC;QAEtB,iBAAW,GAAa,IAAI,CAAC;QAE7B,cAAQ,GAAa,IAAI,CAAC;;QAwD1B,iBAAiB;IACrB,CAAC;IAxDG,6BAAM,GAAN;QAEI,IAAI,aAAK,CAAC,WAAW,IAAI,aAAK,CAAC,WAAW,CAAC,KAAK,EAAE;YAC9C,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,aAAK,CAAC,WAAW,CAAC,KAAK,CAAC;SAC7C;QAED,IAAI,KAAK,GAAG,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QACxC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAErC,IAAI,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,EAAE;YACtC,OAAO;YACP,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,GAAG,IAAI,CAAC;SAE/C;aAAM;YACH,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC;SACxC;QACD,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;IAEnD,CAAC;IAGS,gCAAS,GAAnB;QACI,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC;IAED,wCAAiB,GAAjB;QAAA,iBAqBC;QApBG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,YAAY,GAAG,KAAK,CAAC;QAIxD,IAAI,WAAW,GAAG;YACd,aAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACvB,KAAI,CAAC,WAAW,IAAI,KAAI,CAAC,WAAW,EAAE,CAAC;YACvC,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC,CAAA;QACD,IAAI,QAAQ,GAAG,UAAC,MAAW;YACvB,KAAI,CAAC,QAAQ,IAAI,KAAI,CAAC,QAAQ,EAAE,CAAC;YACjC,KAAI,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;YACvD,6BAA6B;QACjC,CAAC,CAAA;QAED,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACxB,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,qBAAW,CAAC,gBAAgB,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;QAC5D,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,qBAAW,CAAC,aAAa,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;QAEtD,aAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC5B,CAAC;IAED,2CAAoB,GAApB;QACI,aAAK,CAAC,QAAQ,EAAE,CAAC;IACrB,CAAC;IA7DgB,YAAY;QADhC,OAAO;OACa,YAAY,CAmEhC;IAAD,mBAAC;CAnED,AAmEC,CAnEyC,EAAE,CAAC,SAAS,GAmErD;kBAnEoB,YAAY","file":"","sourceRoot":"/","sourcesContent":["\nimport CompatibleTool from \"./CompatibleTool\";\nimport PlatUtils from \"./PlatUtils\";\nimport { utils } from \"./Utils\";\nimport YZ_Constant, { BannerLocation } from \"./YZ_Constant\";\nimport YZ_LocalStorage from \"./YZ_LocalStorage\";\n\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class YzLoginPanel extends cc.Component {\n\n\n\n    ratio: number = 1;\n\n    okBtn: cc.Node = null;\n\n    successFunc: Function = null;\n\n    failFunc: Function = null;\n    onLoad() {\n\n        if (utils.otherConfig && utils.otherConfig.group) {\n            this.node.group = utils.otherConfig.group;\n        }\n\n        let panel = cc.find(\"Panel\", this.node);\n        this.okBtn = cc.find(\"OKBtn\", panel);\n\n        if (cc.winSize.height < cc.winSize.width) {\n            // 横屏游戏\n            this.ratio = cc.winSize.width / 1920 * 0.75;\n\n        } else {\n            this.ratio = cc.winSize.width / 1080;\n        }\n        cc.find(\"Panel\", this.node).scale = this.ratio;\n\n    }\n\n\n    protected onDestroy(): void {\n        cc.game.targetOff(this);\n    }\n\n    onOKClickListener() {\n        this.okBtn.getComponent(cc.Button).interactable = false;\n\n\n\n        let successFunc = () => {\n            utils.showLog(\"登录成功！\");\n            this.successFunc && this.successFunc();\n            this.node.destroy();\n        }\n        let failFunc = (result: any) => {\n            this.failFunc && this.failFunc();\n            this.okBtn.getComponent(cc.Button).interactable = true;\n            // utils.showMsg(\"登录失败，请重试\");\n        }\n\n        cc.game.targetOff(this);\n        cc.game.on(YZ_Constant.ST_LOGIN_SUCCESS, successFunc, this);\n        cc.game.on(YZ_Constant.ST_LOGIN_FAIL, failFunc, this);\n\n        utils.login(null, null);\n    }\n\n    onCloseClickListener() {\n        utils.GameExit();\n    }\n\n\n\n\n    // update (dt) {}\n}\n\n\n\n\n\n\n\n\n\n"]}