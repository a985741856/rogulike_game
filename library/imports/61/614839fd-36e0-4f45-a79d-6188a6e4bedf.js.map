{"version":3,"sources":["assets\\common-plugin\\Scripts\\AdAgentOPPO.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import AdAgent from \"./AdAgent\";\r\nimport { BannerLocation } from \"./YZ_Constant\";\r\nimport PlatUtils from \"./PlatUtils\";\r\nimport { utils } from \"./Utils\";\r\nimport RewardInsert from \"./RewardInsert\";\r\nimport YZ_StatementRecommentAd from \"./YZ_StatementRecommentAd\";\r\nimport YZ_NativeAdObject from \"./YZ_NativeAdObject\";\r\nimport YZ_NativeItem from \"./YZ_NativeItem\";\r\nimport NativeTryGamesWidget from \"./NativeTryGamesWidget\";\r\nimport YZ_NativeBanner from \"./YZ_NativeBanner\";\r\nimport { BannerIdInfo, NativeBannerInfo } from \"./CommonConfig\";\r\nimport CompatibleTool from \"./CompatibleTool\";\r\nimport YouWanAnalytics from \"./YouWanSDK/YouWanAnalytics\";\r\nimport { AdEventParameter, YwAdStatus, YwAdType } from \"./YouWanSDK/EventAdInfo\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class AdAgentOPPO extends AdAgent {\r\n\r\n    _bannerAd: any = null;\r\n    _insertAd: any = null;\r\n    _videoAd: any = null;\r\n    _nativeBannerAd: any[] = [];\r\n    _nativeInsertAd: any[] = [];\r\n    _nativeSingleAd: any[] = [];\r\n    _nativeAd: any = null;\r\n\r\n    // 广告组件是否初始化成功\r\n    _isAdInit: boolean = false;\r\n\r\n    _isBannerShow: boolean = false;\r\n    _isInsertShow: boolean = false;\r\n\r\n    // 当前位置id的索引\r\n    _curPosIdIndexNativeBanner: number = 0;\r\n    _curPosIdIndexNativeInser: number = 0;\r\n    _curPosIdIndexSingleNative: number = 0;\r\n\r\n    _nativeData: any = null;\r\n    _nativeInsertData: any = null;\r\n    _nativeBannerNode: cc.Node = null;\r\n    _nativeInsertNode: cc.Node = null;\r\n\r\n    _videoCallback: Function = null;\r\n    _videoLoaded: boolean = null;\r\n\r\n    _miniBannerHeight: number = 0;\r\n\r\n    _showBannerCallBack: Function = null;\r\n\r\n    _nativeAdObject: YZ_NativeAdObject = null;\r\n\r\n    //插屏显示次数\r\n    _insertShowCount: number = 0;\r\n\r\n    _insertLastShowTime: number = 0;\r\n\r\n    _curNativeItem: YZ_NativeItem = null;\r\n\r\n    _isNativeBannerShow: boolean = false; //原生广告展示，调用的隐藏\r\n\r\n    lastLastShowVideoTime: number = 0; //最后一次显示视频时间\r\n\r\n\r\n\r\n    _bannerHideCount: number = 0;\r\n\r\n    canShowNativeBanner = true; //原生banner是否展示\r\n\r\n    public get ServerConfig() {\r\n        if (utils.oppoTool && utils.oppoTool.ServerConfig) return utils.oppoTool.ServerConfig;\r\n        return {};\r\n    }\r\n\r\n    _nativeBannerInfo: NativeBannerInfo = null;\r\n\r\n    show_ad_by_config: boolean = true;\r\n    /**\r\n     * 获取当前banner配置\r\n     */\r\n    getNativeBannerInfo() {\r\n        if (this._nativeBannerInfo && this._nativeBannerInfo.location == this._curLocation) {\r\n            return this._nativeBannerInfo;\r\n        }\r\n        return utils.config.oppoconfig.getNativeBannerInfo(this._curLocation);\r\n    }\r\n\r\n    public Init() {\r\n        if (PlatUtils.IsOPPO && utils.oppoTool && utils.oppoTool.isOverMiniVersion(\"1031\")) {\r\n\r\n            utils.registerServerInitEvent(() => {\r\n                utils.showLog(\"OPPO 广告代理组件初始化!\");\r\n                let self = this;\r\n\r\n\r\n                //@ts-ignore\r\n                qg.initAdService({\r\n                    appId: utils.config.oppoconfig.appID,\r\n                    isDebug: true,\r\n                    success: function (res) {\r\n                        utils.showLog(\"OPPO 小游戏广告组件初始化成功!\");\r\n                        self._isAdInit = true;\r\n                        self._initVideoAd();\r\n                    },\r\n                    fail: function (res) {\r\n                        utils.showLog(\"OPPO 小游戏广告组件初始化失败 :\" + res.code + res.msg);\r\n                    },\r\n                    complete: function (res) {\r\n                    }\r\n                });\r\n            }, this)\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    _nativeIsClose: boolean = false;\r\n\r\n    _showBannerTimerId: number = 0;\r\n    _delayShowBannerId: number = 0;\r\n\r\n\r\n    // nbclr:是否开启强制刷新\r\n\r\n    //当前显示Banner的位置\r\n    _curLocation: BannerLocation = BannerLocation.None;\r\n    _isTimeRefresh: boolean = false;\r\n    //启动定时器的时间\r\n    _startBannerTimerTask: number = 0;\r\n    _showBannerCount: number = 0;\r\n    public ShowBanner(location: BannerLocation = null, args: any = null, isTimeRefresh: boolean = false) {\r\n        if (PlatUtils.IsOPPO) {\r\n            if (!this.ServerConfig) {\r\n                utils.showLog(\"未请求到配置文件！\");\r\n                return;\r\n            }\r\n            this._showBannerCount++;\r\n\r\n\r\n            let oldLocation = this._curLocation;\r\n\r\n            this._curLocation = location;\r\n\r\n            this._isTimeRefresh = isTimeRefresh;\r\n            //如果跳用位置切换之后，验证是不是通过定时器强制刷新数据，不是则先隐藏banner\r\n            if (oldLocation != location) {\r\n                this.HideBanner(location);\r\n            }\r\n\r\n\r\n\r\n\r\n            let curTime: number = new Date().getTime();\r\n            let refresh_ad_time: number = (curTime - this._startBannerTimerTask) / 1000;\r\n\r\n            let interval = this.ServerConfig.refresh_ad_time;\r\n            // utils.showLog(\"isTimeRefresh=\" + isTimeRefresh);\r\n            if (args && args.isRefresh) {\r\n                isTimeRefresh = true;\r\n            } else if (interval && interval > 0) {\r\n                if (refresh_ad_time > interval) {\r\n                    isTimeRefresh = true;\r\n                }\r\n            }\r\n\r\n            YouWanAnalytics.EventAd(YwAdType.BANNER, YwAdStatus.AD_ID_REQUEST);\r\n            // utils.showLog(\"isTimeRefresh=\" + isTimeRefresh);\r\n\r\n            // 判断当前位置是不是显示banner\r\n            if (this.getNativeBannerInfo().is_show_banner == -1) {\r\n                utils.showLog(\"当前位置配置为不展示banner!\");\r\n                this.HideBanner(location);\r\n                return;\r\n            } else if (this.getNativeBannerInfo().is_show_rec > -1) {\r\n                this.HideBanner(location);\r\n                utils.showLog(\"当前位置显示互推banner\");\r\n                if (utils.oppoTool.canShowRecommend()) {\r\n                    utils.oppoTool.showOppoRecBanner();\r\n                    return;\r\n                }\r\n                utils.showLog(\"当前平台不支持互推banner\");\r\n            } else {\r\n                if (!isTimeRefresh && !this.show_ad_by_config) {\r\n                    if (this.ServerConfig.nbclr && this.ServerConfig.nbclr == \"true\" && this._curNativeBannerInfo.nativeBannerAd) {\r\n                        utils.showLog(\"服务器配置定时器刷新数据 \");\r\n\r\n                        utils.showLog(`原生banner延迟显示${this.getNativeBannerInfo().delay_show_time}秒`);\r\n\r\n                        clearTimeout(this._showBannerTimerId);\r\n                        clearTimeout(this._delayShowBannerId);\r\n\r\n                        //@ts-ignore\r\n                        this._delayShowBannerId = setTimeout(() => {\r\n                            this._showNativeBanner(this._curNativeBannerInfo.nativeBannerAd, this._curNativeBannerInfo.data);\r\n                        }, this.getNativeBannerInfo().delay_show_time * 1000);\r\n                        utils.showLog(\"开启定时刷新 >>>>>>>>>\" + (interval - refresh_ad_time));\r\n                        //@ts-ignore\r\n                        this._showBannerTimerId = setTimeout(() => {\r\n                            utils.showLog(`定时${interval}秒调用showbanner`);\r\n                            this.ShowBanner(this._curLocation, {}, true);\r\n                        }, (interval - refresh_ad_time) * 1000);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n\r\n            this.canShowNativeBanner = true;\r\n            this._nativeIsClose = false;\r\n\r\n\r\n\r\n            clearTimeout(this._showBannerTimerId);\r\n            clearTimeout(this._delayShowBannerId);\r\n            utils.showLog(\"清理定时器\");\r\n            if (this.ServerConfig) {\r\n                if (interval && interval > 0) {\r\n                    utils.showLog(\"开启定时刷新 >>>>>>>>>\" + interval);\r\n\r\n\r\n                    //@ts-ignore\r\n                    this._showBannerTimerId = setTimeout(() => {\r\n                        utils.showLog(`定时${interval}秒调用showbanner`);\r\n                        this.ShowBanner(this._curLocation, {}, true);\r\n                    }, interval * 1000);\r\n                }\r\n\r\n                if (this.show_ad_by_config) {\r\n                    this.ShowBannerByConfigs(0);\r\n                    return;\r\n                }\r\n\r\n                if (this.ServerConfig.banner_first_ad) {\r\n                    if (this.ServerConfig.banner_first_ad.indexOf(\"native\") > -1) {\r\n                        utils.showLog(\"优先展示原生Banner广告!\" + isTimeRefresh + \" <<<<\");\r\n                        if (!this._isTimeRefresh) {\r\n\r\n                            utils.showLog(`原生banner延迟显示${this.getNativeBannerInfo().delay_show_time}秒`);\r\n                            //@ts-ignore\r\n                            this._delayShowBannerId = setTimeout(() => {\r\n                                this._createNativeBannerAd(this._showNativeBanner);\r\n                            }, this.getNativeBannerInfo().delay_show_time * 1000);\r\n                        } else {\r\n                            this._createNativeBannerAd(this._showNativeBanner);\r\n                        }\r\n\r\n                    } else {\r\n                        utils.showLog(\"优先展示小游戏Banner广告!\");\r\n                        this._createMiniGameBannerAd(location);\r\n                    }\r\n                } else {\r\n                    utils.showLog(\"配置数据中没有 banner_first_ad 字段， banner广告不显示!\");\r\n                }\r\n            } else {\r\n                utils.showLog(\"服务器配置数据未初始化!\");\r\n            }\r\n        }\r\n    }\r\n\r\n    private hideMiniGameBanner() {\r\n        if (this._bannerAd) {\r\n            if (utils.oppoTool.isOverMiniVersion(\"1050\")) {\r\n                utils.showLog(\"销毁小游戏Banner\");\r\n                this._bannerAd.destroy();\r\n                this._bannerAd = null;\r\n            } else {\r\n                utils.showLog(\"当前小游戏平台小于1051，只能隐藏小游戏Banner\");\r\n                this._bannerAd.hide();\r\n            }\r\n        }\r\n    }\r\n\r\n    private hideNativeBanner() {\r\n        if (this._nativeBannerNode) {\r\n            utils.showLog(\"隐藏原生Banner\");\r\n            this._nativeBannerNode.active = false;\r\n        }\r\n    }\r\n\r\n    private hideBanner(type: string) {\r\n        switch (type) {\r\n            case \"default\":\r\n                this.hideNativeBanner();\r\n                //隐藏自定义banner\r\n                utils.hideRecommendGamesBanner();\r\n                this.hideNativeTemplateBannerAd();\r\n                //隐藏互推banner\r\n                utils.oppoTool && utils.oppoTool._rec_is_banner && utils.oppoTool.hideOppoRecBanner();\r\n                break;\r\n            case \"native\":\r\n                this.hideMiniGameBanner();\r\n                //隐藏自定义banner\r\n                utils.hideRecommendGamesBanner();\r\n                this.hideNativeTemplateBannerAd();\r\n                //隐藏互推banner\r\n                utils.oppoTool && utils.oppoTool._rec_is_banner && utils.oppoTool.hideOppoRecBanner();\r\n                break;\r\n            case \"template\":\r\n                this.hideMiniGameBanner();\r\n                this.hideNativeBanner();\r\n                //隐藏自定义banner\r\n                utils.hideRecommendGamesBanner();\r\n                //隐藏互推banner\r\n                utils.oppoTool && utils.oppoTool._rec_is_banner && utils.oppoTool.hideOppoRecBanner();\r\n                break;\r\n            case \"rec\":\r\n                this.hideMiniGameBanner();\r\n                this.hideNativeBanner();\r\n                //隐藏自定义banner\r\n                utils.hideRecommendGamesBanner();\r\n                this.hideNativeTemplateBannerAd();\r\n                break;\r\n            default:\r\n                this.hideMiniGameBanner();\r\n                this.hideNativeBanner();\r\n                //隐藏自定义banner\r\n                utils.hideRecommendGamesBanner();\r\n                this.hideNativeTemplateBannerAd();\r\n                utils.oppoTool && utils.oppoTool._rec_is_banner && utils.oppoTool.hideOppoRecBanner();\r\n                break;\r\n\r\n\r\n        }\r\n    }\r\n\r\n    public HideBanner(location: BannerLocation = null) {\r\n        if (PlatUtils.IsOPPO) {\r\n\r\n            clearTimeout(this._showBannerTimerId);\r\n            clearTimeout(this._delayShowBannerId);\r\n            this._isBannerShow = false;\r\n            this._nativeIsClose = true;\r\n            this.canShowNativeBanner = false;\r\n            this.hideBanner(\"\");\r\n        }\r\n    }\r\n    /**\r\n     * 隐藏快游戏的banner\r\n     */\r\n    hideKyxBanner() {\r\n        this.hideBanner(\"rec\");\r\n    }\r\n\r\n    tryGameAdArr: any[] = [];\r\n    public showNativeTryGameWidget(params: any = null) {\r\n        if (PlatUtils.IsOPPO) {\r\n            utils.showLog(\"显示原生抖动试玩 nativeNeedChange=\", utils.nativeNeedChange, \"  utils.tryGameDate\", utils.tryGameDate, \"utils.config.oppoconfig.nativeTryGameIds\", utils.config.oppoconfig.nativeTryGameIds)\r\n            if (utils.nativeNeedChange || !utils.tryGameDate) {\r\n                if (utils.config.oppoconfig.nativeTryGameIds) {\r\n                    let len = utils.config.oppoconfig.nativeTryGameIds.length;\r\n                    utils.showLog(\"len:\" + len);\r\n                    for (let i = 0; i < len; i++) {\r\n                        if (!this.tryGameAdArr[i]) {\r\n                            let posId = utils.config.oppoconfig.nativeTryGameIds[i];\r\n                            utils.showLog(\"创建原生抖动试玩广告， posId:\" + posId);\r\n                            //@ts-ignore\r\n                            let tryGameAd = qg.createNativeAd({\r\n                                posId: posId\r\n                            });\r\n\r\n                            if (tryGameAd) {\r\n                                tryGameAd.onLoad((res) => {\r\n                                    utils.nativeNeedChange = false\r\n                                    if (res && res.adList && res.adList.length > 0) {\r\n                                        res = JSON.parse(JSON.stringify(res));\r\n                                        let adId = res.adList[0].adId\r\n                                        utils.showLog(\"adId:\" + adId);\r\n                                        let canAdd = true;\r\n                                        utils.tryGameDate.forEach((element) => {\r\n                                            if (adId == element.date[0].adId) {\r\n                                                canAdd = false;\r\n                                            }\r\n                                        })\r\n                                        if (canAdd) {\r\n                                            utils.tryGameDate.push({ \"tryGameAd\": tryGameAd, \"date\": res.adList });\r\n                                            if (utils._nativeTryGameNode) {\r\n                                                utils._nativeTryGameNode.getComponent(NativeTryGamesWidget).init();\r\n                                            }\r\n                                        }\r\n                                        utils.showLog(\"原生抖动试完广告资源拉取成功，是否可以添加广告\" + canAdd);\r\n                                        utils.showLog(JSON.stringify(res));\r\n                                    }\r\n                                });\r\n                                tryGameAd.onError((err) => {\r\n                                    utils.showLog(\"原生抖动广告资源拉取失败！\" + err.code + err.msg);\r\n                                    utils.nativeNeedChange = true;\r\n                                });\r\n                                tryGameAd.load();\r\n                                this.tryGameAdArr[i] = tryGameAd;\r\n                            }\r\n                        } else {\r\n                            this.tryGameAdArr[i].load();\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n            this.createNativeTryGameWidget(params);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * 通过配置展示插屏\r\n     * @param index 索引\r\n     */\r\n    public ShowInterstitialByConfigs(index: number) {\r\n        utils.showLog(\"ShowInterstitialByConfigs  index=\" + index + \" #configsLength=\" + utils.config.oppoconfig.intersitialAdConfigs.length);\r\n        if (index < utils.config.oppoconfig.intersitialAdConfigs.length) {\r\n            let adInfo: any = utils.config.oppoconfig.intersitialAdConfigs[index];\r\n            utils.showLog(\"ShowInterstitialByConfigs adInfo:\" + JSON.stringify(adInfo));\r\n            switch (adInfo.type) {\r\n                case \"default\":\r\n                    this._createMiniGameInsertAdByConfig(index);\r\n                    break;\r\n                case \"native\":\r\n                    this._createNativeInsertAdByConfig(index);\r\n                    break;\r\n                case \"template\":\r\n                    this._createNativeTemplateIntersitialAd(index);\r\n                    break;\r\n            }\r\n        } else {\r\n            YouWanAnalytics.EventAd(YwAdType.INTERSITITIAL, YwAdStatus.AD_ID_REQUEST_FAIL);\r\n\r\n            utils.showLog(\"插屏展示失败，所有广告类型都未请求到广告！\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 通过索引展示Banner\r\n     * @param index 索引\r\n     */\r\n    public ShowBannerByConfigs(index: number) {\r\n        utils.showLog(\"ShowBannerByConfigs  index=\" + index + \" #configsLength=\" + utils.config.oppoconfig.bannerAdConfigs.length);\r\n        if (index < utils.config.oppoconfig.bannerAdConfigs.length) {\r\n            let adInfo: any = utils.config.oppoconfig.bannerAdConfigs[index];\r\n            utils.showLog(\"ShowBannerByConfigs adInfo:\" + JSON.stringify(adInfo));\r\n            switch (adInfo.type) {\r\n                case \"default\":\r\n                    this._createMiniGameBannerAdByConfigs(index);\r\n                    break;\r\n                case \"native\":\r\n                    this._createNativeBannerAdByConfigs(index);\r\n                    break;\r\n                case \"template\":\r\n                    this._createNativeTemplateBannerAd(index);\r\n                    break;\r\n            }\r\n        } else {\r\n            YouWanAnalytics.EventAd(YwAdType.BANNER, YwAdStatus.AD_ID_REQUEST_FAIL);\r\n\r\n            utils.showLog(\"Banner展示失败，所有广告类型都未请求到广告！\");\r\n        }\r\n    }\r\n\r\n    public ShowInterstitial(location: BannerLocation = null) {\r\n        if (PlatUtils.IsOPPO) {\r\n            if (this.ServerConfig) {\r\n\r\n                if (!this.checkInsertAdShow()) return;\r\n                YouWanAnalytics.EventAd(YwAdType.INTERSITITIAL, YwAdStatus.AD_ID_REQUEST);\r\n\r\n                if (this.show_ad_by_config) {\r\n                    this.ShowInterstitialByConfigs(0);\r\n                    return;\r\n                }\r\n\r\n                if (location && location == BannerLocation.Pause) {\r\n                    if (this.ServerConfig.intersititial_first_ad == \"native\") {\r\n                        utils.showLog(\"暂停界面不延时展示！\");\r\n                        utils.showLog(\"优先展示原生插屏广告!\");\r\n                        this.nativeInserAdDelayCall();\r\n                    } else {\r\n                        utils.showLog(\"优先展示小游戏插屏广告!\");\r\n                        this._createMiniGameInsertAd();\r\n                    }\r\n                } else {\r\n                    if (this.ServerConfig.intersititial_first_ad == \"native\") {\r\n                        utils.showLog(\"优先展示原生插屏广告!\");\r\n                        utils.delayCall(this.nativeInserAdDelayCall.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);\r\n                    } else {\r\n                        utils.showLog(\"优先展示小游戏插屏广告!\");\r\n                        this._createMiniGameInsertAd();\r\n                        // utils.delayCall(this._createMiniGameInsertAd.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);\r\n\r\n                    }\r\n                }\r\n            } else {\r\n                utils.showLog(\"服务器配置数据未初始化!\");\r\n            }\r\n        }\r\n    }\r\n\r\n    _nativeInsertAdShowCount: number = 0;\r\n    public nativeInserAdDelayCall() {\r\n        utils.showLog(\"原生插屏广告: 当前点击次数=\" + utils.oppoTool.NativeInsertAdClickTimes + \"; 点击次数限制=\" + this.ServerConfig.intersititia_click_count + \"; 展示次数间隔=\" + this.ServerConfig.intersititia_show_interval + \"; 展示累计=\" + this._nativeInsertAdShowCount);\r\n        if (utils.oppoTool.NativeInsertAdClickTimes >= (this.ServerConfig.intersititia_click_count || 0)) {\r\n            // 每日点击次数到达上限，限制展示次数\r\n            if (this._nativeInsertAdShowCount >= (this.ServerConfig.intersititia_show_interval || 0)) {\r\n                // 可以展示\r\n                this._createNativeInsertAd(this._showNativeInsert);\r\n            } else {\r\n                // 不能展示\r\n                this._nativeInsertAdShowCount++;\r\n            }\r\n        } else {\r\n            this._createNativeInsertAd(this._showNativeInsert);\r\n        }\r\n    }\r\n\r\n    public ShowVideo(callback: Function) {\r\n        if (PlatUtils.IsOPPO) {\r\n            this._videoCallback = callback;\r\n\r\n            let curTime: number = new Date().getTime();\r\n            let interval: number = (curTime - this.lastLastShowVideoTime) / 1000;\r\n            if (interval < 4) {\r\n                utils.showLog(\"视频广告请求间隔小于4秒,直接返回false\");\r\n                if (this._videoCallback) {\r\n                    this._videoCallback(false, \"暂无视频广告!\");\r\n                    this._videoCallback = null;\r\n                }\r\n                return;\r\n            }\r\n\r\n            if (this.ServerConfig) {\r\n\r\n\r\n                if (this.checkRewardInsertIsShow() && utils.oppoTool\r\n                    && utils.oppoTool.ServerConfig\r\n                    && utils.oppoTool.ServerConfig.reward_first_ad && utils.oppoTool.ServerConfig.reward_first_ad != \"video\") {\r\n                    utils.showLog(\"<<<服务器默认优先展示激励插屏>>>\");\r\n                    this.showRewardInsert();\r\n                    return;\r\n                }\r\n                if (utils.oppoTool.isOverMiniVersion(\"1040\")) {\r\n                    if (!this._videoAd) {\r\n                        this._initVideoAd();\r\n                    }\r\n\r\n                    if (this._videoAd && this._videoLoaded) {\r\n                        this._videoAd.show();\r\n                        YouWanAnalytics.EventAdWithObj(YwAdType.REWARD_VIDEO, YwAdStatus.SHOW_SUCCESS, new AdEventParameter(utils.config.oppoconfig.videoId));\r\n\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n            utils.showLog(\"暂无视频广告!\");\r\n            if (this._videoCallback) {\r\n                this._videoAd.load();\r\n                YouWanAnalytics.EventAdWithObj(YwAdType.REWARD_VIDEO, YwAdStatus.REQUEST, new AdEventParameter(utils.config.oppoconfig.videoId));\r\n\r\n                // this.showRewardInsert();\r\n                this._videoCallback(false, \"暂无视频广告!\");\r\n                this._videoCallback = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    _initVideoAd() {\r\n        if (!this._videoAd) {\r\n            if (utils.config.oppoconfig.videoId) {\r\n                //@ts-ignore\r\n                this._videoAd = qg.createRewardedVideoAd({\r\n                    posId: utils.config.oppoconfig.videoId\r\n                });\r\n\r\n                let self = this;\r\n                if (this._videoAd) {\r\n                    utils.showLog(\"初始化注册视频回调!\");\r\n                    this._videoAd.load();\r\n                    YouWanAnalytics.EventAdWithObj(YwAdType.REWARD_VIDEO, YwAdStatus.REQUEST, new AdEventParameter(utils.config.oppoconfig.videoId));\r\n\r\n                    this._videoAd.onLoad(function () {\r\n                        YouWanAnalytics.EventAdWithObj(YwAdType.REWARD_VIDEO, YwAdStatus.REQUEST_SUCCESS, new AdEventParameter(utils.config.oppoconfig.videoId));\r\n                        utils.showLog(\"激励视频加载成功\");\r\n                        self._videoLoaded = true;\r\n                    })\r\n\r\n                    this._videoAd.onError((err) => {\r\n                        YouWanAnalytics.EventAdWithObj(YwAdType.REWARD_VIDEO, YwAdStatus.REQUEST_FAIL, new AdEventParameter(utils.config.oppoconfig.videoId));\r\n\r\n                        utils.showLog(\"激励视频出错: \" + err.code + err.msg);\r\n                        self._videoLoaded = false;\r\n                        if (self._videoCallback) {\r\n                            self._videoCallback(false, \"暂无视频广告!\");\r\n                            self._videoCallback = null;\r\n                        }\r\n                    });\r\n\r\n                    this._videoAd.onClose((res) => {\r\n\r\n                        setTimeout(() => {\r\n                            self._videoAd.load();\r\n                            YouWanAnalytics.EventAdWithObj(YwAdType.REWARD_VIDEO, YwAdStatus.REQUEST, new AdEventParameter(utils.config.oppoconfig.videoId));\r\n                            utils.showLog(\"延迟3秒重新加载视频广告\");\r\n                        }, 3000);\r\n\r\n                        if (res.isEnded) {\r\n                            this.lastLastShowVideoTime = new Date().getTime();\r\n                            utils.showLog('激励视频广告完成，发放奖励');\r\n                            if (self._videoCallback) {\r\n                                self._videoCallback(true, \"\");\r\n                                self._videoCallback = null;\r\n                            }\r\n                            YouWanAnalytics.EventAdWithObj(YwAdType.REWARD_VIDEO, YwAdStatus.REWARD_SUCCESS, new AdEventParameter(utils.config.oppoconfig.videoId));\r\n\r\n                        } else {\r\n                            utils.showLog('激励视频广告取消关闭，不发放奖励');\r\n                            YouWanAnalytics.EventAdWithObj(YwAdType.REWARD_VIDEO, YwAdStatus.REWARD_FAIL, new AdEventParameter(utils.config.oppoconfig.videoId));\r\n\r\n                            if (self._videoCallback) {\r\n                                self._videoCallback(false, \"观看完视频才能获得奖励!\");\r\n                                self._videoCallback = null;\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            } else {\r\n                utils.showLog(\"视频广告Id配置错误!\");\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 验证插屏是否能展示\r\n     * 1、次数限制 默认每日8次\r\n     * 2、时间限制 默认60秒\r\n     */\r\n    private checkInsertAdShow(): boolean {\r\n        let maxShowCount = this.ServerConfig.intersititial_max_show_count;\r\n        let intervalTime = this.ServerConfig.intersititial_interval_time;\r\n        let curTime: number = new Date().getTime();\r\n        let interval: number = (curTime - this._insertLastShowTime) / 1000;\r\n\r\n        utils.showLog(\"OPPO服务器插屏最大显示次数为：\" + maxShowCount + \",间隔显示时间为：\" + intervalTime + \"秒！\");\r\n        utils.showLog(\"OPPO插屏当前广告显示次数：\" + utils.oppoTool.insertAdShowCounts + \"次，间隔时间：\" + interval + \"秒！\");\r\n        if (maxShowCount > 0 && utils.oppoTool.insertAdShowCounts >= maxShowCount) {\r\n            utils.showLog(\"OPPO插屏广告显示的次数达到\" + maxShowCount + \"次。插屏不显示\");\r\n            return false;\r\n        }\r\n\r\n        if (intervalTime > 0 && interval < intervalTime) {\r\n            utils.showLog(\"OPPO插屏广告显示的间隔少于\" + intervalTime + \"秒。插屏不显示\");\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 验证是否第一次创建插屏\r\n     */\r\n    miniInserAdIsCreate: boolean = false;\r\n    // /**\r\n    //  * 创建小程序插屏广告\r\n    //  * @param isUnique 是否唯一展示 不轮询显示原生\r\n    //  */\r\n    _createMiniGameInsertAd(isUnique: boolean = false) {\r\n        if (PlatUtils.IsOPPO) {\r\n            this._isInsertShow = true;\r\n\r\n            if (this._isAdInit\r\n                && utils.config.oppoconfig\r\n                && utils.config.oppoconfig.insertId) {\r\n\r\n                //@ts-ignore\r\n                let _insertAd = qg.createInsertAd({\r\n                    adUnitId: utils.config.oppoconfig.insertId\r\n                });\r\n\r\n                if (_insertAd) {\r\n\r\n                    utils.showLog(\"注册小游戏插屏广告回调！\");\r\n\r\n                    let clearCallBack = () => {\r\n                        _insertAd.offShow();\r\n                        _insertAd.offError();\r\n                        _insertAd.offLoad();\r\n                    }\r\n                    _insertAd.onError(((err) => {\r\n                        utils.showLog(\"OPPO 小游戏插屏广告出错:\" + err.code + err.msg);\r\n                        if (this._isInsertShow && !isUnique) {\r\n                            if (this.ServerConfig.intersititial_first_ad == \"default\") {\r\n                                this._isInsertShow = false;\r\n                                utils.showLog(\"开始显示原生插屏广告!\");\r\n                                this._curPosIdIndexNativeInser = 0;\r\n                                utils.delayCall(this.nativeInserAdDelayCall.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);\r\n                            }\r\n                        }\r\n                        _insertAd.offError();\r\n                        clearCallBack();\r\n                    }).bind(this));\r\n\r\n                    _insertAd.onLoad((() => {\r\n                        utils.showLog(\"OPPO 小程序插屏广告加载成功!\");\r\n                        if (this._isInsertShow) {\r\n                            this._isInsertShow = false;\r\n                            _insertAd.show();\r\n\r\n                            //onShow\r\n                            this._isInsertShow = false;\r\n                            utils.oppoTool.countInserShowCount();\r\n                            this._insertLastShowTime = new Date().getTime();\r\n                            let closeType = this.ServerConfig.intersititial_open_close_banner;\r\n                            if (closeType && closeType > 0) {\r\n                                utils.showLog(\"OPPO 配置当前插屏显示成功后\" + (closeType == 1 ? \"销毁\" : \"隐藏\") + \"banner!\");\r\n                                this.HideBanner();\r\n                            }\r\n                        }\r\n                        // _insertAd.offLoad();\r\n                        // clearCallBack();\r\n                    }).bind(this));\r\n\r\n                    _insertAd.onShow((() => {\r\n                        utils.showLog(\"OPPO 小游戏插屏广告显示成功！  \");\r\n                        // _insertAd.offShow();\r\n                        clearCallBack();\r\n                    }).bind(this));\r\n                    /**\r\n                     * 第一次调用不需要手动load\r\n                     */\r\n                    if (!this.miniInserAdIsCreate) {\r\n                        this.miniInserAdIsCreate = true;\r\n                    } else {\r\n                        _insertAd.load();\r\n                    }\r\n                }\r\n\r\n\r\n                if (!_insertAd) {\r\n                    utils.showLog(\"OPPO小游戏插屏广告创建失败！\");\r\n                    if (this.ServerConfig.intersititial_first_ad == \"default\" && !isUnique) {\r\n                        utils.showLog(\"开始显示原生插屏广告!\");\r\n                        this._curPosIdIndexNativeInser = 0;\r\n                        utils.delayCall(this.nativeInserAdDelayCall.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);\r\n                    }\r\n                }\r\n            } else {\r\n                utils.showLog(\"OPPO 小游戏插屏广告配置信息错误!\");\r\n                if (this.ServerConfig.intersititial_first_ad == \"default\" && !isUnique) {\r\n                    utils.showLog(\"开始显示原生插屏广告!\");\r\n                    this._curPosIdIndexNativeInser = 0;\r\n                    utils.delayCall(this.nativeInserAdDelayCall.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    // /**\r\n    //  * 创建小程序插屏广告\r\n    //  * @param isUnique 是否唯一展示 不轮询显示原生\r\n    //  */\r\n    _createMiniGameInsertAdByConfig(index: number) {\r\n        if (PlatUtils.IsOPPO) {\r\n            this._isInsertShow = true;\r\n            utils.showLog(\"_createMiniGameInsertAdByIndex: index=\" + index);\r\n\r\n            if (this._isAdInit\r\n                && utils.config.oppoconfig\r\n                && index < utils.config.oppoconfig.intersitialAdConfigs.length) {\r\n\r\n                //@ts-ignore\r\n                let _insertAd = qg.createInsertAd({\r\n                    adUnitId: utils.config.oppoconfig.intersitialAdConfigs[index].id\r\n                });\r\n                YouWanAnalytics.EventAdWithObj(YwAdType.INTERSITITIAL, YwAdStatus.REQUEST, new AdEventParameter(utils.config.oppoconfig.intersitialAdConfigs[index].id));\r\n\r\n                if (_insertAd) {\r\n\r\n                    utils.showLog(\"注册小游戏插屏广告回调！\");\r\n\r\n                    let clearCallBack = () => {\r\n                        _insertAd.offShow();\r\n                        _insertAd.offError();\r\n                        _insertAd.offLoad();\r\n                    }\r\n                    _insertAd.onError(((err) => {\r\n                        utils.showLog(\"OPPO 小游戏插屏广告出错:\" + err.code + err.msg);\r\n                        if (this._isInsertShow) {\r\n                            this.ShowInterstitialByConfigs(index + 1);\r\n                        }\r\n                        YouWanAnalytics.EventAdWithObj(YwAdType.INTERSITITIAL, YwAdStatus.REQUEST_FAIL, new AdEventParameter(utils.config.oppoconfig.intersitialAdConfigs[index].id, err.code, err.msg));\r\n\r\n                        _insertAd.offError();\r\n                        clearCallBack();\r\n                    }).bind(this));\r\n\r\n                    _insertAd.onLoad((() => {\r\n                        utils.showLog(\"OPPO 小程序插屏广告加载成功!\");\r\n                        YouWanAnalytics.EventAdWithObj(YwAdType.INTERSITITIAL, YwAdStatus.REQUEST_SUCCESS, new AdEventParameter(utils.config.oppoconfig.intersitialAdConfigs[index].id));\r\n\r\n                        if (this._isInsertShow) {\r\n                            this._isInsertShow = false;\r\n                            _insertAd.show();\r\n\r\n                            //onShow\r\n                            this._isInsertShow = false;\r\n                            utils.oppoTool.countInserShowCount();\r\n                            this._insertLastShowTime = new Date().getTime();\r\n                            let closeType = this.ServerConfig.intersititial_open_close_banner;\r\n                            if (closeType && closeType > 0) {\r\n                                utils.showLog(\"OPPO 配置当前插屏显示成功后\" + (closeType == 1 ? \"销毁\" : \"隐藏\") + \"banner!\");\r\n                                this.HideBanner();\r\n                            }\r\n                        }\r\n                        // _insertAd.offLoad();\r\n                        // clearCallBack();\r\n                    }).bind(this));\r\n\r\n                    _insertAd.onShow((() => {\r\n                        utils.showLog(\"OPPO 小游戏插屏广告显示成功！  \");\r\n                        YouWanAnalytics.EventAd(YwAdType.INTERSITITIAL, YwAdStatus.AD_ID_REQUEST_SUCCESS);\r\n                        YouWanAnalytics.EventAdWithObj(YwAdType.INTERSITITIAL, YwAdStatus.SHOW_SUCCESS, new AdEventParameter(utils.config.oppoconfig.intersitialAdConfigs[index].id));\r\n\r\n                        // _insertAd.offShow();\r\n                        clearCallBack();\r\n                    }).bind(this));\r\n                    /**\r\n                     * 第一次调用不需要手动load\r\n                     */\r\n                    if (!this.miniInserAdIsCreate) {\r\n                        this.miniInserAdIsCreate = true;\r\n                    } else {\r\n                        _insertAd.load();\r\n                    }\r\n                }\r\n\r\n\r\n                if (!_insertAd) {\r\n                    YouWanAnalytics.EventAdWithObj(YwAdType.INTERSITITIAL, YwAdStatus.REQUEST_FAIL, new AdEventParameter(utils.config.oppoconfig.intersitialAdConfigs[index].id));\r\n\r\n                    utils.showLog(\"OPPO小游戏插屏广告创建失败！\");\r\n                    this.ShowInterstitialByConfigs(index + 1);\r\n                }\r\n            } else {\r\n                utils.showLog(\"OPPO 小游戏插屏广告配置信息错误!\");\r\n                // if (this.ServerConfig.intersititial_first_ad == \"default\" && !isUnique) {\r\n                //     utils.showLog(\"开始显示原生插屏广告!\");\r\n                //     this._curPosIdIndexNativeInser = 0;\r\n                //     utils.delayCall(this.nativeInserAdDelayCall.bind(this), this.ServerConfig.intersititia_delay_show_time || 0);\r\n                // }\r\n            }\r\n        }\r\n    }\r\n\r\n    _createMiniGameBannerAd(location: BannerLocation = null) {\r\n        if (PlatUtils.IsOPPO) {\r\n            this._isBannerShow = true;\r\n\r\n            if (this._isAdInit\r\n                && utils.config.oppoconfig\r\n                && utils.config.oppoconfig.bannerId) {\r\n\r\n                let style: any = {\r\n                    top: 0\r\n                }\r\n                if (this.getNativeBannerInfo()._alignType === \"top\") {\r\n                    style.top = 0;\r\n                } else {\r\n                    style = null;\r\n                }\r\n\r\n                if (!this._bannerAd || true) {\r\n                    //@ts-ignore\r\n                    this._bannerAd = qg.createBannerAd({\r\n                        posId: utils.config.oppoconfig.bannerId,\r\n                        style\r\n                    });\r\n\r\n                    if (this._bannerAd) {\r\n                        utils.showLog(\"注册小游戏banner回调!\");\r\n                        this._bannerAd.onError(((err) => {\r\n                            utils.showLog(\"OPPO 小游戏Banner广告出错: \" + err.code + err.msg);\r\n                            let bannerInfo = this.getNativeBannerInfo();\r\n                            if (bannerInfo.st_banner_show_back_up == -1) {\r\n                                utils.showLog(\"服务器配置不显示备用广告\");\r\n                                return;\r\n                            }\r\n                            if (this._isBannerShow) {\r\n                                this._isBannerShow = false;\r\n                                if (this.ServerConfig.banner_first_ad.indexOf(\"default\") > -1) {\r\n                                    this._curPosIdIndexNativeBanner = 0;\r\n                                    this._createNativeBannerAd(this._showNativeBanner.bind(this));\r\n                                } else {\r\n                                    //显示自定义banner\r\n                                    if (utils.isShowRecommondGamesBanner()) {\r\n                                        clearTimeout(this._showBannerTimerId);\r\n                                        utils.showRecommendGamesBanner();\r\n                                        utils.showLog(`小游戏、原生广告条都无法展示，展示自定义banner`);\r\n                                        return;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }).bind(this));\r\n\r\n                        this._bannerAd.onShow((() => {\r\n                            utils.showLog(\"OPPO 小游戏Banner显示成功！\");\r\n\r\n                            if (this._nativeBannerNode) {\r\n                                this._nativeBannerNode.active = false;\r\n                            }\r\n                            utils.hideRecommendGamesBanner();\r\n                            // if (this._bannerIsHide) {\r\n                            //     this._bannerAd.hide();\r\n                            //     utils.showLog(\"当前Banner广告为隐藏状态。调用隐藏！\");\r\n                            // }\r\n                            this._showBannerCallBack && this._showBannerCallBack();\r\n                            this._showBannerCallBack = null;\r\n                        }).bind(this));\r\n\r\n                        // this._bannerAd.onResize((obj) => {\r\n                        //     utils.showLog(\"on resize >>>>\" + JSON.stringify(obj));\r\n                        //     utils.showLog('banner 宽度：' + obj.width + ', banner 高度：' + obj.height + \" ,top\" + obj.top)\r\n                        // })\r\n\r\n                        this._bannerAd.onHide(function () {\r\n                            if (!this._isNativeBannerShow) {\r\n                                utils.oppoTool.countBannerCloseCount();\r\n                                utils.showLog(\"OPPO 小游戏Banner 广告隐藏,当前隐藏次数>\" + utils.oppoTool.bannerAdCloseCounts);\r\n                            } else {\r\n                                this._isNativeBannerShow = false;\r\n                                utils.showLog(\"OPPO 小游戏Banner 广告隐藏,来自原生的显示，不增加隐藏次数，当前隐藏次数>\" + utils.oppoTool.bannerAdCloseCounts);\r\n                            }\r\n\r\n                        })\r\n\r\n                        // _miniBannerHeight\r\n                    } else {\r\n                        if (this.ServerConfig.banner_first_ad.indexOf(\"default\") > -1) {\r\n                            this._curPosIdIndexNativeBanner = 0;\r\n                            this._createNativeBannerAd(this._showNativeBanner.bind(this));\r\n                        } else {\r\n                            //显示自定义banner\r\n                            if (utils.isShowRecommondGamesBanner()) {\r\n                                clearTimeout(this._showBannerTimerId);\r\n                                utils.showRecommendGamesBanner();\r\n                                utils.showLog(`小游戏、原生广告条都无法展示，展示自定义banner`);\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (this._bannerAd) {\r\n                    if (this.getNativeBannerInfo()._alignType !== \"top\") {\r\n                        this._bannerAd.style.top = utils.oppoTool.SysInfo.screenHeight;\r\n                    }\r\n\r\n                    this._bannerAd.show();\r\n                } else {\r\n                    utils.showLog(\"OPPO 小游戏Banner广告创建失败!\");\r\n                    if (this.ServerConfig.indexOf(\"default\") > -1) {\r\n                        this._curPosIdIndexNativeBanner = 0;\r\n                        this._createNativeBannerAd(this._showNativeBanner.bind(this));\r\n                    } else {\r\n                        //显示自定义banner\r\n                        if (utils.isShowRecommondGamesBanner()) {\r\n                            clearTimeout(this._showBannerTimerId);\r\n                            utils.showRecommendGamesBanner();\r\n                            utils.showLog(`小游戏、原生广告条都无法展示，展示自定义banner`);\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                utils.showLog(\"OPPO 小游戏Banner广告配置信息错误!\");\r\n                let bannerInfo = this.getNativeBannerInfo();\r\n                if (bannerInfo.st_banner_show_back_up == -1) {\r\n                    utils.showLog(\"服务器配置不显示备用广告\");\r\n                    return;\r\n                }\r\n                if (this.ServerConfig.banner_first_ad.indexOf(\"default\") > -1) {\r\n                    this._curPosIdIndexNativeBanner = 0;\r\n                    this._createNativeBannerAd(this._showNativeBanner.bind(this));\r\n                } else {\r\n                    //显示自定义banner\r\n                    if (utils.isShowRecommondGamesBanner()) {\r\n                        clearTimeout(this._showBannerTimerId);\r\n                        utils.showRecommendGamesBanner();\r\n                        utils.showLog(`小游戏、原生广告条都无法展示，展示自定义banner`);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    _createMiniGameBannerAdByConfigs(index: number) {\r\n        utils.showLog(\"_createMiniGameBannerAdByConfigs: #index=\" + index);\r\n        if (PlatUtils.IsOPPO) {\r\n            this._isBannerShow = true;\r\n            YouWanAnalytics.EventAdWithObj(YwAdType.BANNER, YwAdStatus.REQUEST, new AdEventParameter(utils.config.oppoconfig.bannerAdConfigs[index].id));\r\n\r\n            if (this._isAdInit\r\n                && utils.config.oppoconfig\r\n                && index < utils.config.oppoconfig.bannerAdConfigs.length) {\r\n\r\n                let style: any = {\r\n                    top: 0\r\n                }\r\n                if (this.getNativeBannerInfo()._alignType === \"top\") {\r\n                    style.top = 0;\r\n                } else {\r\n                    style = null;\r\n                }\r\n\r\n                //@ts-ignore\r\n                this._bannerAd = qg.createBannerAd({\r\n                    posId: utils.config.oppoconfig.bannerAdConfigs[index].id,\r\n                    style\r\n                });\r\n\r\n                if (this._bannerAd) {\r\n                    utils.showLog(\"注册小游戏banner回调!\");\r\n                    this._bannerAd.onError((err) => {\r\n                        this._bannerAd.offError();\r\n                        YouWanAnalytics.EventAdWithObj(YwAdType.BANNER, YwAdStatus.REQUEST_FAIL, new AdEventParameter(utils.config.oppoconfig.bannerAdConfigs[index].id));\r\n\r\n                        utils.showLog(\"OPPO 小游戏 Configs Banner广告出错: \" + err.code + err.msg);\r\n                        let bannerInfo = this.getNativeBannerInfo();\r\n                        if (bannerInfo.st_banner_show_back_up == -1) {\r\n                            utils.showLog(\"服务器配置不显示备用广告\");\r\n                            YouWanAnalytics.EventAd(YwAdType.BANNER, YwAdStatus.AD_ID_REQUEST_FAIL);\r\n                            return;\r\n                        }\r\n                        if (this._isBannerShow) {\r\n                            this._isBannerShow = false;\r\n                            this.ShowBannerByConfigs(index + 1);\r\n                        }\r\n                    });\r\n\r\n                    // this._bannerAd.onShow((() => {\r\n                    //     this._bannerAd.offShow();\r\n                    //     utils.showLog(\"OPPO 小游戏Banner显示成功！\");\r\n                    //     this.hideBanner(\"default\");\r\n                    //     this._showBannerCallBack && this._showBannerCallBack();\r\n                    //     this._showBannerCallBack = null;\r\n                    // }).bind(this));\r\n\r\n                    // this._bannerAd.onResize((obj) => {\r\n                    //     utils.showLog(\"on resize >>>>\" + JSON.stringify(obj));\r\n                    //     utils.showLog('banner 宽度：' + obj.width + ', banner 高度：' + obj.height + \" ,top\" + obj.top)\r\n                    // })\r\n\r\n                    this._bannerAd.onHide(() => {\r\n                        this._bannerAd.offHide();\r\n                        if (!this._isNativeBannerShow) {\r\n                            utils.oppoTool.countBannerCloseCount();\r\n                            utils.showLog(\"OPPO 小游戏Banner 广告隐藏,当前隐藏次数>\" + utils.oppoTool.bannerAdCloseCounts);\r\n                        } else {\r\n                            this._isNativeBannerShow = false;\r\n                            utils.showLog(\"OPPO 小游戏Banner 广告隐藏,来自原生的显示，不增加隐藏次数，当前隐藏次数>\" + utils.oppoTool.bannerAdCloseCounts);\r\n                        }\r\n\r\n                    })\r\n\r\n                    if (this.getNativeBannerInfo()._alignType !== \"top\") {\r\n                        this._bannerAd.style.top = utils.oppoTool.SysInfo.screenHeight;\r\n                    }\r\n\r\n                    this._bannerAd.show().then(() => {\r\n                        this._bannerAd.offShow();\r\n                        utils.showLog(\"OPPO 小游戏Banner显示成功！\");\r\n                        YouWanAnalytics.EventAdWithObj(YwAdType.BANNER, YwAdStatus.SHOW_SUCCESS, new AdEventParameter(utils.config.oppoconfig.bannerAdConfigs[index].id));\r\n                        YouWanAnalytics.EventAd(YwAdType.BANNER, YwAdStatus.AD_ID_REQUEST_SUCCESS);\r\n\r\n                        this.hideBanner(\"default\");\r\n                        this._showBannerCallBack && this._showBannerCallBack();\r\n                        this._showBannerCallBack = null;\r\n                    });\r\n                } else {\r\n                    this.ShowBannerByConfigs(index + 1);\r\n                    YouWanAnalytics.EventAdWithObj(YwAdType.BANNER, YwAdStatus.REQUEST_FAIL, new AdEventParameter(utils.config.oppoconfig.bannerAdConfigs[index].id));\r\n                    YouWanAnalytics.EventAd(YwAdType.BANNER, YwAdStatus.AD_ID_REQUEST_FAIL);\r\n\r\n\r\n                }\r\n\r\n            } else {\r\n                utils.showLog(\"OPPO 小游戏Banner广告配置信息错误!\");\r\n                let bannerInfo = this.getNativeBannerInfo();\r\n                if (bannerInfo.st_banner_show_back_up == -1) {\r\n                    YouWanAnalytics.EventAd(YwAdType.BANNER, YwAdStatus.AD_ID_REQUEST_FAIL);\r\n                    utils.showLog(\"服务器配置不显示备用广告\");\r\n                    return;\r\n                }\r\n                this.ShowBannerByConfigs(index + 1);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    _createNativeBannerAdByConfigs(index: number) {\r\n        if (PlatUtils.IsOPPO) {\r\n\r\n            YouWanAnalytics.EventAdWithObj(YwAdType.NATIVE_BANNER, YwAdStatus.REQUEST, new AdEventParameter(utils.config.oppoconfig.bannerAdConfigs[index].id));\r\n\r\n            utils.showLog(\"_createNativeBannerAdByConfigs: #index=\" + index);\r\n            if (this._isAdInit\r\n                && utils.config.oppoconfig\r\n                && index < utils.config.oppoconfig.bannerAdConfigs.length) {\r\n\r\n                let nativeBannerAd = utils.config.oppoconfig.bannerAdConfigs[index].nativeBannerAd;\r\n\r\n                if (!nativeBannerAd) {\r\n                    utils.showLog(\"创建原生广告Banner。 posId:\" + utils.config.oppoconfig.bannerAdConfigs[index].id);\r\n                    //@ts-ignore\r\n                    nativeBannerAd = qg.createNativeAd({\r\n                        posId: utils.config.oppoconfig.bannerAdConfigs[index].id\r\n                    });\r\n\r\n                    if (nativeBannerAd) {\r\n                        utils.config.oppoconfig.bannerAdConfigs[index].nativeBannerAd = nativeBannerAd;\r\n\r\n                        nativeBannerAd.onLoad((res) => {\r\n                            YouWanAnalytics.EventAdWithObj(YwAdType.NATIVE_BANNER, YwAdStatus.REQUEST_SUCCESS, new AdEventParameter(utils.config.oppoconfig.bannerAdConfigs[index].id));\r\n\r\n                            if (this._nativeIsClose) {\r\n                                utils.showLog(\"隐藏了BANNER，不做任何处理！\");\r\n                                return;\r\n                            }\r\n                            if (res && res.adList && res.adList.length > 0) {\r\n                                this._startBannerTimerTask = new Date().getTime();\r\n                                utils.showLog(\"原生Banner广告资源拉取成功！\");\r\n                                utils.showLog(JSON.stringify(res));\r\n                                res = JSON.parse(JSON.stringify(res));\r\n                                let data = res.adList[0];\r\n                                //如果当前显示为结算banner,则不做数据验证\r\n                                if (this._checkNativeDataValid(data) || this.getNativeBannerInfo().show_st_banner == \"true\") {\r\n                                    if (this.canShowNativeBanner) {\r\n                                        this._curPosIdIndexNativeBanner = 0;\r\n                                        this._showNativeBanner(nativeBannerAd, data);\r\n                                        this._curNativeBannerInfo.nativeBannerAd = nativeBannerAd;\r\n                                        this._curNativeBannerInfo.data = data;\r\n                                        this.hideBanner(\"native\");\r\n                                        YouWanAnalytics.EventAdWithObj(YwAdType.NATIVE_BANNER, YwAdStatus.SHOW_SUCCESS, new AdEventParameter(utils.config.oppoconfig.bannerAdConfigs[index].id));\r\n                                        YouWanAnalytics.EventAd(YwAdType.BANNER, YwAdStatus.AD_ID_REQUEST_SUCCESS);\r\n\r\n                                    } else {\r\n                                        utils.showLog(\"已经隐藏banner不可重复展示\")\r\n                                    }\r\n\r\n                                    return;\r\n                                }\r\n                            }\r\n\r\n                            utils.showLog(\"原生Banner广告资源出错！\");\r\n\r\n                            let bannerInfo = this.getNativeBannerInfo();\r\n                            if (bannerInfo.st_banner_show_back_up == -1) {\r\n                                utils.showLog(\">>>>>服务器配置不显示备用广告！\");\r\n                                YouWanAnalytics.EventAdWithObj(YwAdType.NATIVE_BANNER, YwAdStatus.REQUEST_FAIL, new AdEventParameter(utils.config.oppoconfig.bannerAdConfigs[index].id));\r\n                                YouWanAnalytics.EventAd(YwAdType.BANNER, YwAdStatus.AD_ID_REQUEST_FAIL);\r\n\r\n                                return;\r\n                            }\r\n                            this.ShowBannerByConfigs(index + 1);\r\n                        });\r\n\r\n                        nativeBannerAd.onError((err) => {\r\n                            YouWanAnalytics.EventAdWithObj(YwAdType.NATIVE_BANNER, YwAdStatus.REQUEST_FAIL, new AdEventParameter(utils.config.oppoconfig.bannerAdConfigs[index].id));\r\n\r\n                            if (this._nativeIsClose) {\r\n                                utils.showLog(\"隐藏了BANNER，不做任何处理！\");\r\n                                return;\r\n                            }\r\n                            utils.showLog(\"原生Banner广告资源拉取失败！\" + err.code + err.msg);\r\n\r\n                            // 原生广告遍历完毕\r\n                            let bannerInfo = this.getNativeBannerInfo();\r\n                            if (bannerInfo.st_banner_show_back_up == -1) {\r\n                                utils.showLog(\">>>>>服务器配置不显示备用广告！\");\r\n                                YouWanAnalytics.EventAd(YwAdType.BANNER, YwAdStatus.AD_ID_REQUEST_FAIL);\r\n                                return;\r\n                            }\r\n                            this.ShowBannerByConfigs(index + 1);\r\n                        });\r\n                    }\r\n                }\r\n\r\n                if (nativeBannerAd) {\r\n                    utils.showLog(\"nativeBannerAd reLoad>>\");\r\n                    nativeBannerAd.load();\r\n                } else {\r\n\r\n                    let bannerInfo = this.getNativeBannerInfo();\r\n                    if (bannerInfo.st_banner_show_back_up == -1) {\r\n                        utils.showLog(\">>>>>服务器配置不显示备用广告！\");\r\n                        YouWanAnalytics.EventAd(YwAdType.BANNER, YwAdStatus.AD_ID_REQUEST_FAIL);\r\n                        return;\r\n                    }\r\n                    this.ShowBannerByConfigs(index + 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    _curNativeBannerInfo: any = {};\r\n    _createNativeBannerAd(completeCallback: Function) {\r\n        if (PlatUtils.IsOPPO) {\r\n\r\n            let callback = completeCallback;\r\n\r\n            utils.showLog(\"curPosIdIndexNativeBanner:\" + this._curPosIdIndexNativeBanner);\r\n\r\n            let nativeBannerAd = this._nativeBannerAd[this._curPosIdIndexNativeBanner];\r\n\r\n            if (!nativeBannerAd) {\r\n                if (utils.config.oppoconfig.nativeBannerIds\r\n                    && utils.config.oppoconfig.nativeBannerIds[this._curPosIdIndexNativeBanner]) {\r\n                    utils.showLog(\"创建原生广告Banner。 posId:\" + utils.config.oppoconfig.nativeBannerIds[this._curPosIdIndexNativeBanner]);\r\n                    //@ts-ignore\r\n                    nativeBannerAd = qg.createNativeAd({\r\n                        posId: utils.config.oppoconfig.nativeBannerIds[this._curPosIdIndexNativeBanner]\r\n                    });\r\n\r\n                    if (nativeBannerAd) {\r\n                        this._nativeBannerAd.push(nativeBannerAd);\r\n\r\n                        nativeBannerAd.onLoad((res) => {\r\n                            if (this._nativeIsClose) {\r\n                                utils.showLog(\"隐藏了BANNER，不做任何处理！\");\r\n                                return;\r\n                            }\r\n                            if (res && res.adList && res.adList.length > 0) {\r\n                                this._startBannerTimerTask = new Date().getTime();\r\n                                utils.showLog(\"原生Banner广告资源拉取成功！\");\r\n                                utils.showLog(JSON.stringify(res));\r\n                                res = JSON.parse(JSON.stringify(res));\r\n                                let data = res.adList[0];\r\n                                //如果当前显示为结算banner,则不做数据验证\r\n                                if (this._checkNativeDataValid(data) || this.getNativeBannerInfo().show_st_banner == \"true\") {\r\n                                    if (this.canShowNativeBanner) {\r\n                                        this._curPosIdIndexNativeBanner = 0;\r\n                                        this._showNativeBanner(nativeBannerAd, data);\r\n                                        this._curNativeBannerInfo.nativeBannerAd = nativeBannerAd;\r\n                                        this._curNativeBannerInfo.data = data;\r\n                                        // 删除当前广告\r\n                                        if (this._bannerAd) {\r\n                                            this._isNativeBannerShow = true;\r\n                                            if (utils.oppoTool.isOverMiniVersion(\"1050\")) {\r\n                                                utils.showLog(\"销毁小游戏Banner\");\r\n                                                this._bannerAd.destroy();\r\n                                                this._bannerAd = null;\r\n                                            } else {\r\n                                                utils.showLog(\"当前小游戏平台小于1051，只能隐藏小游戏Banner\");\r\n                                                this._bannerAd.hide();\r\n                                            }\r\n                                        }\r\n                                        utils.hideRecommendGamesBanner();\r\n                                    } else {\r\n                                        cc.warn(\"已经隐藏banner不可重复展示\")\r\n                                    }\r\n\r\n                                    return;\r\n                                }\r\n                            }\r\n\r\n                            utils.showLog(\"原生Banner广告资源出错！\");\r\n                            this._curPosIdIndexNativeBanner++;\r\n                            if (this._curPosIdIndexNativeBanner < utils.config.oppoconfig.nativeBannerIds.length) {\r\n                                this._createNativeBannerAd(callback);\r\n                            } else {\r\n                                this._curPosIdIndexNativeBanner = 0;\r\n                                // 原生广告遍历完毕\r\n                                utils.showLog(\"原生广告条遍历完毕，无法展示！\");\r\n                                let bannerInfo = this.getNativeBannerInfo();\r\n                                if (bannerInfo.st_banner_show_back_up == -1) {\r\n                                    utils.showLog(\">>>>>服务器配置不显示备用广告！\");\r\n                                    return;\r\n                                }\r\n                                if (this.ServerConfig.banner_first_ad.indexOf(\"native\") > -1) {\r\n                                    utils.showLog(\"开始展示小游戏广告条！\")\r\n                                    this._createMiniGameBannerAd();\r\n                                } else {\r\n                                    //显示自定义banner\r\n                                    if (utils.isShowRecommondGamesBanner()) {\r\n                                        clearTimeout(this._showBannerTimerId);\r\n                                        utils.showRecommendGamesBanner();\r\n                                        utils.showLog(`小游戏、原生广告条都无法展示，展示自定义banner`);\r\n                                        return;\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                        });\r\n\r\n                        nativeBannerAd.onError((err) => {\r\n                            if (this._nativeIsClose) {\r\n                                utils.showLog(\"隐藏了BANNER，不做任何处理！\");\r\n                                return;\r\n                            }\r\n                            utils.showLog(\"原生Banner广告资源拉取失败！\" + err.code + err.msg);\r\n                            this._curPosIdIndexNativeBanner++;\r\n                            if (this._curPosIdIndexNativeBanner < utils.config.oppoconfig.nativeBannerIds.length) {\r\n                                this._createNativeBannerAd(callback);\r\n                            } else {\r\n                                this._curPosIdIndexNativeBanner = 0;\r\n                                // 原生广告遍历完毕\r\n                                utils.showLog(\"原生广告条遍历完毕，无法展示！\");\r\n                                let bannerInfo = this.getNativeBannerInfo();\r\n                                if (bannerInfo.st_banner_show_back_up == -1) {\r\n                                    utils.showLog(\">>>>>服务器配置不显示备用广告！\");\r\n                                    return;\r\n                                }\r\n                                if (this.ServerConfig.banner_first_ad.indexOf(\"native\") > -1) {\r\n                                    utils.showLog(\"开始展示小游戏广告条！\")\r\n                                    this._createMiniGameBannerAd();\r\n                                } else {\r\n                                    //显示自定义banner\r\n                                    if (utils.isShowRecommondGamesBanner()) {\r\n                                        clearTimeout(this._showBannerTimerId);\r\n                                        utils.showRecommendGamesBanner();\r\n                                        utils.showLog(`小游戏、原生广告条都无法展示，展示自定义banner`);\r\n                                        return;\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (nativeBannerAd) {\r\n                utils.showLog(\"nativeBannerAd reLoad>>\");\r\n                nativeBannerAd.load();\r\n            } else {\r\n                this._curPosIdIndexNativeBanner++;\r\n                if (utils.config.oppoconfig.nativeBannerIds && this._curPosIdIndexNativeBanner < utils.config.oppoconfig.nativeBannerIds.length) {\r\n                    this._createNativeBannerAd(callback);\r\n                } else {\r\n                    this._curPosIdIndexNativeBanner = 0;\r\n                    // 原生广告遍历完毕\r\n                    utils.showLog(\"原生广告条遍历完毕，无法展示！\");\r\n                    let bannerInfo = this.getNativeBannerInfo();\r\n                    if (bannerInfo.st_banner_show_back_up == -1) {\r\n                        utils.showLog(\">>>>>服务器配置不显示备用广告！\");\r\n                        return;\r\n                    }\r\n                    if (this.ServerConfig.banner_first_ad.indexOf(\"native\") > -1) {\r\n                        utils.showLog(\"开始展示小游戏广告条！\")\r\n                        this._createMiniGameBannerAd();\r\n                    } else {\r\n                        //显示自定义banner\r\n                        if (utils.isShowRecommondGamesBanner()) {\r\n                            clearTimeout(this._showBannerTimerId);\r\n                            utils.showRecommendGamesBanner();\r\n                            utils.showLog(`小游戏、原生广告条都无法展示，展示自定义banner`);\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    _createNativeInsertAd(completeCallback: Function) {\r\n        if (PlatUtils.IsOPPO) {\r\n\r\n            let callback = completeCallback;\r\n\r\n            utils.showLog(\"curPosIdIndexNativeInsert:\" + this._curPosIdIndexNativeInser);\r\n\r\n            let nativeInsertAd = this._nativeInsertAd[this._curPosIdIndexNativeInser];\r\n            if (!nativeInsertAd) {\r\n\r\n                if (utils.config.oppoconfig.nativeInsertIds\r\n                    && utils.config.oppoconfig.nativeInsertIds[this._curPosIdIndexNativeInser]) {\r\n                    utils.showLog(\"创建原生插屏广告。 posId:\" + utils.config.oppoconfig.nativeInsertIds[this._curPosIdIndexNativeInser]);\r\n                    //@ts-ignore\r\n                    nativeInsertAd = qg.createNativeAd({\r\n                        posId: utils.config.oppoconfig.nativeInsertIds[this._curPosIdIndexNativeInser]\r\n                    });\r\n\r\n                    if (nativeInsertAd) {\r\n                        this._nativeInsertAd.push(nativeInsertAd);\r\n\r\n                        nativeInsertAd.onLoad((res) => {\r\n                            if (res && res.adList && res.adList.length > 0) {\r\n                                utils.showLog(\"原生插屏广告资源拉取成功！\");\r\n                                utils.showLog(JSON.stringify(res));\r\n                                res = JSON.parse(JSON.stringify(res));\r\n                                let data = res.adList[0];\r\n                                if (this._checkNativeInsertDataValid(data)) {\r\n\r\n                                    this._curPosIdIndexNativeInser = 0;\r\n                                    this._showNativeInsert(nativeInsertAd, data);\r\n\r\n                                    return;\r\n                                } else {\r\n                                    utils.showLog(\"原生插屏广告资源不合法！\");\r\n                                }\r\n                            }\r\n\r\n                            utils.showLog(\"原生插屏广告资源出错！\");\r\n                            this._curPosIdIndexNativeInser++;\r\n                            if (this._curPosIdIndexNativeInser < utils.config.oppoconfig.nativeInsertIds.length) {\r\n                                this._createNativeInsertAd(callback);\r\n                            } else {\r\n                                this._curPosIdIndexNativeInser = 0;\r\n                                // 原生广告遍历完毕\r\n                                utils.showLog(\"原生插屏广告遍历完毕，无法展示！\");\r\n                                if (this.ServerConfig.intersititial_first_ad == \"native\") {\r\n                                    utils.showLog(\"开始展示小游戏插屏广告!\");\r\n                                    this._createMiniGameInsertAd();\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        nativeInsertAd.onError((err) => {\r\n                            utils.showLog(\"原生插屏广告资源拉取失败！\" + err.code + err.msg);\r\n                            this._curPosIdIndexNativeInser++;\r\n                            if (this._curPosIdIndexNativeInser < utils.config.oppoconfig.nativeInsertIds.length) {\r\n                                this._createNativeInsertAd(callback);\r\n                            } else {\r\n                                this._curPosIdIndexNativeInser = 0;\r\n                                // 原生广告遍历完毕\r\n                                utils.showLog(\"原生插屏广告遍历完毕，无法展示！\");\r\n                                if (this.ServerConfig.intersititial_first_ad == \"native\") {\r\n                                    utils.showLog(\"开始展示小游戏插屏广告!\");\r\n                                    this._createMiniGameInsertAd();\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (nativeInsertAd) {\r\n                nativeInsertAd.load();\r\n            } else {\r\n                this._curPosIdIndexNativeInser++;\r\n                if (utils.config.oppoconfig.nativeInsertIds && this._curPosIdIndexNativeInser < utils.config.oppoconfig.nativeInsertIds.length) {\r\n                    this._createNativeInsertAd(callback);\r\n                } else {\r\n                    this._curPosIdIndexNativeInser = 0;\r\n                    // 原生广告遍历完毕\r\n                    utils.showLog(\"原生插屏广告遍历完毕，无法展示！\");\r\n                    if (this.ServerConfig.intersititial_first_ad == \"native\") {\r\n                        utils.showLog(\"开始展示小游戏插屏广告!\");\r\n                        this._createMiniGameInsertAd();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    _createNativeInsertAdByConfig(index: number) {\r\n        if (PlatUtils.IsOPPO) {\r\n            utils.showLog(\"_createNativeInsertAdByConfig: #index=\" + index);\r\n\r\n            if (this._isAdInit\r\n                && utils.config.oppoconfig\r\n                && index < utils.config.oppoconfig.intersitialAdConfigs.length) {\r\n\r\n\r\n                let nativeInsertAd = utils.config.oppoconfig.intersitialAdConfigs[index].nativeInsertAd;\r\n                YouWanAnalytics.EventAdWithObj(YwAdType.NATIVE_INTERSITITIAL, YwAdStatus.REQUEST, new AdEventParameter(utils.config.oppoconfig.intersitialAdConfigs[index].id));\r\n\r\n                if (!nativeInsertAd) {\r\n\r\n                    if (utils.config.oppoconfig.intersitialAdConfigs[index].id) {\r\n                        utils.showLog(\"创建原生插屏广告。 posId:\" + utils.config.oppoconfig.intersitialAdConfigs[index].id);\r\n                        //@ts-ignore\r\n                        nativeInsertAd = qg.createNativeAd({\r\n                            posId: utils.config.oppoconfig.intersitialAdConfigs[index].id\r\n                        });\r\n\r\n                        if (nativeInsertAd) {\r\n                            utils.config.oppoconfig.intersitialAdConfigs[index].nativeInsertAd = nativeInsertAd;\r\n\r\n                            nativeInsertAd.onLoad((res) => {\r\n                                YouWanAnalytics.EventAdWithObj(YwAdType.NATIVE_INTERSITITIAL, YwAdStatus.REQUEST_SUCCESS, new AdEventParameter(utils.config.oppoconfig.intersitialAdConfigs[index].id));\r\n\r\n                                if (res && res.adList && res.adList.length > 0) {\r\n\r\n                                    utils.showLog(\"原生插屏广告资源拉取成功！\");\r\n                                    utils.showLog(JSON.stringify(res));\r\n                                    res = JSON.parse(JSON.stringify(res));\r\n                                    let data = res.adList[0];\r\n                                    if (this._checkNativeInsertDataValid(data)) {\r\n\r\n                                        YouWanAnalytics.EventAd(YwAdType.INTERSITITIAL, YwAdStatus.AD_ID_REQUEST_SUCCESS);\r\n\r\n                                        YouWanAnalytics.EventAdWithObj(YwAdType.NATIVE_INTERSITITIAL, YwAdStatus.SHOW_SUCCESS, new AdEventParameter(utils.config.oppoconfig.intersitialAdConfigs[index].id));\r\n                                        this._showNativeInsert(nativeInsertAd, data);\r\n                                        return;\r\n                                    } else {\r\n                                        utils.showLog(\"原生插屏广告资源不合法！\");\r\n                                    }\r\n                                    YouWanAnalytics.EventAdWithObj(YwAdType.NATIVE_INTERSITITIAL, YwAdStatus.REQUEST_FAIL, new AdEventParameter(utils.config.oppoconfig.intersitialAdConfigs[index].id));\r\n\r\n                                }\r\n\r\n                                utils.showLog(\"原生插屏广告资源出错！\");\r\n                                this.ShowInterstitialByConfigs(index + 1);\r\n                            });\r\n\r\n                            nativeInsertAd.onError((err) => {\r\n                                utils.showLog(\"原生插屏广告资源拉取失败！\" + err.code + err.msg);\r\n                                YouWanAnalytics.EventAdWithObj(YwAdType.NATIVE_INTERSITITIAL, YwAdStatus.REQUEST_FAIL, new AdEventParameter(utils.config.oppoconfig.intersitialAdConfigs[index].id, err.code, err.msg));\r\n\r\n                                this.ShowInterstitialByConfigs(index + 1);\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (nativeInsertAd) {\r\n                    nativeInsertAd.load();\r\n                } else {\r\n                    YouWanAnalytics.EventAdWithObj(YwAdType.NATIVE_INTERSITITIAL, YwAdStatus.REQUEST_FAIL, new AdEventParameter(utils.config.oppoconfig.intersitialAdConfigs[index].id));\r\n\r\n                    utils.showLog(\"创建原生插屏失败：#index=\" + index);\r\n                    this.ShowInterstitialByConfigs(index + 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取原生广告数据\r\n     * @param args \r\n     */\r\n    getNativeAdData() {\r\n        if (!this._nativeAdObject) {\r\n            this._nativeAdObject = new YZ_NativeAdObject();\r\n        }\r\n        this._nativeAdObject._nativeObj = this._nativeAd;\r\n        if (this._nativeAdObject.data) {\r\n            if (this._nativeAdObject.data.adId != this._nativeData.adId) {\r\n                this._nativeAdObject.is_reportClick = false;\r\n                this._nativeAdObject.is_reportShow = false;\r\n            }\r\n        }\r\n        this._nativeAdObject.data = this._nativeData;\r\n\r\n\r\n        // setTimeout(() => {\r\n        //     utils.showLog(\"延迟两秒重新请求原生广告数据\");\r\n        //     this._createNativeAd(args);\r\n        // }, 2000);\r\n        if (this._nativeData && this._nativeAd) {\r\n            // this._nativeData = null;\r\n            utils.showLog(\"获取原生数据 >>>\", this._nativeData, \"...\", this._nativeAdObject)\r\n            return this._nativeAdObject;\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n\r\n    _singleAdCreateTime: number = 0;\r\n\r\n\r\n    /**\r\n     * 创建单个原生广告\r\n     * @param completeCallback \r\n     */\r\n    createNativeAd(params: any = null, nativeItem?: YZ_NativeItem) {\r\n        utils.showLog(\"_createNativeAd >>>>>\");\r\n        if (PlatUtils.IsOPPO) {\r\n            if (nativeItem) {\r\n                this._curNativeItem = nativeItem;\r\n            }\r\n\r\n            let refreshTime = this.ServerConfig.st_native_ad_refresh_time ? this.ServerConfig.st_native_ad_refresh_time : 0;\r\n            if (this._nativeAdObject && this._nativeAdObject.data && !this._nativeAdObject.is_reportClick && (new Date().getTime() - this._singleAdCreateTime) / 1000 < refreshTime) {\r\n                utils.showLog(`当前原生广告的展示时间${(new Date().getTime() - this._singleAdCreateTime) / 1000}秒，未达刷新时间${refreshTime}秒限制，直接使用上一次数据！`);\r\n                this._showNativeAd();\r\n                return;\r\n            }\r\n\r\n            utils.showLog(\"_curPosIdIndexSingleNative:\" + this._curPosIdIndexSingleNative + \"  #this._nativeSingleAd.length\" + this._nativeSingleAd.length);\r\n\r\n            let nativeSingleAd = this._nativeSingleAd[this._curPosIdIndexSingleNative];\r\n            if (!nativeSingleAd) {\r\n\r\n                if (utils.config.oppoconfig.nativeSingleAdIds\r\n                    && utils.config.oppoconfig.nativeSingleAdIds[this._curPosIdIndexSingleNative]) {\r\n                    utils.showLog(\"创建原生广告。 posId:\" + utils.config.oppoconfig.nativeSingleAdIds[this._curPosIdIndexSingleNative]);\r\n                    //@ts-ignore\r\n                    nativeSingleAd = qg.createNativeAd({\r\n                        posId: utils.config.oppoconfig.nativeSingleAdIds[this._curPosIdIndexSingleNative]\r\n                    });\r\n\r\n                    if (nativeSingleAd) {\r\n                        this._nativeSingleAd.push(nativeSingleAd);\r\n\r\n                        nativeSingleAd.onLoad((res) => {\r\n                            if (res && res.adList && res.adList.length > 0) {\r\n                                utils.showLog(\"原生广告资源拉取成功！\");\r\n                                utils.showLog(JSON.stringify(res));\r\n                                res = JSON.parse(JSON.stringify(res));\r\n                                let data = res.adList[0];\r\n                                if (this._checkNativeDataValid(data)) {\r\n                                    this._singleAdCreateTime = new Date().getTime();\r\n                                    this._curPosIdIndexSingleNative = 0;\r\n                                    this._nativeData = data;\r\n                                    this._nativeAd = nativeSingleAd;\r\n                                    // utils.showLog(\"callback >>>\", callback);\r\n                                    // callback(this.getNativeAdData());\r\n                                    this._showNativeAd();\r\n                                    return;\r\n                                } else {\r\n                                    utils.showLog(\"原生广告资源不合法！\");\r\n                                }\r\n                            }\r\n\r\n                            utils.showLog(\"原生广告资源出错！\");\r\n                            this._curPosIdIndexSingleNative++;\r\n                            if (this._curPosIdIndexSingleNative < utils.config.oppoconfig.nativeSingleAdIds.length) {\r\n                                this.createNativeAd();\r\n                            } else {\r\n                                this._curPosIdIndexSingleNative = 0;\r\n                                // 原生广告遍历完毕\r\n                                utils.showLog(\"单个原生广告ID遍历完毕，无法展示！\");\r\n                            }\r\n                        });\r\n\r\n                        nativeSingleAd.onError((err) => {\r\n                            utils.showLog(\"原生单个广告资源拉取失败！\" + err.code + err.msg);\r\n                            this._curPosIdIndexSingleNative++;\r\n                            if (this._curPosIdIndexSingleNative < utils.config.oppoconfig.nativeSingleAdIds.length) {\r\n                                this.createNativeAd();\r\n                            } else {\r\n                                this._curPosIdIndexSingleNative = 0;\r\n                                // 原生广告遍历完毕\r\n                                utils.showLog(\"单个原生广告ID遍历完毕，无法展示！\");\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (nativeSingleAd) {\r\n                utils.showLog(\"nativeSingleAd reload\");\r\n                nativeSingleAd.load();\r\n            } else {\r\n                this._curPosIdIndexSingleNative++;\r\n                if (utils.config.oppoconfig.nativeSingleAdIds && this._curPosIdIndexSingleNative < utils.config.oppoconfig.nativeSingleAdIds.length) {\r\n                    this.createNativeAd();\r\n                } else {\r\n                    this._curPosIdIndexSingleNative = 0;\r\n                    // 原生广告遍历完毕\r\n                    utils.showLog(\"单个原生广告ID 遍历完毕，无法展示！\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 显示原生banner组件\r\n     */\r\n    _showNativeBanner(nativeBannerAd: any, data: any) {\r\n        if (PlatUtils.IsOPPO) {\r\n            if (data) {\r\n\r\n                if (cc.isValid(this._nativeBannerNode) && this._nativeBannerNode) {\r\n                    this._nativeBannerNode.destroy();\r\n                }\r\n\r\n                // if (!cc.isValid(this._nativeBannerNode) || (!this._nativeBannerNode && utils.config.otherconfig.nativeBanner)) {\r\n                this._nativeBannerNode = cc.instantiate(utils.config.otherconfig.nativeBanner);\r\n                this._nativeBannerNode.position = CompatibleTool.position(cc.winSize.width / 2, this._nativeBannerNode.height * this._nativeBannerNode.scaleY / 2);\r\n                cc.director.getScene().addChild(this._nativeBannerNode, 1000);\r\n                // }\r\n                if (this._nativeBannerNode) {\r\n                    this._nativeBannerNode.active = true;\r\n                    let nativeBanner: YZ_NativeBanner = this._nativeBannerNode.getComponent(\"YZ_NativeBanner\");\r\n                    if (nativeBanner) {\r\n                        nativeBanner.init(nativeBannerAd, data, this.getNativeBannerInfo());\r\n                    } else {\r\n                        utils.showLog(\"NativeBanner组件不存在!\");\r\n                    }\r\n                    this._showBannerCallBack && this._showBannerCallBack();\r\n                    this._showBannerCallBack = null;\r\n                } else {\r\n                    utils.showLog(\"原生广告banner位没有创建！\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    /**\r\n     * 显示原生插屏组件\r\n     */\r\n    _showNativeInsert(nativeInsertAd: any, data: any) {\r\n        if (PlatUtils.IsOPPO) {\r\n            if (data) {\r\n\r\n\r\n                if ((!cc.isValid(this._nativeInsertNode)) || !this._nativeInsertNode && utils.config.otherconfig.nativeInsert) {\r\n                    utils.showLog(\"创建原生插屏广告位\");\r\n                    this._nativeInsertNode = cc.instantiate(utils.config.otherconfig.nativeInsert);\r\n                    this._nativeInsertNode.position = CompatibleTool.position(cc.winSize.width / 2, cc.winSize.height / 2);\r\n                    cc.director.getScene().addChild(this._nativeInsertNode, 999999);\r\n                }\r\n\r\n                if (this._nativeInsertNode) {\r\n                    let nativeInsert = this._nativeInsertNode.getComponent(\"YZ_NativeInsert\");\r\n                    if (nativeInsert) {\r\n                        this._nativeInsertAdShowCount = 0;\r\n                        nativeInsert.init(nativeInsertAd, data);\r\n                        this._insertLastShowTime = new Date().getTime();\r\n\r\n                        utils.oppoTool.countInserShowCount();\r\n                        utils.showLog(\"原生插屏显示成功，当前显示次数=\" + utils.oppoTool.insertAdShowCounts);\r\n                        let closeType = this.ServerConfig.intersititial_open_close_banner;\r\n                        if (closeType && closeType > 0) {\r\n                            utils.showLog(\"OPPO 配置当前插屏显示成功后\" + (closeType == 1 ? \"销毁\" : \"隐藏\") + \"banner!\");\r\n                            this.HideBanner();\r\n                        }\r\n\r\n\r\n                    } else {\r\n                        utils.showLog(\"NativeInsert组件不存在!\");\r\n                    }\r\n                } else {\r\n                    utils.showLog(\"原生广告插屏位没有创建！\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 隐藏banner\r\n     * @param args \r\n     */\r\n    public HideSingleNativeAd(args?: any) {\r\n        if (this.signleNativeAd && cc.isValid(this.signleNativeAd)) {\r\n            this.signleNativeAd.destroy();\r\n        }\r\n    }\r\n\r\n\r\n    public ShowCloseBtnBanner(location: BannerLocation = BannerLocation.Home, args: any) {\r\n        utils.showLog(\"ShowCloseBtnBanner >>>>>>>>>.\");\r\n\r\n        let isMoveBtn = 0;\r\n        let fadeInTime = 0;\r\n        let btn: cc.Node = args.closeBtn;\r\n        let winHeight = cc.winSize.height;\r\n\r\n        btn.opacity = 0;\r\n        if (this.ServerConfig) {\r\n\r\n            if (this.ServerConfig.is_move_btn) {\r\n                isMoveBtn = this.ServerConfig.is_move_btn;\r\n            }\r\n\r\n            if (this.ServerConfig.close_btn_fade_in_time) {\r\n                fadeInTime = this.ServerConfig.close_btn_fade_in_time;\r\n            }\r\n            utils.showLog(isMoveBtn == 0 ? \"显示banner,且按钮在上面\" : `显示Banner,按钮居底部且${isMoveBtn}毫秒后移动`);\r\n\r\n            setTimeout(() => {\r\n\r\n                utils.showLog(\"延迟调用关闭按钮的Banner >>>>\");\r\n                this.ShowBanner(location, args);\r\n\r\n                var adY = 240;\r\n                utils.showLog('utils - adY:' + adY);\r\n                if (adY > 0 && btn) {\r\n                    btn.y = -(winHeight / 2 - adY) + btn.height;\r\n                    utils.showLog(\"btnClose.y\" + btn.y);\r\n                }\r\n            }, isMoveBtn);\r\n\r\n            setTimeout(() => {\r\n                btn.runAction(cc.fadeIn(0.3));\r\n            }, fadeInTime * 1000);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    _checkNativeInsertDataValid(data: any) {\r\n        if (!data) {\r\n            return false;\r\n        }\r\n        return data.title && ((data.iconUrlList && data.iconUrlList.length > 0) || (data.imgUrlList && data.imgUrlList.length > 0));\r\n    }\r\n\r\n    _checkNativeDataValid(data: any) {\r\n        if (!data) {\r\n            return false;\r\n        }\r\n        return data.imgUrlList && data.imgUrlList.length;\r\n    }\r\n\r\n    /**\r\n     * 验证是否显示激励插屏\r\n     */\r\n    private checkRewardInsertIsShow() {\r\n        let jumpList = utils.getRecommondGameList();\r\n        if (utils.isSupportnavigateToMiniGame()) {\r\n            if (utils.oppoTool\r\n                && utils.oppoTool.ServerConfig\r\n                && utils.oppoTool.ServerConfig.is_reward_intersititia) {\r\n                if (utils.oppoTool.ServerConfig.is_reward_intersititia == \"true\"\r\n                    && jumpList && jumpList.length > 0) {\r\n                    utils.showLog(\"激励插屏显示环境验证通过！\");\r\n                    return true;\r\n                } else {\r\n                    utils.showLog(\"is_reward_intersititia 参数为false，激励插屏组件不显示！\");\r\n                    return false;\r\n                }\r\n            } else {\r\n                utils.showLog(\"配置中没有is_reward_intersititia参数，激励插屏组件组件不显示！\");\r\n                return false;\r\n            }\r\n        }\r\n        utils.showLog(\"当前平台不支持小程序跳转！\");\r\n        return false;\r\n    }\r\n\r\n\r\n    _rewardInsertNode: cc.Node = null;\r\n    /**\r\n    * 显示激励插屏组件\r\n    */\r\n    public showRewardInsert() {\r\n        utils.showLog(\"show reward\");\r\n        let self = this;\r\n        if (!this.checkRewardInsertIsShow()) {\r\n            self._videoCallback && self._videoCallback(false, \"暂无视频广告！\");\r\n            utils.adManager.videoCallBack = null;\r\n            return;\r\n        }\r\n\r\n\r\n        if (((!cc.isValid(this._rewardInsertNode)) || !this._rewardInsertNode) && utils.config.otherconfig.rewardInsert) {\r\n            utils.showLog(\"创建激励插屏广告\");\r\n            this._rewardInsertNode = cc.instantiate(utils.config.otherconfig.rewardInsert);\r\n            this._rewardInsertNode.position = CompatibleTool.position(cc.winSize.width / 2, cc.winSize.height / 2);\r\n            cc.director.getScene().addChild(this._rewardInsertNode, 9999);\r\n        }\r\n\r\n\r\n        if (this._rewardInsertNode) {\r\n            let rewardInsert: RewardInsert = this._rewardInsertNode.getComponent(\"RewardInsert\");\r\n            if (rewardInsert) {\r\n                rewardInsert.isShow = false;\r\n                utils.showLog(\"显示激励插屏组件！\");\r\n            } else {\r\n                utils.showLog(\"RewardInsert组件不存在!\");\r\n            }\r\n        } else {\r\n            utils.showLog(\"激励插屏没有创建！\");\r\n        }\r\n\r\n    }\r\n\r\n    public hideRewardInsert() {\r\n        if (this._rewardInsertNode) {\r\n            let rewardInsert: RewardInsert = this._rewardInsertNode.getComponent(\"RewardInsert\");\r\n            if (rewardInsert) {\r\n                rewardInsert.hide();\r\n                utils.showLog(\"隐藏激励插屏组件！\");\r\n            } else {\r\n                utils.showLog(\"RewardInsert组件不存在!\");\r\n            }\r\n        } else {\r\n            utils.showLog(\"激励插屏没有创建！\");\r\n        }\r\n    }\r\n\r\n    // public ShowStatementRecomment(): cc.Node {\r\n    //     if (PlatUtils.IsOPPO) {\r\n\r\n    //         utils.showLog(\"curPosIdIndexNativeInsert:\", this._curPosIdIndexNativeInser);\r\n\r\n    //         let nativeInsertAd = this._nativeInsertAd[this._curPosIdIndexNativeInser];\r\n    //         if (!nativeInsertAd) {\r\n\r\n    //             if (utils.config.oppoconfig.nativeInsertIds\r\n    //                 && utils.config.oppoconfig.nativeInsertIds[this._curPosIdIndexNativeInser]) {\r\n    //                 utils.showLog(\"创建原生结算页面广告。 posId:\", utils.config.oppoconfig.nativeInsertIds[this._curPosIdIndexNativeInser]);\r\n\r\n    //                 nativeInsertAd = qg.createNativeAd({\r\n    //                     posId: utils.config.oppoconfig.nativeInsertIds[this._curPosIdIndexNativeInser]\r\n    //                 });\r\n\r\n    //                 if (nativeInsertAd) {\r\n    //                     this._nativeInsertAd.push(nativeInsertAd);\r\n\r\n    //                     nativeInsertAd.onLoad((res) => {\r\n    //                         if (res && res.adList && res.adList.length > 0) {\r\n    //                             utils.showLog(\"原生原生结算页面资源拉取成功！\");\r\n    //                             utils.showLog(JSON.stringify(res));\r\n    //                             res = JSON.parse(JSON.stringify(res));\r\n    //                             let data = res.adList[0];\r\n    //                             if (this._checkNativeDataValid(data)) {\r\n\r\n    //                                 this._curPosIdIndexNativeInser = 0;\r\n    //                                 // this._showNativeInsert(nativeInsertAd, data);\r\n    //                                 // return this.cre;\r\n    //                             } else {\r\n    //                                 utils.showLog(\"原生结算页面资源不合法！\");\r\n    //                             }\r\n    //                         }\r\n\r\n    //                         utils.showLog(\"原生结算页面资源出错！\");\r\n    //                         this._curPosIdIndexNativeInser++;\r\n    //                         if (this._curPosIdIndexNativeInser < utils.config.oppoconfig.nativeInsertIds.length) {\r\n    //                             this.ShowStatementRecomment();\r\n    //                         } else {\r\n    //                             this._curPosIdIndexNativeInser = 0;\r\n    //                             // 原生广告遍历完毕\r\n    //                             utils.showLog(\"原生结算页面遍历完毕，无法展示！\");\r\n\r\n    //                         }\r\n    //                     });\r\n\r\n    //                     nativeInsertAd.onError((err) => {\r\n    //                         utils.showLog(\"原生结算页面资源拉取失败！\", err.code, err.msg);\r\n    //                         this._curPosIdIndexNativeInser++;\r\n    //                         if (this._curPosIdIndexNativeInser < utils.config.oppoconfig.nativeInsertIds.length) {\r\n    //                             this.ShowStatementRecomment();\r\n    //                         } else {\r\n    //                             this._curPosIdIndexNativeInser = 0;\r\n    //                             // 原生广告遍历完毕\r\n    //                             utils.showLog(\"原生结算页面遍历完毕，无法展示！\");\r\n\r\n    //                         }\r\n    //                     });\r\n    //                 }\r\n    //             }\r\n    //         }\r\n\r\n    //         if (nativeInsertAd) {\r\n    //             nativeInsertAd.load();\r\n    //         } else {\r\n    //             this._curPosIdIndexNativeInser++;\r\n    //             if (utils.config.oppoconfig.nativeInsertIds && this._curPosIdIndexNativeInser < utils.config.oppoconfig.nativeInsertIds.length) {\r\n    //                 this.ShowStatementRecomment();\r\n    //             } else {\r\n    //                 this._curPosIdIndexNativeInser = 0;\r\n    //                 // 原生广告遍历完毕\r\n    //                 utils.showLog(\"原生插屏广告遍历完毕，无法展示！\");\r\n    //             }\r\n    //         }\r\n    //     }\r\n    //     return null;\r\n    // }\r\n\r\n\r\n    private checkIsShowStatementAd() {\r\n        if (utils.isSupportnavigateToMiniGame() && this.ServerConfig) {\r\n            return true;\r\n        }\r\n\r\n        utils.showLog(\"当前平台不支持游戏内跳转，6元素交叉推广组件不显示！\");\r\n        return false;\r\n\r\n    }\r\n\r\n\r\n    /**\r\n      * 创建结算页面推广组件\r\n      */\r\n    public ShowStatementRecomment(showNativeAd: boolean = true): cc.Node {\r\n        if (this.checkIsShowStatementAd()) {\r\n\r\n            if (!showNativeAd) {\r\n\r\n                if (utils.config.otherconfig.crossWidget6) {\r\n                    let node = cc.instantiate(utils.config.otherconfig.crossWidget6);\r\n                    utils.showLog(\"只显示结算互推广告\");\r\n                    return node;\r\n\r\n                } else {\r\n                    utils.showLog(\"未找到预制体 crossWidget6, 请查看CommonUtils组件上是否赋值！\");\r\n                    return null;\r\n                }\r\n\r\n            } else {\r\n                if (utils.config.otherconfig.statementRecomment) {\r\n                    let node = cc.instantiate(utils.config.otherconfig.statementRecomment);\r\n\r\n                    let statementRecomment: YZ_StatementRecommentAd = node.getComponent(\"YZ_StatementRecommentAd\");\r\n                    statementRecomment.showNativeAd = showNativeAd;\r\n                    utils.showLog(\"显示结算互推和原生广告\");\r\n                    return node;\r\n\r\n                } else {\r\n                    utils.showLog(\"未找到预制体 StatementRecomment, 请查看CommonUtils组件上是否赋值！\");\r\n                    return null;\r\n                }\r\n            }\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    _showNativeAd() {\r\n        if (this._curNativeItem && cc.isValid(this._curNativeItem.node)) {\r\n            this._curNativeItem.init(this.getNativeAdData());\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    signleNativeAd: cc.Node = null;\r\n    /**\r\n     * 创建结算页面推广组件\r\n     */\r\n    public ShowSingleNativeAd(params?: any) {\r\n\r\n        if (utils.config.otherconfig.singleNativeAd) {\r\n            if (this.signleNativeAd && cc.isValid(this.signleNativeAd)) {\r\n                this.signleNativeAd.destroy();\r\n            }\r\n            this.signleNativeAd = cc.instantiate(utils.config.otherconfig.singleNativeAd);\r\n\r\n            let nativeItem: YZ_NativeItem = this.signleNativeAd.getComponent(\"YZ_NativeItem\");\r\n            nativeItem.showType = 2;\r\n            nativeItem.params = params;\r\n            this._curNativeItem = nativeItem;\r\n\r\n            if (params && params.parent) {\r\n                params.parent.addChild(this.signleNativeAd, cc.macro.MAX_ZINDEX);\r\n            }\r\n            this.createNativeAd();\r\n            utils.showLog(\"单个原生广告创建成功！\");\r\n            return this.signleNativeAd;\r\n        } else {\r\n            utils.showLog(\"未找到预制体 singleNativeAd, 请查看CommonUtils组件上是否赋值！\");\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 显示结算广告\r\n     * @param data \r\n     * @returns json{ type:(1:6元素互推，2:单个原生广告),node:节点}\r\n     */\r\n    showStatementAds(data?: any): any {\r\n\r\n        let result: any = { \"type\": 0, \"node\": null };\r\n        if (this.ServerConfig && this.ServerConfig.statement_type) {\r\n            if (this.ServerConfig.statement_type === 4) {\r\n                result.type = 2;\r\n                result.node = this.ShowSingleNativeAd();\r\n                utils.showLog(\"结算广告 >> 单个原生广告>>\" + result.node.name);\r\n            } else {\r\n                this.ShowInterstitial();\r\n            }\r\n\r\n            return result;\r\n            //     let isSycn = this.ServerConfig.st_sync;\r\n            //     let node: cc.Node = null;\r\n            //     let resType: number = 0;\r\n            //     switch (type) {\r\n            //         case 1:\r\n            //             utils.showLog(\"结算广告 >> 只显示小游戏插屏广告\");\r\n            //             if (!this.checkInsertAdShow()) {\r\n            //                 if (spareType && spareType > 0) {\r\n            //                     switch (spareType) {\r\n            //                         case 3:\r\n            //                             utils.showLog(\"结算广告 >> 小游戏插屏达到限制的次数 >> 显示备用组件 6个互推\");\r\n            //                             node = this.ShowStatementRecomment(false);\r\n            //                             resType = 1;\r\n            //                             break;\r\n            //                         case 4:\r\n            //                             utils.showLog(\"结算广告 >> 小游戏插屏达到限制的次数 >> 显示备用组件 单个原生广告\");\r\n            //                             node = this.ShowSingleNativeAd();\r\n            //                             resType = 2;\r\n            //                             break;\r\n            //                         case 5:\r\n            //                             utils.showLog(\"结算广告 >> 小游戏插屏达到限制的次数 >> 显示备用组件 3个互推+单个原生广告\");\r\n            //                             node = this.ShowStatementRecomment();\r\n            //                             resType = 1;\r\n            //                             break;\r\n            //                     }\r\n            //                 }\r\n            //             } else {\r\n            //                 this._createMiniGameInsertAd(true);\r\n            //             }\r\n            //             break;\r\n            //         case 2:\r\n            //             utils.showLog(\"结算广告 >> 显示插屏广告且判断优先级\");\r\n            //             if (!this.checkInsertAdShow()) {\r\n            //                 if (spareType) {\r\n            //                     switch (spareType) {\r\n            //                         case 3:\r\n            //                             utils.showLog(\"结算广告 >> 小游戏插屏达到限制的次数 >> 显示备用组件 6个互推\");\r\n            //                             node = this.ShowStatementRecomment(false);\r\n            //                             resType = 1;\r\n            //                             break;\r\n            //                         case 4:\r\n            //                             utils.showLog(\"结算广告 >> 小游戏插屏达到限制的次数 >> 显示备用组件 单个原生广告\");\r\n            //                             node = this.ShowSingleNativeAd();\r\n            //                             resType = 2;\r\n            //                             break;\r\n            //                         case 5:\r\n            //                             utils.showLog(\"结算广告 >> 小游戏插屏达到限制的次数 >> 显示备用组件 3个互推+单个原生广告\");\r\n            //                             node = this.ShowStatementRecomment();\r\n            //                             resType = 1;\r\n            //                             break;\r\n            //                     }\r\n            //                 }\r\n            //             } else {\r\n            //                 this.ShowInterstitial();\r\n            //             }\r\n            //             break;\r\n            //         case 3:\r\n            //             utils.showLog(\"结算广告 >> 显示插屏广告+6个互推\");\r\n            //             this.ShowInterstitial();\r\n            //             node = this.ShowStatementRecomment(false);\r\n            //             resType = 1;\r\n            //             break;\r\n            //         case 4:\r\n            //             if (isSycn && isSycn == \"true\") {\r\n            //                 utils.showLog(\"结算广告 >> 显示插屏广告+单个原生广告\");\r\n            //                 this.ShowInterstitial();\r\n            //                 node = this.ShowSingleNativeAd();\r\n            //             } else {\r\n            //                 node = this.ShowSingleNativeAd();\r\n            //                 utils.showLog(\"结算广告 >> 只显示单个原生广告\");\r\n            //             }\r\n            //             resType = 2;\r\n            //             break;\r\n            //         case 5:\r\n            //             if (isSycn && isSycn == \"true\") {\r\n            //                 utils.showLog(\"结算广告 >> 显示插屏广告+ 3个互推+单个原生广告\");\r\n            //                 this.ShowInterstitial();\r\n            //                 node = this.ShowStatementRecomment();\r\n            //             } else {\r\n            //                 utils.showLog(\"结算广告 >> 只显示 3个互推+单个原生广告\");\r\n            //                 node = this.ShowStatementRecomment();\r\n            //             }\r\n            //             resType = 1;\r\n            //             break;\r\n            //         case 6:\r\n            //             if (isSycn && isSycn == \"true\") {\r\n            //                 utils.showLog(\"结算广告 >> 显示滚动互推+原生广告\");\r\n            //                 node = this.ShowStatementRecomment(true);\r\n            //             } else {\r\n            //                 utils.showLog(\"结算广告 >> 只显示滚动互推\");\r\n            //                 node = this.ShowStatementRecomment();\r\n            //             }\r\n            //             resType = 1;\r\n            //             break;\r\n            //         default:\r\n            //             utils.showLog(\"非法的结算广告类型，：\" + type)\r\n            //             break;\r\n            //     }\r\n            //     result.type = resType;\r\n            //     result.node = node;\r\n            //     return result;\r\n        } else {\r\n            utils.showLog(\"没有配置结算广告！\");\r\n            return result;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    _nativeTryGameNode: cc.Node = null;\r\n    /**\r\n     * 显示浮窗广告挂件\r\n     * @param params \r\n     * ```\r\n     * {\r\n     * group:string\r\n     * left:number\r\n     * bottom:number\r\n     * scale:number\r\n     * parent:cc.Node\r\n     * }\r\n     * ```\r\n     * @returns 生成的组件\r\n     */\r\n    public createNativeTryGameWidget(params: any = null) {\r\n\r\n        if (this._nativeTryGameNode && cc.isValid(this._nativeTryGameNode)) {\r\n            this._nativeTryGameNode.destroy();\r\n        }\r\n        let node = cc.instantiate(utils.config.otherconfig.nativeTryGameWidget);\r\n        if (node) {\r\n            this._nativeTryGameNode = node;\r\n            this._nativeTryGameNode.zIndex = 9999;\r\n\r\n        }\r\n        node = this._nativeTryGameNode;\r\n        let widget: cc.Widget = node.getComponent(cc.Widget);\r\n        if (params) {\r\n            if (params.group) {\r\n                node.group = params.group;\r\n            }\r\n            if (params.scale != null) {\r\n                node.scale = params.scale;\r\n            }\r\n            if (params.top != null) {\r\n                widget.isAlignTop = true;\r\n                widget.isAlignBottom = false;\r\n                widget.top = params.top;\r\n            } else if (params.bottom != null) {\r\n                widget.isAlignTop = false;\r\n                widget.isAlignBottom = true;\r\n                widget.bottom = params.bottom;\r\n            }\r\n            if (params.left != null) {\r\n                widget.isAlignLeft = true;\r\n                widget.isAlignRight = false;\r\n                widget.left = params.left;\r\n            } else if (params.right != null) {\r\n                widget.isAlignLeft = false;\r\n                widget.isAlignRight = true;\r\n                widget.right = params.right;\r\n            }\r\n            if (params.parent != null) {\r\n                node.parent = params.parent;\r\n            }\r\n        }\r\n        widget.updateAlignment();\r\n        node.active = true;\r\n        if (this._nativeTryGameNode) {\r\n            this._nativeTryGameNode.getComponent(NativeTryGamesWidget).init();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * 隐藏浮动试玩挂件\r\n     */\r\n    public hideNativeTryGameWidget() {\r\n        if (this._nativeTryGameNode && cc.isValid(this._nativeTryGameNode)) {\r\n            this._nativeTryGameNode.destroy();\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 是否支持原生模版广告\r\n     * @returns \r\n     */\r\n    private canShowNativeTemplateAd() {\r\n        //@ts-ignore\r\n        return qg.createCustomAd;\r\n    }\r\n\r\n    /**\r\n     * 获取原生模版广告对象\r\n     * @param type 广告类型：1:banner 2:插屏\r\n     * @param id  广告ID\r\n     */\r\n    private getNativeTemplateAdStyle(type: number) {\r\n        let style: any = {};\r\n        let systemInfo = utils.oppoTool.SysInfo;\r\n        switch (type) {\r\n            case 1:\r\n                style.width = \"\";\r\n                style.top = \"\";\r\n                style.left = \"\";\r\n                break;\r\n            case 2:\r\n                style.width = \"\";\r\n                style.top = (systemInfo.screenHeight - 400) / 2;\r\n                style.left = \"\";\r\n                break;\r\n        }\r\n        return style;\r\n    }\r\n\r\n    nativeTemplateBannerAd: any = null;\r\n\r\n    /**\r\n     * 创建原生模版Banner广告\r\n     * @param index \r\n     * @returns \r\n     */\r\n    private _createNativeTemplateBannerAd(index: number) {\r\n        utils.showLog(\"_createNativeTemplateBannerAd : #index=\" + index);\r\n\r\n        YouWanAnalytics.EventAdWithObj(YwAdType.NATIVE_TEMPLATE_BANNER, YwAdStatus.REQUEST, new AdEventParameter(utils.config.oppoconfig.bannerAdConfigs[index].id));\r\n\r\n        if (!this.canShowNativeTemplateAd()) {\r\n            utils.showLog(\"当前快应用版本不支持原生模版广告！\");\r\n            return;\r\n        }\r\n        if (index < utils.config.oppoconfig.bannerAdConfigs.length) {\r\n            //@ts-ignore\r\n            this.nativeTemplateBannerAd = qg.createCustomAd({\r\n                adUnitId: utils.config.oppoconfig.bannerAdConfigs[index].id,\r\n                style: this.getNativeTemplateAdStyle(1)\r\n            });\r\n\r\n            this.nativeTemplateBannerAd.onLoad(() => {\r\n                this.nativeTemplateBannerAd.offLoad();\r\n                utils.showLog(\"NativeTemplateBannerAd 广告加载成功\");\r\n                YouWanAnalytics.EventAdWithObj(YwAdType.NATIVE_TEMPLATE_BANNER, YwAdStatus.REQUEST_SUCCESS, new AdEventParameter(utils.config.oppoconfig.bannerAdConfigs[index].id));\r\n            });\r\n\r\n            this.nativeTemplateBannerAd.onError((err) => {\r\n                this.nativeTemplateBannerAd.offError();\r\n                YouWanAnalytics.EventAdWithObj(YwAdType.NATIVE_TEMPLATE_BANNER, YwAdStatus.REQUEST_FAIL, new AdEventParameter(utils.config.oppoconfig.bannerAdConfigs[index].id));\r\n\r\n                utils.showLog(\"NativeTemplateBannerAd 广告异常：#erro=\" + JSON.stringify(err));\r\n                if (this._nativeIsClose) {\r\n                    utils.showLog(\"隐藏了BANNER，不做任何处理！\");\r\n                    YouWanAnalytics.EventAd(YwAdType.NATIVE_TEMPLATE_BANNER, YwAdStatus.AD_ID_REQUEST_FAIL);\r\n                    return;\r\n                }\r\n                let bannerInfo = this.getNativeBannerInfo();\r\n                if (bannerInfo.st_banner_show_back_up == -1) {\r\n                    YouWanAnalytics.EventAd(YwAdType.NATIVE_TEMPLATE_BANNER, YwAdStatus.AD_ID_REQUEST_FAIL);\r\n                    utils.showLog(\">>>>>服务器配置不显示备用广告！\");\r\n                    return;\r\n                }\r\n                this.ShowBannerByConfigs(index + 1);\r\n            });\r\n\r\n            this.nativeTemplateBannerAd\r\n                .show()\r\n                .then(() => {\r\n                    YouWanAnalytics.EventAdWithObj(YwAdType.NATIVE_TEMPLATE_BANNER, YwAdStatus.SHOW_SUCCESS, new AdEventParameter(utils.config.oppoconfig.bannerAdConfigs[index].id));\r\n                    YouWanAnalytics.EventAd(YwAdType.NATIVE_TEMPLATE_BANNER, YwAdStatus.AD_ID_REQUEST_SUCCESS);\r\n\r\n                    this.nativeTemplateBannerAd.offShow();\r\n                    utils.showLog(\"NativeTemplateBannerAd show success\");\r\n                    this.hideBanner(\"template\");\r\n                })\r\n                .catch((error) => {\r\n                    utils.showLog(\"NativeTemplateBannerAd show fail with:\" + error.errCode + \",\" + error.errMsg);\r\n                });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 隐藏原生模版Banner\r\n     */\r\n    private hideNativeTemplateBannerAd() {\r\n        utils.showLog(\"hideNativeTemplateBannerAd \");\r\n        this.nativeTemplateBannerAd && this.nativeTemplateBannerAd.destroy();\r\n        this.nativeTemplateBannerAd = null;\r\n    }\r\n\r\n\r\n    /**\r\n     * 创建原生模版插屏广告\r\n     * @param index \r\n     * @returns \r\n     */\r\n    private _createNativeTemplateIntersitialAd(index: number) {\r\n        utils.showLog(\"_createNativeTemplateIntersitialAd : #index=\" + index);\r\n        if (!this.canShowNativeTemplateAd()) {\r\n            utils.showLog(\"当前快应用版本不支持原生模版广告！\");\r\n            return;\r\n        }\r\n        if (index < utils.config.oppoconfig.intersitialAdConfigs.length) {\r\n            utils.showLog(\"nativetemplate style=\" + this.getNativeTemplateAdStyle(2));\r\n\r\n            //@ts-ignore\r\n            let customAd = qg.createCustomAd({\r\n                adUnitId: utils.config.oppoconfig.intersitialAdConfigs[index].id,\r\n                style: this.getNativeTemplateAdStyle(2)\r\n            });\r\n\r\n            customAd.onLoad(() => {\r\n                YouWanAnalytics.EventAdWithObj(YwAdType.INTERSITITIAL, YwAdStatus.REQUEST_SUCCESS, new AdEventParameter(utils.config.oppoconfig.intersitialAdConfigs[index].id));\r\n                utils.showLog(\"NativeTemplateIntersitialAd 广告加载成功\");\r\n            });\r\n\r\n            customAd.onError((err) => {\r\n                utils.showLog(\"NativeTemplateIntersitialAd 广告异常：\" + + JSON.stringify(err));\r\n                this.ShowInterstitialByConfigs(index + 1);\r\n            });\r\n\r\n            customAd\r\n                .show()\r\n                .then(() => {\r\n                    utils.showLog(\"NativeTemplateIntersitialAd show success\");\r\n                    this._insertLastShowTime = new Date().getTime();\r\n                    let closeType = this.ServerConfig.intersititial_open_close_banner;\r\n                    if (closeType && closeType > 0) {\r\n                        utils.showLog(\"OPPO 配置当前插屏显示成功后\" + (closeType == 1 ? \"销毁\" : \"隐藏\") + \"banner!\");\r\n                        this.HideBanner();\r\n                    }\r\n                    YouWanAnalytics.EventAd(YwAdType.INTERSITITIAL, YwAdStatus.AD_ID_REQUEST_SUCCESS);\r\n                    YouWanAnalytics.EventAdWithObj(YwAdType.INTERSITITIAL, YwAdStatus.SHOW_SUCCESS, new AdEventParameter(utils.config.oppoconfig.intersitialAdConfigs[index].id));\r\n                })\r\n                .catch((error) => {\r\n                    utils.showLog(\"NativeTemplateIntersitialAd show fail with:\" + error.errCode + \",\" + error.errMsg);\r\n                });\r\n        }\r\n    }\r\n\r\n    public GameExit() { }\r\n\r\n    public Share() { }\r\n}\r\n"]}