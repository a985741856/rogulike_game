{"version":3,"sources":["assets\\scripts\\UI\\PhysicalBord.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,kDAA6C;AAC7C,8CAA6C;AAC7C,wCAAmC;AACnC,aAAa;AACb,IAAM,IAAI,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;AAE/B,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA0C,gCAAY;IAAtD;QAAA,qEA6DC;QA3DW,aAAO,GAAY,IAAI,CAAC;QACxB,WAAK,GAAY,IAAI,CAAC;QACtB,YAAM,GAAY,IAAI,CAAC;;IAyDnC,CAAC;IAvDG,6BAAM,GAAN;QACI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QACpD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAC9C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAChD,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;YAE7C,CAAC,CAAC,CAAC,CAAC;YACJ,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,eAAM,CAAC,MAAM,CAAC;SACtC;IACL,CAAC;IAED,+BAAQ,GAAR;QACI,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,kBAAQ,CAAC,YAAY,EAAE,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;QAEpE,IAAI,CAAC,aAAa,EAAE,CAAC;IACzB,CAAC;IAED,gCAAS,GAAT;QACI,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC;IAEO,4CAAqB,GAA7B,UAA8B,KAAU;QACpC,QAAQ,KAAK,CAAC,IAAI,EAAE;YAChB,KAAK,kBAAQ,CAAC,gBAAgB,CAAC,CAAC;gBAC5B,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,MAAM;aACT;SACJ;IACL,CAAC;IAEO,oCAAa,GAArB;QACI,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,EAAE,EAAC;YAC/C,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;SAC3C;QAED,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,eAAM,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,EAAE,EAAC;YACjD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;SAC1C;IAEL,CAAC;IAED;;OAEG;IACI,kCAAW,GAAlB;QACI,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,qBAAqB,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzD,kDAAkD;QAClD,OAAO,GAAG,CAAC;IACf,CAAC;IAEO,+BAAQ,GAAhB;QACI,eAAM,CAAC,OAAO,CAAC,SAAS,IAAI,GAAG,CAAC;QAChC,aAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,CAAC,CAAA,QAAQ;IACnD,CAAC;IA5DgB,YAAY;QADhC,OAAO;OACa,YAAY,CA6DhC;IAAD,mBAAC;CA7DD,AA6DC,CA7DyC,EAAE,CAAC,SAAS,GA6DrD;kBA7DoB,YAAY","file":"","sourceRoot":"/","sourcesContent":["import Constant from \"../Framework/Constant\";\r\nimport { cocosz } from \"../Framework/CocosZ\";\r\nimport Msg from \"../Framework/Msg\";\r\n// @ts-ignore\r\nconst i18n = require('LanguageData');\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class PhysicalBord extends cc.Component {\r\n\r\n    private _layout: cc.Node = null;\r\n    private _icon: cc.Node = null;\r\n    private _adBtn: cc.Node = null;\r\n\r\n    onLoad() {\r\n        this._layout = this.node.getChildByName(\"tilayout\");\r\n        this._icon = this.node.getChildByName(\"Icon\");\r\n        this._adBtn = this.node.getChildByName(\"BtnAD\");\r\n        if (this._adBtn) {\r\n            this._adBtn.on(cc.Node.EventType.TOUCH_END, (() => {\r\n               \r\n            }));\r\n            this._adBtn.active = cocosz.isADON;\r\n        }\r\n    }\r\n\r\n    onEnable() {\r\n        cc.game.on(Constant.E_GAME_LOGIC, this._onGameMessageHandler, this);\r\n\r\n        this._updateLayout();\r\n    }\r\n\r\n    onDisable() {\r\n        cc.game.targetOff(this);\r\n    }\r\n\r\n    private _onGameMessageHandler(event: any) {\r\n        switch (event.type) {\r\n            case Constant.E_Diamond_CHANGE: {\r\n                this._updateLayout();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private _updateLayout() {\r\n        for(let i = 0; i < this._layout.childrenCount; i++){\r\n            this._layout.children[i].active = false;\r\n        }\r\n\r\n        for(let i = 0; i < cocosz.dataMgr.PhysicalCount; i++){\r\n            this._layout.children[i].active = true;\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 获取Icon的世界坐标位置(金币动画飞入使用)\r\n     */\r\n    public getLocation() {\r\n        let pos = this._icon.convertToWorldSpaceAR(cc.Vec3.ZERO);\r\n        // let temp = cc.v2(pos.x, cc.winSize.height - 76)\r\n        return pos;\r\n    }\r\n\r\n    private _addGold() {\r\n        cocosz.dataMgr.CoinCount += 200;\r\n        Msg.Show(i18n.t(\"msg.gxhdjb\") + \"200\");//恭喜获得金币\r\n    }\r\n}\r\n"]}