{"version":3,"sources":["assets\\scripts\\Framework\\QRotation.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qCAA8C;AAExC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA2C,iCAAO;IAAlD;QAAA,qEA0CC;QAvCG,WAAK,GAAW,CAAC,CAAC;QAGlB,WAAK,GAAW,CAAC,CAAC;QAGlB,cAAQ,GAAW,CAAC,CAAC;QAGrB,UAAI,GAAY,KAAK,CAAC;QAGtB,YAAM,GAAY,KAAK,CAAC;QAEhB,kBAAY,GAAW,CAAC,CAAC;QACzB,YAAM,GAAa,IAAI,CAAC;;IAwBpC,CAAC;IAtBG,8BAAM,GAAN;QACI,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;QACpC,IAAI,UAAU,GAAY,EAAE,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACvD,IAAI,WAAW,GAAa,EAAE,CAAC,KAAK,EAAE,CAAC;QACvC,IAAG,IAAI,CAAC,MAAM,EAAC;YACX,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,GAAC,CAAC,EAAC,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,GAAC,CAAC,EAAE,EAAC,KAAK,EAAE,CAAC,IAAI,CAAC,KAAK,EAAC,EAAE,EAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAC,CAAC,CAAC;SAC5H;aAAI;YACD,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAC,EAAE,EAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAC,CAAC,CAAC;SACjF;QAED,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAClC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC7B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC9B,IAAG,IAAI,CAAC,IAAI,EAAC;YACT,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;SAC/B;IACL,CAAC;IAED,gCAAQ,GAAR;QACI,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;QACpC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;IACxB,CAAC;IAtCD;QADC,QAAQ,EAAE;gDACO;IAGlB;QADC,QAAQ,CAAC,EAAC,OAAO,EAAE,aAAa,EAAC,CAAC;gDACjB;IAGlB;QADC,QAAQ,EAAE;mDACU;IAGrB;QADC,QAAQ,EAAE;+CACW;IAGtB;QADC,QAAQ,EAAE;iDACa;IAfP,aAAa;QADjC,OAAO;OACa,aAAa,CA0CjC;IAAD,oBAAC;CA1CD,AA0CC,CA1C0C,iBAAO,GA0CjD;kBA1CoB,aAAa","file":"","sourceRoot":"/","sourcesContent":["import QEasing, { EaseType } from \"./QEasing\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class QRotateAction extends QEasing {\r\n\r\n    @property()\r\n    delay: number = 0;\r\n\r\n    @property({tooltip: \"初始角度，顺时针为负数\"})\r\n    angle: number = 0;\r\n\r\n    @property()\r\n    duration: number = 0;\r\n\r\n    @property()\r\n    loop: boolean = false;\r\n\r\n    @property()\r\n    revert: boolean = false;\r\n\r\n    private _originAngle: number = 0;\r\n    private _tween: cc.Tween = null;\r\n\r\n    onLoad(){\r\n        this._originAngle = this.node.angle;\r\n        let delayTween:cc.Tween = cc.tween().delay(this.delay);\r\n        let actionTween: cc.Tween = cc.tween();\r\n        if(this.revert){\r\n            actionTween.by(this.duration/2,{angle: this.angle}).by(this.duration/2, {angle: -this.angle}, {easing: this._getEase()});\r\n        }else{\r\n            actionTween.by(this.duration, {angle: this.angle}, {easing: this._getEase()});\r\n        }\r\n\r\n        this._tween = cc.tween(this.node);\r\n        this._tween.then(delayTween);\r\n        this._tween.then(actionTween);\r\n        if(this.loop){\r\n            this._tween.repeatForever();\r\n        }\r\n    }\r\n\r\n    onEnable(){\r\n        this.node.angle = this._originAngle;\r\n        this._tween.start();\r\n    }\r\n}\r\n"]}