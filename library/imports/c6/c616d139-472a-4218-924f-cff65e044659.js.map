{"version":3,"sources":["assets\\common-plugin\\Scripts\\CompatibleTool.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\nconst { ccclass, property } = cc._decorator;\n\n/**\n * 兼容工具类\n */\n@ccclass\nexport default class CompatibleTool extends cc.Component {\n\n\n    static _engineVersion: number = 0;\n\n    static get engineVersion(): number {\n        if (this._engineVersion > 0) return this._engineVersion;\n        let version = cc.ENGINE_VERSION;\n        return parseInt((version.substr(version.indexOf(\".\") - 1, version.length)).split(\".\").join(\"\"))\n    }\n\n\n    /**\n     * 坐标接口\n     * 2.4以上返回v3，否则返回v2\n     * @param x \n     * @param y \n     */\n    static position(x, y): any {\n\n        if (this.engineVersion >= 240) {\n            //@ts-ignore\n            return cc.v3(x, y);\n        }\n\n        return cc.v2(x, y);\n    }\n\n    /**\n    * 坐标接口\n    * 2.4以上返回v3，否则返回v2\n    * @param x \n    * @param y \n    */\n    static LoadRes(remoteUrl: string, callBack: Function) {\n        if (this.engineVersion >= 240) {\n            let str = remoteUrl.substr(remoteUrl.lastIndexOf(\".\"));\n            if (str != \".jpg\" && str != \".png\" && str != \".jpeg\") {\n                //@ts-ignore\n                cc.assetManager.loadRemote(remoteUrl, { ext: \".jpeg\" }, callBack);\n                //@ts-ignore\n                cc.assetManager.loadRemote(remoteUrl, { ext: \".jpg\" }, callBack);\n                //@ts-ignore\n                cc.assetManager.loadRemote(remoteUrl, { ext: \".png\" }, callBack);\n            }\n            else {\n                //@ts-ignore\n                cc.assetManager.loadRemote(remoteUrl, callBack);\n            }\n        } else {\n            let str = remoteUrl.substr(remoteUrl.lastIndexOf(\".\"));\n            if (str != \".jpg\" && str != \".png\" && str != \".jpeg\") {\n                //@ts-ignore\n                cc.loader.load({ url: remoteUrl, type: \"jpeg\" }, callBack);\n                //@ts-ignore\n                cc.loader.load({ url: remoteUrl, type: \"jpg\" }, callBack);\n                //@ts-ignore\n                cc.loader.load({ url: remoteUrl, type: \"png\" }, callBack);\n            }\n            else {\n                cc.loader.load(remoteUrl, callBack);\n            }\n        }\n    }\n    // update (dt) {}\n}\n"]}