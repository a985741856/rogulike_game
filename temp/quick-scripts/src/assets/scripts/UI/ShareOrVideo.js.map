{"version":3,"sources":["assets\\scripts\\UI\\ShareOrVideo.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { cocosz } from \"../Framework/CocosZ\";\r\nimport Constant from \"../Framework/Constant\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class ShareOrVideo extends cc.Component {\r\n    _btn: boolean = false;\r\n    @property()\r\n    get btn(): boolean {\r\n        return this._btn;\r\n    }\r\n    set btn(v: boolean) {\r\n        this._btn = false;\r\n        if (this.node.getChildByName(\"share\")) {\r\n            this.shareNode = this.node.getChildByName(\"share\");\r\n        }\r\n        if (this.node.getChildByName(\"video\")) {\r\n            this.videoNode = this.node.getChildByName(\"video\");\r\n        }\r\n    }\r\n\r\n    @property({ type: cc.Boolean, tooltip: \"是否新手指引免费使用\" })\r\n    isGuideSKill: boolean = false;\r\n\r\n    @property({ type: cc.Node, tooltip: \"分享图标\" })\r\n    shareNode: cc.Node = null;\r\n\r\n    @property({ type: cc.Node, tooltip: \"视频图标\" })\r\n    videoNode: cc.Node = null;\r\n\r\n    protected onLoad(): void {\r\n        // 监听点击\r\n        this.node.on(cc.Node.EventType.TOUCH_END, () => {\r\n            // cc.game.emit(Constant.E_ShareOrVideo);\r\n        })\r\n        // 监听事件\r\n        cc.game.on(Constant.E_ShareOrVideo, this.show, this);\r\n    }\r\n\r\n    protected onDestroy(): void {\r\n        // 注销事件\r\n        cc.game.targetOff(this);\r\n    }\r\n\r\n    protected start(): void {\r\n        this.show();\r\n    }\r\n\r\n    show() {\r\n        if (this.isGuideSKill && cocosz.dataMgr.guide_skill) {\r\n            // 隐藏分享图标\r\n            if (this.shareNode && this.shareNode.isValid) {\r\n                this.shareNode.active = false;\r\n            }\r\n            // 隐藏视频图标\r\n            if (this.videoNode && this.videoNode.isValid) {\r\n                this.videoNode.active = false;\r\n            }\r\n        } else {\r\n            // 显示分享图标\r\n            if (this.shareNode && this.shareNode.isValid) {\r\n                this.shareNode.active = cocosz.canShare;\r\n            }\r\n            // 显示视频图标\r\n            if (this.videoNode && this.videoNode.isValid) {\r\n                this.videoNode.active = !cocosz.canShare;\r\n            }\r\n        }\r\n    }\r\n}\r\n"]}