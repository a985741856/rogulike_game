{"version":3,"sources":["assets\\scripts\\UI\\GuideLayer.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAEjC,QAAA,UAAU,GAAe,IAAI,CAAC;AAEzC;IAAwC,8BAAY;IAApD;QAAA,qEAgEC;QA9DG,gBAAU,GAAY,IAAI,CAAC;QAE3B,YAAM,GAAY,IAAI,CAAC;QAGvB,gBAAU,GAAY,IAAI,CAAC;QAE3B,WAAK,GAAgB,IAAI,CAAC;QAc1B,4DAA4D;QAC5D,cAAQ,GAAG,CAAC,CAAC;;IAwCjB,CAAC;IArDG,2BAAM,GAAN;QACI,kBAAU,GAAG,IAAI,CAAC;QAClB,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,EAAE,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACnE,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;IACzC,CAAC;IAED,0BAAK,GAAL;QACI,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;IACvC,CAAC;IAID,YAAY;IACZ,8BAAS,GAAT;QACI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;YAChD,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACpB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC;aACzC;iBAAM;gBACH,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC;aACvC;SACJ;QACD,IAAI,EAAE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE;YAC7C,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;SACrB;IACL,CAAC;IAED,aAAa;IACb,8BAAS,GAAT;QACI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;IACtB,CAAC;IAED,aAAa;IACb,8BAAS,GAAT;QACI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;IACnC,CAAC;IAGD,iEAAiE;IACjE,aAAa;IACb,8BAAS,GAAT;QACI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;QAC5C,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;IAChD,CAAC;IAED,aAAa;IACb,8BAAS,GAAT;QACI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;IACnC,CAAC;IA5DD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;kDACS;IAE3B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;8CACK;IAGvB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;kDACS;IAE3B;QADC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC;6CACI;IATT,UAAU;QAD9B,OAAO;OACa,UAAU,CAgE9B;IAAD,iBAAC;CAhED,AAgEC,CAhEuC,EAAE,CAAC,SAAS,GAgEnD;kBAhEoB,UAAU","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\r\n\r\nexport let guideLayer: GuideLayer = null;\r\n@ccclass\r\nexport default class GuideLayer extends cc.Component {\r\n    @property(cc.Node)\r\n    bgLoadNode: cc.Node = null;\r\n    @property(cc.Node)\r\n    points: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    fjLoadNode: cc.Node = null;\r\n    @property(sp.Skeleton)\r\n    fjAni: sp.Skeleton = null;\r\n\r\n    onLoad() {\r\n        guideLayer = this;\r\n        cc.game.addPersistRootNode(this.node);\r\n        this.node.setPosition(cc.winSize.width / 2, cc.winSize.height / 2);\r\n        this.node.setContentSize(cc.winSize);\r\n    }\r\n\r\n    start() {\r\n        this.showPoint();\r\n        this.schedule(this.showPoint, 0.5);\r\n    }\r\n\r\n    /////////////////////// 过渡动画 ///////////////////////////////\r\n    curIndex = 0;\r\n    /** 点变化效果 */\r\n    showPoint() {\r\n        for (let i = 0; i < this.points.childrenCount; i++) {\r\n            if (i <= this.curIndex) {\r\n                this.points.children[i].opacity = 255;\r\n            } else {\r\n                this.points.children[i].opacity = 0;\r\n            }\r\n        }\r\n        if (++this.curIndex > this.points.childrenCount) {\r\n            this.curIndex = 0;\r\n        }\r\n    }\r\n\r\n    /** 显示过渡动画 */\r\n    showBgAni() {\r\n        this.bgLoadNode.active = true;\r\n        this.curIndex = 0;\r\n    }\r\n\r\n    /** 隐藏过度动画 */\r\n    hideBgAni() {\r\n        this.bgLoadNode.active = false;\r\n    }\r\n\r\n\r\n    /////////////////////// 加载动画（直升机） ///////////////////////////////\r\n    /** 显示飞机动画 */\r\n    showFjAni() {\r\n        this.fjLoadNode.active = true;\r\n        this.fjAni.setAnimation(0, \"jiazai\", false);\r\n        this.fjAni.addAnimation(0, \"jiazai2\", true);\r\n    }\r\n\r\n    /** 隐藏飞机动画 */\r\n    hideFjAni() {\r\n        this.fjLoadNode.active = false;\r\n    }\r\n\r\n}\r\n"]}