{"version":3,"sources":["assets\\scripts\\Framework\\QMoveAction.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import QEasing, { EaseType } from \"./QEasing\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n\r\n@ccclass\r\nexport default class QMoveAction extends QEasing {\r\n\r\n    @property()\r\n    delay: number = 0;\r\n\r\n    @property(cc.Vec2)\r\n    delPos: cc.Vec2 = cc.Vec2.ZERO;\r\n\r\n    @property()\r\n    duration: number = 0;\r\n\r\n    @property()\r\n    interval: number = 0;\r\n\r\n    @property()\r\n    loop: boolean = false;\r\n\r\n    @property()\r\n    revert: boolean = false;\r\n\r\n    private _tween: cc.Tween = null;\r\n    private _originPos: cc.Vec3 = cc.Vec3.ZERO;\r\n\r\n    onLoad() {\r\n        this._originPos = cc.v3(this.node.x, this.node.y);\r\n        this.node.position = cc.v3(this._originPos.x - this.delPos.x, this._originPos.y - this.delPos.y);\r\n\r\n        let widget: cc.Widget = this.getComponent(cc.Widget);\r\n        if (widget) {\r\n            widget.enabled = false;\r\n        }\r\n\r\n        let delayTween: cc.Tween = cc.tween().delay(this.delay);\r\n        let actionTween: cc.Tween = cc.tween();\r\n        actionTween.call(() => {\r\n            this.node.position = cc.v3(this._originPos.x - this.delPos.x, this._originPos.y - this.delPos.y);\r\n        });\r\n        if (this.revert) {\r\n            actionTween.by(this.duration * 0.5, { position: cc.v3(this.delPos.x, this.delPos.y) }, { easing: this._getEase() });\r\n            actionTween.by(this.duration * 0.5, { position: cc.v3(-this.delPos.x, -this.delPos.y) }, { easing: this._getEase() });\r\n        } else {\r\n            actionTween.by(this.duration, { position: cc.v3(this.delPos.x, this.delPos.y) }, { easing: this._getEase() });\r\n        }\r\n        actionTween.delay(this.interval);\r\n\r\n        this._tween = cc.tween(this.node);\r\n        this._tween.then(delayTween);\r\n        this._tween.then(actionTween);\r\n        if (this.loop) {\r\n            this._tween.repeatForever();\r\n        }\r\n    }\r\n\r\n    onEnable() {\r\n        this.node.position = cc.v3(this._originPos.x - this.delPos.x, this._originPos.y - this.delPos.y);\r\n        this._tween.start();\r\n    }\r\n\r\n\r\n\r\n}\r\n"]}