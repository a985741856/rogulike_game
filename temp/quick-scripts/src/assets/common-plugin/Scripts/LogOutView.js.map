{"version":3,"sources":["assets\\common-plugin\\Scripts\\LogOutView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { utils } from \"./Utils\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class LogOutView extends cc.Component {\r\n\r\n    scrollView: cc.ScrollView = null;\r\n\r\n    content: cc.Node = null;\r\n\r\n    logLabel: cc.Node = null;\r\n\r\n    logArray: Array<string> = [];\r\n\r\n    clearBtn: cc.Node = null;\r\n\r\n    showLogViewBtn: cc.Node = null;\r\n\r\n    hideLogViewBtn: cc.Node = null;\r\n\r\n\r\n    onLoad() {\r\n        if (utils.otherConfig && utils.otherConfig.group) {\r\n            this.node.group = utils.otherConfig.group;\r\n        }\r\n        let ratio: number = 1;\r\n        if (cc.winSize.height < cc.winSize.width) {\r\n            // 横屏游戏\r\n            ratio = cc.winSize.width / 1920 * 0.7;\r\n        } else {\r\n            ratio = cc.winSize.width / 1080;\r\n        }\r\n        this.node.scale = ratio;\r\n    }\r\n\r\n    start() {\r\n        this.initUi();\r\n        this.initListener();\r\n        this.initData();\r\n        this.schedule(() => {\r\n            this.showLog();\r\n        }, 0);\r\n    }\r\n\r\n    /**\r\n     * 初始化UI\r\n     */\r\n    protected initUi(): void {\r\n\r\n        this.scrollView = this.node.getChildByName(\"ScrollView\").getComponent(cc.ScrollView);\r\n        this.showLogViewBtn = this.node.getChildByName(\"BtnShowLogView\");\r\n        this.hideLogViewBtn = this.node.getChildByName(\"BtnHideLogView\");\r\n        this.clearBtn = this.node.getChildByName(\"BtnClearLog\");\r\n\r\n        this.content = this.scrollView.content;\r\n        this.logLabel = this.content.children[0];\r\n        this.content.removeAllChildren();\r\n    }\r\n\r\n\r\n    /**\r\n     * 添加LOG输出\r\n     * @param logContent log\r\n     */\r\n    public addLog(logContent: any, ...optionalParams: any[]): void {\r\n        let str = \"\";\r\n        str += logContent;\r\n        optionalParams.forEach(element => {\r\n            str += \",\" + element;\r\n        });\r\n        this.logArray.push(str);\r\n    }\r\n\r\n\r\n    public showLog() {\r\n        if (this.logArray.length > 0) {\r\n            let tempAry = this.logArray;\r\n            this.logArray = [];\r\n            tempAry.forEach(log => {\r\n                let tempLogLabel = cc.instantiate(this.logLabel);\r\n                tempLogLabel.getComponent(cc.Label).string = `日志输出：${log}`;\r\n                this.content.addChild(tempLogLabel);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 初始化监听事件\r\n     */\r\n    protected initListener(): void {\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 初始化数据\r\n     */\r\n    protected initData(): void {\r\n\r\n    }\r\n\r\n    /**\r\n     * 显示日志框\r\n     */\r\n    onShowLogView() {\r\n        this.scrollView.node.active = true;\r\n        this.clearBtn.active = true;\r\n        this.showLogViewBtn.active = false;\r\n        this.hideLogViewBtn.active = true;\r\n    }\r\n\r\n    /**\r\n     * 隐藏日志框\r\n     */\r\n    onHideLogView() {\r\n        this.scrollView.node.active = false;\r\n        this.clearBtn.active = false;\r\n        this.showLogViewBtn.active = true;\r\n        this.hideLogViewBtn.active = false;\r\n\r\n    }\r\n\r\n    /**\r\n     * 清空日志\r\n     */\r\n    clearLogView() {\r\n        this.content.removeAllChildren();\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}