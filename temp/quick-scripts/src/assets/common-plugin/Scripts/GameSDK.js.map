{"version":3,"sources":["assets\\common-plugin\\Scripts\\GameSDK.js"],"names":["GameSDK","window","callBacks","callNative","cmd","param","JSON","stringify","rt","loadRuntime","callCustomCommand","success","msg","console","log","fail","nativeCallback","func","parse","registerCallback","setOnInitCB","setOnRoomInfoCB","setOnReadyCB","setOnStartCB","setOnMessageCB","setOnFinishCB","setOnAudioCB","setOnResumeCB","setOnPauseCB","setOnPayCB","init","gameId","quit","reason","getRoomInfo","finish","result","setOrientation","orientation","setAudio","enable","volume","setMic","setLoadProgress","progress","hideLoadProgress","ready","userData","broadcast","message","includeMe","gameOver","pay","orderId","goodsName","goodsDesc","orderAmount","extension","notifyURL"],"mappings":"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","sourceRoot":"/","sourcesContent":["\"use strict\";\r\n\r\n(function() {\r\n    var GameSDK = window.GameSDK = {\r\n        // CallBack\r\n        callBacks: {},\r\n        // Internal -- Call Native\r\n        callNative: function(cmd, param) {\r\n            param = param == null ? \"\" : JSON.stringify(param);\r\n            var rt = loadRuntime();\r\n            rt.callCustomCommand({\r\n                success(msg) {\r\n                    console.log('success:', msg);\r\n                },\r\n                fail(msg) {\r\n                    console.log('fail:', msg);\r\n                },\r\n            }, cmd, param);\r\n        },\r\n\r\n        nativeCallback: function(cmd, param) {\r\n            var func = this.callBacks[cmd];\r\n            if (func) {\r\n                func(JSON.parse(param));\r\n            }\r\n        },\r\n\r\n        registerCallback: function(cmd, func) {\r\n            this.callBacks[cmd] = func;\r\n        },\r\n\r\n        // 设置回调函数\r\n        setOnInitCB: function(func) {\r\n            this.registerCallback(\"onInit\", func);\r\n        },\r\n\r\n        setOnRoomInfoCB: function(func) {\r\n            this.registerCallback(\"onRoomInfo\", func);\r\n        },\r\n\r\n        setOnReadyCB: function(func) {\r\n            this.registerCallback(\"onReady\", func);\r\n        },\r\n\r\n        setOnStartCB: function(func) {\r\n            this.registerCallback(\"onStart\", func);\r\n        },\r\n\r\n        setOnMessageCB: function(func) {\r\n            this.registerCallback(\"onMessage\", func);\r\n        },\r\n\r\n        setOnFinishCB: function(func) {\r\n            this.registerCallback(\"onFinish\", func);\r\n        },\r\n\r\n        setOnAudioCB: function(func) {\r\n            this.registerCallback(\"onAudio\", func);\r\n        },\r\n\r\n        setOnResumeCB: function(func) {\r\n            this.registerCallback(\"onResume\", func);\r\n        },\r\n\r\n        setOnPauseCB: function(func) {\r\n            this.registerCallback(\"onPause\", func);\r\n        },\r\n\r\n        setOnPayCB: function(func) {\r\n            this.registerCallback(\"onPay\", func);\r\n        },\r\n\r\n        // 初始化SDK\r\n        // 参数:\r\n        //   gameId: int 游戏ID\r\n        init: function(gameId) {\r\n            var param = {\r\n                \"gameId\": gameId\r\n            };\r\n            this.callNative(\"init\", param);\r\n        },\r\n\r\n        // 退出游戏\r\n        // 参数:\r\n        //   reason: int 退出原因: 1 - 正常退出，2-异常退出\r\n        quit: function(reason) {\r\n            var param = {\r\n                \"reason\": reason\r\n            };\r\n            this.callNative(\"quit\", param);\r\n        },\r\n\r\n\r\n        // 获取游戏房间信息\r\n        getRoomInfo: function() {\r\n            this.callNative(\"getRoomInfo\");\r\n        },\r\n\r\n        // 游戏终止\r\n        // 参数:\r\n        //   result: int 游戏结果: 1、胜，2、负，3、平\r\n        finish: function(result) {\r\n            var param = {\r\n                \"result\": result\r\n            };\r\n            this.callNative(\"finish\", param);\r\n        },\r\n\r\n        // 设置屏幕朝向\r\n        // 参数:\r\n        //    orientation: int 屏幕朝向: 0、横屏，1、竖屏\r\n        setOrientation: function(orientation) {\r\n            var param = {\r\n                \"orientation\": orientation\r\n            };\r\n            this.callNative(\"setOrientation\", param);\r\n        },\r\n\r\n        // 设置声音\r\n        // 参数:\r\n        //   enable: int 是否开启: 0、关闭，1、开启\r\n        //   volume: int 音量\r\n        setAudio: function(enable, volume) {\r\n            var param = {\r\n                \"enable\": enable,\r\n                \"volume\": volume\r\n            };\r\n            this.callNative(\"setAudio\", param);\r\n        },\r\n\r\n        // 设置麦克风\r\n        // 参数:\r\n        //   enable: int 是否开启: 0、关闭，1、开启\r\n        //   volume: int 音量: 0 ~ 100\r\n        setMic: function(enable, volume) {\r\n            var param = {\r\n                \"enable\": enable,\r\n                \"volume\": volume\r\n            };\r\n            this.callNative(\"setMic\", param);\r\n        },\r\n\r\n        // 设置游戏加载进度（SDK版本 >= 2）\r\n        // 参数:\r\n        //    progress: int 加载进度: 0 ~ 100\r\n        // 说明: 从SDK版本2开始，平台增加了统一的游戏加载进度界面，用于游戏后台加载时显示。\r\n        //      游戏需要在初始化后，通过此函数报告游戏加载进度。加载界面将显示“加载中...”\r\n        //      当进度>=100%时，加载界面并不会关闭，加载界面将提醒用户“等待对手进入中...”\r\n        //      因此，游戏需要在对手都进入房间后，调用hideLoadProgress函数关闭加载界面。\r\n        setLoadProgress: function(progress) {\r\n            var param = {\r\n                \"progress\": progress\r\n            };\r\n            this.callNative(\"setLoadProgress\", param);\r\n        },\r\n\r\n        // 隐藏游戏加载进度（SDK版本 >= 2）\r\n        // 参数:\r\n        //    无\r\n        // 说明: 用于关闭加载进度界面。此后玩家才可以和游戏交互。\r\n        hideLoadProgress: function() {\r\n            var param = {};\r\n            this.callNative(\"hideLoadProgress\", param);\r\n        },\r\n\r\n        // 游戏准备\r\n        // 参数\r\n        //   userData: string 用户数据\r\n        ready: function(userData) {\r\n            var param = {\r\n                \"userData\": userData\r\n            }\r\n            this.callNative(\"ready\", param);\r\n        },\r\n\r\n        // 游戏消息广播\r\n        // 参数\r\n        //  message: string 广播的消息\r\n        //  includeMe: int 是否也广播给自己: 0、不包含，1、包含\r\n        broadcast: function(message, includeMe) {\r\n            if (includeMe == null) {\r\n                includeMe = 0;\r\n            }\r\n            var param = {\r\n                \"message\": message,\r\n                \"includeMe\": includeMe\r\n            }\r\n            this.callNative(\"broadcast\", param);\r\n        },\r\n\r\n        // 游戏结束\r\n        // 参数\r\n        //   result: int 游戏结果: 1、胜，2、负，3、平\r\n        gameOver: function(result) {\r\n            var param = {\r\n                \"result\": result,\r\n            }\r\n            this.callNative(\"gameOver\", param);\r\n        },\r\n\r\n        // 游戏支付\r\n        // 参数\r\n        //   orderId: int 订单号\r\n        //   goodsName: string 商品名称\r\n        //   goodsDesc: string 商品描述\r\n        //   orderAmount: int 订单金额\r\n        //   extension： string 透传参数\r\n        //   notifyURL: string 支付付款通知地址\r\n        pay: function(orderId, goodsName, goodsDesc, orderAmount, extension, notifyURL) {\r\n            var param = {\r\n                \"orderId\": orderId,\r\n                \"goodsName\": goodsName,\r\n                \"goodsDesc\": goodsDesc,\r\n                \"orderAmount\": orderAmount,\r\n                \"extension\": extension,\r\n                \"notifyURL\": notifyURL\r\n            }\r\n            this.callNative(\"pay\", param);\r\n        },\r\n    }\r\n})()"]}