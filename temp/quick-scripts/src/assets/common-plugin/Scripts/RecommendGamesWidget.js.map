{"version":3,"sources":["assets\\common-plugin\\Scripts\\RecommendGamesWidget.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iCAAgC;AAGhC,yCAAoC;AAE9B,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAkD,wCAAY;IAA9D;QAAA,qEAoDC;QAlDG,oBAAc,GAAuB,IAAI,CAAC;QAC1C,aAAO,GAAY,KAAK,CAAC;;IAiD7B,CAAC;IA/CG,qCAAM,GAAN;QACI,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,sBAAsB,CAAC,oBAAoB,CAAC,CAAC;QACxE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IAC5C,CAAC;IAED,uCAAQ,GAAR;QAAA,iBAIC;QAHG,aAAK,CAAC,uBAAuB,CAAC;YAC1B,KAAI,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;IAED,wCAAS,GAAT;QACI,aAAK,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC;IAC1C,CAAC;IAED,0CAAW,GAAX;QACI,IAAI,IAAI,CAAC,OAAO;YAAE,OAAO;QAEzB,IAAI,KAAK,GAAY,IAAI,CAAC;QAE1B,IAAI,aAAK,CAAC,wBAAwB,EAAE,EAAE;YAClC,IAAI,mBAAS,CAAC,QAAQ,EAAE;gBACpB,IAAI,CAAC,aAAK,CAAC,WAAW,CAAC,oBAAoB,EAAE,EAAE;oBAC3C,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;iBACvB;aACJ;YACD,IAAI,IAAI,GAAQ,aAAK,CAAC,oBAAoB,EAAE,CAAC;YAC7C,IAAI,IAAI,EAAE;gBACN,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;oBACjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;oBACpB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAC/B,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;iBAE1C;qBAAM;oBACH,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;oBACtB,KAAK,GAAG,KAAK,CAAC;iBACjB;aACJ;iBAAM;gBACH,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;gBACxB,KAAK,GAAG,KAAK,CAAC;aACjB;SACJ;QAED,IAAI,CAAC,KAAK,EAAE;YACR,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;SACvB;IACL,CAAC;IAnDgB,oBAAoB;QADxC,OAAO;OACa,oBAAoB,CAoDxC;IAAD,2BAAC;CApDD,AAoDC,CApDiD,EAAE,CAAC,SAAS,GAoD7D;kBApDoB,oBAAoB","file":"","sourceRoot":"/","sourcesContent":["import { utils } from \"./Utils\";\r\nimport RecommendGamesNode from \"./RecommendGamesNode\";\r\nimport { SubLocation } from \"./YZ_Constant\";\r\nimport PlatUtils from \"./PlatUtils\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class RecommendGamesWidget extends cc.Component {\r\n\r\n    _recommendNode: RecommendGamesNode = null;\r\n    _isInit: boolean = false;\r\n\r\n    onLoad() {\r\n        this._recommendNode = this.getComponentInChildren(\"RecommendGamesNode\");\r\n        this._recommendNode.node.active = false;\r\n    }\r\n\r\n    onEnable() {\r\n        utils.registerServerInitEvent(() => {\r\n            this._initWidget();\r\n        }, this);\r\n    }\r\n\r\n    onDisable() {\r\n        utils.unregisterServerInitEvent(this);\r\n    }\r\n\r\n    _initWidget() {\r\n        if (this._isInit) return;\r\n\r\n        let valid: boolean = true;\r\n\r\n        if (utils.isShowRecommondGamesList()) {\r\n            if (PlatUtils.IsDouyin) {\r\n                if (!utils.Tool_Douyin.isShowMoreGamesModal()) {\r\n                    this.node.destroy();\r\n                }\r\n            }\r\n            let data: any = utils.getRecommondGameList();\r\n            if (data) {\r\n                if (data.length > 0) {\r\n                    this._isInit = true;\r\n                    this._recommendNode.init(data);\r\n                    this._recommendNode.node.active = true;\r\n\r\n                } else {\r\n                    cc.warn(\"交叉推广数据长度为0\");\r\n                    valid = false;\r\n                }\r\n            } else {\r\n                cc.warn(\"交叉推广数据为null!\");\r\n                valid = false;\r\n            }\r\n        }\r\n\r\n        if (!valid) {\r\n            this.node.destroy();\r\n        }\r\n    }\r\n}\r\n"]}