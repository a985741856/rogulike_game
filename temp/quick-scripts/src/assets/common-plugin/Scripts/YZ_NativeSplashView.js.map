{"version":3,"sources":["assets\\common-plugin\\Scripts\\YZ_NativeSplashView.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mDAA8C;AAC9C,yCAAoC;AACpC,iCAAgC;AAE1B,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAiD,uCAAY;IAA7D;QAAA,qEA+PC;QA7PG,YAAM,GAAY,IAAI,CAAC;QACvB,kBAAY,GAAa,IAAI,CAAC;QAC9B,iBAAW,GAAa,IAAI,CAAC;QAC7B,eAAS,GAAa,IAAI,CAAC;QAC3B,WAAK,GAAc,IAAI,CAAC;QACxB,yBAAyB;QACzB,eAAS,GAAa,IAAI,CAAC;QAC3B,UAAI,GAAc,IAAI,CAAC;QACvB,gBAAU,GAAa,IAAI,CAAC;QAE5B,eAAS,GAAQ,IAAI,CAAC;QACtB,WAAK,GAAQ,IAAI,CAAC;QAClB,gBAAU,GAAY,KAAK,CAAC;QAO5B,kBAAY,GAAY,IAAI,CAAC;QAC7B,WAAK,GAAW,CAAC,CAAC;QAElB,aAAO,GAAY,IAAI,CAAC,CAAC,MAAM;;IAuOnC,CAAC;IA/OG,sBAAW,6CAAY;aAAvB;YACI,OAAO,aAAK,CAAC,YAAY,CAAC;QAC9B,CAAC;;;OAAA;IAOD,oCAAM,GAAN;QAEI,IAAI,aAAK,CAAC,WAAW,IAAI,aAAK,CAAC,WAAW,CAAC,KAAK,EAAE;YAC9C,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,aAAK,CAAC,WAAW,CAAC,KAAK,CAAC;SAC7C;QAED,IAAI,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,EAAE;YACtC,OAAO;YACP,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,GAAG,IAAI,CAAC;YAC5C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;SAE5D;aAAM;YACH,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC;YACrC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;SAC3D;QACD,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;QAC1B,yCAAyC;QACzC,IAAI,OAAO,GAAG,aAAK,CAAC,cAAc,CAAC,wBAAwB,CAAC,CAAC;QAC7D,IAAI,OAAO,IAAI,OAAO,EAAE;YACpB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;SACxB;QAED,mDAAmD;QACnD,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QAC/B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;QACxE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;QACtE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QACnF,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QAC/E,iDAAiD;QAEjD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QAEnF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;QAC/D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,sBAAsB,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QACpE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QAExF,IAAI,mBAAS,CAAC,QAAQ,EAAE;YAEpB,YAAY;YACZ,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SAC5C;QACD,IAAI,aAAK,CAAC,cAAc,CAAC,0BAA0B,CAAC,IAAI,MAAM,EAAE;YAC5D,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC;SACnC;QACD,6BAA6B;IAEjC,CAAC;IAED,uCAAS,GAAT;QACI,IAAI,mBAAS,CAAC,QAAQ,EAAE;YACpB,YAAY;YACZ,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA;YAC9B,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;YACzB,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;SACrC;IACL,CAAC;IAED,kCAAI,GAAJ,UAAK,QAAa,EAAE,IAAS;QACzB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;QAC1B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IAC3B,CAAC;IAED,oCAAM,GAAN,UAAO,EAAU;QACb,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,EAAE;YAC/B,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;YAC1B,4BAA4B;YAC5B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,cAAc,EAAE,CAAC;SACzB;QACD,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC;YAC3B,6BAA6B;SAChC;IACL,CAAC;IAID,4CAAc,GAAd;QAAA,iBAqEC;QApEG,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,WAAW;YACX,IAAI,CAAC,aAAa,EAAE,CAAC;YAErB,IAAI,mBAAS,CAAC,QAAQ,EAAE;gBACpB,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC;aACxB;YAGD,iCAAiC;YACjC,aAAK,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YAEnD,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC;YACnE,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;YAC/D,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,sBAAsB,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC;YAC7I,oFAAoF;YACpF,kEAAkE;YAClE,IAAI,IAAI,CAAC,KAAK,CAAC,UAAU,IAAI,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3D,aAAa;gBACb,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACpC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gBAC/B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBAC7B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBAElC,IAAI,GAAC,GAAW,CAAC,CAAC;gBAClB,IAAI,MAAI,GAAG,WAAW,CAAC;oBACnB,GAAC,EAAE,CAAC;oBACJ,IAAI,GAAC,IAAI,CAAC,EAAE;wBACR,KAAI,CAAC,UAAU,CAAC,MAAM,GAAG,cAAI,CAAC;qBACjC;yBAAM,IAAI,GAAC,IAAI,CAAC,CAAC,EAAE;wBAChB,aAAa,CAAC,MAAI,CAAC,CAAC;wBACpB,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;qBACvB;yBAAM;wBACH,KAAI,CAAC,UAAU,CAAC,MAAM,GAAG,6BAAO,GAAC,MAAG,CAAC;qBACxC;gBACL,CAAC,EAAE,IAAI,CAAC,CAAA;gBAER,aAAK,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;gBAE5B,wBAAc,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,UAAC,GAAG,EAAE,GAAG;oBACtD,aAAK,CAAC,OAAO,CAAC,aAAa,GAAG,GAAG,CAAC,CAAC;oBACnC,IAAI,CAAC,GAAG,IAAI,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,IAAI,KAAI,CAAC,IAAI,EAAE;wBACvC,KAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;qBACnD;gBACL,CAAC,CAAC,CAAC;aAEN;iBAAM,IAAI,mBAAS,CAAC,QAAQ,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE;gBAC9C,QAAQ;gBACR,aAAK,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;gBAC7B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACpC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBAC9B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gBAC9B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBAElC,wBAAc,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,UAAC,GAAG,EAAE,GAAG;oBAC7C,IAAI,CAAC,GAAG,IAAI,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,IAAI,KAAI,CAAC,KAAK,EAAE;wBACxC,KAAI,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;qBACpD;gBACL,CAAC,CAAC,CAAC;aACN;iBACI;gBACD,aAAK,CAAC,OAAO,CAAC,UAAU,CAAC,CAAA;aAC5B;YAED,IAAI,mBAAS,CAAC,QAAQ,EAAE;gBACpB,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC;aACzE;SACJ;IACL,CAAC;IAED,+CAAiB,GAAjB,UAAkB,KAAe,EAAE,IAAS;QACxC,QAAQ,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE;YACvB,KAAK,MAAM;gBACP,IAAI,IAAI,CAAC,OAAO,EAAE;oBACd,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;iBACvB;qBAAM;oBACH,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,IAAI,IAAI,EAAE;wBAChC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;qBACvB;iBACJ;gBAED,8BAA8B;gBAC9B,6BAA6B;gBAC7B,MAAM;YACV,KAAK,WAAW,CAAC,CAAC;gBACd,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;gBACpB,8BAA8B;gBAC9B,6BAA6B;gBAC7B,MAAM;aACT;YACD,KAAK,KAAK,CAAC;YACX,KAAK,MAAM,CAAC;YACZ,KAAK,aAAa;gBACd,IAAI,CAAC,cAAc,EAAE,CAAC;gBACtB,MAAM;YACV,KAAK,cAAc,CAAC,CAAC;gBACjB,IAAI,CAAC,cAAc,EAAE,CAAC;gBACtB,MAAM;aACT;SACJ;IACL,CAAC;IAED,2CAAa,GAAb;QACI,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;gBACtC,aAAK,CAAC,OAAO,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAEtF,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;oBACxB,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI;iBACxB,CAAC,CAAC;aACN;SACJ;IACL,CAAC;IAED,4CAAc,GAAd;QACI,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,aAAK,CAAC,OAAO,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACrD,IAAI,IAAI,CAAC,SAAS,EAAE;gBAChB,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC;oBACzB,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI;iBACxB,CAAC,CAAC;gBAEH,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC;gBAC3B,6BAA6B;gBAG7B,IAAI,mBAAS,CAAC,MAAM,EAAE;oBAClB,aAAK,CAAC,QAAQ,CAAC,qBAAqB,EAAE,CAAC;iBAC1C;qBAAM,IAAI,mBAAS,CAAC,MAAM,EAAE;oBACzB,aAAK,CAAC,SAAS,CAAC,qBAAqB,EAAE,CAAC;iBAC3C;gBAED,IAAI,mBAAS,CAAC,QAAQ,EAAE;oBACpB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;oBAEpB,IAAI,CAAC,UAAU,EAAE,CAAC;iBACrB;aAEJ;SAEJ;IACL,CAAC;IAGD,wCAAU,GAAV;QACI,OAAO;QACP,IAAM,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC;YAC5C,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI;SACxB,CAAC,CAAA;QACF,aAAK,CAAC,OAAO,CAAC,sCAAsC,GAAG,UAAU,CAAC,CAAC;IACvE,CAAC;IA9PgB,mBAAmB;QADvC,OAAO;OACa,mBAAmB,CA+PvC;IAAD,0BAAC;CA/PD,AA+PC,CA/PgD,EAAE,CAAC,SAAS,GA+P5D;kBA/PoB,mBAAmB","file":"","sourceRoot":"/","sourcesContent":["import CompatibleTool from \"./CompatibleTool\";\nimport PlatUtils from \"./PlatUtils\";\nimport { utils } from \"./Utils\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class YZ_NativeSplashView extends cc.Component {\n\n    _panel: cc.Node = null;\n    _sourceLable: cc.Label = null;\n    _titleLabel: cc.Label = null;\n    _desLabel: cc.Label = null;\n    _icon: cc.Sprite = null;\n    // _mask: cc.Node = null;\n    _btnLabel: cc.Label = null;\n    _img: cc.Sprite = null;\n    _timeLabel: cc.Label = null;\n\n    _nativeAd: any = null;\n    _data: any = null;\n    _dataDirty: boolean = false;\n\n    public get ServerConfig() {\n        return utils.ServerConfig;\n    }\n    bgTexture: cc.SpriteFrame;\n    btnTexture: cc.SpriteFrame;\n    _btnDownLoad: cc.Node = null;\n    ratio: number = 1;\n\n    canSkip: boolean = true; //直接跳过\n    onLoad() {\n\n        if (utils.otherConfig && utils.otherConfig.group) {\n            this.node.group = utils.otherConfig.group;\n        }\n\n        if (cc.winSize.height < cc.winSize.width) {\n            // 横屏游戏\n            this.ratio = cc.winSize.width / 1920 * 0.75;\n            this._panel = this.node.getChildByName(\"LandscapePanel\");\n\n        } else {\n            this.ratio = cc.winSize.width / 1080;\n            this._panel = this.node.getChildByName(\"PortraitPanel\");\n        }\n        this._panel.active = true;\n        // cc.game.addPersistRootNode(this.node);\n        let canSkip = utils.getConfigByKey(\"native_splash_can_skip\");\n        if (canSkip == \"false\") {\n            this.canSkip = false;\n        }\n\n        // this._panel = this.node.getChildByName(\"Panel\");\n        this._panel.scale = this.ratio;\n        this._icon = this._panel.getChildByName(\"Icon\").getComponent(cc.Sprite);\n        this._img = this._panel.getChildByName(\"Img\").getComponent(cc.Sprite);\n        this._titleLabel = this._panel.getChildByName(\"TitleLabel\").getComponent(cc.Label);\n        this._desLabel = this._panel.getChildByName(\"DesLabel\").getComponent(cc.Label);\n        // this._mask = this.node.getChildByName(\"Mask\");\n\n        this._sourceLable = this._img.node.getChildByName(\"source\").getComponent(cc.Label);\n\n        this._btnDownLoad = this._panel.getChildByName(\"Btn_Download\");\n        this._btnLabel = this._btnDownLoad.getComponentInChildren(cc.Label);\n        this._timeLabel = this._panel.getChildByName(\"time\").children[0].getComponent(cc.Label);\n\n        if (PlatUtils.IsHuaWei) {\n\n            //@ts-ignore\n            qg.onShow(this._reportAdShow.bind(this));\n        }\n        if (utils.getConfigByKey(\"native_splash_full_cilck\") == \"true\") {\n            this._btnDownLoad.active = true;\n        }\n        // this._panel.scale = ratio;\n\n    }\n\n    onDestroy() {\n        if (PlatUtils.IsHuaWei) {\n            //@ts-ignore\n            qg.offShow(this._reportAdShow)\n            this._nativeAd.destroy();\n            cc.director.emit(\"SplashViewOff\");\n        }\n    }\n\n    init(nativeAd: any, data: any) {\n        this._nativeAd = nativeAd;\n        this._data = data;\n        this._dataDirty = true;\n    }\n\n    update(dt: number) {\n        if (this._data && this._dataDirty) {\n            this._panel.active = true;\n            // this._mask.active = true;\n            this._dataDirty = false;\n            this._updateContent();\n        }\n        if (!this._data) {\n            this._panel.active = false;\n            // this._mask.active = false;\n        }\n    }\n\n\n\n    _updateContent() {\n        if (this._data) {\n            // 上报原生插屏广告\n            this._reportAdShow();\n\n            if (PlatUtils.IsHuaWei) {\n                this._data.icon = \"\";\n            }\n\n\n            // utils.nativeInsertShowCount++;\n            utils.showLog(\"data:\", JSON.stringify(this._data));\n\n            this._titleLabel.string = this._data.title ? this._data.title : \"\";\n            this._desLabel.string = this._data.desc ? this._data.desc : \"\";\n            this._panel.getChildByName(\"Btn_Install\").getComponentInChildren(cc.Label).string = this._data.clickBtnTxt ? this._data.clickBtnTxt : \"查看详情\";\n            // this._btnLabel.string = this._data.clickBtnTxt ? this._data.clickBtnTxt : \"查看详情\";\n            // utils.showLog(\"this._btnLabel.string\" + this._btnLabel.string);\n            if (this._data.imgUrlList && this._data.imgUrlList.length > 0) {\n                // 有图片，优先显示图片\n                this._titleLabel.node.active = true;\n                this._icon.node.active = false;\n                this._img.node.active = true;\n                this._desLabel.node.active = true;\n\n                let t: number = 5;\n                let task = setInterval(() => {\n                    t--;\n                    if (t == 0) {\n                        this._timeLabel.string = `跳过`;\n                    } else if (t == -1) {\n                        clearInterval(task);\n                        this.node.destroy();\n                    } else {\n                        this._timeLabel.string = `点击跳过${t}s`;\n                    }\n                }, 1000)\n\n                utils.showLog(\"有图片，优先显示图片\");\n\n                CompatibleTool.LoadRes(this._data.imgUrlList[0], (err, res) => {\n                    utils.showLog(\"加载图片信息 ....\" + err);\n                    if (!err && cc.isValid(this) && this._img) {\n                        this._img.spriteFrame = new cc.SpriteFrame(res);\n                    }\n                });\n\n            } else if (PlatUtils.IsHuaWei && this._data.icon) {\n                // 有icon\n                utils.showLog(\"没有图片，显示icon\");\n                this._titleLabel.node.active = true;\n                this._icon.node.active = true;\n                this._img.node.active = false;\n                this._desLabel.node.active = true;\n\n                CompatibleTool.LoadRes(this._data.icon, (err, res) => {\n                    if (!err && cc.isValid(this) && this._icon) {\n                        this._icon.spriteFrame = new cc.SpriteFrame(res);\n                    }\n                });\n            }\n            else {\n                utils.showLog(\"什么都没有!!!\")\n            }\n\n            if (PlatUtils.IsHuaWei) {\n                this._sourceLable.string = this._data.source ? this._data.source : \"\";\n            }\n        }\n    }\n\n    onBtnClickHandler(event: cc.Event, data: any) {\n        switch (event.target.name) {\n            case \"time\":\n                if (this.canSkip) {\n                    this.node.destroy();\n                } else {\n                    if (this._timeLabel.string == \"跳过\") {\n                        this.node.destroy();\n                    }\n                }\n\n                // this._panel.active = false;\n                // this._mask.active = false;\n                break;\n            case \"Btn_Close\": {\n                this.node.destroy();\n                // this._panel.active = false;\n                // this._mask.active = false;\n                break;\n            }\n            case \"Img\":\n            case \"Icon\":\n            case \"Btn_Install\":\n                this._reportAdClick();\n                break;\n            case \"Btn_Download\": {\n                this._reportAdClick();\n                break;\n            }\n        }\n    }\n\n    _reportAdShow() {\n        if (this._data) {\n            if (this._nativeAd && this._panel.active) {\n                utils.showLog(\"上报原生插屏广告展示! adId:\" + this._data.adId + \" #active=\" + this.node.active);\n\n                this._nativeAd.reportAdShow({\n                    adId: this._data.adId\n                });\n            }\n        }\n    }\n\n    _reportAdClick() {\n        if (this._data) {\n            utils.showLog(\"上报原生开屏广告点击! adId:\" + this._data.adId);\n            if (this._nativeAd) {\n                this._nativeAd.reportAdClick({\n                    adId: this._data.adId\n                });\n\n                this._panel.active = false;\n                // this._mask.active = false;\n\n\n                if (PlatUtils.IsOPPO) {\n                    utils.oppoTool.countNativeInserClick();\n                } else if (PlatUtils.IsVIVO) {\n                    utils.Tool_Vivo.countNativeInserClick();\n                }\n\n                if (PlatUtils.IsHuaWei) {\n                    this.node.destroy();\n\n                    this.downLoadAd();\n                }\n\n            }\n\n        }\n    }\n\n\n    downLoadAd() {\n        return;\n        const resultCode = this._nativeAd.startDownload({\n            adId: this._data.adId\n        })\n        utils.showLog('原生广告主动下载 resumeDownloadresultCode = ' + resultCode);\n    }\n}\n"]}