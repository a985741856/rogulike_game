{"version":3,"sources":["assets\\common-plugin\\Scripts\\ShareRecordPanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { utils } from \"./Utils\";\r\nimport { YZ_Reward, BannerLocation, SubLocation } from \"./YZ_Constant\";\r\nimport PlatUtils from \"./PlatUtils\";\r\nimport GameItem from \"./GameItem\";\r\nimport QCrossWidgetItem from \"./QCrossWidgetItem\";\r\nimport CompatibleTool from \"./CompatibleTool\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n/**\r\n * 分享录屏面板\r\n */\r\n@ccclass\r\nexport default class ShareRecordPanel extends cc.Component {\r\n\r\n    bg: cc.Node = null;\r\n    btnOk: cc.Node = null;\r\n    btnCancel: cc.Node = null;\r\n    glodNode: cc.Node = null;\r\n    glodLabel: cc.Label = null;\r\n    sharePanel: cc.Node = null;\r\n    RecPanel: cc.Node = null;\r\n\r\n\r\n\r\n    _panel: cc.Node = null;\r\n    _gameList: cc.Node = null;\r\n    _originScale: number = 1;\r\n\r\n    _gameItems: GameItem[] = [];\r\n    _jumpList: any = null;\r\n    _dataDirty: boolean = false;\r\n\r\n\r\n    _star: cc.Node = null;\r\n    private gameItemNode: cc.Node = null;\r\n\r\n    /**\r\n     * 奖励回调\r\n     */\r\n    rewardCallFunc: Function = null;\r\n\r\n    /**\r\n     * 奖励值\r\n     */\r\n    rewardValue: number = 0;\r\n\r\n\r\n    onLoad() {\r\n        utils.SendEvent(\"结算前广告-分享弹窗-展示成功！\");\r\n\r\n        this.rewardValue = utils.rewardValue;\r\n\r\n        this.rewardCallFunc = utils.rewardCallFunc;\r\n        this.initUi();\r\n\r\n        if (cc.winSize.height < cc.winSize.width) {\r\n            utils.adManager.HideBanner(BannerLocation.Game);\r\n        } else {\r\n            utils.adManager.ShowBanner(BannerLocation.Game);\r\n        }\r\n\r\n        if (PlatUtils.IsOPPO) {\r\n            if (utils.ServerConfig.st_recomment_is_hide_banner && utils.ServerConfig.st_recomment_is_hide_banner == \"true\") {\r\n                utils.showLog(\"服务器配置显示互推后隐藏banner >>>\");\r\n                utils.adManager.HideBanner(BannerLocation.Game);\r\n                utils.adManager.HideBanner(BannerLocation.Over);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 初始化UI\r\n     */\r\n    protected initUi(): void {\r\n        if (utils.otherConfig && utils.otherConfig.group) {\r\n            this.node.group = utils.otherConfig.group;\r\n        }\r\n        this.bg = this.node.getChildByName(\"Bg\");\r\n        this.sharePanel = this.bg.getChildByName(\"SharePanel\");\r\n        this.RecPanel = this.bg.getChildByName(\"RecPanel\");\r\n\r\n        if (!PlatUtils.IsOPPO) {\r\n            this.sharePanel.active = true;\r\n            this.RecPanel.active = false;\r\n            this.btnCancel = this.sharePanel.getChildByName(\"btnCancel\");\r\n            this.btnOk = this.sharePanel.getChildByName(\"btnOk\");\r\n            this.glodNode = this.sharePanel.getChildByName(\"rewardNode\");\r\n            this.glodLabel = this.glodNode.getChildByName(\"goldLbl\").getComponent(cc.Label);\r\n\r\n            utils.showSkipBtn(this.btnCancel);\r\n            this.glodLabel.string = \"/\" + this.rewardValue;\r\n            if (this.rewardValue == 0) {\r\n                this.glodNode.active = false;\r\n            }\r\n        } else {\r\n            this.sharePanel.active = false;\r\n            this.RecPanel.active = true;\r\n            this.btnCancel = this.RecPanel.getChildByName(\"btnCancel\");\r\n\r\n            this._gameList = this.RecPanel.getChildByName(\"PageView\").getComponent(cc.PageView).content.getChildByName(\"Panel\");\r\n            this.gameItemNode = this._gameList.children[0];\r\n            this._initRecPanel();\r\n            utils.showSkipBtn(this.btnCancel);\r\n        }\r\n    }\r\n\r\n    private _initRecPanel() {\r\n        this._gameList.removeAllChildren();\r\n        this._jumpList = utils.getRecommondGameList();\r\n\r\n        for (let i = 0; i < this._jumpList.length; i++) {\r\n            let data: any = this._jumpList[i];\r\n            if (data && data.logo) {\r\n                let tempNode = cc.instantiate(this.gameItemNode);\r\n                let qcrossWidgetItem: QCrossWidgetItem = tempNode.getComponent(\"QCrossWidgetItem\");\r\n                qcrossWidgetItem._location = SubLocation.isMoreGame;\r\n                qcrossWidgetItem.init(data);\r\n                this._gameList.addChild(tempNode);\r\n            }\r\n        }\r\n    }\r\n\r\n    onDestroy() {\r\n        utils.adManager.HideBanner(BannerLocation.Game)\r\n        if (utils.shareRecordPanelCloseFunc) {\r\n            utils.shareRecordPanelCloseFunc();\r\n            utils.shareRecordPanelCloseFunc = null;;\r\n        } else {\r\n            utils.rewardCloseFunc && utils.rewardCloseFunc();\r\n            utils.rewardCloseFunc = null;\r\n        }\r\n\r\n    }\r\n\r\n    onClose() {\r\n        this.bg.runAction(cc.sequence(cc.scaleTo(0.3, 0).easing(cc.easeBackIn()), cc.callFunc(() => {\r\n            this.node.destroy();\r\n        })));\r\n    }\r\n\r\n    onEnable() {\r\n        this.bg.scale = 0;\r\n        let ratio: number = 1;\r\n        if (cc.winSize.height < cc.winSize.width) {\r\n            // 横屏游戏\r\n            ratio = cc.winSize.width / 1920 * 0.6;\r\n        } else {\r\n            ratio = cc.winSize.width / 1080;\r\n        }\r\n        this.bg.runAction(cc.sequence(cc.scaleTo(0.3, ratio).easing(cc.easeBackOut()), cc.callFunc(() => {\r\n            if (this.glodNode && this.glodNode.active == true) {\r\n                this.glodNode.runAction(cc.sequence(\r\n                    cc.moveBy(0.3, CompatibleTool.position(0, +50)),\r\n                    cc.moveBy(0.3, CompatibleTool.position(0, -50))\r\n                ).repeatForever());\r\n            }\r\n        })));\r\n    }\r\n\r\n\r\n\r\n    // /**\r\n    // * 初始化事件回调\r\n    // * @param closeCallFunc \r\n    // * @param rewardCallFunc \r\n    // */\r\n    // init(closeCallFunc: Function, rewardCallFunc: Function, reward: number) {\r\n    //     this.closeCallFunc = closeCallFunc;\r\n    //     this.rewardCallFunc = rewardCallFunc;\r\n    //     this.rewardValue = reward;\r\n    // }\r\n\r\n\r\n\r\n    onCancelClickListener() {\r\n        if (PlatUtils.IsDouyin && utils.ServerConfig && utils.ServerConfig.cancel_btn_is_share && utils.ServerConfig.cancel_btn_is_share == \"true\") {\r\n            utils.showLog(\"服务器配置取消按钮也会触发分享！\");\r\n            utils.share(this.rewardFunc.bind(this));\r\n        } else {\r\n            this.onClose();\r\n        }\r\n    }\r\n\r\n    onOkBtnClickListener() {\r\n        utils.share(this.rewardFunc.bind(this));\r\n    }\r\n\r\n    // /**\r\n    //  * 初始化监听事件\r\n    //  */\r\n    // protected initListener(): void {\r\n    //     console.log(\"this.btnCancel\", this.btnCancel);\r\n    //     this.btnCancel.on(cc.Node.EventType.TOUCH_END, (event: cc.Event) => {\r\n    //         this.btnCancel.runAction(cc.sequence(cc.scaleTo(0.1, 0.85), cc.scaleTo(0.1, 1), cc.callFunc(() => {\r\n    //             // if (utils.Tool_Douyin) {\r\n    //             if (PlatUtils.IsDouyin && utils.ServerConfig && utils.ServerConfig.cancel_btn_is_share && utils.ServerConfig.cancel_btn_is_share == \"true\") {\r\n    //                 utils.showLog(\"服务器配置取消按钮也会触发分享！\");\r\n    //                 utils.share(this.rewardFunc.bind(this));\r\n    //             } else {\r\n    //                 this.onClose();\r\n    //             }\r\n    //             // }\r\n\r\n    //         })));\r\n    //     });\r\n\r\n    //     this.btnOk && this.btnOk.on(cc.Node.EventType.TOUCH_END, (event: cc.Event) => {\r\n    //         this.btnOk.runAction(cc.sequence(cc.scaleTo(0.1, 0.85), cc.scaleTo(0.1, 1), cc.callFunc(() => {\r\n    //             utils.share(this.rewardFunc.bind(this));\r\n    //         })));\r\n    //     })\r\n    // }\r\n\r\n\r\n    /**\r\n     * 分享回调\r\n     * @param ret \r\n     * @param msg \r\n     */\r\n    rewardFunc(ret, msg) {\r\n        if (ret) {\r\n            utils.SendEvent(\"结算前广告-分享弹窗-分享成功！\");\r\n            let result: YZ_Reward = new YZ_Reward();\r\n            result.rewardValue = this.rewardValue;\r\n            utils.showMsg(\"分享成功！奖励：+\" + this.rewardValue);\r\n            if (this.rewardCallFunc) {\r\n                this.rewardCallFunc(result);\r\n            }\r\n            this.onClose();\r\n        } else {\r\n            utils.SendEvent(\"结算前广告-分享弹窗-分享失败！\");\r\n            utils.showMsg(msg ? msg : \"分享失败！\");\r\n            this.onClose();\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 初始化数据\r\n     */\r\n    protected initData(): void {\r\n\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}