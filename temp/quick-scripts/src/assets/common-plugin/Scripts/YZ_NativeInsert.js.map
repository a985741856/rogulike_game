{"version":3,"sources":["assets\\common-plugin\\Scripts\\YZ_NativeInsert.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import PlatUtils from \"./PlatUtils\";\r\nimport { utils } from \"./Utils\";\r\nimport CompatibleTool from \"./CompatibleTool\";\r\nimport YZ_Constant from \"./YZ_Constant\";\r\nimport { YwAdType, YwAdStatus, AdEventParameter } from \"./YouWanSDK/EventAdInfo\";\r\nimport YouWanAnalytics from \"./YouWanSDK/YouWanAnalytics\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class YZ_NativeInsert extends cc.Component {\r\n\r\n    _panel: cc.Node = null;\r\n    _sourceLable: cc.Label = null;\r\n    _titleLabel: cc.Label = null;\r\n    _desLabel: cc.Label = null;\r\n    _icon: cc.Sprite = null;\r\n    _mask: cc.Node = null;\r\n    _btnLabel: cc.Label = null;\r\n    _closeBtn: cc.Node = null;\r\n    _img: cc.Sprite = null;\r\n    _hideInstallBtn: cc.Node = null;\r\n\r\n    _nativeAd: any = null;\r\n    _data: any = null;\r\n    _dataDirty: boolean = false;\r\n\r\n    public get ServerConfig() {\r\n        return utils.ServerConfig;\r\n    }\r\n    bgTexture: cc.SpriteFrame;\r\n    btnTexture: cc.SpriteFrame;\r\n    _btnDownLoad: cc.Node = null;\r\n    _defaultCloseSize = 60;\r\n    onLoad() {\r\n\r\n        if (utils.otherConfig && utils.otherConfig.group) {\r\n            this.node.group = utils.otherConfig.group;\r\n        }\r\n        cc.game.addPersistRootNode(this.node);\r\n\r\n\r\n        this._panel = this.node.getChildByName(\"Panel\");\r\n        this._icon = this._panel.getChildByName(\"Icon\").getComponent(cc.Sprite);\r\n        this._img = this._panel.getChildByName(\"Img\").getComponent(cc.Sprite);\r\n        this._titleLabel = this._panel.getChildByName(\"TitleLabel\").getComponent(cc.Label);\r\n        this._desLabel = this._panel.getChildByName(\"DesLabel\").getComponent(cc.Label);\r\n        this._mask = this.node.getChildByName(\"Mask\");\r\n        this._sourceLable = this._panel.getChildByName(\"Img\").getChildByName(\"source\").getComponent(cc.Label);\r\n        this._btnDownLoad = this._panel.getChildByName(\"Btn_Download\");\r\n        this._btnLabel = this._btnDownLoad.getComponentInChildren(cc.Label);\r\n\r\n        this._hideInstallBtn = this._panel.getChildByName(\"Btn_HideInstall\");\r\n        this._closeBtn = this._hideInstallBtn.getChildByName(\"Btn_Close\");\r\n\r\n        let self = this;\r\n        let bg = this._panel.getChildByName(\"bg\").getComponent(cc.Sprite);\r\n        let bgUrl = utils.ServerConfig.native_intersititial_bg_img;\r\n        if (bgUrl && !this.bgTexture) {\r\n            CompatibleTool.LoadRes(bgUrl, (err, texture) => {\r\n                if (!err && cc.isValid(self) && self._panel) {\r\n                    let size: cc.Size = self._panel.getChildByName(\"bg\").getContentSize();\r\n                    self.bgTexture = new cc.SpriteFrame(texture);\r\n                    bg.spriteFrame = self.bgTexture;\r\n                    self._panel.getChildByName(\"bg\").setContentSize(size);\r\n                }\r\n            });\r\n        }\r\n        let back = this._panel.getChildByName(\"Btn_Install\").getChildByName(\"Background\").getComponent(cc.Sprite);\r\n        let backUrl = utils.ServerConfig.native_intersititial_btn_img;\r\n        if (backUrl && !this.btnTexture) {\r\n            CompatibleTool.LoadRes(backUrl, (err, texture) => {\r\n                if (!err && cc.isValid(self) && self._panel) {\r\n                    let size: cc.Size = self._panel.getChildByName(\"Btn_Install\").getContentSize();\r\n                    self.btnTexture = new cc.SpriteFrame(texture);\r\n                    back.spriteFrame = self.btnTexture;\r\n                    self._panel.getChildByName(\"Btn_Install\").setContentSize(size);\r\n                }\r\n            });\r\n        }\r\n        let ratio: number = 1;\r\n        if (cc.winSize.height < cc.winSize.width) {\r\n            // 横屏游戏\r\n            ratio = cc.winSize.width / 1920 * 0.7;\r\n\r\n            // if (PlatUtils.IsVIVO) {\r\n            //     ratio = cc.winSize.width / 1920 * 0.7 * (1280 / utils.cur_tool.SysInfo.screenWidth);\r\n            // } else {\r\n            // if (!PlatUtils.IsHuaWei) {\r\n\r\n            // this._panel.width = cc.winSize.width / 2;\r\n            // this._panel.height = cc.winSize.height * 0.9;\r\n            // this._desLabel.getComponent(cc.Widget).bottom = 200;\r\n            // this._desLabel.getComponent(cc.Widget).updateAlignment();\r\n            // this._panel.getChildByName(\"Btn_Install\").getComponent(cc.Widget).bottom = 50;\r\n            // this._panel.getChildByName(\"Btn_Install\").getComponent(cc.Widget).updateAlignment();\r\n\r\n\r\n            // this._img.node.getComponent(cc.Widget).top = (this._titleLabel.node.y - this._desLabel.node.y) / 3;\r\n            // this._img.node.getComponent(cc.Widget).bottom = (this._titleLabel.node.y - this._desLabel.node.y) / 2\r\n            // this._img.node.getComponent(cc.Widget).updateAlignment();\r\n\r\n            // this._titleLabel.node.getComponent(cc.Widget).top = 70;\r\n            // this._titleLabel.node.getComponent(cc.Widget).updateAlignment();\r\n\r\n            // this._closeBtn.getComponent(cc.Widget).top = 65;\r\n            // this._closeBtn.getComponent(cc.Widget).updateAlignment();\r\n            // }else{\r\n            this._panel.scale = ratio;\r\n            // }\r\n\r\n\r\n        } else {\r\n            this._panel.getComponent(cc.Widget).isAlignBottom = true;\r\n            this._panel.getComponent(cc.Widget).bottom = 378;\r\n            this._panel.getComponent(cc.Widget).updateAlignment();\r\n            ratio = cc.winSize.width / 1080;\r\n            this._panel.scale = ratio;\r\n        }\r\n\r\n\r\n        /**\r\n                if (PlatUtils.IsHuaWei) {\r\n        \r\n                    let closeBtnRange = this.ServerConfig.intersititia_close_but_range ? this.ServerConfig.intersititia_close_but_range : this._closeBtn.getContentSize().height;\r\n                    let closeBtnSize = this.ServerConfig.intersititia_close_but_size ? this.ServerConfig.intersititia_close_but_size : this._closeBtn.getContentSize().height;\r\n        \r\n                    this._closeBtn.setContentSize(cc.size(closeBtnRange, closeBtnRange));\r\n                    this._closeBtn.getChildByName(\"Background\").setContentSize(cc.size(closeBtnSize, closeBtnSize));\r\n        \r\n                    this._btnDownLoad.active = false;\r\n                    //@ts-ignore\r\n                    // qg.onShow(this._reportAdShow.bind(this));\r\n                }\r\n            */\r\n        if (PlatUtils.IsXiaoMi) {\r\n            this._panel.getChildByName(\"Xm_Mask\").active = true;\r\n        }\r\n        // this._panel.scale = ratio;\r\n    }\r\n\r\n\r\n\r\n    onEnable() {\r\n\r\n        if (PlatUtils.IsHuaWei) {\r\n            utils.showLog(\"注册原生插屏监听事件 >>>>>.\");\r\n\r\n            cc.game.targetOff(this);\r\n            cc.game.on(cc.game.EVENT_SHOW, () => {\r\n                console.log(\"HuaWeiOnShow >>>>>>\");\r\n                this._reportAdShow();\r\n            }, this);\r\n        }\r\n        if (PlatUtils.IsOPPO || PlatUtils.IsVIVO || PlatUtils.IsHuaWei || PlatUtils.IsXiaoMi) {\r\n\r\n            this._panel.on(cc.Node.EventType.TOUCH_START, (event: cc.Event) => {\r\n                this._reportAdClick();\r\n            }, this);\r\n\r\n\r\n            cc.game.on(YZ_Constant.YZ_NativeAdClick, () => {\r\n                this._reportAdClick();\r\n            }, this);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    onDestroy() {\r\n        if (PlatUtils.IsHuaWei) {\r\n            cc.game.targetOff(this);\r\n            utils.adManager.ShowBanner();\r\n        }\r\n    }\r\n\r\n    init(nativeAd: any, data: any) {\r\n        this._nativeAd = nativeAd;\r\n        this._data = data;\r\n        this._dataDirty = true;\r\n    }\r\n\r\n    update(dt: number) {\r\n        if (this._data && this._dataDirty) {\r\n            this._panel.active = true;\r\n            this._mask.active = true;\r\n            this._dataDirty = false;\r\n            this._updateContent();\r\n        }\r\n        if (!this._data) {\r\n            this._panel.active = false;\r\n            this._mask.active = false;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    _updateContent() {\r\n\r\n        // this.ServerConfig.intersititia_close_but_range = 10;\r\n        // this.ServerConfig.intersititia_close_but_size = 90;\r\n        if (this._data) {\r\n            // 上报原生插屏广告\r\n            this._reportAdShow();\r\n            utils.nativeInsertShowCount++;\r\n\r\n            if (this.ServerConfig.first_interstitial_delayed_level_close) {\r\n                if (utils.nativeInsertShowCount > 3 && this.ServerConfig.interstitial_delayed_level_close) {\r\n                    utils.nativeInsertResizeCloseBtnShowCount++;\r\n                    if (utils.nativeInsertResizeCloseBtnShowCount % this.ServerConfig.interstitial_delayed_level_close == 0) {\r\n                        utils.showLog(`原生插屏关闭按钮设置服务器配置大小${this.ServerConfig.intersititia_close_but_size}`);\r\n                        let closeBtnSize = this.ServerConfig.intersititia_close_but_size ? this.ServerConfig.intersititia_close_but_size : this._defaultCloseSize;\r\n                        this._hideInstallBtn.setContentSize(cc.size(closeBtnSize, closeBtnSize));\r\n                    }\r\n                } else {\r\n                    utils.showLog(`原生插屏关闭按钮,不满足服务器条件，设置为默认大小！`);\r\n                    this._hideInstallBtn.setContentSize(cc.size(this._defaultCloseSize, this._defaultCloseSize));\r\n                }\r\n            } else {\r\n                let closeBtnSize = this.ServerConfig.intersititia_close_but_size ? this.ServerConfig.intersititia_close_but_size : this._defaultCloseSize;\r\n                this._hideInstallBtn.setContentSize(cc.size(closeBtnSize, closeBtnSize));\r\n            }\r\n\r\n\r\n\r\n\r\n            this._closeBtn.getChildByName(\"Background\").opacity = CC_DEBUG ? 255 : 0;\r\n            this._hideInstallBtn.opacity = this.ServerConfig.intersititia_close_but_alpha ? this.ServerConfig.intersititia_close_but_alpha : 255;\r\n            let closeBtnRange = this.ServerConfig.intersititia_close_but_range ? this.ServerConfig.intersititia_close_but_range : this._defaultCloseSize;\r\n            this._closeBtn.setContentSize(cc.size(closeBtnRange, closeBtnRange));\r\n\r\n            this._titleLabel.string = this._data.title ? this._data.title : \"\";\r\n            this._desLabel.string = this._data.desc ? this._data.desc : \"\";\r\n            this._btnLabel.string = this._data.clickBtnTxt ? this._data.clickBtnTxt : \"查看详情\";\r\n\r\n            if (this._data.imgUrlList && this._data.imgUrlList.length > 0) {\r\n                // 有图片，优先显示图片\r\n                this._titleLabel.node.active = true;\r\n                this._icon.node.active = false;\r\n                this._img.node.active = true;\r\n                this._desLabel.node.active = true;\r\n\r\n                CompatibleTool.LoadRes(this._data.imgUrlList[0], (err, res) => {\r\n                    utils.showLog(\"加载图片信息 ....\" + err);\r\n                    if (!err && cc.isValid(this) && this._img) {\r\n                        this._img.spriteFrame = new cc.SpriteFrame(res);\r\n                    }\r\n                });\r\n\r\n            } else if (PlatUtils.IsOPPO && this._data.iconUrlList && this._data.iconUrlList.length > 0) {\r\n                // 有icon\r\n                this._titleLabel.node.active = true;\r\n                this._icon.node.active = true;\r\n                this._img.node.active = false;\r\n                this._desLabel.node.active = true;\r\n\r\n                CompatibleTool.LoadRes(this._data.iconUrlList[0], (err, res) => {\r\n                    if (!err && cc.isValid(this) && this._icon) {\r\n                        this._icon.spriteFrame = new cc.SpriteFrame(res);\r\n                    }\r\n                });\r\n            } else if ((PlatUtils.IsVIVO || PlatUtils.IsHuaWei) && this._data.icon) {\r\n                // 有icon\r\n                this._titleLabel.node.active = true;\r\n                this._icon.node.active = true;\r\n                this._img.node.active = false;\r\n                this._desLabel.node.active = true;\r\n\r\n                CompatibleTool.LoadRes(this._data.icon, (err, res) => {\r\n                    if (!err && cc.isValid(this) && this._icon) {\r\n                        this._icon.spriteFrame = new cc.SpriteFrame(res);\r\n                    }\r\n                });\r\n            }\r\n\r\n            this._hideInstallBtn.active = false;\r\n            this._closeBtn.active = false;\r\n            // if(this.ServerConfig.intersititia_close_delay_time == 0){\r\n            //     this._closeBtn.active = true;\r\n            //     this._hideInstallBtn.active = true;\r\n            // }else{\r\n            this.scheduleOnce(() => {\r\n                this._closeBtn.active = true;\r\n                this._hideInstallBtn.active = true;\r\n            }, this.ServerConfig.intersititia_close_delay_time || 0);\r\n            // }\r\n            if (PlatUtils.IsHuaWei) {\r\n                this._sourceLable.string = this._data.source ? this._data.source : \"\";\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    onBtnClickHandler(event: cc.Event, data: any) {\r\n        console.log(\"event.target.name:\", event.target.name);\r\n        switch (event.target.name) {\r\n            case \"Btn_Close\": {\r\n                this._panel.active = false;\r\n                this._mask.active = false;\r\n                break;\r\n            }\r\n            case \"Btn_HideInstall\":\r\n            case \"Img\":\r\n            case \"Btn_Install\":\r\n                this._reportAdClick();\r\n                break;\r\n            case \"Btn_Download\": {\r\n                if (utils.ServerConfig.native_intersititial_click_range && utils.ServerConfig.native_intersititial_click_range == 2) {\r\n                    utils.showLog(\"服务器native_intersititial_click_range配置为2，只能点击安装按钮算安装\");\r\n                    return;\r\n                }\r\n                this._reportAdClick();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    _reportAdShow() {\r\n        if (this._data) {\r\n            if (this._nativeAd && this._panel.active) {\r\n                YouWanAnalytics.EventAdWithObj(YwAdType.NATIVE_INTERSITITIAL, YwAdStatus.SHOW_SUCCESS, new AdEventParameter(this._data.adId));\r\n\r\n                utils.showLog(\"上报原生插屏广告展示! adId:\" + this._data.adId + \" #active=\" + this.node.active);\r\n\r\n                this._nativeAd.reportAdShow({\r\n                    adId: this._data.adId\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    _reportAdClick() {\r\n        if (this._data) {\r\n            utils.showLog(\"上报原生插屏广告点击! adId:\" + this._data.adId);\r\n\r\n\r\n            if (this._nativeAd) {\r\n\r\n                YouWanAnalytics.EventAdWithObj(YwAdType.NATIVE_INTERSITITIAL, YwAdStatus.CLICK, new AdEventParameter(this._data.adId));\r\n\r\n                this._nativeAd.reportAdClick({\r\n                    adId: this._data.adId\r\n                });\r\n\r\n                // 服务器控制点击后是否关闭插屏广告\r\n                if (this.ServerConfig.intersititial_click_close ? (this.ServerConfig.intersititial_click_close == \"true\") : true) {\r\n                    this._panel.active = false;\r\n                    this._mask.active = false;\r\n                }\r\n\r\n                // 点击后调整关闭按钮大小和触发按钮相同的大小\r\n                this._closeBtn.active = true;\r\n                this._hideInstallBtn.active = true;\r\n                this._closeBtn.setContentSize(cc.size(this.ServerConfig.intersititia_close_but_range, this.ServerConfig.intersititia_close_but_range));\r\n                if (PlatUtils.IsOPPO) {\r\n                    utils.oppoTool.countNativeInserClick();\r\n                } else if (PlatUtils.IsVIVO) {\r\n                    utils.Tool_Vivo.countNativeInserClick();\r\n                }\r\n\r\n                if (PlatUtils.IsHuaWei) {\r\n                    this.node.destroy();\r\n\r\n                    this.downLoadAd();\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n    downLoadAd() {\r\n        return;\r\n        const resultCode = this._nativeAd.startDownload({\r\n            adId: this._data.adId\r\n        })\r\n        utils.showLog('原生广告主动下载 resumeDownloadresultCode = ' + resultCode);\r\n    }\r\n}\r\n"]}