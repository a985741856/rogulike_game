{"version":3,"sources":["assets\\common-plugin\\Scripts\\YZ_Tool_HuaWei.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import PlatUtils from \"./PlatUtils\";\r\nimport { utils } from \"./Utils\";\r\nimport YZ_Constant, { AttributedKey, AttributedType, AttributedValue, LevelStatus } from \"./YZ_Constant\";\r\nimport YZ_LocalStorage from \"./YZ_LocalStorage\";\r\n//@ts-ignore\r\nvar uma = require('./UMengSDK/quickGame/uma.min.js');\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\nlet ST_DefaultServerConfig: string = \"\";\r\nconst ST_ServerUrl: string = \"http://apps.youlesp.com/gss?\";\r\nconst POST_ServerUrl: string = \"http://report.youlesp.com/gss?\";\r\nconst ST_NativeInsertAdClickTimes: string = \"NativeInsertAdClickTimes\";\r\nconst ST_LastDateTime: string = \"LastDateTime\";\r\n\r\n@ccclass\r\nexport default class YZ_Tool_HuaWei {\r\n    //@ts-ignore\r\n    qg: any = window.qg;\r\n    /*\r\n    brand\tString\t设备品牌\r\n    manufacturer\tString\t设备生产商\r\n    model\tString\t设备型号\r\n    product\tString\t设备代号\r\n    osType\tString\t操作系统名称\r\n    osVersionName\tString\t操作系统版本名称\r\n    osVersionCode\tNumber\t操作系统版本号\r\n    platformVersionName\tString\t运行平台版本名称\r\n    platformVersionCode\tNumber\t运行平台版本号\r\n    language\tString\t系统语言\r\n    region\tString\t系统地区\r\n    screenWidth\tNumber\t屏幕宽\r\n    screenHeight\tNumber\t屏幕高\r\n    battery\tNumber\t当前电量，0.0 - 1.0 之间\r\n    wifiSignal\tNumber\twifi信号强度，范围0 - 4\r\n    */\r\n    _sysInfo: any = null;\r\n    public get SysInfo() {\r\n        return this._sysInfo;\r\n    }\r\n\r\n    _serverConfig: any = null;\r\n    public get ServerConfig() {\r\n        return this._serverConfig;\r\n    }\r\n\r\n    _nativeInsertAdClickTimes: number = 0;\r\n    public get NativeInsertAdClickTimes() {\r\n        return this._nativeInsertAdClickTimes;\r\n    }\r\n\r\n    // 桌面图标是否创建\r\n    _shortcutCreated: boolean = false;\r\n    public get ShortcutCreated() {\r\n        return this._shortcutCreated;\r\n    }\r\n\r\n    //设备UID\r\n    _uid: string = \"0\";\r\n\r\n    public get uid() {\r\n        // if (this._service_uid != \"0\") return this._uid;\r\n        // this._login();\r\n        return \"0\";\r\n    }\r\n\r\n    //服务器返回UID\r\n    _service_uid: string = \"0\";\r\n\r\n    /**\r\n     * 服务器返回UID\r\n     */\r\n    public get serviceId() {\r\n        if (this._service_uid != \"0\") return this._service_uid;\r\n        this.reportLogin();\r\n        return \"0\";\r\n    }\r\n\r\n\r\n    _loginTime: number = 0;\r\n    _loginInterval: number = 30;\r\n    async _login() {\r\n\r\n        let curTime: number = new Date().getTime();\r\n        let interval: number = (curTime - this._loginTime) / 1000;\r\n        if (interval > 0 && interval < this._loginInterval) {\r\n            utils.showLog(`登录请求间隔小于：${this._loginInterval}秒`);\r\n            return;\r\n        }\r\n        this._loginTime = curTime;\r\n        let self = this;\r\n        this._uid = \"0\";\r\n        this.reportLogin();\r\n\r\n    }\r\n\r\n    _reportLoginTime: number = 0;\r\n    _reportLoginInterval: number = 30;\r\n    isReport: boolean = false;\r\n    //用户来源\r\n    _source: string = \"\";\r\n\r\n    //启动来源类型：shortcut、url、app、quickapp、deeplink、other\r\n    _luanchType: string = \"\";\r\n    //启动参数\r\n    _luanchData: string = \"\";\r\n\r\n    //是否上报激活\r\n    isReportActive: boolean = false;\r\n\r\n    //回传类型 === activate:用户首次打开 app login:用户完成登陆行为 subscribe:闯一关（用户完成某项服务/频道订阅行为）\r\n    yz_conversion_type: string = \"\";\r\n\r\n    /**\r\n     * 上报登录接口获取UID\r\n     */\r\n    reportLogin() {\r\n        if (this.isReport) return;\r\n        this.isReport = true;\r\n        let self = this;\r\n        let curTime: number = new Date().getTime();\r\n        let interval: number = (curTime - this._reportLoginTime) / 1000;\r\n        if (interval > 0 && interval < this._reportLoginInterval) {\r\n            utils.showLog(`上报登录获取UID小于：${this._reportLoginInterval}秒`);\r\n            return;\r\n        }\r\n        this._reportLoginTime = curTime;\r\n        let method = \"m=login\";\r\n        let url: string = ST_ServerUrl + method + `&device_data=${encodeURI(JSON.stringify(this._sysInfo))}`;\r\n\r\n        utils.commomHttpRequest(url, (ret, data) => {\r\n            if (ret) {\r\n                if (data) {\r\n                    let result = JSON.parse(data);\r\n                    utils.showLog(\"data=\" + data);\r\n                    utils.showLog(\"result=\" + result);\r\n                    utils.showLog(\"result.uid=\" + result.uid);\r\n                    if (result.uid) {\r\n                        self._service_uid = \"\" + result.uid;\r\n                        utils.showLog(\"服务器请求登录成功! _service_uid=\" + self._service_uid);\r\n                        YZ_LocalStorage.setItem(YZ_Constant.ST_SERVICE_UID, self._service_uid);\r\n                        if (this.yz_conversion_type == \"activate\") {\r\n                            self.reportUserActive();\r\n                        }\r\n                        if (this.yz_conversion_type == \"login\" && this._is_login) {\r\n                            utils.showLog(\"用户完成登陆行为!\");\r\n                            this.reportUserActive();\r\n                        }\r\n\r\n                    }\r\n                }\r\n            } else {\r\n                utils.showLog(\"获取数据失败1\");\r\n            }\r\n            this.isReport = false;\r\n        })\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * 上报用户激活，用于回传\r\n     */\r\n    public reportUserActive(): void {\r\n        utils.showLog(\"上报用户激活！！\");\r\n        if (!this.isReportActive) {\r\n            this.isReportActive = true;\r\n            this.reportAttributedEvent(AttributedType.Active, AttributedKey.Active, AttributedValue.Active);\r\n        }\r\n    }\r\n    /**\r\n     * \r\n     * @param data 配置数据\r\n     */\r\n    public init(data: string) {\r\n        if (PlatUtils.IsHuaWei) {\r\n            this.umaInit()\r\n            if (data) {\r\n                let configObj: any = JSON.parse(data);\r\n                if (configObj && configObj.huawei) {\r\n                    ST_DefaultServerConfig = JSON.stringify(configObj.huawei);\r\n                }\r\n            }\r\n            this._service_uid = YZ_LocalStorage.getItem(YZ_Constant.ST_SERVICE_UID);\r\n            this._service_uid = this._service_uid ? this._service_uid : \"0\";\r\n\r\n\r\n            this._sysInfo = this.qg.getSystemInfoSync();\r\n            if (this._sysInfo) {\r\n                utils.showLog(\"huawei 小游戏平台信息: \" + JSON.stringify(this.SysInfo));\r\n            }\r\n\r\n            let options = this.qg.getLaunchOptionsSync()\r\n\r\n            this._luanchData = YZ_LocalStorage.getItem(YZ_Constant.ST_LUANCH_DATA);\r\n            this._luanchType = YZ_LocalStorage.getItem(YZ_Constant.ST_LUANCH_TYPE);\r\n\r\n            if (this._luanchData && this._luanchType) {\r\n                utils.showLog(\"获取到本地缓存数据启动类型：\" + this._luanchType);\r\n                utils.showLog(\"获取到本地缓存数据启动参数：\" + this._luanchData);\r\n            } else if (options) {\r\n                try {\r\n                    if (options.referrerInfo && JSON.stringify(options.referrerInfo) != \"{}\") {\r\n                        let referrerInfo = options.referrerInfo;\r\n                        utils.showLog(\"获取到小程序启动来源信息：\" + JSON.stringify(referrerInfo));\r\n                        this._luanchType = referrerInfo.type;\r\n                        YZ_LocalStorage.setItem(YZ_Constant.ST_LUANCH_TYPE, this._luanchType);\r\n                    }\r\n\r\n                    if (options.query && JSON.stringify(options.query) != \"{}\") {\r\n                        let query = JSON.parse(options.query);\r\n                        let queryData = JSON.stringify(query);\r\n                        this._luanchData = queryData;\r\n\r\n                        this.yz_conversion_type = query.yz_conversion_type;\r\n                        YZ_LocalStorage.setItem(YZ_Constant.ST_LUANCH_DATA, this._luanchData);\r\n                        utils.showLog(\"获取到小程序启动参数：\" + queryData + \" 回传类型：\" + this.yz_conversion_type);\r\n                    }\r\n                } catch (erro) {\r\n                    utils.showLog(\"获取到小程序启动参数异常\");\r\n                }\r\n            }\r\n\r\n\r\n\r\n\r\n            this._loadConfig();\r\n\r\n            this._nativeInsertAdClickTimes = YZ_LocalStorage.getItem(ST_NativeInsertAdClickTimes);\r\n            let day: string = YZ_LocalStorage.getItem(ST_LastDateTime);\r\n            let curDate = new Date();\r\n            if (day != curDate.toDateString()) {\r\n                this._nativeInsertAdClickTimes = 0;\r\n                YZ_LocalStorage.setItem(ST_NativeInsertAdClickTimes, 0);\r\n            }\r\n\r\n\r\n            // utils.registerServerInitEvent(() => {\r\n            //     if (this.yz_conversion_type == \"game_time_report\") {\r\n            //         utils.scheduleOnce(() => {\r\n            //             this.reportAttributedEvent(AttributedType.GameAddiction, AttributedKey.GameAddiction, AttributedValue.GameTimeAction);\r\n            //         }, utils.getConfigByKey(\"game_time_report\"));\r\n            //     }\r\n            // }, this);\r\n\r\n\r\n\r\n        }\r\n    }\r\n\r\n    // _buildServerUrl() {\r\n    //     if (PlatUtils.IsHuaWei) {\r\n    //         let url: string = \"\";\r\n    //         if (utils.config.huaweiConfig && utils.config.huaweiConfig.appID) {\r\n    //             url = ST_ServerUrl + \"kyx=true&app_id=\" + utils.config.huaweiConfig.appID.trim() + \"&\" + \"channel=vivo\";\r\n    //         } else {\r\n    //             utils.showLog(\"VIVO APPID配置出错！\");\r\n    //         }\r\n    //         return url;\r\n    //     }\r\n\r\n    //     return null;\r\n    // }\r\n\r\n\r\n\r\n    _loadConfig() {\r\n        if (PlatUtils.IsHuaWei) {\r\n            let method: string = \"m=g\";\r\n            utils.commomHttpRequest(ST_ServerUrl + method, (ret, data) => {\r\n\r\n                if (ret) {\r\n                    utils.showLog(\"Huawei服务器配置数据获取成功: data = \" + data);\r\n                    if (data) {\r\n                        let result = JSON.parse(data);\r\n                        if (result) {\r\n                            if (!utils.DebugLoacalConfig) {\r\n                                this._serverConfig = result;\r\n                                if (this._serverConfig.is_show_log_view && this._serverConfig.is_show_log_view == \"true\") {\r\n                                    utils.showLogView = true;\r\n                                }\r\n                            } else {\r\n                                utils.showLog(\"开启了本地数据测试，使用本地配置!\");\r\n                            }\r\n                        } else {\r\n                            utils.showLog(\"Huawei服务器配置数据不是合法的JSON数据, 使用本地配置!\");\r\n                        }\r\n                    }\r\n                } else {\r\n                    utils.showLog(\"Huawei服务器配置数据获取失败, 使用本地配置!\");\r\n                }\r\n\r\n                if (!this._serverConfig) {\r\n                    this._serverConfig = JSON.parse(ST_DefaultServerConfig);\r\n                } else {\r\n                    if (this._serverConfig.is_local_pos_id\r\n                        && this._serverConfig.is_local_pos_id == \"false\") {\r\n                        // 使用服务器下发的广告id\r\n                        utils.showLog(\"使用服务器下发的广告id\");\r\n                        utils.config.huaweiConfig.bannerId = this._serverConfig.banner_pos_id;\r\n                        utils.config.huaweiConfig.insertId = this._serverConfig.intersititia_pos_id;\r\n                        utils.config.huaweiConfig.videoId = this._serverConfig.video_pos_id;\r\n                        utils.config.huaweiConfig.nativeInsertIds = this.ServerConfig.native_intersititial_pos_id;\r\n                        utils.config.huaweiConfig.nativeBannerIds = this.ServerConfig.native_banner_pos_id;\r\n                        utils.config.huaweiConfig.nativeTryGameIds = this.ServerConfig.native_trygame_pos_id;\r\n                        utils.config.huaweiConfig.nativeSplashId = this.ServerConfig.native_splash_id;\r\n\r\n                    } else {\r\n                        utils.showLog(\"使用本地配置的广告ID\");\r\n                    }\r\n                    if (this.ServerConfig.native_banner_configs) {\r\n                        for (let i = 0; i < this.ServerConfig.native_banner_configs.length; i++) {\r\n                            utils.showLog(\"获取到原生广告配置:\" + this.ServerConfig.native_banner_configs[i].location, \">>>>\", JSON.stringify(this.ServerConfig.native_banner_configs[i]));\r\n                            utils.config.huaweiConfig.setNativeBannerInfo(this.ServerConfig.native_banner_configs[i].location, this.ServerConfig.native_banner_configs[i]);\r\n                        }\r\n                    }\r\n                    if (this.ServerConfig.yz_conversion_type) {\r\n                        this.yz_conversion_type = this.ServerConfig.yz_conversion_type;\r\n                        utils.showLog(\"回传类型：\" + this.yz_conversion_type);\r\n                    }\r\n                    if (this.ServerConfig.is_login && this.ServerConfig.is_login == \"false\") {\r\n                        this._is_login = true;\r\n                    }\r\n\r\n                    this._isShowLogin = true;\r\n                    this.isRequestLogin && this.login();\r\n                }\r\n                cc.director.emit(\"IsDataInit\");\r\n\r\n                // utils.registerPrivacyCloseEvent(() => {\r\n                utils.emitServerInitEvent();\r\n                // }, this);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 比较当前平台版本是否高于指定的版本号\r\n     * @param miniVersion 最低平台版本号\r\n     */\r\n    public isOverMiniVersion(miniVersion: string) {\r\n        if (PlatUtils.IsHuaWei) {\r\n            if (this._sysInfo && this._sysInfo.platformVersionCode) {\r\n                return this._sysInfo.platformVersionCode >= miniVersion;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n\r\n\r\n    /**\r\n     * 创建桌面图标\r\n     */\r\n    public createShortcut(callback: Function) {\r\n        let callbackFunc = callback;\r\n\r\n        if (PlatUtils.IsHuaWei && this.canCreateShortcut()) {\r\n            let self = this;\r\n            self.qg.installShortcut({\r\n                success: function () {\r\n                    utils.showLog('桌面图标创建成功！');\r\n                    self._shortcutCreated = true;\r\n                    if (callbackFunc) {\r\n                        callbackFunc(true);\r\n                    }\r\n                },\r\n                fail: function (err) {\r\n                    self._shortcutCreated = true;\r\n                    cc.log('vivo创建失败err' + err);\r\n                    if (callbackFunc) {\r\n                        callbackFunc(false);\r\n                    }\r\n                },\r\n                complete: function () {\r\n                }\r\n            });\r\n        } else {\r\n            cc.log(\"不能创建\");\r\n            if (callbackFunc) {\r\n                callbackFunc(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 是否可以创建桌面图标, 当前平台是否支持创建快捷方式\r\n     */\r\n    public canCreateShortcut() {\r\n        if (PlatUtils.IsHuaWei) {\r\n            return this.isOverMiniVersion(\"1041\");\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public countNativeInserClick() {\r\n        this._nativeInsertAdClickTimes++;\r\n        YZ_LocalStorage.setItem(ST_NativeInsertAdClickTimes, this._nativeInsertAdClickTimes);\r\n    }\r\n\r\n    /**\r\n     * 分享事件\r\n     * @param callback 分享回调\r\n     */\r\n    public share(callback?: Function) {\r\n        if (!this.isOverMiniVersion(\"1052\")) {\r\n            callback && callback(false, \"当前平台不支持\");\r\n            return;\r\n        }\r\n        this.qg.share();\r\n        callback && callback(true);\r\n        return;\r\n    }\r\n\r\n\r\n    /**\r\n    * 验证桌面快捷方式是否创建过\r\n    * @param callBack \r\n    */\r\n    public checkHasShortCut(callBack?: Function) {\r\n        this.qg.hasShortcutInstalled({\r\n            success: (res) => {\r\n                utils.showLog(\"检测桌面快捷方式是否已经创建过: result=\", res);\r\n                if (res == false) {\r\n                    this._shortcutCreated = false;\r\n                    callBack && callBack(false);\r\n                } else {\r\n                    this._shortcutCreated = true;\r\n                    callBack && callBack(true);\r\n                }\r\n            },\r\n            fail: function () {\r\n                utils.showLog(\"检测失败！\");\r\n            },\r\n            complete: function () {\r\n                utils.showLog(\"检测完成！\");\r\n            }\r\n        });\r\n    }\r\n\r\n    passCount: number = 0; //通关数据\r\n    playCount: number = 0; //开始关卡数据\r\n    /**\r\n     * 上报关卡数据\r\n     * @param level 当前关卡ID\r\n     * @param levelName 关卡名称\r\n     * @param status 状态\r\n     */\r\n    public postLevel(level: string, status: LevelStatus, levelName?: string) {\r\n        if (PlatUtils.IsHuaWei) {\r\n            if (this.yz_conversion_type == \"subscribe\") {\r\n                utils.showLog(\"用户完成某项服务/频道订阅行为\");\r\n                this.reportUserActive();\r\n            }\r\n\r\n            if (status == LevelStatus.GameWin) {\r\n                this.passCount++;\r\n                if (this.passCount === utils.getConfigByKey(\"pass_level_count_active\")) {\r\n                    this.reportAttributedEvent(AttributedType.GameAddiction, AttributedKey.GameAddiction, AttributedValue.PassLevelCountAction);\r\n                }\r\n            } else if (status === LevelStatus.GameStart) {\r\n                this.playCount++;\r\n                if (this.playCount == utils.getConfigByKey(\"play_level_count_active\")) {\r\n                    this.reportAttributedEvent(AttributedType.GameAddiction, AttributedKey.GameAddiction, AttributedValue.PlayLevelCountAction);\r\n                }\r\n            }\r\n\r\n\r\n            let method = \"m=rlevel\";\r\n            let url: string = POST_ServerUrl + method + `&level_id=${level}&level_name=${encodeURI(levelName)}&status=${status}`;\r\n            utils.commomHttpRequest(url, function (ret, data) {\r\n                if (ret) {\r\n                    utils.showLog(\"关卡数据上报成功！\");\r\n                } else {\r\n                    utils.showLog(\"关卡数据上报失败！\");\r\n                }\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    /**\r\n   * 上报自定义事件\r\n   * @param level 当前关卡ID\r\n   * @param levelName 关卡名称\r\n   * @param status 状态\r\n   */\r\n    public sendEvent(eventName: string) {\r\n        if (PlatUtils.IsHuaWei) {\r\n            let method = \"m=revent\";\r\n            let url: string = POST_ServerUrl + method + `&event=${encodeURI(eventName)}`;\r\n            utils.commomHttpRequest(url, function (ret, data) {\r\n                if (ret) {\r\n                    utils.showLog(\"上报自定义事件成功！\");\r\n                } else {\r\n                    utils.showLog(\"上报自定义事件失败！\");\r\n                }\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n    * 弹出提示框\r\n    * @param msg 消息\r\n    */\r\n    public showToast(msg: string) {\r\n        if (PlatUtils.IsHuaWei) {\r\n            //@ts-ignore\r\n            qg.showToast({\r\n                message: msg,\r\n                duration: 2000\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n    * 上报归因事件\r\n    * @param eventType 事件类型 0 激活， 25:关键行为\r\n    * @param eventValue 事件描述\r\n    */\r\n    public reportAttributedEvent(eventType: AttributedType, eventKey: AttributedKey, eventValue: AttributedValue) {\r\n        if (this._luanchType != \"deeplink\") {\r\n            utils.showLog(\"luanchType=\" + this._luanchType + \",不进行归因上报\");\r\n            return;\r\n        }\r\n\r\n        utils.showLog(\"上报归因事件：  #eventType=\" + eventType + \"#eventKey=\" + eventKey + \"#eventValue=\" + eventValue);\r\n        if (eventType == AttributedType.Active && YZ_LocalStorage.getItem(YZ_Constant.ST_IS_REPORT_USER_ACTIVE)) {\r\n            utils.showLog(\"用户已经上报过激活，不再进行激活上报！\");\r\n            return;\r\n        } else if (eventType == AttributedType.GameAddiction && YZ_LocalStorage.getItem(YZ_Constant.ST_IS_REPORT_GAME_ADDICTION)) {\r\n            utils.showLog(\"用户已经上报过关键行为，不再进行激活上报！\");\r\n            return;\r\n        }\r\n        let xhr = new XMLHttpRequest();\r\n        xhr.timeout = 15000;    // 单位毫秒\r\n        let data: any = {};\r\n        data.app_id = utils.config.huaweiConfig.appID;\r\n        data.channel = \"huawei_kyx\";\r\n        data.uid = this._service_uid;\r\n        data.event_type = eventType;\r\n        data.event_key = eventKey;\r\n        data.event_value = eventValue;\r\n        data.app_version = utils.config.huaweiConfig.version;\r\n        data.luanchDate = encodeURI(this._luanchData);\r\n        utils.showLog(\"归因请求参数:\" + JSON.stringify(data));\r\n        let requestData = JSON.stringify(data);\r\n        utils.showLog(\"归因 > json_data=\" + utils.aesEncrypt(requestData));\r\n        let requestUrl: string = `https://track.youletd.com/wechatcounterpart/dockingreturn?json=${utils.aesEncrypt(requestData)}&time_stamp=${(new Date()).getTime()}`;\r\n        utils.showLog(\"归因服务器地址:\" + requestUrl);\r\n\r\n        xhr.open('GET', requestUrl);\r\n        xhr.send();\r\n        xhr.onreadystatechange = function () {\r\n            utils.showLog(\"请求状态改变, reaedyState=\", xhr.readyState, \"; status=\", xhr.status);\r\n            if (xhr.readyState == 4) {\r\n                if (xhr.status == 200) {\r\n                    if (eventType == AttributedType.Active) YZ_LocalStorage.setItem(YZ_Constant.ST_IS_REPORT_USER_ACTIVE, \"true\");\r\n                    if (eventType == AttributedType.GameAddiction) YZ_LocalStorage.setItem(YZ_Constant.ST_IS_REPORT_GAME_ADDICTION, \"true\");\r\n                    utils.showLog(\"归因上报成功：\", xhr.responseText);\r\n                } else {\r\n                    utils.showLog(\"归因上报失败！\");\r\n                }\r\n            }\r\n        }\r\n        xhr.ontimeout = function () {\r\n            utils.showLog(\"归因请求超时!\");\r\n        }\r\n        xhr.onerror = function (err) {\r\n            utils.showLog(\"归因请求失败!\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 退出游戏\r\n     */\r\n    public GameExit() {\r\n        if (PlatUtils.IsHuaWei) {\r\n            utils.showLog(\"GameExit\");\r\n            try {\r\n                //@ts-ignore\r\n                qg.exitApplication({\r\n                    success: function () {\r\n                        console.log(\"exitApplication success\");\r\n                    },\r\n                    fail: function () {\r\n                        console.log(\"exitApplication fail\");\r\n                    },\r\n                    complete: function () {\r\n                        console.log(\"exitApplication complete\");\r\n                    }\r\n                });\r\n            } catch (error) {\r\n                cc.log(error);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    _is_login: boolean = false;\r\n    _isShowLogin: boolean = false;\r\n    _loging: boolean = false;\r\n    isRequestLogin: boolean = false;\r\n    /**\r\n     * 登录\r\n     */\r\n    public login() {\r\n        utils.showLog(\"huawei login\");\r\n        this.isRequestLogin = true;\r\n        if (!this._isShowLogin || this._loging) return;\r\n        this._loging = true;\r\n        if (this._is_login) {\r\n            this._loging = false;\r\n            this.showToast(\"登录成功！\");\r\n            cc.game.emit(YZ_Constant.ST_LOGIN_SUCCESS);\r\n            utils.showLog(\"已经登录过不再重新登录！\");\r\n            if (this.yz_conversion_type == \"login\") {\r\n                this.reportUserActive();\r\n            }\r\n            return;\r\n        }\r\n        this.qg.gameLogin({\r\n            forceLogin: 1,\r\n            appid: utils.config.huaweiConfig.appID,\r\n            success: (data) => {\r\n                this._loging = false;\r\n                this.showToast(\"登录成功！\");\r\n                cc.game.emit(YZ_Constant.ST_LOGIN_SUCCESS);\r\n                utils.showLog(\"Game login success:\" + data);\r\n                this._is_login = true;\r\n                if (this.yz_conversion_type == \"login\") {\r\n                    utils.showLog(\"用户完成登陆行为!\");\r\n                    this.reportUserActive();\r\n                }\r\n            },\r\n            fail: (data, code) => {\r\n                this._loging = false;\r\n                this.showToast(\"登录失败！\");\r\n                cc.game.emit(YZ_Constant.ST_LOGIN_FAIL);\r\n                utils.showLog(\"Game login fail:\" + data + \", code:\" + code);\r\n            }\r\n        });\r\n        this.isRequestLogin = false;\r\n    }\r\n\r\n\r\n    /**友盟sdk初始化 */\r\n    umaInit() {\r\n        if (!this.checkUmeng()) {\r\n            utils.showLog(\"友盟ID未配置，不执行友盟初始化>>>>\");\r\n            return;\r\n        }\r\n        utils.showLog(\"umeng init #id=\" + utils.config.huaweiConfig.umengId);\r\n        uma.init({\r\n            appKey: utils.config.huaweiConfig.umengId,\r\n            useOpenid: false,\r\n            debug: true\r\n        })\r\n    }\r\n\r\n    /**\r\n       * 友盟游戏开始上报\r\n       * @param levelID \r\n       */\r\n    public umaOnStart(levelID: string) {\r\n        if (!this.checkUmeng()) return;\r\n        //@ts-ignore\r\n        qg.uma.stage.onStart({\r\n            stageId: levelID,//该字段名称不可修改，必传\r\n            stageName: `第${levelID}关`// 关卡id\r\n        })\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @returns 是否开启友盟 \r\n     */\r\n    private checkUmeng(): boolean {\r\n        if (!utils.config.huaweiConfig.umengId) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    /**\r\n     * 友盟结算上报\r\n     * @param levelID 关卡id\r\n     * @param stageId \r\n     * @param event \r\n     */\r\n    public umaReportedLevel(levelID: string, event: LevelStatus) {\r\n        if (!this.checkUmeng()) return;\r\n\r\n        //@ts-ignore\r\n        qg.uma.stage.onEnd({\r\n            stageId: levelID,//该字段名称不可修改，必传\r\n            stageName: `第${levelID}关`,\r\n            event: event\r\n        })\r\n    }\r\n\r\n\r\n    /**\r\n     * 友盟自定义事件\r\n     * @param eventId 事件ID，注意：事件ID必须要在后台配置\r\n     * @param params 事件内容\r\n     */\r\n    public umaTrackEvent(eventId: string, params?) {\r\n        if (!this.checkUmeng()) return;\r\n\r\n        //@ts-ignore\r\n        qg.uma.trackEvent(eventId, params);\r\n    }\r\n}\r\n"]}