{"version":3,"sources":["assets\\common-plugin\\Scripts\\YzCustomAdPanel.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iCAAgC;AAG1B,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA6C,mCAAY;IAAzD;QAAA,qEAyCC;QAtCG,aAAO,GAAY,IAAI,CAAC;QACxB,mBAAa,GAAa,IAAI,CAAC;QAE/B,UAAU;QACV,gBAAU,GAAW,CAAC,CAAC;QACvB,wBAAkB,GAAW,CAAC,CAAC;;IAiCnC,CAAC;IA/BG,gCAAM,GAAN;QACI,IAAI,aAAK,CAAC,WAAW,IAAI,aAAK,CAAC,WAAW,CAAC,KAAK,EAAE;YAC9C,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,aAAK,CAAC,WAAW,CAAC,KAAK,CAAC;SAC7C;QACD,aAAK,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,CAAA;QAC/C,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,IAAI,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,EAAE;YACtC,OAAO;YACP,KAAK,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,GAAG,IAAI,CAAC;SAC1C;aAAM;YACH,KAAK,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC;SACnC;QAED,IAAI,aAAK,CAAC,cAAc,CAAC,0BAA0B,CAAC,EAAE;YAClD,IAAI,CAAC,UAAU,GAAG,aAAK,CAAC,cAAc,CAAC,0BAA0B,CAAC,CAAC;SACtE;QACD,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;QAC1C,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IAEzC,CAAC;IAED,gDAAsB,GAAtB;QACI,aAAK,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QAC3B,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,kBAAkB,EAAE;YAC5C,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;YACvC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACpB,aAAK,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,CAAC;YAChD,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;SAC9C;IACL,CAAC;IArCD;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC;oDACJ;IAHP,eAAe;QADnC,OAAO;OACa,eAAe,CAyCnC;IAAD,sBAAC;CAzCD,AAyCC,CAzC4C,EAAE,CAAC,SAAS,GAyCxD;kBAzCoB,eAAe","file":"","sourceRoot":"/","sourcesContent":["import { utils } from \"./Utils\";\nimport { BannerLocation } from \"./YZ_Constant\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class YzCustomAdPanel extends cc.Component {\n\n    @property({ type: cc.Node })\n    exitBtn: cc.Node = null;\n    closeCallFunc: Function = null;\n\n    //关闭按钮点击次数\n    closeCount: number = 1;\n    closeBtnClickCount: number = 0;\n\n    onLoad() {\n        if (utils.otherConfig && utils.otherConfig.group) {\n            this.node.group = utils.otherConfig.group;\n        }\n        utils.adManager.showCustomAd({ location: 100 })\n        let ratio = 0;\n        if (cc.winSize.height < cc.winSize.width) {\n            // 横屏游戏\n            ratio = cc.winSize.width / 1920 * 0.75;\n        } else {\n            ratio = cc.winSize.width / 1080;\n        }\n\n        if (utils.getConfigByKey(\"custom_panel_close_count\")) {\n            this.closeCount = utils.getConfigByKey(\"custom_panel_close_count\");\n        }\n        cc.find(\"Panel\", this.node).scale = ratio;\n        this.exitBtn.runAction(cc.fadeIn(3));\n\n    }\n\n    onExitBtnClickListener() {\n        utils.showLog(\"退出游戏模版弹窗！\");\n        this.closeBtnClickCount++;\n        if (this.closeCount == this.closeBtnClickCount) {\n            cc.director.emit(\"CloseCustomADPanel\");\n            this.node.destroy();\n            utils.adManager.hideCustomAd({ location: 100 });\n            this.closeCallFunc && this.closeCallFunc();\n        }\n    }\n}\n"]}